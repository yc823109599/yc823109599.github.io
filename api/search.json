[{"id":"a1aa3e42f0d68308fa7b7cefd9f5a9a0","title":"JavaSEç¬”è®°ï¼ˆä¸ƒï¼‰","content":"Javaåå°„å’Œæ³¨è§£æ³¨æ„ï¼šæœ¬ç« èŠ‚æ¶‰åŠåˆ°JVMç›¸å…³åº•å±‚åŸç†ï¼Œéš¾åº¦ä¼šæœ‰ä¸€äº›å¤§ã€‚\nåå°„å°±æ˜¯æŠŠJavaç±»ä¸­çš„å„ä¸ªæˆåˆ†æ˜ å°„æˆä¸€ä¸ªä¸ªçš„Javaå¯¹è±¡ã€‚å³åœ¨è¿è¡ŒçŠ¶æ€ä¸­ï¼Œå¯¹äºä»»æ„ä¸€ä¸ªç±»ï¼Œéƒ½èƒ½å¤ŸçŸ¥é“è¿™ä¸ªç±»æ‰€æœ‰çš„å±æ€§å’Œæ–¹æ³•ï¼Œå¯¹äºä»»æ„ä¸€ä¸ªå¯¹è±¡ï¼Œéƒ½èƒ½è°ƒç”¨å®ƒçš„ä»»æ„ä¸€ä¸ªæ–¹æ³•å’Œå±æ€§ã€‚è¿™ç§åŠ¨æ€è·å–ä¿¡æ¯åŠåŠ¨æ€è°ƒç”¨å¯¹è±¡æ–¹æ³•çš„åŠŸèƒ½å«Javaçš„åå°„æœºåˆ¶ã€‚\nç®€è€Œè¨€ä¹‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åå°„æœºåˆ¶ï¼Œè·å–åˆ°ç±»çš„ä¸€äº›å±æ€§ï¼ŒåŒ…æ‹¬ç±»é‡Œé¢æœ‰å“ªäº›å­—æ®µï¼Œæœ‰å“ªäº›æ–¹æ³•ï¼Œç»§æ‰¿è‡ªå“ªä¸ªç±»ï¼Œç”šè‡³è¿˜èƒ½è·å–åˆ°æ³›å‹ï¼å®ƒçš„æƒé™éå¸¸é«˜ï¼Œæ…é‡ä½¿ç”¨ï¼\nJavaç±»åŠ è½½æœºåˆ¶åœ¨å­¦ä¹ Javaçš„åå°„æœºåˆ¶ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆäº†è§£ä¸€ä¸‹ç±»çš„åŠ è½½æœºåˆ¶ï¼Œä¸€ä¸ªç±»æ˜¯å¦‚ä½•è¢«åŠ è½½å’Œä½¿ç”¨çš„ï¼š\n\nåœ¨Javaç¨‹åºå¯åŠ¨æ—¶ï¼ŒJVMä¼šå°†ä¸€éƒ¨åˆ†ç±»ï¼ˆclassæ–‡ä»¶ï¼‰å…ˆåŠ è½½ï¼ˆå¹¶ä¸æ˜¯æ‰€æœ‰çš„ç±»éƒ½ä¼šåœ¨ä¸€å¼€å§‹åŠ è½½ï¼‰ï¼Œé€šè¿‡ClassLoaderå°†ç±»åŠ è½½ï¼Œåœ¨åŠ è½½è¿‡ç¨‹ä¸­ï¼Œä¼šå°†ç±»çš„ä¿¡æ¯æå–å‡ºæ¥ï¼ˆå­˜æ”¾åœ¨å…ƒç©ºé—´ä¸­ï¼ŒJDK1.8ä¹‹å‰å­˜æ”¾åœ¨æ°¸ä¹…ä»£ï¼‰ï¼ŒåŒæ—¶ä¹Ÿä¼šç”Ÿæˆä¸€ä¸ªClasså¯¹è±¡å­˜æ”¾åœ¨å†…å­˜ï¼ˆå †å†…å­˜ï¼‰ï¼Œæ³¨æ„æ­¤Classå¯¹è±¡åªä¼šå­˜åœ¨ä¸€ä¸ªï¼Œä¸åŠ è½½çš„ç±»å”¯ä¸€å¯¹åº”ï¼\næ€è€ƒï¼šæ—¢ç„¶è¯´å’Œä¸åŠ è½½çš„ç±»å”¯ä¸€å¯¹åº”ï¼Œé‚£å¦‚æœæˆ‘ä»¬æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ªä¸JDKåŒ…åä¸€æ ·ï¼ŒåŒæ—¶ç±»åä¹Ÿä¿æŒä¸€è‡´ï¼Œé‚£ä¹ˆJVMä¼šåŠ è½½è¿™ä¸ªç±»å—ï¼Ÿ\npackage java.lang;\n\npublic class String &#123;    &#x2F;&#x2F;JDKæä¾›çš„Stringç±»ä¹Ÿæ˜¯\n    public static void main(String[] args) &#123;\n        System.out.println(&quot;æˆ‘å§“ğŸ´ï¼Œæˆ‘å«ğŸ´nb&quot;);\n    &#125;\n&#125;\n\næˆ‘ä»¬å‘ç°ï¼Œä¼šå‡ºç°ä»¥ä¸‹æŠ¥é”™ï¼š\né”™è¯¯: åœ¨ç±» java.lang.String ä¸­æ‰¾ä¸åˆ° main æ–¹æ³•, è¯·å°† main æ–¹æ³•å®šä¹‰ä¸º:\n   public static void main(String[] args)\n\nä½†æ˜¯æˆ‘ä»¬æ˜æ˜åœ¨è‡ªå·±å†™çš„Stringç±»ä¸­å®šä¹‰äº†mainæ–¹æ³•å•Šï¼Œä¸ºä»€ä¹ˆä¼šæ‰¾ä¸åˆ°æ­¤æ–¹æ³•å‘¢ï¼Ÿå®é™…ä¸Šè¿™æ˜¯ClassLoaderçš„åŒäº²å§”æ´¾æœºåˆ¶åœ¨ä¿æŠ¤Javaç¨‹åºçš„æ­£å¸¸è¿è¡Œï¼š\n\nå®é™…ä¸Šæˆ‘ä»¬çš„ç±»æœ€å¼€å§‹æ˜¯ç”±BootstarpClassLoaderè¿›è¡ŒåŠ è½½ï¼ŒBootstarpClassLoaderç”¨äºåŠ è½½JDKæä¾›çš„ç±»ï¼Œè€Œæˆ‘ä»¬è‡ªå·±ç¼–å†™çš„ç±»å®é™…ä¸Šæ˜¯AppClassLoaderï¼Œåªæœ‰BootstarpClassLoaderéƒ½æ²¡æœ‰åŠ è½½çš„ç±»ï¼Œæ‰ä¼šè®©AppClassLoaderæ¥åŠ è½½ï¼Œå› æ­¤æˆ‘ä»¬è‡ªå·±ç¼–å†™çš„åŒååŒ…åŒåç±»ä¸ä¼šè¢«åŠ è½½ï¼Œè€Œå®é™…è¦å»å¯åŠ¨çš„æ˜¯çœŸæ­£çš„Stringç±»ï¼Œä¹Ÿå°±è‡ªç„¶æ‰¾ä¸åˆ°mainæ–¹æ³•äº†ï¼\npublic class Main &#123;\n    public static void main(String[] args) &#123;\n        System.out.println(Main.class.getClassLoader());   &#x2F;&#x2F;æŸ¥çœ‹å½“å‰ç±»çš„ç±»åŠ è½½å™¨\n        System.out.println(Main.class.getClassLoader().getParent());  &#x2F;&#x2F;çˆ¶åŠ è½½å™¨\n        System.out.println(Main.class.getClassLoader().getParent().getParent());  &#x2F;&#x2F;çˆ·çˆ·åŠ è½½å™¨\n        System.out.println(String.class.getClassLoader());   &#x2F;&#x2F;Stringç±»çš„åŠ è½½å™¨\n    &#125;\n&#125;\n\nç”±äºBootstarpClassLoaderæ˜¯C++ç¼–å†™çš„ï¼Œæˆ‘ä»¬åœ¨Javaä¸­æ˜¯è·å–ä¸åˆ°çš„ã€‚\nClasså¯¹è±¡é€šè¿‡å‰é¢ï¼Œæˆ‘ä»¬äº†è§£äº†ç±»çš„åŠ è½½ï¼ŒåŒæ—¶ä¼šæå–ä¸€ä¸ªç±»çš„ä¿¡æ¯ç”ŸæˆClasså¯¹è±¡å­˜æ”¾åœ¨å†…å­˜ä¸­ï¼Œè€Œåå°„æœºåˆ¶å…¶å®å°±æ˜¯åˆ©ç”¨è¿™äº›å­˜æ”¾çš„ç±»ä¿¡æ¯ï¼Œæ¥è·å–ç±»çš„ä¿¡æ¯å’Œæ“ä½œç±»ã€‚é‚£ä¹ˆå¦‚ä½•è·å–åˆ°æ¯ä¸ªç±»å¯¹åº”çš„Classå¯¹è±¡å‘¢ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ï¼š\npublic static void main(String[] args) throws ClassNotFoundException &#123;\n    Class&lt;String&gt; clazz &#x3D; String.class;   &#x2F;&#x2F;ä½¿ç”¨classå…³é”®å­—ï¼Œé€šè¿‡ç±»åè·å–\n    Class&lt;?&gt; clazz2 &#x3D; Class.forName(&quot;java.lang.String&quot;);   &#x2F;&#x2F;ä½¿ç”¨Classç±»é™æ€æ–¹æ³•forName()ï¼Œé€šè¿‡åŒ…å.ç±»åè·å–ï¼Œæ³¨æ„è¿”å›å€¼æ˜¯Class&lt;?&gt;\n    Class&lt;?&gt; clazz3 &#x3D; new String(&quot;cpdd&quot;).getClass();  &#x2F;&#x2F;é€šè¿‡å®ä¾‹å¯¹è±¡è·å–\n&#125;\n\næ³¨æ„Classç±»ä¹Ÿæ˜¯ä¸€ä¸ªæ³›å‹ç±»ï¼Œåªæœ‰ç¬¬ä¸€ç§æ–¹æ³•ï¼Œèƒ½å¤Ÿç›´æ¥è·å–åˆ°å¯¹åº”ç±»å‹çš„Classå¯¹è±¡ï¼Œè€Œä»¥ä¸‹ä¸¤ç§æ–¹æ³•ä½¿ç”¨äº†?é€šé…ç¬¦ä½œä¸ºè¿”å›å€¼ï¼Œä½†æ˜¯å®é™…ä¸Šéƒ½å’Œç¬¬ä¸€ä¸ªè¿”å›çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼š\nClass&lt;String&gt; clazz &#x3D; String.class;   &#x2F;&#x2F;ä½¿ç”¨classå…³é”®å­—ï¼Œé€šè¿‡ç±»åè·å–\nClass&lt;?&gt; clazz2 &#x3D; Class.forName(&quot;java.lang.String&quot;);   &#x2F;&#x2F;ä½¿ç”¨Classç±»é™æ€æ–¹æ³•forName()ï¼Œé€šè¿‡åŒ…å.ç±»åè·å–ï¼Œæ³¨æ„è¿”å›å€¼æ˜¯Class&lt;?&gt;\nClass&lt;?&gt; clazz3 &#x3D; new String(&quot;cpdd&quot;).getClass();\n\nSystem.out.println(clazz &#x3D;&#x3D; clazz2);\nSystem.out.println(clazz &#x3D;&#x3D; clazz3);\n\né€šè¿‡æ¯”è¾ƒï¼ŒéªŒè¯äº†æˆ‘ä»¬ä¸€å¼€å§‹çš„ç»“è®ºï¼Œåœ¨JVMä¸­æ¯ä¸ªç±»å§‹ç»ˆåªå­˜åœ¨ä¸€ä¸ªClasså¯¹è±¡ï¼Œæ— è®ºé€šè¿‡ä»€ä¹ˆæ–¹æ³•è·å–ï¼Œéƒ½æ˜¯ä¸€æ ·çš„ã€‚ç°åœ¨æˆ‘ä»¬å†æ¥çœ‹çœ‹è¿™ä¸ªé—®é¢˜ï¼š\npublic static void main(String[] args) &#123;\n    Class&lt;?&gt; clazz &#x3D; int.class;   &#x2F;&#x2F;åŸºæœ¬æ•°æ®ç±»å‹æœ‰Classå¯¹è±¡å—ï¼Ÿ\n    System.out.println(clazz);\n&#125;\n\nè¿·äº†ï¼Œä¸æ˜¯æ¯ä¸ªç±»æ‰æœ‰Classå¯¹è±¡å—ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹åˆä¸æ˜¯ç±»ï¼Œè¿™ä¹Ÿè¡Œå—ï¼Ÿå®é™…ä¸Šï¼ŒåŸºæœ¬æ•°æ®ç±»å‹ä¹Ÿæœ‰å¯¹åº”çš„Classå¯¹è±¡ï¼ˆåå°„æ“ä½œå¯èƒ½éœ€è¦ç”¨åˆ°ï¼‰ï¼Œè€Œä¸”æˆ‘ä»¬ä¸ä»…å¯ä»¥é€šè¿‡classå…³é”®å­—è·å–ï¼Œå…¶å®æœ¬è´¨ä¸Šæ˜¯å®šä¹‰åœ¨å¯¹åº”çš„åŒ…è£…ç±»ä¸­çš„ï¼š\n&#x2F;**\n * The &#123;@code Class&#125; instance representing the primitive type\n * &#123;@code int&#125;.\n *\n * @since   JDK1.1\n *&#x2F;\n@SuppressWarnings(&quot;unchecked&quot;)\npublic static final Class&lt;Integer&gt;  TYPE &#x3D; (Class&lt;Integer&gt;) Class.getPrimitiveClass(&quot;int&quot;);\n\n&#x2F;*\n * Return the Virtual Machine&#39;s Class object for the named\n * primitive type\n *&#x2F;\nstatic native Class&lt;?&gt; getPrimitiveClass(String name);   &#x2F;&#x2F;C++å®ç°ï¼Œå¹¶éJavaå®šä¹‰\n\næ¯ä¸ªåŒ…è£…ç±»ä¸­ï¼ˆåŒ…æ‹¬Voidï¼‰ï¼Œéƒ½æœ‰ä¸€ä¸ªè·å–åŸå§‹ç±»å‹Classæ–¹æ³•ï¼Œæ³¨æ„ï¼ŒgetPrimitiveClassè·å–çš„æ˜¯åŸå§‹ç±»å‹ï¼Œå¹¶ä¸æ˜¯åŒ…è£…ç±»å‹ï¼Œåªæ˜¯å¯ä»¥ä½¿ç”¨åŒ…è£…ç±»æ¥è¡¨ç¤ºã€‚\npublic static void main(String[] args) &#123;\n    Class&lt;?&gt; clazz &#x3D; int.class;\n    System.out.println(Integer.TYPE &#x3D;&#x3D; int.class);\n&#125;\n\né€šè¿‡å¯¹æ¯”ï¼Œæˆ‘ä»¬å‘ç°å®é™…ä¸ŠåŒ…è£…ç±»å‹éƒ½æœ‰ä¸€ä¸ªTYPEï¼Œå…¶å®ä¹Ÿå°±æ˜¯åŸºæœ¬ç±»å‹çš„Classï¼Œé‚£ä¹ˆåŒ…è£…ç±»çš„Classå’ŒåŸºæœ¬ç±»çš„Classä¸€æ ·å—ï¼Ÿ\npublic static void main(String[] args) &#123;\n    System.out.println(Integer.TYPE &#x3D;&#x3D; Integer.class);\n&#125;\n\næˆ‘ä»¬å‘ç°ï¼ŒåŒ…è£…ç±»å‹çš„Classå¯¹è±¡å¹¶ä¸æ˜¯åŸºæœ¬ç±»å‹Classå¯¹è±¡ã€‚æ•°ç»„ç±»å‹ä¹Ÿæ˜¯ä¸€ç§ç±»å‹ï¼Œåªæ˜¯ç¼–ç¨‹ä¸å¯è§ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç›´æ¥è·å–æ•°ç»„çš„Classå¯¹è±¡ï¼š\npublic static void main(String[] args) &#123;\n    Class&lt;String[]&gt; clazz &#x3D; String[].class;\n    System.out.println(clazz.getName());  &#x2F;&#x2F;è·å–ç±»åç§°ï¼ˆå¾—åˆ°çš„æ˜¯åŒ…å+ç±»åçš„å®Œæ•´åç§°ï¼‰\n    System.out.println(clazz.getSimpleName());\n    System.out.println(clazz.getTypeName());\n    System.out.println(clazz.getClassLoader());   &#x2F;&#x2F;è·å–å®ƒçš„ç±»åŠ è½½å™¨\n    System.out.println(clazz.cast(new Integer(&quot;10&quot;)));   &#x2F;&#x2F;å¼ºåˆ¶ç±»å‹è½¬æ¢\n&#125;\n\nå†è°ˆinstanceofæ­£å¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨instanceofè¿›è¡Œç±»å‹æ¯”è¾ƒï¼š\npublic static void main(String[] args) &#123;\n    String str &#x3D; &quot;&quot;;\n    System.out.println(str instanceof String);\n&#125;\n\nå®ƒå¯ä»¥åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºæ­¤æ¥å£æˆ–æ˜¯ç±»çš„å®ç°æˆ–æ˜¯å­ç±»ï¼Œè€Œç°åœ¨æˆ‘ä»¬æœ‰äº†æ›´å¤šçš„æ–¹å¼å»åˆ¤æ–­ç±»å‹ï¼š\npublic static void main(String[] args) &#123;\n    String str &#x3D; &quot;&quot;;\n    System.out.println(str.getClass() &#x3D;&#x3D; String.class);   &#x2F;&#x2F;ç›´æ¥åˆ¤æ–­æ˜¯å¦ä¸ºè¿™ä¸ªç±»å‹\n&#125;\n\nå¦‚æœéœ€è¦åˆ¤æ–­æ˜¯å¦ä¸ºå­ç±»æˆ–æ˜¯æ¥å£&#x2F;æŠ½è±¡ç±»çš„å®ç°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨asSubClass()æ–¹æ³•ï¼š\npublic static void main(String[] args) &#123;\n    Integer i &#x3D; 10;\n    i.getClass().asSubclass(Number.class);   &#x2F;&#x2F;å½“Integerä¸æ˜¯Numberçš„å­ç±»æ—¶ï¼Œä¼šäº§ç”Ÿå¼‚å¸¸\n&#125;\n\nè·å–çˆ¶ç±»ä¿¡æ¯é€šè¿‡getSuperclass()æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥è·å–åˆ°çˆ¶ç±»çš„Classå¯¹è±¡ï¼š\npublic static void main(String[] args) &#123;\n    Integer i &#x3D; 10;\n    System.out.println(i.getClass().getSuperclass());\n&#125;\n\nä¹Ÿå¯ä»¥é€šè¿‡getGenericSuperclass()è·å–çˆ¶ç±»çš„åŸå§‹ç±»å‹çš„Typeï¼š\npublic static void main(String[] args) &#123;\n    Integer i &#x3D; 10;\n    Type type &#x3D; i.getClass().getGenericSuperclass();\n    System.out.println(type);\n    System.out.println(type instanceof Class);\n&#125;\n\næˆ‘ä»¬å‘ç°Typeå®é™…ä¸Šæ˜¯Classç±»çš„çˆ¶æ¥å£ï¼Œä½†æ˜¯è·å–åˆ°çš„Typeçš„å®ç°å¹¶ä¸ä¸€å®šæ˜¯Classã€‚\nåŒç†ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åƒä¸Šé¢è¿™æ ·è·å–çˆ¶æ¥å£ï¼š\npublic static void main(String[] args) &#123;\n    Integer i &#x3D; 10;\n    for (Class&lt;?&gt; anInterface : i.getClass().getInterfaces()) &#123;\n        System.out.println(anInterface.getName());\n    &#125;\n  \n  \tfor (Type genericInterface : i.getClass().getGenericInterfaces()) &#123;\n        System.out.println(genericInterface.getTypeName());\n    &#125;\n&#125;\n\n\nåˆ›å»ºç±»å¯¹è±¡æ—¢ç„¶æˆ‘ä»¬æ‹¿åˆ°äº†ç±»çš„å®šä¹‰ï¼Œé‚£ä¹ˆæ˜¯å¦å¯ä»¥é€šè¿‡Classå¯¹è±¡æ¥åˆ›å»ºå¯¹è±¡ã€è°ƒç”¨æ–¹æ³•ã€ä¿®æ”¹å˜é‡å‘¢ï¼Ÿå½“ç„¶æ˜¯å¯ä»¥çš„ï¼Œé‚£æˆ‘ä»¬é¦–å…ˆæ¥æ¢è®¨ä¸€ä¸‹å¦‚ä½•åˆ›å»ºä¸€ä¸ªç±»çš„å¯¹è±¡ï¼š\npublic static void main(String[] args) throws InstantiationException, IllegalAccessException &#123;\n    Class&lt;Student&gt; clazz &#x3D; Student.class;\n    Student student &#x3D; clazz.newInstance();\n    student.test();\n&#125;\n\nstatic class Student&#123;\n    public void test()&#123;\n        System.out.println(&quot;è¨æ—¥æœ—&quot;);\n    &#125;\n&#125;\n\né€šè¿‡ä½¿ç”¨newInstance()æ–¹æ³•æ¥åˆ›å»ºå¯¹åº”ç±»å‹çš„å®ä¾‹ï¼Œè¿”å›æ³›å‹Tï¼Œæ³¨æ„å®ƒä¼šæŠ›å‡ºInstantiationExceptionå’ŒIllegalAccessExceptionå¼‚å¸¸ï¼Œé‚£ä¹ˆä»€ä¹ˆæƒ…å†µä¸‹ä¼šå‡ºç°å¼‚å¸¸å‘¢ï¼Ÿ\npublic static void main(String[] args) throws InstantiationException, IllegalAccessException &#123;\n    Class&lt;Student&gt; clazz &#x3D; Student.class;\n    Student student &#x3D; clazz.newInstance();\n    student.test();\n&#125;\n\nstatic class Student&#123;\n\n    public Student(String text)&#123;\n        \n    &#125;\n\n    public void test()&#123;\n        System.out.println(&quot;è¨æ—¥æœ—&quot;);\n    &#125;\n&#125;\n\nå½“ç±»é»˜è®¤çš„æ„é€ æ–¹æ³•è¢«å¸¦å‚æ„é€ è¦†ç›–æ—¶ï¼Œä¼šå‡ºç°InstantiationExceptionå¼‚å¸¸ï¼Œå› ä¸ºnewInstance()åªé€‚ç”¨äºé»˜è®¤æ— å‚æ„é€ ã€‚\npublic static void main(String[] args) throws InstantiationException, IllegalAccessException &#123;\n    Class&lt;Student&gt; clazz &#x3D; Student.class;\n    Student student &#x3D; clazz.newInstance();\n    student.test();\n&#125;\n\nstatic class Student&#123;\n\n    private Student()&#123;&#125;\n\n    public void test()&#123;\n        System.out.println(&quot;è¨æ—¥æœ—&quot;);\n    &#125;\n&#125;\n\nå½“é»˜è®¤æ— å‚æ„é€ çš„æƒé™ä¸æ˜¯publicæ—¶ï¼Œä¼šå‡ºç°IllegalAccessExceptionå¼‚å¸¸ï¼Œè¡¨ç¤ºæˆ‘ä»¬æ— æƒå»è°ƒç”¨é»˜è®¤æ„é€ æ–¹æ³•ã€‚åœ¨JDK9ä¹‹åï¼Œä¸å†æ¨èä½¿ç”¨newInstance()æ–¹æ³•äº†ï¼Œè€Œæ˜¯ä½¿ç”¨æˆ‘ä»¬æ¥ä¸‹æ¥è¦ä»‹ç»åˆ°çš„ï¼Œé€šè¿‡è·å–æ„é€ å™¨ï¼Œæ¥å®ä¾‹åŒ–å¯¹è±¡ï¼š\npublic static void main(String[] args) throws NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException &#123;\n    Class&lt;Student&gt; clazz &#x3D; Student.class;\n    Student student &#x3D; clazz.getConstructor(String.class).newInstance(&quot;what&#39;s up&quot;);\n    student.test();\n&#125;\n\nstatic class Student&#123;\n\n    public Student(String str)&#123;&#125;\n\n    public void test()&#123;\n        System.out.println(&quot;è¨æ—¥æœ—&quot;);\n    &#125;\n&#125;\n\né€šè¿‡è·å–ç±»çš„æ„é€ æ–¹æ³•ï¼ˆæ„é€ å™¨ï¼‰æ¥åˆ›å»ºå¯¹è±¡å®ä¾‹ï¼Œä¼šæ›´åŠ åˆç†ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨getConstructor()æ–¹æ³•æ¥è·å–ç±»çš„æ„é€ æ–¹æ³•ï¼ŒåŒæ—¶æˆ‘ä»¬éœ€è¦å‘å…¶ä¸­å¡«å…¥å‚æ•°ï¼Œä¹Ÿå°±æ˜¯æ„é€ æ–¹æ³•éœ€è¦çš„ç±»å‹ï¼Œå½“ç„¶æˆ‘ä»¬è¿™é‡Œåªæ¼”ç¤ºäº†ã€‚é‚£ä¹ˆï¼Œå½“è®¿é—®æƒé™ä¸æ˜¯publicçš„æ—¶å€™å‘¢ï¼Ÿ\npublic static void main(String[] args) throws NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException &#123;\n    Class&lt;Student&gt; clazz &#x3D; Student.class;\n    Student student &#x3D; clazz.getConstructor(String.class).newInstance(&quot;what&#39;s up&quot;);\n    student.test();\n&#125;\n\nstatic class Student&#123;\n\n    private Student(String str)&#123;&#125;\n\n    public void test()&#123;\n        System.out.println(&quot;è¨æ—¥æœ—&quot;);\n    &#125;\n&#125;\n\næˆ‘ä»¬å‘ç°ï¼Œå½“è®¿é—®æƒé™ä¸è¶³æ—¶ï¼Œä¼šæ— æ³•æ‰¾åˆ°æ­¤æ„é€ æ–¹æ³•ï¼Œé‚£ä¹ˆå¦‚ä½•æ‰¾åˆ°épublicçš„æ„é€ æ–¹æ³•å‘¢ï¼Ÿ\nClass&lt;Student&gt; clazz &#x3D; Student.class;\nConstructor&lt;Student&gt; constructor &#x3D; clazz.getDeclaredConstructor(String.class);\nconstructor.setAccessible(true);   &#x2F;&#x2F;ä¿®æ”¹è®¿é—®æƒé™\nStudent student &#x3D; constructor.newInstance(&quot;what&#39;s up&quot;);\nstudent.test();\n\nä½¿ç”¨getDeclaredConstructor()æ–¹æ³•å¯ä»¥æ‰¾åˆ°ç±»ä¸­çš„épublicæ„é€ æ–¹æ³•ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆä¿®æ”¹è®¿é—®æƒé™ï¼Œåœ¨ä¿®æ”¹è®¿é—®æƒé™ä¹‹åï¼Œå°±å¯ä»¥ä½¿ç”¨épublicæ–¹æ³•äº†ï¼ˆè¿™æ„å‘³ç€ï¼Œåå°„å¯ä»¥æ— è§†æƒé™ä¿®é¥°ç¬¦è®¿é—®ç±»çš„å†…å®¹ï¼‰\n\nè°ƒç”¨ç±»çš„æ–¹æ³•æˆ‘ä»¬å¯ä»¥é€šè¿‡åå°„æ¥è°ƒç”¨ç±»çš„æ–¹æ³•ï¼ˆæœ¬è´¨ä¸Šè¿˜æ˜¯ç±»çš„å®ä¾‹è¿›è¡Œè°ƒç”¨ï¼‰åªæ˜¯åˆ©ç”¨åå°„æœºåˆ¶å®ç°äº†æ–¹æ³•çš„è°ƒç”¨ï¼Œæˆ‘ä»¬åœ¨åŒ…ä¸‹åˆ›å»ºä¸€ä¸ªæ–°çš„ç±»ï¼š\npackage com.test;\n\npublic class Student &#123;\n    public void test(String str)&#123;\n        System.out.println(&quot;è¨æ—¥æœ—&quot;+str);\n    &#125;\n&#125;\n\nè¿™æ¬¡æˆ‘ä»¬é€šè¿‡forName(String)æ¥æ‰¾åˆ°è¿™ä¸ªç±»å¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼š\npublic static void main(String[] args) throws ReflectiveOperationException &#123;\n    Class&lt;?&gt; clazz &#x3D; Class.forName(&quot;com.test.Student&quot;);\n    Object instance &#x3D; clazz.newInstance();   &#x2F;&#x2F;åˆ›å»ºå‡ºå­¦ç”Ÿå¯¹è±¡\n    Method method &#x3D; clazz.getMethod(&quot;test&quot;, String.class);   &#x2F;&#x2F;é€šè¿‡æ–¹æ³•åå’Œå½¢å‚ç±»å‹è·å–ç±»ä¸­çš„æ–¹æ³•\n    \n    method.invoke(instance, &quot;what&#39;s up&quot;);   &#x2F;&#x2F;é€šè¿‡Methodå¯¹è±¡çš„invokeæ–¹æ³•æ¥è°ƒç”¨æ–¹æ³•\n&#125;\n\né€šè¿‡è°ƒç”¨getMethod()æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥è·å–åˆ°ç±»ä¸­æ‰€æœ‰å£°æ˜ä¸ºpublicçš„æ–¹æ³•ï¼Œå¾—åˆ°ä¸€ä¸ªMethodå¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡Methodå¯¹è±¡çš„invoke()æ–¹æ³•ï¼ˆè¿”å›å€¼å°±æ˜¯æ–¹æ³•çš„è¿”å›å€¼ï¼Œå› ä¸ºè¿™é‡Œæ˜¯voidï¼Œè¿”å›å€¼ä¸ºnullï¼‰æ¥è°ƒç”¨å·²ç»è·å–åˆ°çš„æ–¹æ³•ï¼Œæ³¨æ„ä¼ å‚ã€‚\næˆ‘ä»¬å‘ç°ï¼Œåˆ©ç”¨åå°„ä¹‹åï¼Œåœ¨ä¸€ä¸ªå¯¹è±¡ä»æ„é€ åˆ°æ–¹æ³•è°ƒç”¨ï¼Œæ²¡æœ‰ä»»ä½•ä¸€å¤„éœ€è¦å¼•ç”¨åˆ°å¯¹è±¡çš„å®é™…ç±»å‹ï¼Œæˆ‘ä»¬ä¹Ÿæ²¡æœ‰å¯¼å…¥Studentç±»ï¼Œæ•´ä¸ªè¿‡ç¨‹éƒ½æ˜¯åå°„åœ¨ä»£æ›¿è¿›è¡Œæ“ä½œï¼Œä½¿å¾—æ•´ä¸ªè¿‡ç¨‹è¢«æ¨¡ç³Šäº†ï¼Œè¿‡å¤šçš„ä½¿ç”¨åå°„ï¼Œä¼šæå¤§åœ°é™ä½åæœŸç»´æŠ¤æ€§ã€‚\nåŒæ„é€ æ–¹æ³•ä¸€æ ·ï¼Œå½“å‡ºç°épublicæ–¹æ³•æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åå°„æ¥æ— è§†æƒé™ä¿®é¥°ç¬¦ï¼Œè·å–épublicæ–¹æ³•å¹¶è°ƒç”¨ï¼Œç°åœ¨æˆ‘ä»¬å°†test()æ–¹æ³•çš„æƒé™ä¿®é¥°ç¬¦æ”¹ä¸ºprivateï¼š\npublic static void main(String[] args) throws ReflectiveOperationException &#123;\n    Class&lt;?&gt; clazz &#x3D; Class.forName(&quot;com.test.Student&quot;);\n    Object instance &#x3D; clazz.newInstance();   &#x2F;&#x2F;åˆ›å»ºå‡ºå­¦ç”Ÿå¯¹è±¡\n    Method method &#x3D; clazz.getDeclaredMethod(&quot;test&quot;, String.class);   &#x2F;&#x2F;é€šè¿‡æ–¹æ³•åå’Œå½¢å‚ç±»å‹è·å–ç±»ä¸­çš„æ–¹æ³•\n    method.setAccessible(true);\n\n    method.invoke(instance, &quot;what&#39;s up&quot;);   &#x2F;&#x2F;é€šè¿‡Methodå¯¹è±¡çš„invokeæ–¹æ³•æ¥è°ƒç”¨æ–¹æ³•\n&#125;\n\nMethodå’ŒConstructoréƒ½å’ŒClassä¸€æ ·ï¼Œä»–ä»¬å­˜å‚¨äº†æ–¹æ³•çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ–¹æ³•çš„å½¢å¼å‚æ•°åˆ—è¡¨ï¼Œè¿”å›å€¼ï¼Œæ–¹æ³•çš„åç§°ç­‰å†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡Methodå¯¹è±¡æ¥è·å–è¿™äº›ä¿¡æ¯ï¼š\npublic static void main(String[] args) throws ReflectiveOperationException &#123;\n    Class&lt;?&gt; clazz &#x3D; Class.forName(&quot;com.test.Student&quot;);\n    Method method &#x3D; clazz.getDeclaredMethod(&quot;test&quot;, String.class);   &#x2F;&#x2F;é€šè¿‡æ–¹æ³•åå’Œå½¢å‚ç±»å‹è·å–ç±»ä¸­çš„æ–¹æ³•\n    \n    System.out.println(method.getName());   &#x2F;&#x2F;è·å–æ–¹æ³•åç§°\n    System.out.println(method.getReturnType());   &#x2F;&#x2F;è·å–è¿”å›å€¼ç±»å‹\n&#125;\n\nå½“æ–¹æ³•çš„å‚æ•°ä¸ºå¯å˜å‚æ•°æ—¶ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•è·å–æ–¹æ³•å‘¢ï¼Ÿå®é™…ä¸Šï¼Œæˆ‘ä»¬åœ¨ä¹‹å‰å°±å·²ç»æåˆ°è¿‡ï¼Œå¯å˜å‚æ•°å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨æ•°ç»„çš„classå¯¹è±¡è¡¨ç¤ºï¼š\nMethod method &#x3D; clazz.getDeclaredMethod(&quot;test&quot;, String[].class);\n\nåå°„éå¸¸å¼ºå¤§ï¼Œå°¤å…¶æ˜¯æˆ‘ä»¬æåˆ°çš„è¶Šæƒè®¿é—®ï¼Œä½†æ˜¯è¯·ä¸€å®šè°¨æ…ä½¿ç”¨ï¼Œåˆ«äººå°†æŸä¸ªæ–¹æ³•è®¾ç½®ä¸ºprivateä¸€å®šæœ‰ä»–çš„ç†ç”±ï¼Œå¦‚æœå®åœ¨æ˜¯éœ€è¦ä½¿ç”¨åˆ«äººå®šä¹‰ä¸ºprivateçš„æ–¹æ³•ï¼Œå°±å¿…é¡»ç¡®ä¿è¿™æ ·åšæ˜¯å®‰å…¨çš„ï¼Œåœ¨æ²¡æœ‰äº†è§£åˆ«äººä»£ç çš„æ•´ä¸ªè¿‡ç¨‹å°±å¼ºè¡Œè¶Šæƒè®¿é—®ï¼Œå¯èƒ½ä¼šå‡ºç°æ— æ³•é¢„çŸ¥çš„é”™è¯¯ã€‚\n\nä¿®æ”¹ç±»çš„å±æ€§æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡åå°„è®¿é—®ä¸€ä¸ªç±»ä¸­å®šä¹‰çš„æˆå‘˜å­—æ®µä¹Ÿå¯ä»¥ä¿®æ”¹ä¸€ä¸ªç±»çš„å¯¹è±¡ä¸­çš„æˆå‘˜å­—æ®µå€¼ï¼Œé€šè¿‡getField()æ–¹æ³•æ¥è·å–ä¸€ä¸ªç±»å®šä¹‰çš„æŒ‡å®šå­—æ®µï¼š\npublic static void main(String[] args) throws ReflectiveOperationException &#123;\n    Class&lt;?&gt; clazz &#x3D; Class.forName(&quot;com.test.Student&quot;);\n    Object instance &#x3D; clazz.newInstance();\n\n    Field field &#x3D; clazz.getField(&quot;i&quot;);   &#x2F;&#x2F;è·å–ç±»çš„æˆå‘˜å­—æ®µi\n    field.set(instance, 100);   &#x2F;&#x2F;å°†ç±»å®ä¾‹instanceçš„æˆå‘˜å­—æ®µiè®¾ç½®ä¸º100\n\n    Method method &#x3D; clazz.getMethod(&quot;test&quot;);\n    method.invoke(instance);\n&#125;\n\nåœ¨å¾—åˆ°Fieldä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥é€šè¿‡set()æ–¹æ³•ä¸ºæŸä¸ªå¯¹è±¡ï¼Œè®¾å®šæ­¤å±æ€§çš„å€¼ï¼Œæ¯”å¦‚ä¸Šé¢ï¼Œæˆ‘ä»¬å°±ä¸ºinstanceå¯¹è±¡è®¾å®šå€¼ä¸º100ï¼Œå½“è®¿é—®privateå­—æ®µæ—¶ï¼ŒåŒæ ·å¯ä»¥æŒ‰ç…§ä¸Šé¢çš„æ“ä½œè¿›è¡Œè¶Šæƒè®¿é—®ï¼š\npublic static void main(String[] args) throws ReflectiveOperationException &#123;\n    Class&lt;?&gt; clazz &#x3D; Class.forName(&quot;com.test.Student&quot;);\n    Object instance &#x3D; clazz.newInstance();\n\n    Field field &#x3D; clazz.getDeclaredField(&quot;i&quot;);   &#x2F;&#x2F;è·å–ç±»çš„æˆå‘˜å­—æ®µi\n    field.setAccessible(true);\n    field.set(instance, 100);   &#x2F;&#x2F;å°†ç±»å®ä¾‹instanceçš„æˆå‘˜å­—æ®µiè®¾ç½®ä¸º100\n\n    Method method &#x3D; clazz.getMethod(&quot;test&quot;);\n    method.invoke(instance);\n&#125;\n\nç°åœ¨æˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œåå°„å‡ ä¹å¯ä»¥æŠŠä¸€ä¸ªç±»çš„è€åº•éƒ½ç»™æ‰’å‡ºæ¥ï¼Œä»»ä½•å±æ€§ï¼Œä»»ä½•å†…å®¹ï¼Œéƒ½å¯ä»¥è¢«åå°„ä¿®æ”¹ï¼Œæ— è®ºæƒé™ä¿®é¥°ç¬¦æ˜¯ä»€ä¹ˆï¼Œé‚£ä¹ˆï¼Œå¦‚æœæˆ‘çš„å­—æ®µè¢«æ ‡è®°ä¸ºfinalå‘¢ï¼Ÿç°åœ¨åœ¨å­—æ®µiå‰é¢æ·»åŠ finalå…³é”®å­—ï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹æ•ˆæœï¼š\nprivate final int i &#x3D; 10;\n\nè¿™æ—¶ï¼Œå½“å­—æ®µä¸ºfinalæ—¶ï¼Œå°±ä¿®æ”¹å¤±è´¥äº†ï¼å½“ç„¶ï¼Œé€šè¿‡åå°„å¯ä»¥ç›´æ¥å°†finalä¿®é¥°ç¬¦ç›´æ¥å»é™¤ï¼Œå»é™¤åï¼Œå°±å¯ä»¥éšæ„ä¿®æ”¹å†…å®¹äº†ï¼Œæˆ‘ä»¬æ¥å°è¯•ä¿®æ”¹Integerçš„valueå€¼ï¼š\npublic static void main(String[] args) throws ReflectiveOperationException &#123;\n    Integer i &#x3D; 10;\n\n    Field field &#x3D; Integer.class.getDeclaredField(&quot;value&quot;);\n\n    Field modifiersField &#x3D; Field.class.getDeclaredField(&quot;modifiers&quot;);  &#x2F;&#x2F;è¿™é‡Œè¦è·å–Fieldç±»çš„modifierså­—æ®µè¿›è¡Œä¿®æ”¹\n    modifiersField.setAccessible(true);\n    modifiersField.setInt(field,field.getModifiers()&amp;~Modifier.FINAL);  &#x2F;&#x2F;å»é™¤finalæ ‡è®°\n\n    field.setAccessible(true);\n    field.set(i, 100);   &#x2F;&#x2F;å¼ºè¡Œè®¾ç½®å€¼\n\n    System.out.println(i);\n&#125;\n\næˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œåå°„éå¸¸æš´åŠ›ï¼Œå°±è¿è¢«å®šä¹‰ä¸ºfinalå­—æ®µçš„å€¼éƒ½èƒ½å¼ºè¡Œä¿®æ”¹ï¼Œå‡ ä¹èƒ½å¤Ÿæ— è§†ä¸€åˆ‡é˜»æ‹¦ã€‚æˆ‘ä»¬æ¥è¯•è¯•çœ‹ä¿®æ”¹ä¸€äº›å…¶ä»–çš„ç±»å‹ï¼š\npublic static void main(String[] args) throws ReflectiveOperationException &#123;\n    List&lt;String&gt; i &#x3D; new ArrayList&lt;&gt;();\n\n    Field field &#x3D; ArrayList.class.getDeclaredField(&quot;size&quot;);\n    field.setAccessible(true);\n    field.set(i, 10);\n\n    i.add(&quot;æµ‹è¯•&quot;);   &#x2F;&#x2F;åªæ·»åŠ ä¸€ä¸ªå…ƒç´ \n    System.out.println(i.size());  &#x2F;&#x2F;å¤§å°ç›´æ¥å˜æˆ11\n    i.remove(10);   &#x2F;&#x2F;çç§»é™¤éƒ½ä¸å¸¦æŠ¥é”™çš„ï¼Œæ·¦\n&#125;\n\nå®é™…ä¸Šï¼Œæ•´ä¸ªArrayListä½“ç³»ç”±äºæˆ‘ä»¬çš„åå°„æ“ä½œï¼Œå¯¼è‡´è¢«ç ´åï¼Œå› æ­¤å®ƒå·²ç»æ— æ³•æ­£å¸¸å·¥ä½œäº†ï¼\nå†æ¬¡å¼ºè°ƒï¼Œåœ¨è¿›è¡Œåå°„æ“ä½œæ—¶ï¼Œå¿…é¡»æ³¨æ„æ˜¯å¦å®‰å…¨ï¼Œè™½ç„¶æ‹¥æœ‰äº†åˆ›ä¸–ä¸»çš„èƒ½åŠ›ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸èƒ½æ»¥ç”¨ï¼Œæˆ‘ä»¬åªèƒ½æŠŠå®ƒå½“åšä¸€ä¸ªä¸å¾—å·²æ‰å»ä½¿ç”¨çš„å·¥å…·ï¼\n\nè‡ªå®šä¹‰ClassLoaderåŠ è½½ç±»æˆ‘ä»¬å¯ä»¥è‡ªå·±æ‰‹åŠ¨å°†classæ–‡ä»¶åŠ è½½åˆ°JVMä¸­å—ï¼Ÿå…ˆå†™å¥½æˆ‘ä»¬å®šä¹‰çš„ç±»ï¼š\npackage com.test;\n\npublic class Test &#123;\n    public String text;\n\n    public void test(String str)&#123;\n        System.out.println(text+&quot; &gt; æˆ‘æ˜¯æµ‹è¯•æ–¹æ³•ï¼&quot;+str);\n    &#125;\n&#125;\n\né€šè¿‡javacå‘½ä»¤ï¼Œæ‰‹åŠ¨ç¼–è¯‘ä¸€ä¸ª.classæ–‡ä»¶ï¼š\nnagocoler@NagodeMacBook-Pro HelloWorld % javac src&#x2F;main&#x2F;java&#x2F;com&#x2F;test&#x2F;Test.java\n\nç¼–è¯‘åï¼Œå¾—åˆ°ä¸€ä¸ªclassæ–‡ä»¶ï¼Œæˆ‘ä»¬æŠŠå®ƒæ”¾åˆ°æ ¹ç›®å½•ä¸‹ï¼Œç„¶åç¼–å†™ä¸€ä¸ªæˆ‘ä»¬è‡ªå·±çš„ClassLoaderï¼Œå› ä¸ºæ™®é€šçš„ClassLoaderæ— æ³•åŠ è½½äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå› æ­¤æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªè‡ªå·±çš„æ¥è®©å®ƒæ”¯æŒï¼š\n&#x2F;&#x2F;å®šä¹‰ä¸€ä¸ªè‡ªå·±çš„ClassLoader\nstatic class MyClassLoader extends ClassLoader&#123;\n    public Class&lt;?&gt; defineClass(String name, byte[] b)&#123;\n        return defineClass(name, b, 0, b.length);   &#x2F;&#x2F;è°ƒç”¨protectedæ–¹æ³•ï¼Œæ”¯æŒè½½å…¥å¤–éƒ¨classæ–‡ä»¶\n    &#125;\n&#125;\n\npublic static void main(String[] args) throws IOException &#123;\n    MyClassLoader classLoader &#x3D; new MyClassLoader();\n    FileInputStream stream &#x3D; new FileInputStream(&quot;Test.class&quot;);\n    byte[] bytes &#x3D; new byte[stream.available()];\n    stream.read(bytes);\n    Class&lt;?&gt; clazz &#x3D; classLoader.defineClass(&quot;com.test.Test&quot;, bytes);   &#x2F;&#x2F;ç±»åå¿…é¡»å’Œæˆ‘ä»¬å®šä¹‰çš„ä¿æŒä¸€è‡´\n    System.out.println(clazz.getName());   &#x2F;&#x2F;æˆåŠŸåŠ è½½å¤–éƒ¨classæ–‡ä»¶\n&#125;\n\nç°åœ¨ï¼Œæˆ‘ä»¬å°±å°†æ­¤classæ–‡ä»¶è¯»å–å¹¶è§£æä¸ºClassäº†ï¼Œç°åœ¨æˆ‘ä»¬å°±å¯ä»¥å¯¹æ­¤ç±»è¿›è¡Œæ“ä½œäº†ï¼ˆæ³¨æ„ï¼Œæˆ‘ä»¬æ— æ³•åœ¨ä»£ç ä¸­ç›´æ¥ä½¿ç”¨æ­¤ç±»å‹ï¼Œå› ä¸ºå®ƒæ˜¯æˆ‘ä»¬ç›´æ¥åŠ è½½çš„ï¼‰ï¼Œæˆ‘ä»¬æ¥è¯•è¯•çœ‹åˆ›å»ºä¸€ä¸ªæ­¤ç±»çš„å¯¹è±¡å¹¶è°ƒç”¨å…¶æ–¹æ³•ï¼š\ntry &#123;\n    Object obj &#x3D; clazz.newInstance();\n    Method method &#x3D; clazz.getMethod(&quot;test&quot;, String.class);   &#x2F;&#x2F;è·å–æˆ‘ä»¬å®šä¹‰çš„test(String str)æ–¹æ³•\n    method.invoke(obj, &quot;å“¥ä»¬è¿™ç“œå¤šå°‘é’±ä¸€æ–¤ï¼Ÿ&quot;);\n&#125;catch (Exception e)&#123;\n    e.printStackTrace();\n&#125;\n\næˆ‘ä»¬æ¥è¯•è¯•çœ‹ä¿®æ”¹æˆå‘˜å­—æ®µä¹‹åï¼Œå†æ¥è°ƒç”¨æ­¤æ–¹æ³•ï¼š\ntry &#123;\n    Object obj &#x3D; clazz.newInstance();\n    Field field &#x3D; clazz.getField(&quot;text&quot;);   &#x2F;&#x2F;è·å–æˆå‘˜å˜é‡ String text;\n    field.set(obj, &quot;åå¼º&quot;);\n    Method method &#x3D; clazz.getMethod(&quot;test&quot;, String.class);   &#x2F;&#x2F;è·å–æˆ‘ä»¬å®šä¹‰çš„test(String str)æ–¹æ³•\n    method.invoke(obj, &quot;å“¥ä»¬è¿™ç“œå¤šå°‘é’±ä¸€æ–¤ï¼Ÿ&quot;);\n&#125;catch (Exception e)&#123;\n    e.printStackTrace();\n&#125;\n\né€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å°±å¯ä»¥å®ç°å¤–éƒ¨åŠ è½½ç”šè‡³æ˜¯ç½‘ç»œåŠ è½½ä¸€ä¸ªç±»ï¼Œåªéœ€è¦æŠŠç±»æ–‡ä»¶ä¼ é€’å³å¯ï¼Œè¿™æ ·å°±æ— éœ€å†å°†ä»£ç å†™åœ¨æœ¬åœ°ï¼Œè€Œæ˜¯åŠ¨æ€è¿›è¡Œä¼ é€’ï¼Œä¸ä»…å¯ä»¥ä¸€å®šç¨‹åº¦ä¸Šé˜²æ­¢æºä»£ç è¢«åç¼–è¯‘ï¼ˆåªæ˜¯ä¸€å®šç¨‹åº¦ä¸Šï¼Œæƒ³ç ´è§£ä½ ä»£ç æœ‰çš„æ˜¯æ–¹æ³•ï¼‰ï¼Œè€Œä¸”åœ¨æ›´å¤šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å¯¹byte[]è¿›è¡ŒåŠ å¯†ï¼Œä¿è¯åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­çš„å®‰å…¨æ€§ã€‚\n\næ³¨è§£å…¶å®æˆ‘ä»¬åœ¨ä¹‹å‰å°±æ¥è§¦åˆ°æ³¨è§£äº†ï¼Œæ¯”å¦‚@Overrideè¡¨ç¤ºé‡å†™çˆ¶ç±»æ–¹æ³•ï¼ˆå½“ç„¶ä¸åŠ æ•ˆæœä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œæ­¤æ³¨è§£åœ¨ç¼–è¯‘æ—¶ä¼šè¢«è‡ªåŠ¨ä¸¢å¼ƒï¼‰æ³¨è§£æœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªç±»ï¼Œåªä¸è¿‡å®ƒçš„ç”¨æ³•æ¯”è¾ƒç‰¹æ®Šã€‚\næ³¨è§£å¯ä»¥è¢«æ ‡æ³¨åœ¨ä»»æ„åœ°æ–¹ï¼ŒåŒ…æ‹¬æ–¹æ³•ä¸Šã€ç±»åä¸Šã€å‚æ•°ä¸Šã€æˆå‘˜å±æ€§ä¸Šã€æ³¨è§£å®šä¹‰ä¸Šç­‰ï¼Œå°±åƒæ³¨é‡Šä¸€æ ·ï¼Œå®ƒç›¸å½“äºæˆ‘ä»¬å¯¹æŸæ ·ä¸œè¥¿çš„ä¸€ä¸ªæ ‡è®°ã€‚è€Œä¸æ³¨é‡Šä¸åŒçš„æ˜¯ï¼Œæ³¨è§£å¯ä»¥é€šè¿‡åå°„åœ¨è¿è¡Œæ—¶è·å–ï¼Œæ³¨è§£ä¹Ÿå¯ä»¥é€‰æ‹©æ˜¯å¦ä¿ç•™åˆ°è¿è¡Œæ—¶ã€‚\né¢„è®¾æ³¨è§£JDKé¢„è®¾äº†ä»¥ä¸‹æ³¨è§£ï¼Œä½œç”¨äºä»£ç ï¼š\n\n@Override - æ£€æŸ¥ï¼ˆä»…ä»…æ˜¯æ£€æŸ¥ï¼Œä¸ä¿ç•™åˆ°è¿è¡Œæ—¶ï¼‰è¯¥æ–¹æ³•æ˜¯å¦æ˜¯é‡å†™æ–¹æ³•ã€‚å¦‚æœå‘ç°å…¶çˆ¶ç±»ï¼Œæˆ–è€…æ˜¯å¼•ç”¨çš„æ¥å£ä¸­å¹¶æ²¡æœ‰è¯¥æ–¹æ³•æ—¶ï¼Œä¼šæŠ¥ç¼–è¯‘é”™è¯¯ã€‚\n@Deprecated - æ ‡è®°è¿‡æ—¶æ–¹æ³•ã€‚å¦‚æœä½¿ç”¨è¯¥æ–¹æ³•ï¼Œä¼šæŠ¥ç¼–è¯‘è­¦å‘Šã€‚\n@SuppressWarnings - æŒ‡ç¤ºç¼–è¯‘å™¨å»å¿½ç•¥æ³¨è§£ä¸­å£°æ˜çš„è­¦å‘Šï¼ˆä»…ä»…ç¼–è¯‘å™¨é˜¶æ®µï¼Œä¸ä¿ç•™åˆ°è¿è¡Œæ—¶ï¼‰\n@FunctionalInterface - Java 8 å¼€å§‹æ”¯æŒï¼Œæ ‡è¯†ä¸€ä¸ªåŒ¿åå‡½æ•°æˆ–å‡½æ•°å¼æ¥å£ã€‚\n@SafeVarargs - Java 7 å¼€å§‹æ”¯æŒï¼Œå¿½ç•¥ä»»ä½•ä½¿ç”¨å‚æ•°ä¸ºæ³›å‹å˜é‡çš„æ–¹æ³•æˆ–æ„é€ å‡½æ•°è°ƒç”¨äº§ç”Ÿçš„è­¦å‘Šã€‚\n\nå…ƒæ³¨è§£å…ƒæ³¨è§£æ˜¯ä½œç”¨äºæ³¨è§£ä¸Šçš„æ³¨è§£ï¼Œç”¨äºæˆ‘ä»¬ç¼–å†™è‡ªå®šä¹‰çš„æ³¨è§£ï¼š\n\n@Retention - æ ‡è¯†è¿™ä¸ªæ³¨è§£æ€ä¹ˆä¿å­˜ï¼Œæ˜¯åªåœ¨ä»£ç ä¸­ï¼Œè¿˜æ˜¯ç¼–å…¥classæ–‡ä»¶ä¸­ï¼Œæˆ–è€…æ˜¯åœ¨è¿è¡Œæ—¶å¯ä»¥é€šè¿‡åå°„è®¿é—®ã€‚\n@Documented - æ ‡è®°è¿™äº›æ³¨è§£æ˜¯å¦åŒ…å«åœ¨ç”¨æˆ·æ–‡æ¡£ä¸­ã€‚\n@Target - æ ‡è®°è¿™ä¸ªæ³¨è§£åº”è¯¥æ˜¯å“ªç§ Java æˆå‘˜ã€‚\n@Inherited - æ ‡è®°è¿™ä¸ªæ³¨è§£æ˜¯ç»§æ‰¿äºå“ªä¸ªæ³¨è§£ç±»(é»˜è®¤ æ³¨è§£å¹¶æ²¡æœ‰ç»§æ‰¿äºä»»ä½•å­ç±»)\n@Repeatable - Java 8 å¼€å§‹æ”¯æŒï¼Œæ ‡è¯†æŸæ³¨è§£å¯ä»¥åœ¨åŒä¸€ä¸ªå£°æ˜ä¸Šä½¿ç”¨å¤šæ¬¡ã€‚\n\nçœ‹äº†è¿™ä¹ˆå¤šé¢„è®¾çš„æ³¨è§£ï¼Œä½ ä»¬è‚¯å®šçœ¼èŠ±ç¼­ä¹±äº†ï¼Œé‚£æˆ‘ä»¬æ¥çœ‹çœ‹@Overrideæ˜¯å¦‚ä½•å®šä¹‰çš„ï¼š\n@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.SOURCE)\npublic @interface Override &#123;\n&#125;\n\nè¯¥æ³¨è§£ç”±@Targeté™å®šä¸ºåªèƒ½ä½œç”¨äºæ–¹æ³•ä¸Šï¼ŒElementTypeæ˜¯ä¸€ä¸ªæšä¸¾ç±»å‹ï¼Œç”¨äºè¡¨ç¤ºæ­¤æšä¸¾çš„ä½œç”¨åŸŸï¼Œä¸€ä¸ªæ³¨è§£å¯ä»¥æœ‰å¾ˆå¤šä¸ªä½œç”¨åŸŸã€‚@Retentionè¡¨ç¤ºæ­¤æ³¨è§£çš„ä¿ç•™ç­–ç•¥ï¼ŒåŒ…æ‹¬ä¸‰ç§ç­–ç•¥ï¼Œåœ¨ä¸Šè¿°ä¸­æœ‰å†™åˆ°ï¼Œè€Œè¿™é‡Œå®šä¹‰ä¸ºåªåœ¨ä»£ç ä¸­ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè‡ªå®šä¹‰çš„æ³¨è§£éœ€è¦å®šä¹‰1ä¸ª@Retentionå’Œ1-nä¸ª@Targetã€‚\næ—¢ç„¶äº†è§£äº†å…ƒæ³¨è§£çš„ä½¿ç”¨å’Œæ³¨è§£çš„å®šä¹‰æ–¹å¼ï¼Œæˆ‘ä»¬å°±æ¥å°è¯•å®šä¹‰ä¸€ä¸ªè‡ªå·±çš„æ³¨è§£ï¼š\n@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface Test &#123;\n&#125;\n\nè¿™é‡Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªTestæ³¨è§£ï¼Œå¹¶å°†å…¶ä¿ç•™åˆ°è¿è¡Œæ—¶ï¼ŒåŒæ—¶æ­¤æ³¨è§£å¯ä»¥ä½œç”¨äºæ–¹æ³•æˆ–æ˜¯ç±»ä¸Šï¼š\n@Test\npublic class Main &#123;\n    @Test\n    public static void main(String[] args) &#123;\n        \n    &#125;\n&#125;\n\nè¿™æ ·ï¼Œä¸€ä¸ªæœ€ç®€å•çš„æ³¨è§£å°±è¢«æˆ‘ä»¬åˆ›å»ºäº†ã€‚\næ³¨è§£çš„ä½¿ç”¨æˆ‘ä»¬è¿˜å¯ä»¥åœ¨æ³¨è§£ä¸­å®šä¹‰ä¸€äº›å±æ€§ï¼Œæ³¨è§£çš„å±æ€§ä¹Ÿå«åšæˆå‘˜å˜é‡ï¼Œæ³¨è§£åªæœ‰æˆå‘˜å˜é‡ï¼Œæ²¡æœ‰æ–¹æ³•ã€‚æ³¨è§£çš„æˆå‘˜å˜é‡åœ¨æ³¨è§£çš„å®šä¹‰ä¸­ä»¥â€œæ— å½¢å‚çš„æ–¹æ³•â€å½¢å¼æ¥å£°æ˜ï¼Œå…¶æ–¹æ³•åå®šä¹‰äº†è¯¥æˆå‘˜å˜é‡çš„åå­—ï¼Œå…¶è¿”å›å€¼å®šä¹‰äº†è¯¥æˆå‘˜å˜é‡çš„ç±»å‹ï¼š\n@Target(&#123;ElementType.METHOD, ElementType.TYPE&#125;)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface Test &#123;\n    String value();\n&#125;\n\né»˜è®¤åªæœ‰ä¸€ä¸ªå±æ€§æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶åå­—è®¾å®šä¸ºvalueï¼Œå¦åˆ™ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä½¿ç”¨æ—¶æ‰‹åŠ¨æŒ‡å®šæ³¨è§£çš„å±æ€§åç§°ï¼Œä½¿ç”¨valueåˆ™æ— éœ€å¡«å…¥ï¼š\n@Target(&#123;ElementType.METHOD, ElementType.TYPE&#125;)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface Test &#123;\n    String test();\n&#125;\n\npublic class Main &#123;\n    @Test(test &#x3D; &quot;&quot;)\n    public static void main(String[] args) &#123;\n\n    &#125;\n&#125;\n\næˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨defaultå…³é”®å­—æ¥ä¸ºè¿™äº›å±æ€§æŒ‡å®šé»˜è®¤å€¼ï¼š\n@Target(&#123;ElementType.METHOD, ElementType.TYPE&#125;)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface Test &#123;\n    String value() default &quot;éƒ½çœ‹åˆ°è¿™é‡Œäº†ï¼Œç»™ä¸ªä¸‰è¿å§ï¼&quot;;\n&#125;\n\nå½“å±æ€§å­˜åœ¨é»˜è®¤å€¼æ—¶ï¼Œä½¿ç”¨æ³¨è§£çš„æ—¶å€™å¯ä»¥ä¸ç”¨ä¼ å…¥å±æ€§å€¼ã€‚å½“å±æ€§ä¸ºæ•°ç»„æ—¶å‘¢ï¼Ÿ\n@Target(&#123;ElementType.METHOD, ElementType.TYPE&#125;)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface Test &#123;\n    String[] value();\n&#125;\n\nå½“å±æ€§ä¸ºæ•°ç»„ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨æ³¨è§£ä¼ å‚æ—¶ï¼Œå¦‚æœæ•°ç»„é‡Œé¢åªæœ‰ä¸€ä¸ªå†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä¼ å…¥ä¸€ä¸ªå€¼ï¼Œè€Œä¸æ˜¯åˆ›å»ºä¸€ä¸ªæ•°ç»„ï¼š\n@Test(&quot;å…³æ³¨ç‚¹äº†å—&quot;)\npublic static void main(String[] args) &#123;\n\t\n&#125;\n\npublic class Main &#123;\n    @Test(&#123;&quot;value1&quot;, &quot;value2&quot;&#125;)   &#x2F;&#x2F;å¤šä¸ªå€¼æ—¶å°±ä½¿ç”¨èŠ±æ‹¬å·æ‹¬èµ·æ¥\n    public static void main(String[] args) &#123;\n\n    &#125;\n&#125;\n\nåå°„è·å–æ³¨è§£æ—¢ç„¶æˆ‘ä»¬çš„æ³¨è§£å¯ä»¥ä¿ç•™åˆ°è¿è¡Œæ—¶ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥çœ‹çœ‹ï¼Œå¦‚ä½•è·å–æˆ‘ä»¬ç¼–å†™çš„æ³¨è§£ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°åå°„æœºåˆ¶ï¼š\npublic static void main(String[] args) &#123;\n    Class&lt;Student&gt; clazz &#x3D; Student.class;\n    for (Annotation annotation : clazz.getAnnotations()) &#123;\n        System.out.println(annotation.annotationType());   &#x2F;&#x2F;è·å–ç±»å‹\n        System.out.println(annotation instanceof Test);   &#x2F;&#x2F;ç›´æ¥åˆ¤æ–­æ˜¯å¦ä¸ºTest\n        Test test &#x3D; (Test) annotation;\n        System.out.println(test.value());   &#x2F;&#x2F;è·å–æˆ‘ä»¬åœ¨æ³¨è§£ä¸­å†™å…¥çš„å†…å®¹\n    &#125;\n&#125;\n\né€šè¿‡åå°„æœºåˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿè·å–åˆ°æˆ‘ä»¬æ ‡è®°çš„æ³¨è§£ï¼ŒåŒæ—¶è¿˜èƒ½è·å–åˆ°æ³¨è§£ä¸­å¡«å…¥çš„å€¼ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥çœ‹çœ‹ï¼Œæ–¹æ³•ä¸Šçš„æ ‡è®°æ˜¯ä¸æ˜¯ä¹Ÿå¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼è·å–æ³¨è§£ï¼š\npublic static void main(String[] args) throws NoSuchMethodException &#123;\n    Class&lt;Student&gt; clazz &#x3D; Student.class;\n    for (Annotation annotation : clazz.getMethod(&quot;test&quot;).getAnnotations()) &#123;\n        System.out.println(annotation.annotationType());   &#x2F;&#x2F;è·å–ç±»å‹\n        System.out.println(annotation instanceof Test);   &#x2F;&#x2F;ç›´æ¥åˆ¤æ–­æ˜¯å¦ä¸ºTest\n        Test test &#x3D; (Test) annotation;\n        System.out.println(test.value());   &#x2F;&#x2F;è·å–æˆ‘ä»¬åœ¨æ³¨è§£ä¸­å†™å…¥çš„å†…å®¹\n    &#125;\n&#125;\n\næ— è®ºæ˜¯æ–¹æ³•ã€ç±»ã€è¿˜æ˜¯å­—æ®µï¼Œéƒ½å¯ä»¥ä½¿ç”¨getAnnotations()æ–¹æ³•ï¼ˆè¿˜æœ‰å‡ ä¸ªåŒåçš„ï¼‰æ¥å¿«é€Ÿè·å–æˆ‘ä»¬æ ‡è®°çš„æ³¨è§£ã€‚\næ‰€ä»¥è¯´å‘¢ï¼Œè¿™ç©æ„å­¦æ¥æœ‰å•¥ç”¨ï¼Ÿä¸æ¯«getä¸åˆ°è¿™ç©æ„çš„ç”¨å¤„ã€‚å…¶å®ä¸æ˜¯ï¼Œç°é˜¶æ®µä½ ä»¬è¿˜ä½“ä¼šä¸åˆ°æ³¨è§£å¸¦æ¥çš„å¿«ä¹ï¼Œåœ¨æ¥è§¦åˆ°Springå’ŒSpringBootç­‰å¤§å‹æ¡†æ¶åï¼Œå°±èƒ½æ„Ÿå—åˆ°æ³¨è§£å¸¦æ¥çš„é­…åŠ›äº†ã€‚\n","slug":"JavaSEç¬”è®°ï¼ˆä¸ƒï¼‰","date":"2022-03-09T03:42:26.687Z","categories_index":"JavaSEç¬”è®°","tags_index":"JavaSEç¬”è®°","author_index":"YangChao"},{"id":"546513fbd12f522410dcfae3c5802bbd","title":"JavaSEç¬”è®°ï¼ˆå…­ï¼‰","content":"Javaå¤šçº¿ç¨‹æ³¨æ„ï¼šæœ¬ç« èŠ‚ä¼šæ¶‰åŠåˆ° æ“ä½œç³»ç»Ÿ ç›¸å…³çŸ¥è¯†ã€‚\nåœ¨äº†è§£å¤šçº¿ç¨‹ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹æ“ä½œç³»ç»Ÿä¸­æåˆ°çš„è¿›ç¨‹æ¦‚å¿µï¼š\n\nè¿›ç¨‹æ˜¯ç¨‹åºæ‰§è¡Œçš„å®ä½“ï¼Œæ¯ä¸€ä¸ªè¿›ç¨‹éƒ½æ˜¯ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼ˆæ¯”å¦‚æˆ‘ä»¬è¿è¡ŒQQã€æµè§ˆå™¨ã€LOLã€ç½‘æ˜“äº‘éŸ³ä¹ç­‰è½¯ä»¶ï¼‰ï¼Œéƒ½æœ‰è‡ªå·±çš„å†…å­˜ç©ºé—´ï¼ŒCPUä¸€ä¸ªæ ¸å¿ƒåŒæ—¶åªèƒ½å¤„ç†ä¸€ä»¶äº‹æƒ…ï¼Œå½“å‡ºç°å¤šä¸ªè¿›ç¨‹éœ€è¦åŒæ—¶è¿è¡Œæ—¶ï¼ŒCPUä¸€èˆ¬é€šè¿‡æ—¶é—´ç‰‡è½®è½¬è°ƒåº¦ç®—æ³•ï¼Œæ¥å®ç°å¤šä¸ªè¿›ç¨‹çš„åŒæ—¶è¿è¡Œã€‚\n\nåœ¨æ—©æœŸçš„è®¡ç®—æœºä¸­ï¼Œè¿›ç¨‹æ˜¯æ‹¥æœ‰èµ„æºå’Œç‹¬ç«‹è¿è¡Œçš„æœ€å°å•ä½ï¼Œä¹Ÿæ˜¯ç¨‹åºæ‰§è¡Œçš„æœ€å°å•ä½ã€‚ä½†æ˜¯ï¼Œå¦‚æœæˆ‘å¸Œæœ›ä¸¤ä¸ªä»»åŠ¡åŒæ—¶è¿›è¡Œï¼Œå°±å¿…é¡»è¿è¡Œä¸¤ä¸ªè¿›ç¨‹ï¼Œç”±äºæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„å†…å­˜ç©ºé—´ï¼Œè¿›ç¨‹ä¹‹é—´çš„é€šä¿¡å°±å˜å¾—éå¸¸éº»çƒ¦ï¼ˆæ¯”å¦‚è¦å…±äº«æŸäº›æ•°æ®ï¼‰è€Œä¸”æ‰§è¡Œä¸åŒè¿›ç¨‹ä¼šäº§ç”Ÿä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œéå¸¸è€—æ—¶ï¼Œé‚£ä¹ˆèƒ½å¦å®ç°åœ¨ä¸€ä¸ªè¿›ç¨‹ä¸­å°±èƒ½å¤Ÿæ‰§è¡Œå¤šä¸ªä»»åŠ¡å‘¢ï¼Ÿ\n\nåæ¥ï¼Œçº¿ç¨‹æ¨ªç©ºå‡ºä¸–ï¼Œä¸€ä¸ªè¿›ç¨‹å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹ï¼Œçº¿ç¨‹æ˜¯ç¨‹åºæ‰§è¡Œä¸­ä¸€ä¸ªå•ä¸€çš„é¡ºåºæ§åˆ¶æµç¨‹ï¼Œç°åœ¨çº¿ç¨‹æ‰æ˜¯ç¨‹åºæ‰§è¡Œæµçš„æœ€å°å•å…ƒï¼Œå„ä¸ªçº¿ç¨‹ä¹‹é—´å…±äº«ç¨‹åºçš„å†…å­˜ç©ºé—´ï¼ˆä¹Ÿå°±æ˜¯æ‰€åœ¨è¿›ç¨‹çš„å†…å­˜ç©ºé—´ï¼‰ï¼Œä¸Šä¸‹æ–‡åˆ‡æ¢é€Ÿåº¦ä¹Ÿé«˜äºè¿›ç¨‹ã€‚\nåœ¨Javaä¸­ï¼Œæˆ‘ä»¬ä»å¼€å§‹ï¼Œä¸€ç›´ä»¥æ¥ç¼–å†™çš„éƒ½æ˜¯å•çº¿ç¨‹åº”ç”¨ç¨‹åºï¼ˆè¿è¡Œmain()æ–¹æ³•çš„å†…å®¹ï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´åªèƒ½åŒæ—¶æ‰§è¡Œä¸€ä¸ªä»»åŠ¡ï¼ˆæ— è®ºä½ æ˜¯è°ƒç”¨æ–¹æ³•ã€è¿˜æ˜¯è¿›è¡Œè®¡ç®—ï¼Œå§‹ç»ˆéƒ½æ˜¯ä¾æ¬¡è¿›è¡Œçš„ï¼Œä¹Ÿå°±æ˜¯åŒæ­¥çš„ï¼‰ï¼Œè€Œå¦‚æœæˆ‘ä»¬å¸Œæœ›åŒæ—¶æ‰§è¡Œå¤šä¸ªä»»åŠ¡ï¼ˆä¸¤ä¸ªæ–¹æ³•åŒæ—¶åœ¨è¿è¡Œæˆ–è€…æ˜¯ä¸¤ä¸ªè®¡ç®—åŒæ—¶åœ¨è¿›è¡Œï¼Œä¹Ÿå°±æ˜¯å¼‚æ­¥çš„ï¼‰ï¼Œå°±éœ€è¦ç”¨åˆ°Javaå¤šçº¿ç¨‹æ¡†æ¶ã€‚å®é™…ä¸Šä¸€ä¸ªJavaç¨‹åºå¯åŠ¨åï¼Œä¼šåˆ›å»ºå¾ˆå¤šçº¿ç¨‹ï¼Œä¸ä»…ä»…åªè¿è¡Œä¸€ä¸ªä¸»çº¿ç¨‹ï¼š\npublic static void main(String[] args) &#123;\n    ThreadMXBean bean &#x3D; ManagementFactory.getThreadMXBean();\n    long[] ids &#x3D; bean.getAllThreadIds();\n    ThreadInfo[] infos &#x3D; bean.getThreadInfo(ids);\n    for (ThreadInfo info : infos) &#123;\n        System.out.println(info.getThreadName());\n    &#125;\n&#125;\n\nå…³äºé™¤äº†mainçº¿ç¨‹é»˜è®¤ä»¥å¤–çš„çº¿ç¨‹ï¼Œæ¶‰åŠåˆ°JVMç›¸å…³åº•å±‚åŸç†ï¼Œåœ¨è¿™é‡Œä¸åšè®²è§£ï¼Œäº†è§£å°±è¡Œã€‚\n\nçº¿ç¨‹çš„åˆ›å»ºå’Œå¯åŠ¨é€šè¿‡åˆ›å»ºThreadå¯¹è±¡æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹ï¼ŒThreadæ„é€ æ–¹æ³•ä¸­éœ€è¦ä¼ å…¥ä¸€ä¸ªRunnableæ¥å£çš„å®ç°ï¼ˆå…¶å®å°±æ˜¯ç¼–å†™è¦åœ¨å¦ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œçš„å†…å®¹é€»è¾‘ï¼‰åŒæ—¶Runnableåªæœ‰ä¸€ä¸ªæœªå®ç°æ–¹æ³•ï¼Œå› æ­¤å¯ä»¥ç›´æ¥ä½¿ç”¨lambdaè¡¨è¾¾å¼ï¼š\n@FunctionalInterface\npublic interface Runnable &#123;\n    &#x2F;**\n     * When an object implementing interface &lt;code&gt;Runnable&lt;&#x2F;code&gt; is used\n     * to create a thread, starting the thread causes the object&#39;s\n     * &lt;code&gt;run&lt;&#x2F;code&gt; method to be called in that separately executing\n     * thread.\n     * &lt;p&gt;\n     * The general contract of the method &lt;code&gt;run&lt;&#x2F;code&gt; is that it may\n     * take any action whatsoever.\n     *\n     * @see     java.lang.Thread#run()\n     *&#x2F;\n    public abstract void run();\n&#125;\n\nåˆ›å»ºå¥½åï¼Œé€šè¿‡è°ƒç”¨start()æ–¹æ³•æ¥è¿è¡Œæ­¤çº¿ç¨‹ï¼š\npublic static void main(String[] args) &#123;\n    Thread t &#x3D; new Thread(() -&gt; &#123;    &#x2F;&#x2F;ç›´æ¥ç¼–å†™é€»è¾‘\n        System.out.println(&quot;æˆ‘æ˜¯å¦ä¸€ä¸ªçº¿ç¨‹ï¼&quot;);\n    &#125;);\n    t.start();   &#x2F;&#x2F;è°ƒç”¨æ­¤æ–¹æ³•æ¥å¼€å§‹æ‰§è¡Œæ­¤çº¿ç¨‹\n&#125;\n\nå¯èƒ½ä¸Šé¢çš„ä¾‹å­çœ‹èµ·æ¥å’Œæ™®é€šçš„å•çº¿ç¨‹æ²¡ä¸¤æ ·ï¼Œé‚£æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ä¸‹é¢è¿™æ®µä»£ç çš„è¿è¡Œç»“æœï¼š\npublic static void main(String[] args) &#123;\n    Thread t &#x3D; new Thread(() -&gt; &#123;\n        System.out.println(&quot;æˆ‘æ˜¯çº¿ç¨‹ï¼š&quot;+Thread.currentThread().getName());\n        System.out.println(&quot;æˆ‘æ­£åœ¨è®¡ç®— 0-10000 ä¹‹é—´æ‰€æœ‰æ•°çš„å’Œ...&quot;);\n        int sum &#x3D; 0;\n        for (int i &#x3D; 0; i &lt;&#x3D; 10000; i++) &#123;\n            sum +&#x3D; i;\n        &#125;\n        System.out.println(&quot;ç»“æœï¼š&quot;+sum);\n    &#125;);\n    t.start();\n    System.out.println(&quot;æˆ‘æ˜¯ä¸»çº¿ç¨‹ï¼&quot;);\n&#125;\n\næˆ‘ä»¬å‘ç°ï¼Œè¿™æ®µä»£ç æ‰§è¡Œè¾“å‡ºç»“æœå¹¶ä¸æ˜¯æŒ‰ç…§ä»ä¸Šå¾€ä¸‹çš„é¡ºåºäº†ï¼Œå› ä¸ºä»–ä»¬åˆ†åˆ«ä½äºä¸¤ä¸ªçº¿ç¨‹ï¼Œä»–ä»¬æ˜¯åŒæ—¶è¿›è¡Œçš„ï¼å¦‚æœä½ è¿˜æ˜¯è§‰å¾—å¾ˆç–‘æƒ‘ï¼Œæˆ‘ä»¬æ¥ç€æ¥çœ‹ä¸‹é¢çš„ä»£ç è¿è¡Œç»“æœï¼š\npublic static void main(String[] args) &#123;\n    Thread t1 &#x3D; new Thread(() -&gt; &#123;\n        for (int i &#x3D; 0; i &lt; 50; i++) &#123;\n            System.out.println(&quot;æˆ‘æ˜¯ä¸€å·çº¿ç¨‹ï¼š&quot;+i);\n        &#125;\n    &#125;);\n    Thread t2 &#x3D; new Thread(() -&gt; &#123;\n        for (int i &#x3D; 0; i &lt; 50; i++) &#123;\n            System.out.println(&quot;æˆ‘æ˜¯äºŒå·çº¿ç¨‹ï¼š&quot;+i);\n        &#125;\n    &#125;);\n    t1.start();\n    t2.start();\n&#125;\n\næˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ‰“å°å®é™…ä¸Šæ˜¯åœ¨äº¤æ›¿è¿›è¡Œçš„ï¼Œä¹Ÿè¯æ˜äº†ä»–ä»¬æ˜¯åœ¨åŒæ—¶è¿è¡Œï¼\næ³¨æ„ï¼šæˆ‘ä»¬å‘ç°è¿˜æœ‰ä¸€ä¸ªrunæ–¹æ³•ï¼Œä¹Ÿèƒ½æ‰§è¡Œçº¿ç¨‹é‡Œé¢å®šä¹‰çš„å†…å®¹ï¼Œä½†æ˜¯runæ˜¯ç›´æ¥åœ¨å½“å‰çº¿ç¨‹æ‰§è¡Œï¼Œå¹¶ä¸æ˜¯åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œï¼\n\nå®é™…ä¸Šï¼Œçº¿ç¨‹å’Œè¿›ç¨‹å·®ä¸å¤šï¼Œä¹Ÿä¼šç­‰å¾…è·å–CPUèµ„æºï¼Œä¸€æ—¦è·å–åˆ°ï¼Œå°±å¼€å§‹æŒ‰é¡ºåºæ‰§è¡Œæˆ‘ä»¬ç»™å®šçš„ç¨‹åºï¼Œå½“éœ€è¦ç­‰å¾…å¤–éƒ¨IOæ“ä½œï¼ˆæ¯”å¦‚Scannerè·å–è¾“å…¥çš„æ–‡æœ¬ï¼‰ï¼Œå°±ä¼šæš‚æ—¶å¤„äºä¼‘çœ çŠ¶æ€ï¼Œç­‰å¾…é€šçŸ¥ï¼Œæˆ–æ˜¯è°ƒç”¨sleep()æ–¹æ³•æ¥è®©å½“å‰çº¿ç¨‹ä¼‘çœ ä¸€æ®µæ—¶é—´ï¼š\npublic static void main(String[] args) throws InterruptedException &#123;\n    System.out.println(&quot;l&quot;);\n    Thread.sleep(1000);    &#x2F;&#x2F;ä¼‘çœ æ—¶é—´ï¼Œä»¥æ¯«ç§’ä¸ºå•ä½ï¼Œ1000ms &#x3D; 1s\n    System.out.println(&quot;b&quot;);\n    Thread.sleep(1000);\n    System.out.println(&quot;w&quot;);\n    Thread.sleep(1000);\n    System.out.println(&quot;nb!&quot;);\n&#125;\n\næˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨stop()æ–¹æ³•æ¥å¼ºè¡Œç»ˆæ­¢æ­¤çº¿ç¨‹ï¼š\npublic static void main(String[] args) throws InterruptedException &#123;\n    Thread t &#x3D; new Thread(() -&gt; &#123;\n        Thread me &#x3D; Thread.currentThread();   &#x2F;&#x2F;è·å–å½“å‰çº¿ç¨‹å¯¹è±¡\n        for (int i &#x3D; 0; i &lt; 50; i++) &#123;\n            System.out.println(&quot;æ‰“å°:&quot;+i);\n            if(i &#x3D;&#x3D; 20) me.stop();  &#x2F;&#x2F;æ­¤æ–¹æ³•ä¼šç›´æ¥ç»ˆæ­¢æ­¤çº¿ç¨‹\n        &#125;\n    &#125;);\n    t.start();\n&#125;\n\nè™½ç„¶stop()æ–¹æ³•èƒ½å¤Ÿç»ˆæ­¢æ­¤çº¿ç¨‹ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯æ‰€æ¨èçš„åšæ³•ï¼Œæœ‰å…³çº¿ç¨‹ä¸­æ–­ç›¸å…³é—®é¢˜ï¼Œæˆ‘ä»¬ä¼šåœ¨åé¢ç»§ç»­äº†è§£ã€‚\næ€è€ƒï¼šçŒœçŒœä»¥ä¸‹ç¨‹åºè¾“å‡ºç»“æœï¼š\nprivate static int value &#x3D; 0;\n\npublic static void main(String[] args) throws InterruptedException &#123;\n    Thread t1 &#x3D; new Thread(() -&gt; &#123;\n        for (int i &#x3D; 0; i &lt; 10000; i++) value++;\n        System.out.println(&quot;çº¿ç¨‹1å®Œæˆ&quot;);\n    &#125;);\n    Thread t2 &#x3D; new Thread(() -&gt; &#123;\n        for (int i &#x3D; 0; i &lt; 10000; i++) value++;\n        System.out.println(&quot;çº¿ç¨‹2å®Œæˆ&quot;);\n    &#125;);\n    t1.start();\n    t2.start();\n    Thread.sleep(1000);  &#x2F;&#x2F;ä¸»çº¿ç¨‹åœæ­¢1ç§’ï¼Œä¿è¯ä¸¤ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œæˆ\n    System.out.println(value);\n&#125;\n\næˆ‘ä»¬å‘ç°ï¼Œvalueæœ€åçš„å€¼å¹¶ä¸æ˜¯æˆ‘ä»¬ç†æƒ³çš„ç»“æœï¼Œæœ‰å…³ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§é—®é¢˜ï¼Œåœ¨æˆ‘ä»¬å­¦ä¹ åˆ°çº¿ç¨‹é”çš„æ—¶å€™ï¼Œå†æ¥æ¢è®¨ã€‚\n\nçº¿ç¨‹çš„ä¼‘çœ å’Œä¸­æ–­æˆ‘ä»¬å‰é¢æåˆ°ï¼Œä¸€ä¸ªçº¿ç¨‹å¤„äºè¿è¡ŒçŠ¶æ€ä¸‹ï¼Œçº¿ç¨‹çš„ä¸‹ä¸€ä¸ªçŠ¶æ€ä¼šå‡ºç°ä»¥ä¸‹æƒ…å†µï¼š\n\nå½“CPUç»™äºˆçš„è¿è¡Œæ—¶é—´ç»“æŸæ—¶ï¼Œä¼šä»è¿è¡ŒçŠ¶æ€å›åˆ°å°±ç»ªï¼ˆå¯è¿è¡Œï¼‰çŠ¶æ€ï¼Œç­‰å¾…ä¸‹ä¸€æ¬¡è·å¾—CPUèµ„æºã€‚\nå½“çº¿ç¨‹è¿›å…¥ä¼‘çœ  &#x2F; é˜»å¡(å¦‚ç­‰å¾…IOè¯·æ±‚) &#x2F; æ‰‹åŠ¨è°ƒç”¨wait()æ–¹æ³•æ—¶ï¼Œä¼šä½¿å¾—çº¿ç¨‹å¤„äºç­‰å¾…çŠ¶æ€ï¼Œå½“ç­‰å¾…çŠ¶æ€ç»“æŸåä¼šå›åˆ°å°±ç»ªçŠ¶æ€ã€‚\nå½“çº¿ç¨‹å‡ºç°å¼‚å¸¸æˆ–é”™è¯¯ &#x2F; è¢«stop() æ–¹æ³•å¼ºè¡Œåœæ­¢ &#x2F; æ‰€æœ‰ä»£ç æ‰§è¡Œç»“æŸæ—¶ï¼Œä¼šä½¿å¾—çº¿ç¨‹çš„è¿è¡Œç»ˆæ­¢ã€‚\n\nè€Œè¿™ä¸ªéƒ¨åˆ†æˆ‘ä»¬ç€é‡äº†è§£ä¸€ä¸‹çº¿ç¨‹çš„ä¼‘çœ å’Œä¸­æ–­ï¼Œé¦–å…ˆæˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹å¦‚ä½•ä½¿å¾—çº¿ç¨‹è¿›å¦‚ä¼‘çœ çŠ¶æ€ï¼š\npublic static void main(String[] args) &#123;\n    Thread t &#x3D; new Thread(() -&gt; &#123;\n        try &#123;\n            System.out.println(&quot;l&quot;);\n            Thread.sleep(1000);   &#x2F;&#x2F;sleepæ–¹æ³•æ˜¯Threadçš„é™æ€æ–¹æ³•ï¼Œå®ƒåªä½œç”¨äºå½“å‰çº¿ç¨‹ï¼ˆå®ƒçŸ¥é“å½“å‰çº¿ç¨‹æ˜¯å“ªä¸ªï¼‰\n            System.out.println(&quot;b&quot;);    &#x2F;&#x2F;è°ƒç”¨sleepåï¼Œçº¿ç¨‹ä¼šç›´æ¥è¿›å…¥åˆ°ç­‰å¾…çŠ¶æ€ï¼Œç›´åˆ°æ—¶é—´ç»“æŸ\n        &#125; catch (InterruptedException e) &#123;\n            e.printStackTrace();\n        &#125;\n    &#125;);\n    t.start();\n&#125;\n\né€šè¿‡è°ƒç”¨sleep()æ–¹æ³•æ¥å°†å½“å‰çº¿ç¨‹è¿›å…¥ä¼‘çœ ï¼Œä½¿å¾—çº¿ç¨‹å¤„äºç­‰å¾…çŠ¶æ€ä¸€æ®µæ—¶é—´ã€‚æˆ‘ä»¬å‘ç°ï¼Œæ­¤æ–¹æ³•æ˜¾ç¤ºå£°æ˜äº†ä¼šæŠ›å‡ºä¸€ä¸ªInterruptedExceptionå¼‚å¸¸ï¼Œé‚£ä¹ˆè¿™ä¸ªå¼‚å¸¸åœ¨ä»€ä¹ˆæ—¶å€™ä¼šå‘ç”Ÿå‘¢ï¼Ÿ\npublic static void main(String[] args) &#123;\n    Thread t &#x3D; new Thread(() -&gt; &#123;\n        try &#123;\n            Thread.sleep(10000);  &#x2F;&#x2F;ä¼‘çœ 10ç§’\n        &#125; catch (InterruptedException e) &#123;\n            e.printStackTrace();\n        &#125;\n    &#125;);\n    t.start();\n    try &#123;\n        Thread.sleep(3000);   &#x2F;&#x2F;ä¼‘çœ 3ç§’ï¼Œä¸€å®šæ¯”çº¿ç¨‹tå…ˆé†’æ¥\n        t.interrupt();   &#x2F;&#x2F;è°ƒç”¨tçš„interruptæ–¹æ³•\n    &#125; catch (InterruptedException e) &#123;\n        e.printStackTrace();\n    &#125;\n&#125;\n\næˆ‘ä»¬å‘ç°ï¼Œæ¯ä¸€ä¸ªThreadå¯¹è±¡ä¸­ï¼Œéƒ½æœ‰ä¸€ä¸ªinterrupt()æ–¹æ³•ï¼Œè°ƒç”¨æ­¤æ–¹æ³•åï¼Œä¼šç»™æŒ‡å®šçº¿ç¨‹æ·»åŠ ä¸€ä¸ªä¸­æ–­æ ‡è®°ä»¥å‘ŠçŸ¥çº¿ç¨‹éœ€è¦ç«‹å³åœæ­¢è¿è¡Œæˆ–æ˜¯è¿›è¡Œå…¶ä»–æ“ä½œï¼Œç”±çº¿ç¨‹æ¥å“åº”æ­¤ä¸­æ–­å¹¶è¿›è¡Œç›¸åº”çš„å¤„ç†ï¼Œæˆ‘ä»¬å‰é¢æåˆ°çš„stop()æ–¹æ³•æ˜¯å¼ºåˆ¶ç»ˆæ­¢çº¿ç¨‹ï¼Œè¿™æ ·çš„åšæ³•è™½ç„¶ç®€å•ç²—æš´ï¼Œä½†æ˜¯å¾ˆæœ‰å¯èƒ½å¯¼è‡´èµ„æºä¸èƒ½å®Œå…¨é‡Šæ”¾ï¼Œè€Œç±»ä¼¼è¿™æ ·çš„å‘é€é€šçŸ¥æ¥å‘ŠçŸ¥çº¿ç¨‹éœ€è¦ä¸­æ–­ï¼Œè®©çº¿ç¨‹è‡ªè¡Œå¤„ç†åç»­ï¼Œä¼šæ›´åŠ åˆç†ä¸€äº›ï¼Œä¹Ÿæ˜¯æ›´åŠ æ¨èçš„åšæ³•ã€‚æˆ‘ä»¬æ¥çœ‹çœ‹interruptçš„ç”¨æ³•ï¼š\npublic static void main(String[] args) &#123;\n    Thread t &#x3D; new Thread(() -&gt; &#123;\n        System.out.println(&quot;çº¿ç¨‹å¼€å§‹è¿è¡Œï¼&quot;);\n        while (true)&#123;   &#x2F;&#x2F;æ— é™å¾ªç¯\n            if(Thread.currentThread().isInterrupted())&#123;   &#x2F;&#x2F;åˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸­æ–­æ ‡å¿—\n                break;   &#x2F;&#x2F;å“åº”ä¸­æ–­\n            &#125;\n        &#125;\n        System.out.println(&quot;çº¿ç¨‹è¢«ä¸­æ–­äº†ï¼&quot;);\n    &#125;);\n    t.start();\n    try &#123;\n        Thread.sleep(3000);   &#x2F;&#x2F;ä¼‘çœ 3ç§’ï¼Œä¸€å®šæ¯”çº¿ç¨‹tå…ˆé†’æ¥\n        t.interrupt();   &#x2F;&#x2F;è°ƒç”¨tçš„interruptæ–¹æ³•\n    &#125; catch (InterruptedException e) &#123;\n        e.printStackTrace();\n    &#125;\n&#125;\n\né€šè¿‡isInterrupted()å¯ä»¥åˆ¤æ–­çº¿ç¨‹æ˜¯å¦å­˜åœ¨ä¸­æ–­æ ‡å¿—ï¼Œå¦‚æœå­˜åœ¨ï¼Œè¯´æ˜å¤–éƒ¨å¸Œæœ›å½“å‰çº¿ç¨‹ç«‹å³åœæ­¢ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯ç»™å½“å‰çº¿ç¨‹å‘é€ä¸€ä¸ªå…¶ä»–çš„ä¿¡å·ï¼Œå¦‚æœæˆ‘ä»¬å¹¶ä¸æ˜¯å¸Œæœ›æ”¶åˆ°ä¸­æ–­ä¿¡å·å°±æ˜¯ç»“æŸç¨‹åºï¼Œè€Œæ˜¯é€šçŸ¥ç¨‹åºåšå…¶ä»–äº‹æƒ…ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ”¶åˆ°ä¸­æ–­ä¿¡å·åï¼Œå¤ä½ä¸­æ–­æ ‡è®°ï¼Œç„¶åç»§ç»­åšæˆ‘ä»¬çš„äº‹æƒ…ï¼š\npublic static void main(String[] args) &#123;\n    Thread t &#x3D; new Thread(() -&gt; &#123;\n        System.out.println(&quot;çº¿ç¨‹å¼€å§‹è¿è¡Œï¼&quot;);\n        while (true)&#123;\n            if(Thread.currentThread().isInterrupted())&#123;   &#x2F;&#x2F;åˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸­æ–­æ ‡å¿—\n                System.out.println(&quot;å‘ç°ä¸­æ–­ä¿¡å·ï¼Œå¤ä½ï¼Œç»§ç»­è¿è¡Œ...&quot;);\n                Thread.interrupted();  &#x2F;&#x2F;å¤ä½ä¸­æ–­æ ‡è®°ï¼ˆè¿”å›å€¼æ˜¯å½“å‰æ˜¯å¦æœ‰ä¸­æ–­æ ‡è®°ï¼Œè¿™é‡Œä¸ç”¨ç®¡ï¼‰\n            &#125;\n        &#125;\n    &#125;);\n    t.start();\n    try &#123;\n        Thread.sleep(3000);   &#x2F;&#x2F;ä¼‘çœ 3ç§’ï¼Œä¸€å®šæ¯”çº¿ç¨‹tå…ˆé†’æ¥\n        t.interrupt();   &#x2F;&#x2F;è°ƒç”¨tçš„interruptæ–¹æ³•\n    &#125; catch (InterruptedException e) &#123;\n        e.printStackTrace();\n    &#125;\n&#125;\n\nå¤ä½ä¸­æ–­æ ‡è®°åï¼Œä¼šç«‹å³æ¸…é™¤ä¸­æ–­æ ‡è®°ã€‚é‚£ä¹ˆï¼Œå¦‚æœç°åœ¨æˆ‘ä»¬æƒ³æš‚åœçº¿ç¨‹å‘¢ï¼Ÿæˆ‘ä»¬å¸Œæœ›çº¿ç¨‹æš‚æ—¶åœä¸‹ï¼Œæ¯”å¦‚ç­‰å¾…å…¶ä»–çº¿ç¨‹æ‰§è¡Œå®Œæˆåï¼Œå†ç»§ç»­è¿è¡Œï¼Œé‚£è¿™æ ·çš„æ“ä½œæ€ä¹ˆå®ç°å‘¢ï¼Ÿ\npublic static void main(String[] args) &#123;\n    Thread t &#x3D; new Thread(() -&gt; &#123;\n        System.out.println(&quot;çº¿ç¨‹å¼€å§‹è¿è¡Œï¼&quot;);\n        Thread.currentThread().suspend();   &#x2F;&#x2F;æš‚åœæ­¤çº¿ç¨‹\n        System.out.println(&quot;çº¿ç¨‹ç»§ç»­è¿è¡Œï¼&quot;);\n    &#125;);\n    t.start();\n    try &#123;\n        Thread.sleep(3000);   &#x2F;&#x2F;ä¼‘çœ 3ç§’ï¼Œä¸€å®šæ¯”çº¿ç¨‹tå…ˆé†’æ¥\n        t.resume();   &#x2F;&#x2F;æ¢å¤æ­¤çº¿ç¨‹\n    &#125; catch (InterruptedException e) &#123;\n        e.printStackTrace();\n    &#125;\n&#125;\n\nè™½ç„¶è¿™æ ·å¾ˆæ–¹ä¾¿åœ°æ§åˆ¶äº†çº¿ç¨‹çš„æš‚åœçŠ¶æ€ï¼Œä½†æ˜¯è¿™ä¸¤ä¸ªæ–¹æ³•æˆ‘ä»¬å‘ç°å®é™…ä¸Šä¹Ÿæ˜¯ä¸æ¨èçš„åšæ³•ï¼Œå®ƒå¾ˆå®¹æ˜“å¯¼è‡´æ­»é”ï¼æœ‰å…³ä¸ºä»€ä¹ˆè¢«å¼ƒç”¨çš„åŸå› ï¼Œæˆ‘ä»¬ä¼šåœ¨çº¿ç¨‹é”ç»§ç»­æ¢è®¨ã€‚\n\nçº¿ç¨‹çš„ä¼˜å…ˆçº§å®é™…ä¸Šï¼ŒJavaç¨‹åºä¸­çš„æ¯ä¸ªçº¿ç¨‹å¹¶ä¸æ˜¯å¹³å‡åˆ†é…CPUæ—¶é—´çš„ï¼Œä¸ºäº†ä½¿å¾—çº¿ç¨‹èµ„æºåˆ†é…æ›´åŠ åˆç†ï¼ŒJavaé‡‡ç”¨çš„æ˜¯æŠ¢å å¼è°ƒåº¦æ–¹å¼ï¼Œä¼˜å…ˆçº§è¶Šé«˜çš„çº¿ç¨‹ï¼Œä¼˜å…ˆä½¿ç”¨CPUèµ„æºï¼æˆ‘ä»¬å¸Œæœ›CPUèŠ±è´¹æ›´å¤šçš„æ—¶é—´å»å¤„ç†æ›´é‡è¦çš„ä»»åŠ¡ï¼Œè€Œä¸å¤ªé‡è¦çš„ä»»åŠ¡ï¼Œåˆ™å¯ä»¥å…ˆè®©å‡ºä¸€éƒ¨åˆ†èµ„æºã€‚çº¿ç¨‹çš„ä¼˜å…ˆçº§ä¸€èˆ¬åˆ†ä¸ºä»¥ä¸‹ä¸‰ç§ï¼š\n\nMIN_PRIORITY   æœ€ä½ä¼˜å…ˆçº§\nMAX_PRIORITY   æœ€é«˜ä¼˜å…ˆçº§\nNOM_PRIORITY  å¸¸è§„ä¼˜å…ˆçº§\n\npublic static void main(String[] args) &#123;\n    Thread t &#x3D; new Thread(() -&gt; &#123;\n        System.out.println(&quot;çº¿ç¨‹å¼€å§‹è¿è¡Œï¼&quot;);\n    &#125;);\n    t.start();\n    t.setPriority(Thread.MIN_PRIORITY);  &#x2F;&#x2F;é€šè¿‡ä½¿ç”¨setPriorityæ–¹æ³•æ¥è®¾å®šä¼˜å…ˆçº§\n&#125;\n\nä¼˜å…ˆçº§è¶Šé«˜çš„çº¿ç¨‹ï¼Œè·å¾—CPUèµ„æºçš„æ¦‚ç‡ä¼šè¶Šå¤§ï¼Œå¹¶ä¸æ˜¯è¯´ä¸€å®šä¼˜å…ˆçº§è¶Šé«˜çš„çº¿ç¨‹è¶Šå…ˆæ‰§è¡Œï¼\nçº¿ç¨‹çš„ç¤¼è®©å’ŒåŠ å…¥æˆ‘ä»¬è¿˜å¯ä»¥åœ¨å½“å‰çº¿ç¨‹çš„å·¥ä½œä¸é‡è¦æ—¶ï¼Œå°†CPUèµ„æºè®©ä½ç»™å…¶ä»–çº¿ç¨‹ï¼Œé€šè¿‡ä½¿ç”¨yield()æ–¹æ³•æ¥å°†å½“å‰èµ„æºè®©ä½ç»™å…¶ä»–åŒä¼˜å…ˆçº§çº¿ç¨‹ï¼š\npublic static void main(String[] args) &#123;\n    Thread t1 &#x3D; new Thread(() -&gt; &#123;\n        System.out.println(&quot;çº¿ç¨‹1å¼€å§‹è¿è¡Œï¼&quot;);\n        for (int i &#x3D; 0; i &lt; 50; i++) &#123;\n            if(i % 5 &#x3D;&#x3D; 0) &#123;\n                System.out.println(&quot;è®©ä½ï¼&quot;);\n                Thread.yield();\n            &#125;\n            System.out.println(&quot;1æ‰“å°ï¼š&quot;+i);\n        &#125;\n        System.out.println(&quot;çº¿ç¨‹1ç»“æŸï¼&quot;);\n    &#125;);\n    Thread t2 &#x3D; new Thread(() -&gt; &#123;\n        System.out.println(&quot;çº¿ç¨‹2å¼€å§‹è¿è¡Œï¼&quot;);\n        for (int i &#x3D; 0; i &lt; 50; i++) &#123;\n            System.out.println(&quot;2æ‰“å°ï¼š&quot;+i);\n        &#125;\n    &#125;);\n    t1.start();\n    t2.start();\n&#125;\n\nè§‚å¯Ÿç»“æœï¼Œæˆ‘ä»¬å‘ç°ï¼Œåœ¨è®©ä½ä¹‹åï¼Œå°½å¯èƒ½å¤šçš„åœ¨æ‰§è¡Œçº¿ç¨‹2çš„å†…å®¹ã€‚\nå½“æˆ‘ä»¬å¸Œæœ›ä¸€ä¸ªçº¿ç¨‹ç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œæˆåå†ç»§ç»­è¿›è¡Œï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨join()æ–¹æ³•æ¥å®ç°çº¿ç¨‹çš„åŠ å…¥ï¼š\npublic static void main(String[] args) &#123;\n    Thread t1 &#x3D; new Thread(() -&gt; &#123;\n        System.out.println(&quot;çº¿ç¨‹1å¼€å§‹è¿è¡Œï¼&quot;);\n        for (int i &#x3D; 0; i &lt; 50; i++) &#123;\n            System.out.println(&quot;1æ‰“å°ï¼š&quot;+i);\n        &#125;\n        System.out.println(&quot;çº¿ç¨‹1ç»“æŸï¼&quot;);\n    &#125;);\n    Thread t2 &#x3D; new Thread(() -&gt; &#123;\n        System.out.println(&quot;çº¿ç¨‹2å¼€å§‹è¿è¡Œï¼&quot;);\n        for (int i &#x3D; 0; i &lt; 50; i++) &#123;\n            System.out.println(&quot;2æ‰“å°ï¼š&quot;+i);\n            if(i &#x3D;&#x3D; 10)&#123;\n                try &#123;\n                    System.out.println(&quot;çº¿ç¨‹1åŠ å…¥åˆ°æ­¤çº¿ç¨‹ï¼&quot;);\n                    t1.join();    &#x2F;&#x2F;åœ¨i&#x3D;&#x3D;10æ—¶ï¼Œè®©çº¿ç¨‹1åŠ å…¥ï¼Œå…ˆå®Œæˆçº¿ç¨‹1çš„å†…å®¹ï¼Œåœ¨ç»§ç»­å½“å‰å†…å®¹\n                &#125; catch (InterruptedException e) &#123;\n                    e.printStackTrace();\n                &#125;\n            &#125;\n        &#125;\n    &#125;);\n    t1.start();\n    t2.start();\n&#125;\n\næˆ‘ä»¬å‘ç°ï¼Œçº¿ç¨‹1åŠ å…¥åï¼Œçº¿ç¨‹2ç­‰å¾…çº¿ç¨‹1å¾…æ‰§è¡Œçš„å†…å®¹å…¨éƒ¨æ‰§è¡Œå®Œæˆä¹‹åï¼Œå†ç»§ç»­æ‰§è¡Œçš„çº¿ç¨‹2å†…å®¹ã€‚æ³¨æ„ï¼Œçº¿ç¨‹çš„åŠ å…¥åªæ˜¯ç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹çš„å®Œæˆï¼Œå¹¶ä¸æ˜¯å°†å¦ä¸€ä¸ªçº¿ç¨‹å’Œå½“å‰çº¿ç¨‹åˆå¹¶ï¼æˆ‘ä»¬æ¥çœ‹çœ‹ï¼š\npublic static void main(String[] args) &#123;\n    Thread t1 &#x3D; new Thread(() -&gt; &#123;\n        System.out.println(Thread.currentThread().getName()+&quot;å¼€å§‹è¿è¡Œï¼&quot;);\n        for (int i &#x3D; 0; i &lt; 50; i++) &#123;\n            System.out.println(Thread.currentThread().getName()+&quot;æ‰“å°ï¼š&quot;+i);\n        &#125;\n        System.out.println(&quot;çº¿ç¨‹1ç»“æŸï¼&quot;);\n    &#125;);\n    Thread t2 &#x3D; new Thread(() -&gt; &#123;\n        System.out.println(&quot;çº¿ç¨‹2å¼€å§‹è¿è¡Œï¼&quot;);\n        for (int i &#x3D; 0; i &lt; 50; i++) &#123;\n            System.out.println(&quot;2æ‰“å°ï¼š&quot;+i);\n            if(i &#x3D;&#x3D; 10)&#123;\n                try &#123;\n                    System.out.println(&quot;çº¿ç¨‹1åŠ å…¥åˆ°æ­¤çº¿ç¨‹ï¼&quot;);\n                    t1.join();    &#x2F;&#x2F;åœ¨i&#x3D;&#x3D;10æ—¶ï¼Œè®©çº¿ç¨‹1åŠ å…¥ï¼Œå…ˆå®Œæˆçº¿ç¨‹1çš„å†…å®¹ï¼Œåœ¨ç»§ç»­å½“å‰å†…å®¹\n                &#125; catch (InterruptedException e) &#123;\n                    e.printStackTrace();\n                &#125;\n            &#125;\n        &#125;\n    &#125;);\n    t1.start();\n    t2.start();\n&#125;\n\nå®é™…ä¸Šï¼Œt2çº¿ç¨‹åªæ˜¯æš‚æ—¶å¤„äºç­‰å¾…çŠ¶æ€ï¼Œå½“t1æ‰§è¡Œç»“æŸæ—¶ï¼Œt2æ‰å¼€å§‹ç»§ç»­æ‰§è¡Œï¼Œåªæ˜¯åœ¨æ•ˆæœä¸Šçœ‹èµ·æ¥å¥½åƒæ˜¯ä¸¤ä¸ªçº¿ç¨‹åˆå¹¶ä¸ºä¸€ä¸ªçº¿ç¨‹åœ¨æ‰§è¡Œè€Œå·²ã€‚\n\nçº¿ç¨‹é”å’Œçº¿ç¨‹åŒæ­¥åœ¨å¼€å§‹è®²è§£çº¿ç¨‹åŒæ­¥ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆäº†è§£ä¸€ä¸‹å¤šçº¿ç¨‹æƒ…å†µä¸‹Javaçš„å†…å­˜ç®¡ç†ï¼š\n\nçº¿ç¨‹ä¹‹é—´çš„å…±äº«å˜é‡ï¼ˆæ¯”å¦‚ä¹‹å‰æ‚¬å¿µä¸­çš„valueå˜é‡ï¼‰å­˜å‚¨åœ¨ä¸»å†…å­˜ï¼ˆmain memoryï¼‰ä¸­ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªç§æœ‰çš„å·¥ä½œå†…å­˜ï¼ˆæœ¬åœ°å†…å­˜ï¼‰ï¼Œå·¥ä½œå†…å­˜ä¸­å­˜å‚¨äº†è¯¥çº¿ç¨‹ä»¥è¯»&#x2F;å†™å…±äº«å˜é‡çš„å‰¯æœ¬ã€‚å®ƒç±»ä¼¼äºæˆ‘ä»¬åœ¨è®¡ç®—æœºç»„æˆåŸç†ä¸­å­¦ä¹ çš„å¤šå¤„ç†å™¨é«˜é€Ÿç¼“å­˜æœºåˆ¶ï¼š\n\né«˜é€Ÿç¼“å­˜é€šè¿‡ä¿å­˜å†…å­˜ä¸­æ•°æ®çš„å‰¯æœ¬æ¥æä¾›æ›´åŠ å¿«é€Ÿçš„æ•°æ®è®¿é—®ï¼Œä½†æ˜¯å¦‚æœå¤šä¸ªå¤„ç†å™¨çš„è¿ç®—ä»»åŠ¡éƒ½æ¶‰åŠåŒä¸€å—å†…å­˜åŒºåŸŸï¼Œå°±å¯èƒ½å¯¼è‡´å„è‡ªçš„é«˜é€Ÿç¼“å­˜æ•°æ®ä¸ä¸€è‡´ï¼Œåœ¨å†™å›ä¸»å†…å­˜æ—¶å°±ä¼šå‘ç”Ÿå†²çªï¼Œè¿™å°±æ˜¯å¼•å…¥é«˜é€Ÿç¼“å­˜å¼•å‘çš„æ–°é—®é¢˜ï¼Œç§°ä¹‹ä¸ºï¼šç¼“å­˜ä¸€è‡´æ€§ã€‚\nå®é™…ä¸Šï¼ŒJavaçš„å†…å­˜æ¨¡å‹ä¹Ÿæ˜¯è¿™æ ·ç±»ä¼¼è®¾è®¡çš„ï¼Œå½“æˆ‘ä»¬åŒæ—¶å»æ“ä½œä¸€ä¸ªå…±äº«å˜é‡æ—¶ï¼Œå¦‚æœä»…ä»…æ˜¯è¯»å–è¿˜å¥½ï¼Œä½†æ˜¯å¦‚æœåŒæ—¶å†™å…¥å†…å®¹ï¼Œå°±ä¼šå‡ºç°é—®é¢˜ï¼å¥½æ¯”è¯´ä¸€ä¸ªé“¶è¡Œï¼Œå¦‚æœæˆ‘å’Œæˆ‘çš„æœ‹å‹åŒæ—¶åœ¨é“¶è¡Œå–æˆ‘è´¦æˆ·é‡Œé¢çš„é’±ï¼Œéš¾é“å–1000è¿˜å¯èƒ½å2000å‡ºæ¥å—ï¼Ÿæˆ‘ä»¬éœ€è¦ä¸€ç§æ›´åŠ å®‰å…¨çš„æœºåˆ¶æ¥ç»´æŒç§©åºï¼Œä¿è¯æ•°æ®çš„å®‰å…¨æ€§ï¼\næ‚¬å¿µç ´æ¡ˆæˆ‘ä»¬å†æ¥å›é¡¾ä¸€ä¸‹ä¹‹å‰ç•™ç»™å¤§å®¶çš„æ‚¬å¿µï¼š\nprivate static int value &#x3D; 0;\n\npublic static void main(String[] args) throws InterruptedException &#123;\n    Thread t1 &#x3D; new Thread(() -&gt; &#123;\n        for (int i &#x3D; 0; i &lt; 10000; i++) value++;\n        System.out.println(&quot;çº¿ç¨‹1å®Œæˆ&quot;);\n    &#125;);\n    Thread t2 &#x3D; new Thread(() -&gt; &#123;\n        for (int i &#x3D; 0; i &lt; 10000; i++) value++;\n        System.out.println(&quot;çº¿ç¨‹2å®Œæˆ&quot;);\n    &#125;);\n    t1.start();\n    t2.start();\n    Thread.sleep(1000);  &#x2F;&#x2F;ä¸»çº¿ç¨‹åœæ­¢1ç§’ï¼Œä¿è¯ä¸¤ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œæˆ\n    System.out.println(value);\n&#125;\n\nå®é™…ä¸Šï¼Œå½“ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶è¯»å–valueçš„æ—¶å€™ï¼Œå¯èƒ½ä¼šåŒæ—¶æ‹¿åˆ°åŒæ ·çš„å€¼ï¼Œè€Œè¿›è¡Œè‡ªå¢æ“ä½œä¹‹åï¼Œä¹Ÿæ˜¯åŒæ ·çš„å€¼ï¼Œå†å†™å›ä¸»å†…å­˜åï¼Œæœ¬æ¥åº”è¯¥è¿›è¡Œ2æ¬¡è‡ªå¢æ“ä½œï¼Œå®é™…ä¸Šåªæ‰§è¡Œäº†ä¸€æ¬¡ï¼\n\né‚£ä¹ˆè¦å»è§£å†³è¿™æ ·çš„é—®é¢˜ï¼Œæˆ‘ä»¬å°±å¿…é¡»é‡‡å–æŸç§åŒæ­¥æœºåˆ¶ï¼Œæ¥é™åˆ¶ä¸åŒçº¿ç¨‹å¯¹äºå…±äº«å˜é‡çš„è®¿é—®ï¼æˆ‘ä»¬å¸Œæœ›çš„æ˜¯ä¿è¯å…±äº«å˜é‡valueè‡ªå¢æ“ä½œçš„åŸå­æ€§ï¼ˆåŸå­æ€§æ˜¯æŒ‡ä¸€ä¸ªæ“ä½œæˆ–å¤šä¸ªæ“ä½œè¦ä¹ˆå…¨éƒ¨æ‰§è¡Œï¼Œä¸”æ‰§è¡Œçš„è¿‡ç¨‹ä¸ä¼šè¢«ä»»ä½•å› ç´ æ‰“æ–­ï¼ŒåŒ…æ‹¬å…¶ä»–çº¿ç¨‹ï¼Œè¦ä¹ˆå°±éƒ½ä¸æ‰§è¡Œï¼‰\nçº¿ç¨‹é”é€šè¿‡synchronizedå…³é”®å­—æ¥åˆ›é€ ä¸€ä¸ªçº¿ç¨‹é”ï¼Œé¦–å…ˆæˆ‘ä»¬æ¥è®¤è¯†ä¸€ä¸‹synchronizedä»£ç å—ï¼Œå®ƒéœ€è¦åœ¨æ‹¬å·ä¸­å¡«å…¥ä¸€ä¸ªå†…å®¹ï¼Œå¿…é¡»æ˜¯ä¸€ä¸ªå¯¹è±¡æˆ–æ˜¯ä¸€ä¸ªç±»ï¼Œæˆ‘ä»¬åœ¨valueè‡ªå¢æ“ä½œå¤–å¥—ä¸ŠåŒæ­¥ä»£ç å—ï¼š\nprivate static int value &#x3D; 0;\n\npublic static void main(String[] args) throws InterruptedException &#123;\n    Thread t1 &#x3D; new Thread(() -&gt; &#123;\n        for (int i &#x3D; 0; i &lt; 10000; i++) &#123;\n            synchronized (Main.class)&#123;\n                value++;\n            &#125;\n        &#125;\n        System.out.println(&quot;çº¿ç¨‹1å®Œæˆ&quot;);\n    &#125;);\n    Thread t2 &#x3D; new Thread(() -&gt; &#123;\n        for (int i &#x3D; 0; i &lt; 10000; i++) &#123;\n            synchronized (Main.class)&#123;\n                value++;\n            &#125;\n        &#125;\n        System.out.println(&quot;çº¿ç¨‹2å®Œæˆ&quot;);\n    &#125;);\n    t1.start();\n    t2.start();\n    Thread.sleep(1000);  &#x2F;&#x2F;ä¸»çº¿ç¨‹åœæ­¢1ç§’ï¼Œä¿è¯ä¸¤ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œæˆ\n    System.out.println(value);\n&#125;\n\næˆ‘ä»¬å‘ç°ï¼Œç°åœ¨å¾—åˆ°çš„ç»“æœå°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„å†…å®¹äº†ï¼Œå› ä¸ºåœ¨åŒæ­¥ä»£ç å—æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œæ‹¿åˆ°äº†æˆ‘ä»¬ä¼ å…¥å¯¹è±¡æˆ–ç±»çš„é”ï¼ˆä¼ å…¥çš„å¦‚æœæ˜¯å¯¹è±¡ï¼Œå°±æ˜¯å¯¹è±¡é”ï¼Œä¸åŒçš„å¯¹è±¡ä»£è¡¨ä¸åŒçš„å¯¹è±¡é”ï¼Œå¦‚æœæ˜¯ç±»ï¼Œå°±æ˜¯ç±»é”ï¼Œç±»é”åªæœ‰ä¸€ä¸ªï¼Œå®é™…ä¸Šç±»é”ä¹Ÿæ˜¯å¯¹è±¡é”ï¼Œæ˜¯Classç±»å®ä¾‹ï¼Œä½†æ˜¯Classç±»å®ä¾‹åŒæ ·çš„ç±»æ— è®ºæ€ä¹ˆè·å–éƒ½æ˜¯åŒä¸€ä¸ªï¼‰ï¼Œä½†æ˜¯æ³¨æ„ä¸¤ä¸ªçº¿ç¨‹å¿…é¡»ä½¿ç”¨åŒä¸€æŠŠé”ï¼\nå½“ä¸€ä¸ªçº¿ç¨‹è¿›å…¥åˆ°åŒæ­¥ä»£ç å—æ—¶ï¼Œä¼šè·å–åˆ°å½“å‰çš„é”ï¼Œè€Œè¿™æ—¶å¦‚æœå…¶ä»–ä½¿ç”¨åŒæ ·çš„é”çš„åŒæ­¥ä»£ç å—ä¹Ÿæƒ³æ‰§è¡Œå†…å®¹ï¼Œå°±å¿…é¡»ç­‰å¾…å½“å‰åŒæ­¥ä»£ç å—çš„å†…å®¹æ‰§è¡Œå®Œæ¯•ï¼Œåœ¨æ‰§è¡Œå®Œæ¯•åä¼šè‡ªåŠ¨é‡Šæ”¾è¿™æŠŠé”ï¼Œè€Œå…¶ä»–çš„çº¿ç¨‹æ‰èƒ½æ‹¿åˆ°è¿™æŠŠé”å¹¶å¼€å§‹æ‰§è¡ŒåŒæ­¥ä»£ç å—é‡Œé¢çš„å†…å®¹ã€‚ï¼ˆå®é™…ä¸Šsynchronizedæ˜¯ä¸€ç§æ‚²è§‚é”ï¼Œéšæ—¶éƒ½è®¤ä¸ºæœ‰å…¶ä»–çº¿ç¨‹åœ¨å¯¹æ•°æ®è¿›è¡Œä¿®æ”¹ï¼Œåé¢æœ‰æœºä¼šæˆ‘ä»¬è¿˜ä¼šè®²åˆ°ä¹è§‚é”ï¼Œå¦‚CASç®—æ³•ï¼‰\né‚£ä¹ˆæˆ‘ä»¬æ¥çœ‹çœ‹ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯ä¸åŒå¯¹è±¡çš„é”ï¼Œé‚£ä¹ˆè¿˜èƒ½é¡ºåˆ©è¿›è¡Œå—ï¼Ÿ\nprivate static int value &#x3D; 0;\n\npublic static void main(String[] args) throws InterruptedException &#123;\n    Main main1 &#x3D; new Main();\n    Main main2 &#x3D; new Main();\n    Thread t1 &#x3D; new Thread(() -&gt; &#123;\n        for (int i &#x3D; 0; i &lt; 10000; i++) &#123;\n            synchronized (main1)&#123;\n                value++;\n            &#125;\n        &#125;\n        System.out.println(&quot;çº¿ç¨‹1å®Œæˆ&quot;);\n    &#125;);\n    Thread t2 &#x3D; new Thread(() -&gt; &#123;\n        for (int i &#x3D; 0; i &lt; 10000; i++) &#123;\n            synchronized (main2)&#123;\n                value++;\n            &#125;\n        &#125;\n        System.out.println(&quot;çº¿ç¨‹2å®Œæˆ&quot;);\n    &#125;);\n    t1.start();\n    t2.start();\n    Thread.sleep(1000);  &#x2F;&#x2F;ä¸»çº¿ç¨‹åœæ­¢1ç§’ï¼Œä¿è¯ä¸¤ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œæˆ\n    System.out.println(value);\n&#125;\n\nå½“å¯¹è±¡ä¸åŒæ—¶ï¼Œè·å–åˆ°çš„æ˜¯ä¸åŒçš„é”ï¼Œå› æ­¤å¹¶ä¸èƒ½ä¿è¯è‡ªå¢æ“ä½œçš„åŸå­æ€§ï¼Œæœ€åä¹Ÿå¾—ä¸åˆ°æˆ‘ä»¬æƒ³è¦çš„ç»“æœã€‚\nsynchronizedå…³é”®å­—ä¹Ÿå¯ä»¥ä½œç”¨äºæ–¹æ³•ä¸Šï¼Œè°ƒç”¨æ­¤æ–¹æ³•æ—¶ä¹Ÿä¼šè·å–é”ï¼š\nprivate static int value &#x3D; 0;\n\nprivate static synchronized void add()&#123;\n    value++;\n&#125;\n\npublic static void main(String[] args) throws InterruptedException &#123;\n    Thread t1 &#x3D; new Thread(() -&gt; &#123;\n        for (int i &#x3D; 0; i &lt; 10000; i++) add();\n        System.out.println(&quot;çº¿ç¨‹1å®Œæˆ&quot;);\n    &#125;);\n    Thread t2 &#x3D; new Thread(() -&gt; &#123;\n        for (int i &#x3D; 0; i &lt; 10000; i++) add();\n        System.out.println(&quot;çº¿ç¨‹2å®Œæˆ&quot;);\n    &#125;);\n    t1.start();\n    t2.start();\n    Thread.sleep(1000);  &#x2F;&#x2F;ä¸»çº¿ç¨‹åœæ­¢1ç§’ï¼Œä¿è¯ä¸¤ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œæˆ\n    System.out.println(value);\n&#125;\n\næˆ‘ä»¬å‘ç°å®é™…ä¸Šæ•ˆæœæ˜¯ç›¸åŒçš„ï¼Œåªä¸è¿‡è¿™ä¸ªé”ä¸ç”¨ä½ å»ç»™ï¼Œå¦‚æœæ˜¯é™æ€æ–¹æ³•ï¼Œå°±æ˜¯ä½¿ç”¨çš„ç±»é”ï¼Œè€Œå¦‚æœæ˜¯æ™®é€šæˆå‘˜æ–¹æ³•ï¼Œå°±æ˜¯ä½¿ç”¨çš„å¯¹è±¡é”ã€‚é€šè¿‡çµæ´»çš„ä½¿ç”¨synchronizedå°±èƒ½å¾ˆå¥½åœ°è§£å†³æˆ‘ä»¬ä¹‹å‰æåˆ°çš„é—®é¢˜äº†ï¼\næ­»é”å…¶å®æ­»é”çš„æ¦‚å¿µåœ¨æ“ä½œç³»ç»Ÿä¸­ä¹Ÿæœ‰æåŠï¼Œå®ƒæ˜¯æŒ‡ä¸¤ä¸ªçº¿ç¨‹ç›¸äº’æŒæœ‰å¯¹æ–¹éœ€è¦çš„é”ï¼Œä½†æ˜¯åˆè¿Ÿè¿Ÿä¸é‡Šæ”¾ï¼Œå¯¼è‡´ç¨‹åºå¡ä½ï¼š\n\næˆ‘ä»¬å‘ç°ï¼Œçº¿ç¨‹Aå’Œçº¿ç¨‹Béƒ½éœ€è¦å¯¹æ–¹çš„é”ï¼Œä½†æ˜¯åˆè¢«å¯¹æ–¹ç‰¢ç‰¢æŠŠæ¡ï¼Œç”±äºçº¿ç¨‹è¢«æ— é™æœŸåœ°é˜»å¡ï¼Œå› æ­¤ç¨‹åºä¸å¯èƒ½æ­£å¸¸ç»ˆæ­¢ã€‚æˆ‘ä»¬æ¥çœ‹çœ‹ä»¥ä¸‹è¿™æ®µä»£ç ä¼šå¾—åˆ°ä»€ä¹ˆç»“æœï¼š\npublic static void main(String[] args) throws InterruptedException &#123;\n    Object o1 &#x3D; new Object();\n    Object o2 &#x3D; new Object();\n    Thread t1 &#x3D; new Thread(() -&gt; &#123;\n        synchronized (o1)&#123;\n            try &#123;\n                Thread.sleep(1000);\n                synchronized (o2)&#123;\n                    System.out.println(&quot;çº¿ç¨‹1&quot;);\n                &#125;\n            &#125; catch (InterruptedException e) &#123;\n                e.printStackTrace();\n            &#125;\n        &#125;\n    &#125;);\n    Thread t2 &#x3D; new Thread(() -&gt; &#123;\n        synchronized (o2)&#123;\n            try &#123;\n                Thread.sleep(1000);\n                synchronized (o1)&#123;\n                    System.out.println(&quot;çº¿ç¨‹2&quot;);\n                &#125;\n            &#125; catch (InterruptedException e) &#123;\n                e.printStackTrace();\n            &#125;\n        &#125;\n    &#125;);\n    t1.start();\n    t2.start();\n&#125;\n\né‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•å»æ£€æµ‹æ­»é”å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥åˆ©ç”¨jstackå‘½ä»¤æ¥æ£€æµ‹æ­»é”ï¼Œé¦–å…ˆåˆ©ç”¨jpsæ‰¾åˆ°æˆ‘ä»¬çš„javaè¿›ç¨‹ï¼š\nnagocoler@NagodeMacBook-Pro ~ % jps\n51592 Launcher\n51690 Jps\n14955 \n51693 Main\nnagocoler@NagodeMacBook-Pro ~ % jstack 51693\n...\nJava stack information for the threads listed above:\n&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;\n&quot;Thread-1&quot;:\n\tat com.test.Main.lambda$main$1(Main.java:46)\n\t- waiting to lock &lt;0x000000076ad27fc0&gt; (a java.lang.Object)\n\t- locked &lt;0x000000076ad27fd0&gt; (a java.lang.Object)\n\tat com.test.Main$$Lambda$2&#x2F;1867750575.run(Unknown Source)\n\tat java.lang.Thread.run(Thread.java:748)\n&quot;Thread-0&quot;:\n\tat com.test.Main.lambda$main$0(Main.java:34)\n\t- waiting to lock &lt;0x000000076ad27fd0&gt; (a java.lang.Object)\n\t- locked &lt;0x000000076ad27fc0&gt; (a java.lang.Object)\n\tat com.test.Main$$Lambda$1&#x2F;396873410.run(Unknown Source)\n\tat java.lang.Thread.run(Thread.java:748)\n\nFound 1 deadlock.\n\njstackè‡ªåŠ¨å¸®åŠ©æˆ‘ä»¬æ‰¾åˆ°äº†ä¸€ä¸ªæ­»é”ï¼Œå¹¶æ‰“å°å‡ºäº†ç›¸å…³çº¿ç¨‹çš„æ ˆè¿½è¸ªä¿¡æ¯ã€‚\nä¸æ¨èä½¿ç”¨ suspend() å»æŒ‚èµ·çº¿ç¨‹çš„åŸå› ï¼Œæ˜¯å› ä¸ºsuspend()åœ¨ä½¿çº¿ç¨‹æš‚åœçš„åŒæ—¶ï¼Œå¹¶ä¸ä¼šå»é‡Šæ”¾ä»»ä½•é”èµ„æºã€‚å…¶ä»–çº¿ç¨‹éƒ½æ— æ³•è®¿é—®è¢«å®ƒå ç”¨çš„é”ã€‚ç›´åˆ°å¯¹åº”çš„çº¿ç¨‹æ‰§è¡Œresume()æ–¹æ³•åï¼Œè¢«æŒ‚èµ·çš„çº¿ç¨‹æ‰èƒ½ç»§ç»­ï¼Œä»è€Œå…¶å®ƒè¢«é˜»å¡åœ¨è¿™ä¸ªé”çš„çº¿ç¨‹æ‰å¯ä»¥ç»§ç»­æ‰§è¡Œã€‚ä½†æ˜¯ï¼Œå¦‚æœresume()æ“ä½œå‡ºç°åœ¨suspend()ä¹‹å‰æ‰§è¡Œï¼Œé‚£ä¹ˆçº¿ç¨‹å°†ä¸€ç›´å¤„äºæŒ‚èµ·çŠ¶æ€ï¼ŒåŒæ—¶ä¸€ç›´å ç”¨é”ï¼Œè¿™å°±äº§ç”Ÿäº†æ­»é”ã€‚\nwaitå’Œnotifyæ–¹æ³•å…¶å®æˆ‘ä»¬ä¹‹å‰å¯èƒ½å°±å‘ç°äº†ï¼ŒObjectç±»è¿˜æœ‰ä¸‰ä¸ªæ–¹æ³•æˆ‘ä»¬ä»æ¥æ²¡æœ‰ä½¿ç”¨è¿‡ï¼Œåˆ†åˆ«æ˜¯wait()ã€notify()ä»¥åŠnotifyAll()ï¼Œä»–ä»¬å…¶å®æ˜¯éœ€è¦é…åˆsynchronizedæ¥ä½¿ç”¨çš„ï¼Œåªæœ‰åœ¨åŒæ­¥ä»£ç å—ä¸­æ‰èƒ½ä½¿ç”¨è¿™äº›æ–¹æ³•ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ä»–ä»¬çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼š\npublic static void main(String[] args) throws InterruptedException &#123;\n    Object o1 &#x3D; new Object();\n    Thread t1 &#x3D; new Thread(() -&gt; &#123;\n        synchronized (o1)&#123;\n            try &#123;\n                System.out.println(&quot;å¼€å§‹ç­‰å¾…&quot;);\n                o1.wait();     &#x2F;&#x2F;è¿›å…¥ç­‰å¾…çŠ¶æ€å¹¶é‡Šæ”¾é”\n                System.out.println(&quot;ç­‰å¾…ç»“æŸï¼&quot;);\n            &#125; catch (InterruptedException e) &#123;\n                e.printStackTrace();\n            &#125;\n        &#125;\n    &#125;);\n    Thread t2 &#x3D; new Thread(() -&gt; &#123;\n        synchronized (o1)&#123;\n            System.out.println(&quot;å¼€å§‹å”¤é†’ï¼&quot;);\n            o1.notify();     &#x2F;&#x2F;å”¤é†’å¤„äºç­‰å¾…çŠ¶æ€çš„çº¿ç¨‹\n          \tfor (int i &#x3D; 0; i &lt; 50; i++) &#123;\n               \tSystem.out.println(i);   \n            &#125;\n          \t&#x2F;&#x2F;å”¤é†’åä¾ç„¶éœ€è¦ç­‰å¾…è¿™é‡Œçš„é”é‡Šæ”¾ä¹‹å‰ç­‰å¾…çš„çº¿ç¨‹æ‰èƒ½ç»§ç»­\n        &#125;\n    &#125;);\n    t1.start();\n    Thread.sleep(1000);\n    t2.start();\n&#125;\n\næˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œå¯¹è±¡çš„wait()æ–¹æ³•ä¼šæš‚æ—¶ä½¿å¾—æ­¤çº¿ç¨‹è¿›å…¥ç­‰å¾…çŠ¶æ€ï¼ŒåŒæ—¶ä¼šé‡Šæ”¾å½“å‰ä»£ç å—æŒæœ‰çš„é”ï¼Œè¿™æ—¶å…¶ä»–çº¿ç¨‹å¯ä»¥è·å–åˆ°æ­¤å¯¹è±¡çš„é”ï¼Œå½“å…¶ä»–çº¿ç¨‹è°ƒç”¨å¯¹è±¡çš„notify()æ–¹æ³•åï¼Œä¼šå”¤é†’åˆšæ‰å˜æˆç­‰å¾…çŠ¶æ€çš„çº¿ç¨‹ï¼ˆè¿™æ—¶å¹¶æ²¡æœ‰ç«‹å³é‡Šæ”¾é”ï¼‰ã€‚æ³¨æ„ï¼Œå¿…é¡»æ˜¯åœ¨æŒæœ‰é”ï¼ˆåŒæ­¥ä»£ç å—å†…éƒ¨ï¼‰çš„æƒ…å†µä¸‹ä½¿ç”¨ï¼Œå¦åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ï¼\nnotifyAllå…¶å®å’Œnotifyä¸€æ ·ï¼Œä¹Ÿæ˜¯ç”¨äºå”¤é†’ï¼Œä½†æ˜¯å‰è€…æ˜¯å”¤é†’æ‰€æœ‰è°ƒç”¨wait()åå¤„äºç­‰å¾…çš„çº¿ç¨‹ï¼Œè€Œåè€…æ˜¯çœ‹è¿æ°”éšæœºé€‰æ‹©ä¸€ä¸ªã€‚\nThreadLocalçš„ä½¿ç”¨æ—¢ç„¶æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„å·¥ä½œå†…å­˜ï¼Œé‚£ä¹ˆèƒ½å¦åªåœ¨è‡ªå·±çš„å·¥ä½œå†…å­˜ä¸­åˆ›å»ºå˜é‡ä»…ä¾›çº¿ç¨‹è‡ªå·±ä½¿ç”¨å‘¢ï¼Ÿ\n\næˆ‘ä»¬å¯ä»¥æ˜¯ThreadLocalç±»ï¼Œæ¥åˆ›å»ºå·¥ä½œå†…å­˜ä¸­çš„å˜é‡ï¼Œå®ƒå°†æˆ‘ä»¬çš„å˜é‡å€¼å­˜å‚¨åœ¨å†…éƒ¨ï¼ˆåªèƒ½å­˜å‚¨ä¸€ä¸ªå˜é‡ï¼‰ï¼Œä¸åŒçš„å˜é‡è®¿é—®åˆ°ThreadLocalå¯¹è±¡æ—¶ï¼Œéƒ½åªèƒ½è·å–åˆ°è‡ªå·±çº¿ç¨‹æ‰€å±çš„å˜é‡ã€‚\npublic static void main(String[] args) throws InterruptedException &#123;\n    ThreadLocal&lt;String&gt; local &#x3D; new ThreadLocal&lt;&gt;();  &#x2F;&#x2F;æ³¨æ„è¿™æ˜¯ä¸€ä¸ªæ³›å‹ç±»ï¼Œå­˜å‚¨ç±»å‹ä¸ºæˆ‘ä»¬è¦å­˜æ”¾çš„å˜é‡ç±»å‹\n    Thread t1 &#x3D; new Thread(() -&gt; &#123;\n        local.set(&quot;lbwnb&quot;);   &#x2F;&#x2F;å°†å˜é‡çš„å€¼ç»™äºˆThreadLocal\n        System.out.println(&quot;å˜é‡å€¼å·²è®¾å®šï¼&quot;);\n        System.out.println(local.get());   &#x2F;&#x2F;å°è¯•è·å–ThreadLocalä¸­å­˜æ”¾çš„å˜é‡\n    &#125;);\n    Thread t2 &#x3D; new Thread(() -&gt; &#123;\n        System.out.println(local.get());   &#x2F;&#x2F;å°è¯•è·å–ThreadLocalä¸­å­˜æ”¾çš„å˜é‡\n    &#125;);\n    t1.start();\n    Thread.sleep(3000);    &#x2F;&#x2F;é—´éš”ä¸‰ç§’\n    t2.start();\n&#125;\n\nä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¼€å¯ä¸¤ä¸ªçº¿ç¨‹åˆ†åˆ«å»è®¿é—®ThreadLocalå¯¹è±¡ï¼Œæˆ‘ä»¬å‘ç°ï¼Œç¬¬ä¸€ä¸ªçº¿ç¨‹å­˜æ”¾çš„å†…å®¹ï¼Œç¬¬ä¸€ä¸ªçº¿ç¨‹å¯ä»¥è·å–ï¼Œä½†æ˜¯ç¬¬äºŒä¸ªçº¿ç¨‹æ— æ³•è·å–ï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹ç¬¬ä¸€ä¸ªçº¿ç¨‹å­˜å…¥åï¼Œç¬¬äºŒä¸ªçº¿ç¨‹ä¹Ÿå­˜æ”¾ï¼Œæ˜¯å¦ä¼šè¦†ç›–ç¬¬ä¸€ä¸ªçº¿ç¨‹å­˜æ”¾çš„å†…å®¹ï¼š\npublic static void main(String[] args) throws InterruptedException &#123;\n    ThreadLocal&lt;String&gt; local &#x3D; new ThreadLocal&lt;&gt;();  &#x2F;&#x2F;æ³¨æ„è¿™æ˜¯ä¸€ä¸ªæ³›å‹ç±»ï¼Œå­˜å‚¨ç±»å‹ä¸ºæˆ‘ä»¬è¦å­˜æ”¾çš„å˜é‡ç±»å‹\n    Thread t1 &#x3D; new Thread(() -&gt; &#123;\n        local.set(&quot;lbwnb&quot;);   &#x2F;&#x2F;å°†å˜é‡çš„å€¼ç»™äºˆThreadLocal\n        System.out.println(&quot;çº¿ç¨‹1å˜é‡å€¼å·²è®¾å®šï¼&quot;);\n        try &#123;\n            Thread.sleep(2000);    &#x2F;&#x2F;é—´éš”2ç§’\n        &#125; catch (InterruptedException e) &#123;\n            e.printStackTrace();\n        &#125;\n        System.out.println(&quot;çº¿ç¨‹1è¯»å–å˜é‡å€¼ï¼š&quot;);\n        System.out.println(local.get());   &#x2F;&#x2F;å°è¯•è·å–ThreadLocalä¸­å­˜æ”¾çš„å˜é‡\n    &#125;);\n    Thread t2 &#x3D; new Thread(() -&gt; &#123;\n        local.set(&quot;yyds&quot;);   &#x2F;&#x2F;å°†å˜é‡çš„å€¼ç»™äºˆThreadLocal\n        System.out.println(&quot;çº¿ç¨‹2å˜é‡å€¼å·²è®¾å®šï¼&quot;);\n    &#125;);\n    t1.start();\n    Thread.sleep(1000);    &#x2F;&#x2F;é—´éš”1ç§’\n    t2.start();\n&#125;\n\næˆ‘ä»¬å‘ç°ï¼Œå³ä½¿çº¿ç¨‹2é‡æ–°è®¾å®šäº†å€¼ï¼Œä¹Ÿæ²¡æœ‰å½±å“åˆ°çº¿ç¨‹1å­˜æ”¾çš„å€¼ï¼Œæ‰€ä»¥è¯´ï¼Œä¸åŒçº¿ç¨‹å‘ThreadLocalå­˜æ”¾æ•°æ®ï¼Œåªä¼šå­˜æ”¾åœ¨çº¿ç¨‹è‡ªå·±çš„å·¥ä½œç©ºé—´ä¸­ï¼Œè€Œä¸ä¼šç›´æ¥å­˜æ”¾åˆ°ä¸»å†…å­˜ä¸­ï¼Œå› æ­¤å„ä¸ªçº¿ç¨‹ç›´æ¥å­˜æ”¾çš„å†…å®¹äº’ä¸å¹²æ‰°ã€‚\næˆ‘ä»¬å‘ç°åœ¨çº¿ç¨‹ä¸­åˆ›å»ºçš„å­çº¿ç¨‹ï¼Œæ— æ³•è·å¾—çˆ¶çº¿ç¨‹å·¥ä½œå†…å­˜ä¸­çš„å˜é‡ï¼š\npublic static void main(String[] args) &#123;\n    ThreadLocal&lt;String&gt; local &#x3D; new ThreadLocal&lt;&gt;();\n    Thread t &#x3D; new Thread(() -&gt; &#123;\n       local.set(&quot;lbwnb&quot;);\n        new Thread(() -&gt; &#123;\n            System.out.println(local.get());\n        &#125;).start();\n    &#125;);\n    t.start();\n&#125;\n\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨InheritableThreadLocalæ¥è§£å†³ï¼š\npublic static void main(String[] args) &#123;\n    ThreadLocal&lt;String&gt; local &#x3D; new InheritableThreadLocal&lt;&gt;();\n    Thread t &#x3D; new Thread(() -&gt; &#123;\n       local.set(&quot;lbwnb&quot;);\n        new Thread(() -&gt; &#123;\n            System.out.println(local.get());\n        &#125;).start();\n    &#125;);\n    t.start();\n&#125;\n\nåœ¨InheritableThreadLocalå­˜æ”¾çš„å†…å®¹ï¼Œä¼šè‡ªåŠ¨å‘å­çº¿ç¨‹ä¼ é€’ã€‚\n\nå®šæ—¶å™¨æˆ‘ä»¬æœ‰æ—¶å€™ä¼šæœ‰è¿™æ ·çš„éœ€æ±‚ï¼Œæˆ‘å¸Œæœ›å®šæ—¶æ‰§è¡Œä»»åŠ¡ï¼Œæ¯”å¦‚3ç§’åæ‰§è¡Œï¼Œå…¶å®æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨Thread.sleep()æ¥å®ç°ï¼š\npublic static void main(String[] args) &#123;\n    new TimerTask(() -&gt; System.out.println(&quot;æˆ‘æ˜¯å®šæ—¶ä»»åŠ¡ï¼&quot;), 3000).start();   &#x2F;&#x2F;åˆ›å»ºå¹¶å¯åŠ¨æ­¤å®šæ—¶ä»»åŠ¡\n&#125;\n\nstatic class TimerTask&#123;\n    Runnable task;\n    long time;\n\n    public TimerTask(Runnable runnable, long time)&#123;\n        this.task &#x3D; runnable;\n        this.time &#x3D; time;\n    &#125;\n\n    public void start()&#123;\n        new Thread(() -&gt; &#123;\n            try &#123;\n                Thread.sleep(time);\n                task.run();   &#x2F;&#x2F;ä¼‘çœ åå†è¿è¡Œ\n            &#125; catch (InterruptedException e) &#123;\n                e.printStackTrace();\n            &#125;\n        &#125;).start();\n    &#125;\n&#125;\n\næˆ‘ä»¬é€šè¿‡è‡ªè¡Œå°è£…ä¸€ä¸ªTimerTaskç±»ï¼Œå¹¶åœ¨å¯åŠ¨æ—¶ï¼Œå…ˆä¼‘çœ 3ç§’é’Ÿï¼Œå†æ‰§è¡Œæˆ‘ä»¬ä¼ å…¥çš„å†…å®¹ã€‚é‚£ä¹ˆç°åœ¨æˆ‘ä»¬å¸Œæœ›ï¼Œèƒ½å¦å¾ªç¯æ‰§è¡Œä¸€ä¸ªä»»åŠ¡å‘¢ï¼Ÿæ¯”å¦‚æˆ‘å¸Œæœ›æ¯éš”1ç§’é’Ÿæ‰§è¡Œä¸€æ¬¡ä»£ç ï¼Œè¿™æ ·è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ\npublic static void main(String[] args) &#123;\n    new TimerLoopTask(() -&gt; System.out.println(&quot;æˆ‘æ˜¯å®šæ—¶ä»»åŠ¡ï¼&quot;), 3000).start();   &#x2F;&#x2F;åˆ›å»ºå¹¶å¯åŠ¨æ­¤å®šæ—¶ä»»åŠ¡\n&#125;\n\nstatic class TimerLoopTask&#123;\n    Runnable task;\n    long loopTime;\n\n    public TimerLoopTask(Runnable runnable, long loopTime)&#123;\n        this.task &#x3D; runnable;\n        this.loopTime &#x3D; loopTime;\n    &#125;\n\n    public void start()&#123;\n        new Thread(() -&gt; &#123;\n            try &#123;\n                while (true)&#123;   &#x2F;&#x2F;æ— é™å¾ªç¯æ‰§è¡Œ\n                    Thread.sleep(loopTime);\n                    task.run();   &#x2F;&#x2F;ä¼‘çœ åå†è¿è¡Œ\n                &#125;\n            &#125; catch (InterruptedException e) &#123;\n                e.printStackTrace();\n            &#125;\n        &#125;).start();\n    &#125;\n&#125;\n\nç°åœ¨æˆ‘ä»¬å°†å•æ¬¡æ‰§è¡Œæ”¾å…¥åˆ°ä¸€ä¸ªæ— é™å¾ªç¯ä¸­ï¼Œè¿™æ ·å°±èƒ½ä¸€ç›´æ‰§è¡Œäº†ï¼Œå¹¶ä¸”æŒ‰ç…§æˆ‘ä»¬çš„é—´éš”æ—¶é—´è¿›è¡Œã€‚\nä½†æ˜¯ç»ˆç©¶æ˜¯æˆ‘ä»¬è‡ªå·±å®ç°ï¼Œå¯èƒ½å¾ˆå¤šæ–¹é¢è¿˜æ²¡è€ƒè™‘åˆ°ï¼ŒJavaä¹Ÿä¸ºæˆ‘ä»¬æä¾›äº†ä¸€å¥—è‡ªå·±çš„æ¡†æ¶ç”¨äºå¤„ç†å®šæ—¶ä»»åŠ¡ï¼š\npublic static void main(String[] args) &#123;\n    Timer timer &#x3D; new Timer();    &#x2F;&#x2F;åˆ›å»ºå®šæ—¶å™¨å¯¹è±¡\n    timer.schedule(new TimerTask() &#123;   &#x2F;&#x2F;æ³¨æ„è¿™ä¸ªæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œä¸æ˜¯æ¥å£ï¼Œæ— æ³•ä½¿ç”¨lambdaè¡¨è¾¾å¼ç®€åŒ–ï¼Œåªèƒ½ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»\n        @Override\n        public void run() &#123;\n            System.out.println(Thread.currentThread().getName());    &#x2F;&#x2F;æ‰“å°å½“å‰çº¿ç¨‹åç§°\n        &#125;\n    &#125;, 1000);    &#x2F;&#x2F;æ‰§è¡Œä¸€ä¸ªå»¶æ—¶ä»»åŠ¡\n&#125;\n\næˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ›å»ºä¸€ä¸ªTimerç±»æ¥è®©å®ƒè¿›è¡Œå®šæ—¶ä»»åŠ¡è°ƒåº¦ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ­¤å¯¹è±¡æ¥åˆ›å»ºä»»æ„ç±»å‹çš„å®šæ—¶ä»»åŠ¡ï¼ŒåŒ…å»¶æ—¶ä»»åŠ¡ã€å¾ªç¯å®šæ—¶ä»»åŠ¡ç­‰ã€‚æˆ‘ä»¬å‘ç°ï¼Œè™½ç„¶ä»»åŠ¡æ‰§è¡Œå®Œæˆäº†ï¼Œä½†æ˜¯æˆ‘ä»¬çš„ç¨‹åºå¹¶æ²¡æœ‰åœæ­¢ï¼Œè¿™æ˜¯å› ä¸ºTimerå†…å­˜ç»´æŠ¤äº†ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—å’Œä¸€ä¸ªå·¥ä½œçº¿ç¨‹ï¼š\npublic class Timer &#123;\n    &#x2F;**\n     * The timer task queue.  This data structure is shared with the timer\n     * thread.  The timer produces tasks, via its various schedule calls,\n     * and the timer thread consumes, executing timer tasks as appropriate,\n     * and removing them from the queue when they&#39;re obsolete.\n     *&#x2F;\n    private final TaskQueue queue &#x3D; new TaskQueue();\n\n    &#x2F;**\n     * The timer thread.\n     *&#x2F;\n    private final TimerThread thread &#x3D; new TimerThread(queue);\n  \n\t\t...\n&#125;\n\nTimerThreadç»§æ‰¿è‡ªThreadï¼Œæ˜¯ä¸€ä¸ªæ–°åˆ›å»ºçš„çº¿ç¨‹ï¼Œåœ¨æ„é€ æ—¶è‡ªåŠ¨å¯åŠ¨ï¼š\npublic Timer(String name) &#123;\n    thread.setName(name);\n    thread.start();\n&#125;\n\nè€Œå®ƒçš„runæ–¹æ³•ä¼šå¾ªç¯åœ°è¯»å–é˜Ÿåˆ—ä¸­æ˜¯å¦è¿˜æœ‰ä»»åŠ¡ï¼Œå¦‚æœæœ‰ä»»åŠ¡ä¾æ¬¡æ‰§è¡Œï¼Œæ²¡æœ‰çš„è¯å°±æš‚æ—¶å¤„äºä¼‘çœ çŠ¶æ€ï¼š\npublic void run() &#123;\n    try &#123;\n        mainLoop();\n    &#125; finally &#123;\n        &#x2F;&#x2F; Someone killed this Thread, behave as if Timer cancelled\n        synchronized(queue) &#123;\n            newTasksMayBeScheduled &#x3D; false;\n            queue.clear();  &#x2F;&#x2F; Eliminate obsolete references\n        &#125;\n    &#125;\n&#125;\n\n&#x2F;**\n * The main timer loop.  (See class comment.)\n *&#x2F;\nprivate void mainLoop() &#123;\n  try &#123;\n       TimerTask task;\n       boolean taskFired;\n       synchronized(queue) &#123;\n         \t&#x2F;&#x2F; Wait for queue to become non-empty\n          while (queue.isEmpty() &amp;&amp; newTasksMayBeScheduled)   &#x2F;&#x2F;å½“é˜Ÿåˆ—ä¸ºç©ºåŒæ—¶æ²¡æœ‰è¢«å…³é—­æ—¶ï¼Œä¼šè°ƒç”¨wait()æ–¹æ³•æš‚æ—¶å¤„äºç­‰å¾…çŠ¶æ€ï¼Œå½“æœ‰æ–°çš„ä»»åŠ¡æ—¶ï¼Œä¼šè¢«å”¤é†’ã€‚\n                queue.wait();\n          if (queue.isEmpty())\n             break;    &#x2F;&#x2F;å½“è¢«å”¤é†’åéƒ½æ²¡æœ‰ä»»åŠ¡æ—¶ï¼Œå°±ä¼šç»“æŸå¾ªç¯ï¼Œä¹Ÿå°±æ˜¯ç»“æŸå·¥ä½œçº¿ç¨‹\n                      ...\n&#125;\n\nnewTasksMayBeScheduledå®é™…ä¸Šå°±æ˜¯æ ‡è®°å½“å‰å®šæ—¶å™¨æ˜¯å¦å…³é—­ï¼Œå½“å®ƒä¸ºfalseæ—¶ï¼Œè¡¨ç¤ºå·²ç»ä¸ä¼šå†æœ‰æ–°çš„ä»»åŠ¡åˆ°æ¥ï¼Œä¹Ÿå°±æ˜¯å…³é—­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è°ƒç”¨cancel()æ–¹æ³•æ¥å…³é—­å®ƒçš„å·¥ä½œçº¿ç¨‹ï¼š\npublic void cancel() &#123;\n    synchronized(queue) &#123;\n        thread.newTasksMayBeScheduled &#x3D; false;\n        queue.clear();\n        queue.notify();  &#x2F;&#x2F;å”¤é†’waitä½¿å¾—å·¥ä½œçº¿ç¨‹ç»“æŸ\n    &#125;\n&#125;\n\nå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä½¿ç”¨å®Œæˆåï¼Œè°ƒç”¨Timerçš„cancel()æ–¹æ³•ä»¥æ­£å¸¸é€€å‡ºæˆ‘ä»¬çš„ç¨‹åºï¼š\npublic static void main(String[] args) &#123;\n    Timer timer &#x3D; new Timer();\n    timer.schedule(new TimerTask() &#123;\n        @Override\n        public void run() &#123;\n            System.out.println(Thread.currentThread().getName());\n            timer.cancel();  &#x2F;&#x2F;ç»“æŸ\n        &#125;\n    &#125;, 1000);\n&#125;\n\n\nå®ˆæŠ¤çº¿ç¨‹ä¸è¦æŠŠå®ˆæŠ¤è¿›ç¨‹å’Œå®ˆæŠ¤çº¿ç¨‹ç›¸æå¹¶è®ºï¼å®ˆæŠ¤è¿›ç¨‹åœ¨åå°è¿è¡Œè¿è¡Œï¼Œä¸éœ€è¦å’Œç”¨æˆ·äº¤äº’ï¼Œæœ¬è´¨å’Œæ™®é€šè¿›ç¨‹ç±»ä¼¼ã€‚è€Œå®ˆæŠ¤çº¿ç¨‹å°±ä¸ä¸€æ ·äº†ï¼Œå½“å…¶ä»–æ‰€æœ‰çš„éå®ˆæŠ¤çº¿ç¨‹ç»“æŸä¹‹åï¼Œå®ˆæŠ¤çº¿ç¨‹æ˜¯è‡ªåŠ¨ç»“æŸï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒJavaä¸­æ‰€æœ‰çš„çº¿ç¨‹éƒ½æ‰§è¡Œå®Œæ¯•åï¼Œå®ˆæŠ¤çº¿ç¨‹è‡ªåŠ¨ç»“æŸï¼Œå› æ­¤å®ˆæŠ¤çº¿ç¨‹ä¸é€‚åˆè¿›è¡ŒIOæ“ä½œï¼Œåªé€‚åˆæ‰“æ‰“æ‚ï¼š\npublic static void main(String[] args) throws InterruptedException&#123;\n    Thread t &#x3D; new Thread(() -&gt; &#123;\n        while (true)&#123;\n            try &#123;\n                System.out.println(&quot;ç¨‹åºæ­£å¸¸è¿è¡Œä¸­...&quot;);\n                Thread.sleep(1000);\n            &#125; catch (InterruptedException e) &#123;\n                e.printStackTrace();\n            &#125;\n        &#125;\n    &#125;);\n    t.setDaemon(true);   &#x2F;&#x2F;è®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹ï¼ˆå¿…é¡»åœ¨å¼€å§‹ä¹‹å‰ï¼Œä¸­é€”æ˜¯ä¸å…è®¸è½¬æ¢çš„ï¼‰\n    t.start();\n    for (int i &#x3D; 0; i &lt; 5; i++) &#123;\n        Thread.sleep(1000);\n    &#125;\n&#125;\n\nåœ¨å®ˆæŠ¤çº¿ç¨‹ä¸­äº§ç”Ÿçš„æ–°çº¿ç¨‹ä¹Ÿæ˜¯å®ˆæŠ¤çš„ï¼š\npublic static void main(String[] args) throws InterruptedException&#123;\n    Thread t &#x3D; new Thread(() -&gt; &#123;\n        Thread it &#x3D; new Thread(() -&gt; &#123;\n            while (true)&#123;\n                try &#123;\n                    System.out.println(&quot;ç¨‹åºæ­£å¸¸è¿è¡Œä¸­...&quot;);\n                    Thread.sleep(1000);\n                &#125; catch (InterruptedException e) &#123;\n                    e.printStackTrace();\n                &#125;\n            &#125;\n        &#125;);\n        it.start();\n    &#125;);\n    t.setDaemon(true);   &#x2F;&#x2F;è®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹ï¼ˆå¿…é¡»åœ¨å¼€å§‹ä¹‹å‰ï¼Œä¸­é€”æ˜¯ä¸å…è®¸è½¬æ¢çš„ï¼‰\n    t.start();\n    for (int i &#x3D; 0; i &lt; 5; i++) &#123;\n        Thread.sleep(1000);\n    &#125;\n&#125;\n\n\nå†è°ˆé›†åˆç±»å¹¶è¡Œæ–¹æ³•å…¶å®æˆ‘ä»¬ä¹‹å‰åœ¨è®²è§£é›†åˆç±»çš„æ ¹æ¥å£æ—¶ï¼Œå°±å‘ç°æœ‰è¿™æ ·ä¸€ä¸ªæ–¹æ³•ï¼š\ndefault Stream&lt;E&gt; parallelStream() &#123;\n    return StreamSupport.stream(spliterator(), true);\n&#125;\n\nå¹¶è¡Œæµï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªå¤šçº¿ç¨‹æ‰§è¡Œçš„æµï¼Œå®ƒé€šè¿‡é»˜è®¤çš„ForkJoinPoolå®ç°ï¼ˆè¿™é‡Œä¸è®²è§£åŸç†ï¼‰ï¼Œå®ƒå¯ä»¥æé«˜ä½ çš„å¤šçº¿ç¨‹ä»»åŠ¡çš„é€Ÿåº¦ã€‚\npublic static void main(String[] args) &#123;\n    List&lt;Integer&gt; list &#x3D; new ArrayList&lt;&gt;(Arrays.asList(1, 4, 5, 2, 9, 3, 6, 0));\n    list\n            .parallelStream()    &#x2F;&#x2F;è·å¾—å¹¶è¡Œæµ\n            .forEach(i -&gt; System.out.println(Thread.currentThread().getName()+&quot; -&gt; &quot;+i));\n&#125;\n\næˆ‘ä»¬å‘ç°ï¼ŒforEachæ“ä½œçš„é¡ºåºï¼Œå¹¶ä¸æ˜¯æˆ‘ä»¬å®é™…Listä¸­çš„é¡ºåºï¼ŒåŒæ—¶æ¯æ¬¡æ‰“å°ä¹Ÿæ˜¯ä¸åŒçš„çº¿ç¨‹åœ¨æ‰§è¡Œï¼æˆ‘ä»¬å¯ä»¥é€šè¿‡è°ƒç”¨forEachOrdered()æ–¹æ³•æ¥ä½¿ç”¨å•çº¿ç¨‹ç»´æŒåŸæœ¬çš„é¡ºåºï¼š\npublic static void main(String[] args) &#123;\n    List&lt;Integer&gt; list &#x3D; new ArrayList&lt;&gt;(Arrays.asList(1, 4, 5, 2, 9, 3, 6, 0));\n    list\n            .parallelStream()    &#x2F;&#x2F;è·å¾—å¹¶è¡Œæµ\n            .forEachOrdered(System.out::println);\n&#125;\n\næˆ‘ä»¬ä¹‹å‰è¿˜å‘ç°ï¼Œåœ¨Arraysæ•°ç»„å·¥å…·ç±»ä¸­ï¼Œä¹ŸåŒ…å«å¤§é‡çš„å¹¶è¡Œæ–¹æ³•ï¼š\npublic static void main(String[] args) &#123;\n    int[] arr &#x3D; new int[]&#123;1, 4, 5, 2, 9, 3, 6, 0&#125;;\n    Arrays.parallelSort(arr);   &#x2F;&#x2F;ä½¿ç”¨å¤šçº¿ç¨‹è¿›è¡Œå¹¶è¡Œæ’åºï¼Œæ•ˆç‡æ›´é«˜\n    System.out.println(Arrays.toString(arr));\n&#125;\n\næ›´å¤šåœ°ä½¿ç”¨å¹¶è¡Œæ–¹æ³•ï¼Œå¯ä»¥æ›´åŠ å……åˆ†åœ°å‘æŒ¥ç°ä»£è®¡ç®—æœºå¤šæ ¸å¿ƒçš„ä¼˜åŠ¿ï¼Œä½†æ˜¯åŒæ—¶éœ€è¦æ³¨æ„å¤šçº¿ç¨‹äº§ç”Ÿçš„å¼‚æ­¥é—®é¢˜ï¼\npublic static void main(String[] args) &#123;\n    int[] arr &#x3D; new int[]&#123;1, 4, 5, 2, 9, 3, 6, 0&#125;;\n    Arrays.parallelSetAll(arr, i -&gt; &#123;\n        System.out.println(Thread.currentThread().getName());\n        return arr[i];\n    &#125;);\n    System.out.println(Arrays.toString(arr));\n&#125;\n\né€šè¿‡å¯¹Javaå¤šçº¿ç¨‹çš„äº†è§£ï¼Œæˆ‘ä»¬å°±å…·å¤‡äº†åˆ©ç”¨å¤šçº¿ç¨‹è§£å†³é—®é¢˜çš„æ€ç»´ï¼\n\nJavaå¤šçº¿ç¨‹ç¼–ç¨‹å®æˆ˜è¿™æ˜¯æ•´ä¸ªæ•™ç¨‹æœ€åä¸€ä¸ªç¼–ç¨‹å®æˆ˜å†…å®¹äº†ï¼Œä¸‹ä¸€ç« èŠ‚ä¸ºåå°„ä¸€èˆ¬å¼€å‘è€…ä½¿ç”¨æ¯”è¾ƒå°‘ï¼Œå±äºé€‰å­¦å†…å®¹ï¼Œä¸ç¼–æ’ç¼–ç¨‹å®æˆ˜è¯¾ç¨‹ã€‚\nç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…æ‰€è°“çš„ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹ï¼Œæ˜¯é€šè¿‡ä¸€ä¸ªå®¹å™¨æ¥è§£å†³ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…çš„å¼ºè€¦åˆé—®é¢˜ã€‚é€šä¿—çš„è®²ï¼Œå°±æ˜¯ç”Ÿäº§è€…åœ¨ä¸æ–­çš„ç”Ÿäº§ï¼Œæ¶ˆè´¹è€…ä¹Ÿåœ¨ä¸æ–­çš„æ¶ˆè´¹ï¼Œå¯æ˜¯æ¶ˆè´¹è€…æ¶ˆè´¹çš„äº§å“æ˜¯ç”Ÿäº§è€…ç”Ÿäº§çš„ï¼Œè¿™å°±å¿…ç„¶å­˜åœ¨ä¸€ä¸ªä¸­é—´å®¹å™¨ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªå®¹å™¨æƒ³è±¡æˆæ˜¯ä¸€ä¸ªè´§æ¶ï¼Œå½“è´§æ¶ç©ºçš„æ—¶å€™ï¼Œç”Ÿäº§è€…è¦ç”Ÿäº§äº§å“ï¼Œæ­¤æ—¶æ¶ˆè´¹è€…åœ¨ç­‰å¾…ç”Ÿäº§è€…å¾€è´§æ¶ä¸Šç”Ÿäº§äº§å“ï¼Œè€Œå½“è´§æ¶æœ‰è´§ç‰©çš„æ—¶å€™ï¼Œæ¶ˆè´¹è€…å¯ä»¥ä»è´§æ¶ä¸Šæ‹¿èµ°å•†å“ï¼Œç”Ÿäº§è€…æ­¤æ—¶ç­‰å¾…è´§æ¶å‡ºç°ç©ºä½ï¼Œè¿›è€Œè¡¥è´§ï¼Œè¿™æ ·ä¸æ–­çš„å¾ªç¯ã€‚\né€šè¿‡å¤šçº¿ç¨‹ç¼–ç¨‹ï¼Œæ¥æ¨¡æ‹Ÿä¸€ä¸ªé¤å…çš„2ä¸ªå¨å¸ˆå’Œ3ä¸ªé¡¾å®¢ï¼Œå‡è®¾å¨å¸ˆç‚’å‡ºä¸€ä¸ªèœçš„æ—¶é—´ä¸º3ç§’ï¼Œé¡¾å®¢åƒæ‰èœå“çš„æ—¶é—´ä¸º4ç§’ã€‚\n","slug":"JavaSEç¬”è®°ï¼ˆå…­ï¼‰","date":"2022-03-09T03:42:06.895Z","categories_index":"JavaSEç¬”è®°","tags_index":"JavaSEç¬”è®°","author_index":"YangChao"},{"id":"3d7015538194631f51f4f8a71af09913","title":"JavaSEç¬”è®°ï¼ˆäº”ï¼‰","content":"Java I&#x2F;Oæ³¨æ„ï¼šè¿™å—ä¼šæ¶‰åŠåˆ°æ“ä½œç³»ç»Ÿå’Œè®¡ç®—æœºç»„æˆåŸç†ç›¸å…³å†…å®¹ã€‚\nI&#x2F;Oç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯è¾“å…¥è¾“å‡ºï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆä¼šæœ‰I&#x2F;Oå‘¢ï¼Ÿå…¶å®I&#x2F;Oæ— æ—¶æ— åˆ»éƒ½åœ¨æˆ‘ä»¬çš„èº«è¾¹ï¼Œæ¯”å¦‚è¯»å–ç¡¬ç›˜ä¸Šçš„æ–‡ä»¶ï¼Œç½‘ç»œæ–‡ä»¶ä¼ è¾“ï¼Œé¼ æ ‡é”®ç›˜è¾“å…¥ï¼Œä¹Ÿå¯ä»¥æ˜¯æ¥å—å•ç‰‡æœºå‘å›çš„æ•°æ®ï¼Œè€Œèƒ½å¤Ÿæ”¯æŒè¿™äº›æ“ä½œçš„è®¾å¤‡å°±æ˜¯I&#x2F;Oè®¾å¤‡ã€‚\næˆ‘ä»¬å¯ä»¥å¤§è‡´çœ‹ä¸€ä¸‹æ•´ä¸ªè®¡ç®—æœºçš„æ€»çº¿ç»“æ„ï¼š\n\nå¸¸è§çš„I&#x2F;Oè®¾å¤‡ä¸€èˆ¬æ˜¯é¼ æ ‡ã€é”®ç›˜è¿™ç±»é€šè¿‡USBè¿›è¡Œä¼ è¾“çš„å¤–è®¾æˆ–è€…æ˜¯é€šè¿‡Sataæ¥å£æˆ–æ˜¯M.2è¿æ¥çš„ç¡¬ç›˜ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè¿™äº›è®¾å¤‡æ˜¯ç”±CPUå‘å‡ºæŒ‡ä»¤é€šè¿‡å—æ¡¥èŠ¯ç‰‡é—´æ¥è¿›è¡Œæ§åˆ¶ï¼Œè€Œä¸æ˜¯ç”±CPUç›´æ¥æ“ä½œã€‚\nè€Œæˆ‘ä»¬åœ¨ç¨‹åºä¸­ï¼Œæƒ³è¦è¯»å–è¿™äº›å¤–éƒ¨è¿æ¥çš„I&#x2F;Oè®¾å¤‡ä¸­çš„å†…å®¹ï¼Œå°±éœ€è¦å°†æ•°æ®ä¼ è¾“åˆ°å†…å­˜ä¸­ã€‚è€Œéœ€è¦å®ç°è¿™æ ·çš„æ“ä½œï¼Œå•å•å‡­å€Ÿä¸€ä¸ªå°çš„ç¨‹åºæ˜¯æ— æ³•åšåˆ°çš„ï¼Œè€Œæ“ä½œç³»ç»Ÿï¼ˆå¦‚ï¼šWindows&#x2F;Linux&#x2F;MacOSï¼‰å°±æ˜¯ä¸“é—¨ç”¨äºæ§åˆ¶å’Œç®¡ç†è®¡ç®—æœºç¡¬ä»¶å’Œè½¯ä»¶èµ„æºçš„è½¯ä»¶ï¼Œæˆ‘ä»¬éœ€è¦è¯»å–ä¸€ä¸ªIOè®¾å¤‡çš„å†…å®¹æ—¶ï¼Œå¯ä»¥å‘æ“ä½œç³»ç»Ÿå‘å‡ºè¯·æ±‚ï¼Œç”±æ“ä½œç³»ç»Ÿå¸®åŠ©æˆ‘ä»¬æ¥å’Œåº•å±‚çš„ç¡¬ä»¶äº¤äº’ä»¥å®Œæˆæˆ‘ä»¬çš„è¯»å–&#x2F;å†™å…¥è¯·æ±‚ã€‚ä»è¯»å–ç¡¬ç›˜æ–‡ä»¶çš„è§’åº¦æ¥è¯´ï¼Œä¸åŒçš„æ“ä½œç³»ç»Ÿæœ‰ç€ä¸åŒçš„æ–‡ä»¶ç³»ç»Ÿï¼ˆä¹Ÿå°±æ˜¯æ–‡ä»¶åœ¨ç¡¬ç›˜ä¸­çš„å­˜å‚¨æ’åˆ—æ–¹å¼ï¼Œå¦‚Windowså°±æ˜¯NTFSã€MacOSå°±æ˜¯APFSï¼‰ï¼Œç¡¬ç›˜åªèƒ½å­˜å‚¨ä¸€ä¸ªä¸ª0å’Œ1è¿™æ ·çš„äºŒè¿›åˆ¶æ•°æ®ï¼Œè‡³äº0å’Œ1å¦‚ä½•æ’åˆ—ï¼Œå„è‡ªåˆä»£è¡¨ä»€ä¹ˆæ„æ€ï¼Œå°±æ˜¯ç”±æ“ä½œç³»ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿæ¥å†³å®šçš„ã€‚ä»ç½‘ç»œé€šä¿¡è§’åº¦æ¥è¯´ï¼Œç½‘ç»œä¿¡å·é€šè¿‡ç½‘å¡ç­‰è®¾å¤‡ç¿»è¯‘ä¸ºäºŒè¿›åˆ¶ä¿¡å·ï¼Œå†äº¤ç»™ç³»ç»Ÿè¿›è¡Œè¯»å–ï¼Œæœ€åå†ç”±æ“ä½œç³»ç»Ÿæ¥ç»™åˆ°ç¨‹åºã€‚\nJDKæä¾›äº†ä¸€å¥—ç”¨äºIOæ“ä½œçš„æ¡†æ¶ï¼Œæ ¹æ®æµçš„ä¼ è¾“æ–¹å‘å’Œè¯»å–å•ä½ï¼Œåˆ†ä¸ºå­—èŠ‚æµInputStreamå’ŒOutputStreamä»¥åŠå­—ç¬¦æµReaderå’ŒWriterï¼Œå½“ç„¶ï¼Œè¿™é‡Œçš„Streamå¹¶ä¸æ˜¯å‰é¢é›†åˆæ¡†æ¶è®¤è¯†çš„Streamï¼Œè¿™é‡Œçš„æµæŒ‡çš„æ˜¯æ•°æ®æµï¼Œé€šè¿‡æµï¼Œæˆ‘ä»¬å°±å¯ä»¥ä¸€ç›´ä»æµä¸­è¯»å–æ•°æ®ï¼Œç›´åˆ°è¯»å–åˆ°å°½å¤´ï¼Œæˆ–æ˜¯ä¸æ–­å‘å…¶ä¸­å†™å…¥æ•°æ®ï¼Œç›´åˆ°æˆ‘ä»¬å†™å…¥å®Œæˆã€‚è€Œè¿™ç±»IOå°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„BIOï¼Œ\nå­—èŠ‚æµä¸€æ¬¡è¯»å–ä¸€ä¸ªå­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªbyteçš„å¤§å°ï¼Œè€Œå­—ç¬¦æµé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ä¸€æ¬¡è¯»å–ä¸€ä¸ªå­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªcharçš„å¤§å°ï¼ˆåœ¨è¯»å–çº¯æ–‡æœ¬æ–‡ä»¶çš„æ—¶å€™æ›´åŠ é€‚åˆï¼‰ï¼Œæœ‰å…³è¿™ä¸¤ç§æµï¼Œä¼šåœ¨åé¢è¯¦ç»†ä»‹ç»ï¼Œè¿™ä¸ªç« èŠ‚æˆ‘ä»¬éœ€è¦å­¦ä¹ 16ä¸ªå…³é”®çš„æµã€‚\næ–‡ä»¶æµè¦å­¦ä¹ å’Œä½¿ç”¨IOï¼Œé¦–å…ˆå°±è¦ä»æœ€æ˜“äºç†è§£çš„è¯»å–æ–‡ä»¶å¼€å§‹è¯´èµ·ã€‚\næ–‡ä»¶å­—èŠ‚æµé¦–å…ˆä»‹ç»ä¸€ä¸‹FileInputStreamï¼Œé€šè¿‡å®ƒæ¥è·å–æ–‡ä»¶çš„è¾“å…¥æµã€‚\npublic static void main(String[] args) &#123;\n    try &#123;\n        FileInputStream inputStream &#x3D; new FileInputStream(&quot;è·¯å¾„&quot;);\n        &#x2F;&#x2F;è·¯å¾„æ”¯æŒç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„\n    &#125; catch (FileNotFoundException e) &#123;\n        e.printStackTrace();\n    &#125;\n&#125;\n\nç›¸å¯¹è·¯å¾„æ˜¯åœ¨å½“å‰è¿è¡Œçš„è·¯å¾„ä¸‹å¯»æ‰¾æ–‡ä»¶ï¼Œè€Œç»å¯¹è·¯å¾„ï¼Œæ˜¯ä»æ ¹ç›®å½•å¼€å§‹å¯»æ‰¾ã€‚è·¯å¾„åˆ†å‰²ç¬¦æ”¯æŒä½¿ç”¨/æˆ–æ˜¯\\\\ï¼Œä½†æ˜¯ä¸èƒ½å†™ä¸º\\å› ä¸ºå®ƒæ˜¯è½¬ä¹‰å­—ç¬¦ï¼\nåœ¨ä½¿ç”¨å®Œæˆä¸€ä¸ªæµä¹‹åï¼Œå¿…é¡»å…³é—­è¿™ä¸ªæµæ¥å®Œæˆå¯¹èµ„æºçš„é‡Šæ”¾ï¼Œå¦åˆ™èµ„æºä¼šè¢«ä¸€ç›´å ç”¨ï¼\npublic static void main(String[] args) &#123;\n    FileInputStream inputStream &#x3D; null;    &#x2F;&#x2F;å®šä¹‰å¯ä»¥å…ˆæ”¾åœ¨tryå¤–éƒ¨\n    try &#123;\n        inputStream &#x3D; new FileInputStream(&quot;è·¯å¾„&quot;);\n    &#125; catch (FileNotFoundException e) &#123;\n        e.printStackTrace();\n    &#125; finally &#123;\n        try &#123;    &#x2F;&#x2F;å»ºè®®åœ¨finallyä¸­è¿›è¡Œï¼Œå› ä¸ºè¿™ä¸ªæ˜¯ä»»ä½•æƒ…å†µéƒ½å¿…é¡»è¦æ‰§è¡Œçš„ï¼\n            if(inputStream !&#x3D; null) inputStream.close();\n        &#125; catch (IOException e) &#123;\n            e.printStackTrace();\n        &#125;\n    &#125;\n&#125;\n\nè™½ç„¶è¿™æ ·çš„å†™æ³•æ‰æ˜¯æœ€ä¿é™©çš„ï¼Œä½†æ˜¯æ˜¾å¾—è¿‡äºç¹çäº†ï¼Œå°¤å…¶æ˜¯finallyä¸­å†æ¬¡åµŒå¥—äº†ä¸€ä¸ªtry-catchå—ï¼Œå› æ­¤åœ¨JDK1.7æ–°å¢äº†try-with-resourceè¯­æ³•ï¼Œç”¨äºç®€åŒ–è¿™æ ·çš„å†™æ³•ï¼ˆæœ¬è´¨ä¸Šè¿˜æ˜¯å’Œè¿™æ ·çš„æ“ä½œä¸€è‡´ï¼Œåªæ˜¯æ¢äº†ä¸ªå†™æ³•ï¼‰\npublic static void main(String[] args) &#123;\n\n    &#x2F;&#x2F;æ³¨æ„ï¼Œè¿™ç§è¯­æ³•åªæ”¯æŒå®ç°äº†AutoCloseableæ¥å£çš„ç±»ï¼\n    try(FileInputStream inputStream &#x3D; new FileInputStream(&quot;è·¯å¾„&quot;)) &#123;   &#x2F;&#x2F;ç›´æ¥åœ¨try()ä¸­å®šä¹‰è¦åœ¨å®Œæˆä¹‹åé‡Šæ”¾çš„èµ„æº\n\n    &#125; catch (IOException e) &#123;   &#x2F;&#x2F;è¿™é‡Œå˜æˆIOExceptionæ˜¯å› ä¸ºè°ƒç”¨close()å¯èƒ½ä¼šå‡ºç°ï¼Œè€ŒFileNotFoundExceptionæ˜¯ç»§æ‰¿è‡ªIOExceptionçš„\n        e.printStackTrace();\n    &#125;\n    &#x2F;&#x2F;æ— éœ€å†ç¼–å†™finallyè¯­å¥å—ï¼Œå› ä¸ºåœ¨æœ€åè‡ªåŠ¨å¸®æˆ‘ä»¬è°ƒç”¨äº†close()\n&#125;\n\nä¹‹åä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘ä»¬éƒ½ä½¿ç”¨æ­¤è¯­æ³•è¿›è¡Œæ•™å­¦ã€‚\npublic static void main(String[] args) &#123;\n    &#x2F;&#x2F;test.txtï¼ša\n    try(FileInputStream inputStream &#x3D; new FileInputStream(&quot;test.txt&quot;)) &#123;\n        &#x2F;&#x2F;ä½¿ç”¨read()æ–¹æ³•è¿›è¡Œå­—ç¬¦è¯»å–\n        System.out.println((char) inputStream.read());  &#x2F;&#x2F;è¯»å–ä¸€ä¸ªå­—èŠ‚çš„æ•°æ®ï¼ˆè‹±æ–‡å­—æ¯åªå 1å­—èŠ‚ï¼Œä¸­æ–‡å 2å­—èŠ‚ï¼‰\n        System.out.println(inputStream.read());   &#x2F;&#x2F;å”¯ä¸€ä¸€ä¸ªå­—èŠ‚çš„å†…å®¹å·²ç»è¯»å®Œäº†ï¼Œå†æ¬¡è¯»å–è¿”å›-1è¡¨ç¤ºæ²¡æœ‰å†…å®¹äº†\n    &#125;catch (IOException e)&#123;\n        e.printStackTrace();\n    &#125;\n&#125;\n\nä½¿ç”¨readå¯ä»¥ç›´æ¥è¯»å–ä¸€ä¸ªå­—èŠ‚çš„æ•°æ®ï¼Œæ³¨æ„ï¼Œæµçš„å†…å®¹æ˜¯æœ‰é™çš„ï¼Œè¯»å–ä¸€ä¸ªå°‘ä¸€ä¸ªï¼æˆ‘ä»¬å¦‚æœæƒ³ä¸€æ¬¡æ€§å…¨éƒ¨è¯»å–çš„è¯ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ä¸€ä¸ªwhileå¾ªç¯æ¥å®Œæˆï¼š\npublic static void main(String[] args) &#123;\n    &#x2F;&#x2F;test.txtï¼šabcd\n    try(FileInputStream inputStream &#x3D; new FileInputStream(&quot;test.txt&quot;)) &#123;\n        int tmp;\n        while ((tmp &#x3D; inputStream.read()) !&#x3D; -1)&#123;   &#x2F;&#x2F;é€šè¿‡whileå¾ªç¯æ¥ä¸€æ¬¡æ€§è¯»å®Œå†…å®¹\n            System.out.println((char)tmp);\n        &#125;\n    &#125;catch (IOException e)&#123;\n        e.printStackTrace();\n    &#125;\n&#125;\n\nä½¿ç”¨æ–¹æ³•èƒ½æŸ¥çœ‹å½“å‰å¯è¯»çš„å‰©ä½™å­—èŠ‚æ•°é‡ï¼ˆæ³¨æ„ï¼šå¹¶ä¸ä¸€å®šçœŸå®çš„æ•°æ®é‡å°±æ˜¯è¿™ä¹ˆå¤šï¼Œå°¤å…¶æ˜¯åœ¨ç½‘ç»œI&#x2F;Oæ“ä½œæ—¶ï¼Œè¿™ä¸ªæ–¹æ³•åªèƒ½è¿›è¡Œä¸€ä¸ªé¢„ä¼°ä¹Ÿå¯ä»¥è¯´æ˜¯æš‚æ—¶èƒ½ä¸€æ¬¡æ€§è¯»å–çš„æ•°é‡ï¼‰\ntry(FileInputStream inputStream &#x3D; new FileInputStream(&quot;test.txt&quot;)) &#123;\n    System.out.println(inputStream.available());  &#x2F;&#x2F;æŸ¥çœ‹å‰©ä½™æ•°é‡\n&#125;catch (IOException e)&#123;\n    e.printStackTrace();\n&#125;\n\nå½“ç„¶ï¼Œä¸€ä¸ªä¸€ä¸ªè¯»å–æ•ˆç‡å¤ªä½äº†ï¼Œé‚£èƒ½å¦ä¸€æ¬¡æ€§å…¨éƒ¨è¯»å–å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥é¢„ç½®ä¸€ä¸ªåˆé€‚å®¹é‡çš„byte[]æ•°ç»„æ¥å­˜æ”¾ã€‚\npublic static void main(String[] args) &#123;\n    &#x2F;&#x2F;test.txtï¼šabcd\n    try(FileInputStream inputStream &#x3D; new FileInputStream(&quot;test.txt&quot;)) &#123;\n        byte[] bytes &#x3D; new byte[inputStream.available()];   &#x2F;&#x2F;æˆ‘ä»¬å¯ä»¥æå‰å‡†å¤‡å¥½åˆé€‚å®¹é‡çš„byteæ•°ç»„æ¥å­˜æ”¾\n        System.out.println(inputStream.read(bytes));   &#x2F;&#x2F;ä¸€æ¬¡æ€§è¯»å–å…¨éƒ¨å†…å®¹ï¼ˆè¿”å›å€¼æ˜¯è¯»å–çš„å­—èŠ‚æ•°ï¼‰\n        System.out.println(new String(bytes));   &#x2F;&#x2F;é€šè¿‡String(byte[])æ„é€ æ–¹æ³•å¾—åˆ°å­—ç¬¦ä¸²\n    &#125;catch (IOException e)&#123;\n        e.printStackTrace();\n    &#125;\n&#125;\n\nä¹Ÿå¯ä»¥æ§åˆ¶è¦è¯»å–æ•°é‡ï¼š\nSystem.out.println(inputStream.read(bytes, 1, 2));   &#x2F;&#x2F;ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä»ç»™å®šæ•°ç»„çš„å“ªä¸ªä½ç½®å¼€å§‹æ”¾å…¥å†…å®¹ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯è¯»å–æµä¸­çš„å­—èŠ‚æ•°\n\næ³¨æ„ï¼šä¸€æ¬¡æ€§è¯»å–åŒå•ä¸ªè¯»å–ä¸€æ ·ï¼Œå½“æ²¡æœ‰ä»»ä½•æ•°æ®å¯è¯»æ—¶ï¼Œä¾ç„¶ä¼šè¿”å›-1\né€šè¿‡skip()æ–¹æ³•å¯ä»¥è·³è¿‡æŒ‡å®šæ•°é‡çš„å­—èŠ‚ï¼š\npublic static void main(String[] args) &#123;\n    &#x2F;&#x2F;test.txtï¼šabcd\n    try(FileInputStream inputStream &#x3D; new FileInputStream(&quot;test.txt&quot;)) &#123;\n        System.out.println(inputStream.skip(1));\n        System.out.println((char) inputStream.read());   &#x2F;&#x2F;è·³è¿‡äº†ä¸€ä¸ªå­—èŠ‚\n    &#125;catch (IOException e)&#123;\n        e.printStackTrace();\n    &#125;\n&#125;\n\næ³¨æ„ï¼šFileInputStreamæ˜¯ä¸æ”¯æŒreset()çš„ï¼Œè™½ç„¶æœ‰è¿™ä¸ªæ–¹æ³•ï¼Œä½†æ˜¯è¿™é‡Œå…ˆä¸æåŠã€‚\næ—¢ç„¶æœ‰è¾“å…¥æµï¼Œé‚£ä¹ˆæ–‡ä»¶è¾“å‡ºæµä¹Ÿæ˜¯å¿…ä¸å¯å°‘çš„ï¼š\npublic static void main(String[] args) &#123;\n    &#x2F;&#x2F;è¾“å‡ºæµä¹Ÿéœ€è¦åœ¨æœ€åè°ƒç”¨close()æ–¹æ³•ï¼Œå¹¶ä¸”åŒæ ·æ”¯æŒtry-with-resource\n    try(FileOutputStream outputStream &#x3D; new FileOutputStream(&quot;output.txt&quot;)) &#123;\n        &#x2F;&#x2F;æ³¨æ„ï¼šè‹¥æ­¤æ–‡ä»¶ä¸å­˜åœ¨ï¼Œä¼šç›´æ¥åˆ›å»ºè¿™ä¸ªæ–‡ä»¶ï¼\n    &#125;catch (IOException e)&#123;\n        e.printStackTrace();\n    &#125;\n&#125;\n\nè¾“å‡ºæµæ²¡æœ‰read()æ“ä½œè€Œæ˜¯write()æ“ä½œï¼Œä½¿ç”¨æ–¹æ³•åŒè¾“å…¥æµä¸€æ ·ï¼Œåªä¸è¿‡ç°åœ¨çš„æ–¹å‘å˜ä¸ºæˆ‘ä»¬å‘æ–‡ä»¶é‡Œå†™å…¥å†…å®¹ï¼š\npublic static void main(String[] args) &#123;\n    try(FileOutputStream outputStream &#x3D; new FileOutputStream(&quot;output.txt&quot;)) &#123;\n        outputStream.write(&#39;c&#39;);   &#x2F;&#x2F;åŒreadä¸€æ ·ï¼Œå¯ä»¥ç›´æ¥å†™å…¥å†…å®¹\n      \toutputStream.write(&quot;lbwnb&quot;.getBytes());   &#x2F;&#x2F;ä¹Ÿå¯ä»¥ç›´æ¥å†™å…¥byte[]\n      \toutputStream.write(&quot;lbwnb&quot;.getBytes(), 0, 1);  &#x2F;&#x2F;åŒä¸Šè¾“å…¥æµ\n      \toutputStream.flush();  &#x2F;&#x2F;å»ºè®®åœ¨æœ€åæ‰§è¡Œä¸€æ¬¡åˆ·æ–°æ“ä½œï¼ˆå¼ºåˆ¶å†™å…¥ï¼‰æ¥ä¿è¯æ•°æ®æ­£ç¡®å†™å…¥åˆ°ç¡¬ç›˜æ–‡ä»¶ä¸­\n    &#125;catch (IOException e)&#123;\n        e.printStackTrace();\n    &#125;\n&#125;\n\né‚£ä¹ˆå¦‚æœæ˜¯æˆ‘åªæƒ³åœ¨æ–‡ä»¶å°¾éƒ¨è¿›è¡Œè¿½åŠ å†™å…¥æ•°æ®å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥è°ƒç”¨å¦ä¸€ä¸ªæ„é€ æ–¹æ³•æ¥å®ç°ï¼š\npublic static void main(String[] args) &#123;\n    try(FileOutputStream outputStream &#x3D; new FileOutputStream(&quot;output.txt&quot;, true)) &#123;\n        outputStream.write(&quot;lb&quot;.getBytes());   &#x2F;&#x2F;ç°åœ¨åªä¼šè¿›è¡Œè¿½åŠ å†™å…¥ï¼Œè€Œä¸æ˜¯ç›´æ¥æ›¿æ¢åŸæ–‡ä»¶å†…å®¹\n        outputStream.flush();\n    &#125;catch (IOException e)&#123;\n        e.printStackTrace();\n    &#125;\n&#125;\n\nåˆ©ç”¨è¾“å…¥æµå’Œè¾“å‡ºæµï¼Œå°±å¯ä»¥è½»æ¾å®ç°æ–‡ä»¶çš„æ‹·è´äº†ï¼š\npublic static void main(String[] args) &#123;\n    try(FileOutputStream outputStream &#x3D; new FileOutputStream(&quot;output.txt&quot;);\n        FileInputStream inputStream &#x3D; new FileInputStream(&quot;test.txt&quot;)) &#123;   &#x2F;&#x2F;å¯ä»¥å†™å…¥å¤šä¸ª\n        byte[] bytes &#x3D; new byte[10];    &#x2F;&#x2F;ä½¿ç”¨é•¿åº¦ä¸º10çš„byte[]åšä¼ è¾“åª’ä»‹\n        int tmp;   &#x2F;&#x2F;å­˜å‚¨æœ¬åœ°è¯»å–å­—èŠ‚æ•°\n        while ((tmp &#x3D; inputStream.read(bytes)) !&#x3D; -1)&#123;   &#x2F;&#x2F;ç›´åˆ°è¯»å–å®Œæˆä¸ºæ­¢\n            outputStream.write(bytes, 0, tmp);    &#x2F;&#x2F;å†™å…¥å¯¹åº”é•¿åº¦çš„æ•°æ®åˆ°è¾“å‡ºæµ\n        &#125;\n    &#125;catch (IOException e)&#123;\n        e.printStackTrace();\n    &#125;\n&#125;\n\næ–‡ä»¶å­—ç¬¦æµå­—ç¬¦æµä¸åŒäºå­—èŠ‚ï¼Œå­—ç¬¦æµæ˜¯ä»¥ä¸€ä¸ªå…·ä½“çš„å­—ç¬¦è¿›è¡Œè¯»å–ï¼Œå› æ­¤å®ƒåªé€‚åˆè¯»çº¯æ–‡æœ¬çš„æ–‡ä»¶ï¼Œå¦‚æœæ˜¯å…¶ä»–ç±»å‹çš„æ–‡ä»¶ä¸é€‚ç”¨ï¼š\npublic static void main(String[] args) &#123;\n    try(FileReader reader &#x3D; new FileReader(&quot;test.txt&quot;))&#123;\n      \treader.skip(1);   &#x2F;&#x2F;ç°åœ¨è·³è¿‡çš„æ˜¯ä¸€ä¸ªå­—ç¬¦\n        System.out.println((char) reader.read());   &#x2F;&#x2F;ç°åœ¨æ˜¯æŒ‰å­—ç¬¦è¿›è¡Œè¯»å–ï¼Œè€Œä¸æ˜¯å­—èŠ‚ï¼Œå› æ­¤å¯ä»¥ç›´æ¥è¯»å–åˆ°ä¸­æ–‡å­—ç¬¦\n    &#125;catch (IOException e)&#123;\n        e.printStackTrace();\n    &#125;\n&#125;\n\nåŒç†ï¼Œå­—ç¬¦æµåªæ”¯æŒchar[]ç±»å‹ä½œä¸ºå­˜å‚¨ï¼š\npublic static void main(String[] args) &#123;\n    try(FileReader reader &#x3D; new FileReader(&quot;test.txt&quot;))&#123;\n        char[] str &#x3D; new char[10];\n        reader.read(str);\n        System.out.println(str);   &#x2F;&#x2F;ç›´æ¥è¯»å–åˆ°char[]ä¸­\n    &#125;catch (IOException e)&#123;\n        e.printStackTrace();\n    &#125;\n&#125;\n\næ—¢ç„¶æœ‰äº†Readerè‚¯å®šä¹Ÿæœ‰Writerï¼š\npublic static void main(String[] args) &#123;\n    try(FileWriter writer &#x3D; new FileWriter(&quot;output.txt&quot;))&#123;\n      \twriter.getEncoding();   &#x2F;&#x2F;æ”¯æŒè·å–ç¼–ç ï¼ˆä¸åŒçš„æ–‡æœ¬æ–‡ä»¶å¯èƒ½ä¼šæœ‰ä¸åŒçš„ç¼–ç ç±»å‹ï¼‰\n       writer.write(&#39;ç‰›&#39;);\n       writer.append(&#39;ç‰›&#39;);   &#x2F;&#x2F;å…¶å®åŠŸèƒ½å’Œwriteä¸€æ ·\n      \twriter.flush();   &#x2F;&#x2F;åˆ·æ–°\n    &#125;catch (IOException e)&#123;\n        e.printStackTrace();\n    &#125;\n&#125;\n\næˆ‘ä»¬å‘ç°ä¸ä»…æœ‰write()æ–¹æ³•ï¼Œè¿˜æœ‰ä¸€ä¸ªappend()æ–¹æ³•ï¼Œä½†æ˜¯å®é™…ä¸Šä»–ä»¬æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œçœ‹æºç ï¼š\n&#x2F;**\n * Appends the specified character to this writer.\n *\n * &lt;p&gt; An invocation of this method of the form &lt;tt&gt;out.append(c)&lt;&#x2F;tt&gt;\n * behaves in exactly the same way as the invocation\n *\n * &lt;pre&gt;\n *     out.write(c) &lt;&#x2F;pre&gt;\n *\n * @param  c\n *         The 16-bit character to append\n *\n * @return  This writer\n *\n * @throws  IOException\n *          If an I&#x2F;O error occurs\n *\n * @since 1.5\n *&#x2F;\npublic Writer append(char c) throws IOException &#123;\n    write(c);\n    return this;\n&#125;\n\nappendæ”¯æŒåƒStringBuilderé‚£æ ·çš„é“¾å¼è°ƒç”¨ï¼Œè¿”å›çš„æ˜¯Writerå¯¹è±¡æœ¬èº«ã€‚\nç»ƒä¹ ï¼šå°è¯•ä¸€ä¸‹ç”¨Readerå’ŒWriteræ¥æ‹·è´çº¯æ–‡æœ¬æ–‡ä»¶\nFileç±»Fileç±»ä¸“é—¨ç”¨äºè¡¨ç¤ºä¸€ä¸ªæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ï¼Œåªä¸è¿‡å®ƒåªæ˜¯ä»£è¡¨è¿™ä¸ªæ–‡ä»¶ï¼Œä½†å¹¶ä¸æ˜¯è¿™ä¸ªæ–‡ä»¶æœ¬èº«ã€‚é€šè¿‡Fileå¯¹è±¡ï¼Œå¯ä»¥æ›´å¥½åœ°ç®¡ç†å’Œæ“ä½œç¡¬ç›˜ä¸Šçš„æ–‡ä»¶ã€‚\npublic static void main(String[] args) &#123;\n    File file &#x3D; new File(&quot;test.txt&quot;);   &#x2F;&#x2F;ç›´æ¥åˆ›å»ºæ–‡ä»¶å¯¹è±¡ï¼Œå¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç»å¯¹è·¯å¾„\n    System.out.println(file.exists());   &#x2F;&#x2F;æ­¤æ–‡ä»¶æ˜¯å¦å­˜åœ¨\n    System.out.println(file.length());   &#x2F;&#x2F;è·å–æ–‡ä»¶çš„å¤§å°\n    System.out.println(file.isDirectory());   &#x2F;&#x2F;æ˜¯å¦ä¸ºä¸€ä¸ªæ–‡ä»¶å¤¹\n    System.out.println(file.canRead());   &#x2F;&#x2F;æ˜¯å¦å¯è¯»\n    System.out.println(file.canWrite());   &#x2F;&#x2F;æ˜¯å¦å¯å†™\n    System.out.println(file.canExecute());   &#x2F;&#x2F;æ˜¯å¦å¯æ‰§è¡Œ\n&#125;\n\né€šè¿‡Fileå¯¹è±¡ï¼Œæˆ‘ä»¬å°±èƒ½å¿«é€Ÿå¾—åˆ°æ–‡ä»¶çš„æ‰€æœ‰ä¿¡æ¯ï¼Œå¦‚æœæ˜¯æ–‡ä»¶å¤¹ï¼Œè¿˜å¯ä»¥è·å–æ–‡ä»¶å¤¹å†…éƒ¨çš„æ–‡ä»¶åˆ—è¡¨ç­‰å†…å®¹ï¼š\nFile file &#x3D; new File(&quot;&#x2F;&quot;);\nSystem.out.println(Arrays.toString(file.list()));   &#x2F;&#x2F;å¿«é€Ÿè·å–æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶åç§°åˆ—è¡¨\nfor (File f : file.listFiles())&#123;   &#x2F;&#x2F;æ‰€æœ‰å­æ–‡ä»¶çš„Fileå¯¹è±¡\n    System.out.println(f.getAbsolutePath());   &#x2F;&#x2F;è·å–æ–‡ä»¶çš„ç»å¯¹è·¯å¾„\n&#125;\n\nå¦‚æœæˆ‘ä»¬å¸Œæœ›è¯»å–æŸä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œå¯ä»¥ç›´æ¥å°†Fileä½œä¸ºå‚æ•°ä¼ å…¥å­—èŠ‚æµæˆ–æ˜¯å­—ç¬¦æµï¼š\nFile file &#x3D; new File(&quot;test.txt&quot;);\ntry (FileInputStream inputStream &#x3D; new FileInputStream(file))&#123;   &#x2F;&#x2F;ç›´æ¥åšå‚æ•°\n    System.out.println(inputStream.available());\n&#125;catch (IOException e)&#123;\n    e.printStackTrace();\n&#125;\n\nç»ƒä¹ ï¼šå°è¯•æ‹·è´æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åˆ°å¦ä¸€ä¸ªæ–‡ä»¶å¤¹\n\nç¼“å†²æµè™½ç„¶æ™®é€šçš„æ–‡ä»¶æµè¯»å–æ–‡ä»¶æ•°æ®éå¸¸ä¾¿æ·ï¼Œä½†æ˜¯æ¯æ¬¡éƒ½éœ€è¦ä»å¤–éƒ¨I&#x2F;Oè®¾å¤‡å»è·å–æ•°æ®ï¼Œç”±äºå¤–éƒ¨I&#x2F;Oè®¾å¤‡çš„é€Ÿåº¦ä¸€èˆ¬éƒ½è¾¾ä¸åˆ°å†…å­˜çš„è¯»å–é€Ÿåº¦ï¼Œå¾ˆæœ‰å¯èƒ½é€ æˆç¨‹åºååº”è¿Ÿé’ï¼Œå› æ­¤æ€§èƒ½è¿˜ä¸å¤Ÿé«˜ï¼Œè€Œç¼“å†²æµæ­£å¦‚å…¶åç§°ä¸€æ ·ï¼Œå®ƒèƒ½å¤Ÿæä¾›ä¸€ä¸ªç¼“å†²ï¼Œæå‰å°†éƒ¨åˆ†å†…å®¹å­˜å…¥å†…å­˜ï¼ˆç¼“å†²åŒºï¼‰åœ¨ä¸‹æ¬¡è¯»å–æ—¶ï¼Œå¦‚æœç¼“å†²åŒºä¸­å­˜åœ¨æ­¤æ•°æ®ï¼Œåˆ™æ— éœ€å†å»è¯·æ±‚å¤–éƒ¨è®¾å¤‡ã€‚åŒç†ï¼Œå½“å‘å¤–éƒ¨è®¾å¤‡å†™å…¥æ•°æ®æ—¶ï¼Œä¹Ÿæ˜¯ç”±ç¼“å†²åŒºå¤„ç†ï¼Œè€Œä¸æ˜¯ç›´æ¥å‘å¤–éƒ¨è®¾å¤‡å†™å…¥ã€‚\n\nç¼“å†²å­—èŠ‚æµè¦åˆ›å»ºä¸€ä¸ªç¼“å†²å­—èŠ‚æµï¼Œåªéœ€è¦å°†åŸæœ¬çš„æµä½œä¸ºæ„é€ å‚æ•°ä¼ å…¥BufferedInputStreamå³å¯ï¼š\npublic static void main(String[] args) &#123;\n    try (BufferedInputStream bufferedInputStream &#x3D; new BufferedInputStream(new FileInputStream(&quot;test.txt&quot;)))&#123;   &#x2F;&#x2F;ä¼ å…¥FileInputStream\n        System.out.println((char) bufferedInputStream.read());   &#x2F;&#x2F;æ“ä½œå’ŒåŸæ¥çš„æµæ˜¯ä¸€æ ·çš„\n    &#125;catch (IOException e)&#123;\n        e.printStackTrace();\n    &#125;\n&#125;\n\nå®é™…ä¸Šè¿›è¡ŒI&#x2F;Oæ“ä½œçš„å¹¶ä¸æ˜¯BufferedInputStreamï¼Œè€Œæ˜¯æˆ‘ä»¬ä¼ å…¥çš„FileInputStreamï¼Œè€ŒBufferedInputStreamè™½ç„¶æœ‰ç€åŒæ ·çš„æ–¹æ³•ï¼Œä½†æ˜¯è¿›è¡Œäº†ä¸€äº›é¢å¤–çš„å¤„ç†ç„¶åå†è°ƒç”¨FileInputStreamçš„åŒåæ–¹æ³•ï¼Œè¿™æ ·çš„å†™æ³•ç§°ä¸ºè£…é¥°è€…æ¨¡å¼\npublic void close() throws IOException &#123;\n    byte[] buffer;\n    while ( (buffer &#x3D; buf) !&#x3D; null) &#123;\n        if (bufUpdater.compareAndSet(this, buffer, null)) &#123;  &#x2F;&#x2F;CASæ— é”ç®—æ³•ï¼Œå¹¶å‘ä¼šç”¨åˆ°ï¼Œæš‚æ—¶ä¸ç®¡\n            InputStream input &#x3D; in;\n            in &#x3D; null;\n            if (input !&#x3D; null)\n                input.close();\n            return;\n        &#125;\n        &#x2F;&#x2F; Else retry in case a new buf was CASed in fill()\n    &#125;\n&#125;\n\nå®é™…ä¸Šè¿™ç§æ¨¡å¼æ˜¯çˆ¶ç±»FilterInputStreamæä¾›çš„è§„èŒƒï¼Œåé¢æˆ‘ä»¬è¿˜ä¼šè®²åˆ°æ›´å¤šFilterInputStreamçš„å­ç±»ã€‚\næˆ‘ä»¬å¯ä»¥å‘ç°åœ¨BufferedInputStreamä¸­è¿˜å­˜åœ¨ä¸€ä¸ªä¸“é—¨ç”¨äºç¼“å­˜çš„æ•°ç»„ï¼š\n&#x2F;**\n * The internal buffer array where the data is stored. When necessary,\n * it may be replaced by another array of\n * a different size.\n *&#x2F;\nprotected volatile byte buf[];\n\nI&#x2F;Oæ“ä½œä¸€èˆ¬ä¸èƒ½é‡å¤è¯»å–å†…å®¹ï¼ˆæ¯”å¦‚é”®ç›˜å‘é€çš„ä¿¡å·ï¼Œä¸»æœºæ¥æ”¶äº†å°±æ²¡äº†ï¼‰ï¼Œè€Œç¼“å†²æµæä¾›äº†ç¼“å†²æœºåˆ¶ï¼Œä¸€éƒ¨åˆ†å†…å®¹å¯ä»¥è¢«æš‚æ—¶ä¿å­˜ï¼ŒBufferedInputStreamæ”¯æŒreset()å’Œmark()æ“ä½œï¼Œé¦–å…ˆæˆ‘ä»¬æ¥çœ‹çœ‹mark()æ–¹æ³•çš„ä»‹ç»ï¼š\n&#x2F;**\n * Marks the current position in this input stream. A subsequent\n * call to the &lt;code&gt;reset&lt;&#x2F;code&gt; method repositions this stream at\n * the last marked position so that subsequent reads re-read the same bytes.\n * &lt;p&gt;\n * The &lt;code&gt;readlimit&lt;&#x2F;code&gt; argument tells this input stream to\n * allow that many bytes to be read before the mark position gets\n * invalidated.\n * &lt;p&gt;\n * This method simply performs &lt;code&gt;in.mark(readlimit)&lt;&#x2F;code&gt;.\n *\n * @param   readlimit   the maximum limit of bytes that can be read before\n *                      the mark position becomes invalid.\n * @see     java.io.FilterInputStream#in\n * @see     java.io.FilterInputStream#reset()\n *&#x2F;\npublic synchronized void mark(int readlimit) &#123;\n    in.mark(readlimit);\n&#125;\n\nå½“è°ƒç”¨mark()ä¹‹åï¼Œè¾“å…¥æµä¼šä»¥æŸç§æ–¹å¼ä¿ç•™ä¹‹åè¯»å–çš„readlimitæ•°é‡çš„å†…å®¹ï¼Œå½“è¯»å–çš„å†…å®¹æ•°é‡è¶…è¿‡readlimitåˆ™ä¹‹åçš„å†…å®¹ä¸ä¼šè¢«ä¿ç•™ï¼Œå½“è°ƒç”¨reset()ä¹‹åï¼Œä¼šä½¿å¾—å½“å‰çš„è¯»å–ä½ç½®å›åˆ°mark()è°ƒç”¨æ—¶çš„ä½ç½®ã€‚\npublic static void main(String[] args) &#123;\n    try (BufferedInputStream bufferedInputStream &#x3D; new BufferedInputStream(new FileInputStream(&quot;test.txt&quot;)))&#123;\n        bufferedInputStream.mark(1);   &#x2F;&#x2F;åªä¿ç•™ä¹‹åçš„1ä¸ªå­—ç¬¦\n        System.out.println((char) bufferedInputStream.read());\n        System.out.println((char) bufferedInputStream.read());\n        bufferedInputStream.reset();   &#x2F;&#x2F;å›åˆ°markæ—¶çš„ä½ç½®\n        System.out.println((char) bufferedInputStream.read());\n        System.out.println((char) bufferedInputStream.read());\n    &#125;catch (IOException e) &#123;\n        e.printStackTrace();\n    &#125;\n&#125;\n\næˆ‘ä»¬å‘ç°è™½ç„¶åé¢çš„éƒ¨åˆ†æ²¡æœ‰ä¿å­˜ï¼Œä½†æ˜¯ä¾ç„¶èƒ½å¤Ÿæ­£å¸¸è¯»å–ï¼Œå…¶å®mark()åä¿å­˜çš„è¯»å–å†…å®¹æ˜¯å–readlimitå’ŒBufferedInputStreamç±»çš„ç¼“å†²åŒºå¤§å°ä¸¤è€…ä¸­çš„æœ€å¤§å€¼ï¼Œè€Œå¹¶éå®Œå…¨ç”±readlimitç¡®å®šã€‚å› æ­¤æˆ‘ä»¬é™åˆ¶ä¸€ä¸‹ç¼“å†²åŒºå¤§å°ï¼Œå†æ¥è§‚å¯Ÿä¸€ä¸‹ç»“æœï¼š\npublic static void main(String[] args) &#123;\n    try (BufferedInputStream bufferedInputStream &#x3D; new BufferedInputStream(new FileInputStream(&quot;test.txt&quot;), 1))&#123;  &#x2F;&#x2F;å°†ç¼“å†²åŒºå¤§å°è®¾ç½®ä¸º1\n        bufferedInputStream.mark(1);   &#x2F;&#x2F;åªä¿ç•™ä¹‹åçš„1ä¸ªå­—ç¬¦\n        System.out.println((char) bufferedInputStream.read());\n        System.out.println((char) bufferedInputStream.read());   &#x2F;&#x2F;å·²ç»è¶…è¿‡äº†readlimitï¼Œç»§ç»­è¯»å–ä¼šå¯¼è‡´markå¤±æ•ˆ\n        bufferedInputStream.reset();   &#x2F;&#x2F;markå·²ç»å¤±æ•ˆï¼Œæ— æ³•reset()\n        System.out.println((char) bufferedInputStream.read());\n        System.out.println((char) bufferedInputStream.read());\n    &#125;catch (IOException e) &#123;\n        e.printStackTrace();\n    &#125;\n&#125;\n\näº†è§£å®Œäº†BufferedInputStreamä¹‹åï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹BufferedOutputStreamï¼Œå…¶å®å’ŒBufferedInputStreamåŸç†å·®ä¸å¤šï¼Œåªæ˜¯åå‘æ“ä½œï¼š\npublic static void main(String[] args) &#123;\n    try (BufferedOutputStream outputStream &#x3D; new BufferedOutputStream(new FileOutputStream(&quot;output.txt&quot;)))&#123;\n        outputStream.write(&quot;lbwnb&quot;.getBytes());\n        outputStream.flush();\n    &#125;catch (IOException e) &#123;\n        e.printStackTrace();\n    &#125;\n&#125;\n\næ“ä½œå’ŒFileOutputStreamä¸€è‡´ï¼Œè¿™é‡Œå°±ä¸å¤šåšä»‹ç»äº†ã€‚\nç¼“å†²å­—ç¬¦æµç¼“å­˜å­—ç¬¦æµå’Œç¼“å†²å­—èŠ‚æµä¸€æ ·ï¼Œä¹Ÿæœ‰ä¸€ä¸ªä¸“é—¨çš„ç¼“å†²åŒºï¼ŒBufferedReaderæ„é€ æ—¶éœ€è¦ä¼ å…¥ä¸€ä¸ªReaderå¯¹è±¡ï¼š\npublic static void main(String[] args) &#123;\n    try (BufferedReader reader &#x3D; new BufferedReader(new FileReader(&quot;test.txt&quot;)))&#123;\n        System.out.println((char) reader.read());\n    &#125;catch (IOException e) &#123;\n        e.printStackTrace();\n    &#125;\n&#125;\n\nä½¿ç”¨å’Œreaderä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œå†…éƒ¨ä¹ŸåŒ…å«ä¸€ä¸ªç¼“å­˜æ•°ç»„ï¼š\nprivate char cb[];\n\nç›¸æ¯”Readeræ›´æ–¹ä¾¿çš„æ˜¯ï¼Œå®ƒæ”¯æŒæŒ‰è¡Œè¯»å–ï¼š\npublic static void main(String[] args) &#123;\n    try (BufferedReader reader &#x3D; new BufferedReader(new FileReader(&quot;test.txt&quot;)))&#123;\n        System.out.println(reader.readLine());   &#x2F;&#x2F;æŒ‰è¡Œè¯»å–\n    &#125;catch (IOException e) &#123;\n        e.printStackTrace();\n    &#125;\n&#125;\n\nè¯»å–åç›´æ¥å¾—åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå½“ç„¶ï¼Œå®ƒè¿˜èƒ½æŠŠæ¯ä¸€è¡Œå†…å®¹ä¾æ¬¡è½¬æ¢ä¸ºé›†åˆç±»æåˆ°çš„Streamæµï¼š\npublic static void main(String[] args) &#123;\n    try (BufferedReader reader &#x3D; new BufferedReader(new FileReader(&quot;test.txt&quot;)))&#123;\n        reader\n                .lines()\n                .limit(2)\n                .distinct()\n                .sorted()\n                .forEach(System.out::println);\n    &#125;catch (IOException e) &#123;\n        e.printStackTrace();\n    &#125;\n&#125;\n\nå®ƒåŒæ ·ä¹Ÿæ”¯æŒmark()å’Œreset()æ“ä½œï¼š\npublic static void main(String[] args) &#123;\n    try (BufferedReader reader &#x3D; new BufferedReader(new FileReader(&quot;test.txt&quot;)))&#123;\n        reader.mark(1);\n        System.out.println((char) reader.read());\n        reader.reset();\n        System.out.println((char) reader.read());\n    &#125;catch (IOException e) &#123;\n        e.printStackTrace();\n    &#125;\n&#125;\n\nBufferedReaderå¤„ç†çº¯æ–‡æœ¬æ–‡ä»¶æ—¶å°±æ›´åŠ æ–¹ä¾¿äº†ï¼ŒBufferedWriteråœ¨å¤„ç†æ—¶ä¹ŸåŒæ ·æ–¹ä¾¿ï¼š\npublic static void main(String[] args) &#123;\n    try (BufferedWriter reader &#x3D; new BufferedWriter(new FileWriter(&quot;output.txt&quot;)))&#123;\n        reader.newLine();   &#x2F;&#x2F;ä½¿ç”¨newLineè¿›è¡Œæ¢è¡Œ\n        reader.write(&quot;æ±‰å ¡åšæ»´å½³äºä¸å½³äº&quot;);   &#x2F;&#x2F;å¯ä»¥ç›´æ¥å†™å…¥ä¸€ä¸ªå­—ç¬¦ä¸²\n      \treader.flush();   &#x2F;&#x2F;æ¸…ç©ºç¼“å†²åŒº\n    &#125;catch (IOException e) &#123;\n        e.printStackTrace();\n    &#125;\n&#125;\n\n\nè½¬æ¢æµæœ‰æ—¶ä¼šé‡åˆ°è¿™æ ·ä¸€ä¸ªå¾ˆéº»çƒ¦çš„é—®é¢˜ï¼šæˆ‘è¿™é‡Œè¯»å–çš„æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–æ˜¯ä¸€ä¸ªä¸ªå­—ç¬¦ï¼Œä½†æ˜¯æˆ‘åªèƒ½å¾€ä¸€ä¸ªOutputStreamé‡Œè¾“å‡ºï¼Œä½†æ˜¯OutputStreamåˆåªæ”¯æŒbyteç±»å‹ï¼Œå¦‚æœè¦å¾€é‡Œé¢å†™å…¥å†…å®¹ï¼Œè¿›è¡Œæ•°æ®è½¬æ¢å°±ä¼šå¾ˆéº»çƒ¦ï¼Œé‚£ä¹ˆèƒ½å¦æœ‰æ›´åŠ ç®€ä¾¿çš„æ–¹å¼æ¥åšè¿™æ ·çš„äº‹æƒ…å‘¢ï¼Ÿ\npublic static void main(String[] args) &#123;\n    try(OutputStreamWriter writer &#x3D; new OutputStreamWriter(new FileOutputStream(&quot;test.txt&quot;)))&#123;  &#x2F;&#x2F;è™½ç„¶ç»™å®šçš„æ˜¯FileOutputStreamï¼Œä½†æ˜¯ç°åœ¨æ”¯æŒä»¥Writerçš„æ–¹å¼è¿›è¡Œå†™å…¥\n        writer.write(&quot;lbwnb&quot;);   &#x2F;&#x2F;ä»¥æ“ä½œWriterçš„æ ·å­å†™å…¥OutputStream\n    &#125;catch (IOException e)&#123;\n        e.printStackTrace();\n    &#125;\n&#125;\n\nåŒæ ·çš„ï¼Œæˆ‘ä»¬ç°åœ¨åªæ‹¿åˆ°äº†ä¸€ä¸ªInputStreamï¼Œä½†æ˜¯æˆ‘ä»¬å¸Œæœ›èƒ½å¤ŸæŒ‰å­—ç¬¦çš„æ–¹å¼è¯»å–ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨InputStreamReaderæ¥å¸®åŠ©æˆ‘ä»¬å®ç°ï¼š\npublic static void main(String[] args) &#123;\n    try(InputStreamReader reader &#x3D; new InputStreamReader(new FileInputStream(&quot;test.txt&quot;)))&#123;  &#x2F;&#x2F;è™½ç„¶ç»™å®šçš„æ˜¯FileInputStreamï¼Œä½†æ˜¯ç°åœ¨æ”¯æŒä»¥Readerçš„æ–¹å¼è¿›è¡Œè¯»å–\n        System.out.println((char) reader.read());\n    &#125;catch (IOException e)&#123;\n        e.printStackTrace();\n    &#125;\n&#125;\n\nInputStreamReaderå’ŒOutputStreamWriteræœ¬è´¨ä¹Ÿæ˜¯Readerå’ŒWriterï¼Œå› æ­¤å¯ä»¥ç›´æ¥æ”¾å…¥BufferedReaderæ¥å®ç°æ›´åŠ æ–¹ä¾¿çš„æ“ä½œã€‚\n\næ‰“å°æµæ‰“å°æµå…¶å®æˆ‘ä»¬ä»ä¸€å¼€å§‹å°±åœ¨ä½¿ç”¨äº†ï¼Œæ¯”å¦‚System.outå°±æ˜¯ä¸€ä¸ªPrintStreamï¼ŒPrintStreamä¹Ÿç»§æ‰¿è‡ªFilterOutputStreamç±»å› æ­¤ä¾ç„¶æ˜¯è£…é¥°æˆ‘ä»¬ä¼ å…¥çš„è¾“å‡ºæµï¼Œä½†æ˜¯å®ƒå­˜åœ¨è‡ªåŠ¨åˆ·æ–°æœºåˆ¶ï¼Œä¾‹å¦‚å½“å‘PrintStreamæµä¸­å†™å…¥ä¸€ä¸ªå­—èŠ‚æ•°ç»„åè‡ªåŠ¨è°ƒç”¨flush()æ–¹æ³•ã€‚PrintStreamä¹Ÿæ°¸è¿œä¸ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œè€Œæ˜¯ä½¿ç”¨å†…éƒ¨æ£€æŸ¥æœºåˆ¶checkError()æ–¹æ³•è¿›è¡Œé”™è¯¯æ£€æŸ¥ã€‚æœ€æ–¹ä¾¿çš„æ˜¯ï¼Œå®ƒèƒ½å¤Ÿæ ¼å¼åŒ–ä»»æ„çš„ç±»å‹ï¼Œå°†å®ƒä»¬ä»¥å­—ç¬¦ä¸²çš„å½¢å¼å†™å…¥åˆ°è¾“å‡ºæµã€‚\npublic final static PrintStream out &#x3D; null;\n\nå¯ä»¥çœ‹åˆ°System.outä¹Ÿæ˜¯PrintStreamï¼Œä¸è¿‡é»˜è®¤æ˜¯å‘æ§åˆ¶å°æ‰“å°ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è®©å®ƒå‘æ–‡ä»¶ä¸­æ‰“å°ï¼š\npublic static void main(String[] args) &#123;\n    try(PrintStream stream &#x3D; new PrintStream(new FileOutputStream(&quot;test.txt&quot;)))&#123;\n        stream.println(&quot;lbwnb&quot;);   &#x2F;&#x2F;å…¶å®System.outå°±æ˜¯ä¸€ä¸ªPrintStream\n    &#125;catch (IOException e)&#123;\n        e.printStackTrace();\n    &#125;\n&#125;\n\næˆ‘ä»¬å¹³æ—¶ä½¿ç”¨çš„printlnæ–¹æ³•å°±æ˜¯PrintStreamä¸­çš„æ–¹æ³•ï¼Œå®ƒä¼šç›´æ¥æ‰“å°åŸºæœ¬æ•°æ®ç±»å‹æˆ–æ˜¯è°ƒç”¨å¯¹è±¡çš„toString()æ–¹æ³•å¾—åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—ç¬¦ï¼Œæ”¾å…¥ç¼“å†²åŒºå†ç»è¿‡è½¬æ¢æµè¾“å‡ºåˆ°ç»™å®šçš„è¾“å‡ºæµä¸Šã€‚\n\nå› æ­¤å®é™…ä¸Šå†…éƒ¨è¿˜åŒ…å«è¿™ä¸¤ä¸ªå†…å®¹ï¼š\n&#x2F;**\n * Track both the text- and character-output streams, so that their buffers\n * can be flushed without flushing the entire stream.\n *&#x2F;\nprivate BufferedWriter textOut;\nprivate OutputStreamWriter charOut;\n\nä¸æ­¤ç›¸åŒçš„è¿˜æœ‰ä¸€ä¸ªPrintWriterï¼Œä¸è¿‡ä»–ä»¬çš„åŠŸèƒ½åŸºæœ¬ä¸€è‡´ï¼ŒPrintWriterçš„æ„é€ æ–¹æ³•å¯ä»¥æ¥å—ä¸€ä¸ªWriterä½œä¸ºå‚æ•°ï¼Œè¿™é‡Œå°±ä¸å†åšè¿‡å¤šé˜è¿°äº†ã€‚\n\næ•°æ®æµæ•°æ®æµDataInputStreamä¹Ÿæ˜¯FilterInputStreamçš„å­ç±»ï¼ŒåŒæ ·é‡‡ç”¨è£…é¥°è€…æ¨¡å¼ï¼Œæœ€å¤§çš„ä¸åŒæ˜¯å®ƒæ”¯æŒåŸºæœ¬æ•°æ®ç±»å‹çš„ç›´æ¥è¯»å–ï¼š\npublic static void main(String[] args) &#123;\n    try (DataInputStream dataInputStream &#x3D; new DataInputStream(new FileInputStream(&quot;test.txt&quot;)))&#123;\n        System.out.println(dataInputStream.readBoolean());   &#x2F;&#x2F;ç›´æ¥å°†æ•°æ®è¯»å–ä¸ºä»»æ„åŸºæœ¬æ•°æ®ç±»å‹\n    &#125;catch (IOException e) &#123;\n        e.printStackTrace();\n    &#125;\n&#125;\n\nç”¨äºå†™å…¥åŸºæœ¬æ•°æ®ç±»å‹ï¼š\npublic static void main(String[] args) &#123;\n    try (DataOutputStream dataOutputStream &#x3D; new DataOutputStream(new FileOutputStream(&quot;output.txt&quot;)))&#123;\n        dataOutputStream.writeBoolean(false);\n    &#125;catch (IOException e) &#123;\n        e.printStackTrace();\n    &#125;\n&#125;\n\næ³¨æ„ï¼Œå†™å…¥çš„æ˜¯äºŒè¿›åˆ¶æ•°æ®ï¼Œå¹¶ä¸æ˜¯å†™å…¥çš„å­—ç¬¦ä¸²ï¼Œä½¿ç”¨DataInputStreamå¯ä»¥è¯»å–ï¼Œä¸€èˆ¬ä»–ä»¬æ˜¯é…åˆä¸€èµ·ä½¿ç”¨çš„ã€‚\nå¯¹è±¡æµæ—¢ç„¶åŸºæœ¬æ•°æ®ç±»å‹èƒ½å¤Ÿè¯»å–å’Œå†™å…¥åŸºæœ¬æ•°æ®ç±»å‹ï¼Œé‚£ä¹ˆèƒ½å¦å°†å¯¹è±¡ä¹Ÿæ”¯æŒå‘¢ï¼ŸObjectOutputStreamä¸ä»…æ”¯æŒåŸºæœ¬æ•°æ®ç±»å‹ï¼Œé€šè¿‡å¯¹å¯¹è±¡çš„åºåˆ—åŒ–æ“ä½œï¼Œä»¥æŸç§æ ¼å¼ä¿å­˜å¯¹è±¡ï¼Œæ¥æ”¯æŒå¯¹è±¡ç±»å‹çš„IOï¼Œæ³¨æ„ï¼šå®ƒä¸æ˜¯ç»§æ‰¿è‡ªFilterInputStreamçš„ã€‚\npublic static void main(String[] args) &#123;\n    try (ObjectOutputStream outputStream &#x3D; new ObjectOutputStream(new FileOutputStream(&quot;output.txt&quot;));\n         ObjectInputStream inputStream &#x3D; new ObjectInputStream(new FileInputStream(&quot;output.txt&quot;)))&#123;\n        People people &#x3D; new People(&quot;lbw&quot;);\n        outputStream.writeObject(people);\n      \toutputStream.flush();\n        people &#x3D; (People) inputStream.readObject();\n        System.out.println(people.name);\n    &#125;catch (IOException | ClassNotFoundException e) &#123;\n        e.printStackTrace();\n    &#125;\n&#125;\n\nstatic class People implements Serializable&#123;   &#x2F;&#x2F;å¿…é¡»å®ç°Serializableæ¥å£æ‰èƒ½è¢«åºåˆ—åŒ–\n    String name;\n\n    public People(String name)&#123;\n        this.name &#x3D; name;\n    &#125;\n&#125;\n\nåœ¨æˆ‘ä»¬åç»­çš„æ“ä½œä¸­ï¼Œæœ‰å¯èƒ½ä¼šä½¿å¾—è¿™ä¸ªç±»çš„ä¸€äº›ç»“æ„å‘ç”Ÿå˜åŒ–ï¼Œè€ŒåŸæ¥ä¿å­˜çš„æ•°æ®åªé€‚ç”¨äºä¹‹å‰ç‰ˆæœ¬çš„è¿™ä¸ªç±»ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹æ³•æ¥åŒºåˆ†ç±»çš„ä¸åŒç‰ˆæœ¬ï¼š\nstatic class People implements Serializable&#123;\n    private static final long serialVersionUID &#x3D; 123456;   &#x2F;&#x2F;åœ¨åºåˆ—åŒ–æ—¶ï¼Œä¼šè¢«è‡ªåŠ¨æ·»åŠ è¿™ä¸ªå±æ€§ï¼Œå®ƒä»£è¡¨å½“å‰ç±»çš„ç‰ˆæœ¬ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ‰‹åŠ¨æŒ‡å®šç‰ˆæœ¬ã€‚\n\n    String name;\n\n    public People(String name)&#123;\n        this.name &#x3D; name;\n    &#125;\n&#125;\n\nå½“å‘ç”Ÿç‰ˆæœ¬ä¸åŒ¹é…æ—¶ï¼Œä¼šæ— æ³•ååºåˆ—åŒ–ä¸ºå¯¹è±¡ï¼š\njava.io.InvalidClassException: com.test.Main$People; local class incompatible: stream classdesc serialVersionUID &#x3D; 123456, local class serialVersionUID &#x3D; 1234567\n\tat java.io.ObjectStreamClass.initNonProxy(ObjectStreamClass.java:699)\n\tat java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:2003)\n\tat java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1850)\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2160)\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1667)\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:503)\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:461)\n\tat com.test.Main.main(Main.java:27)\n\nå¦‚æœæˆ‘ä»¬ä¸å¸Œæœ›æŸäº›å±æ€§å‚ä¸åˆ°åºåˆ—åŒ–ä¸­è¿›è¡Œä¿å­˜ï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ transientå…³é”®å­—ï¼š\npublic static void main(String[] args) &#123;\n    try (ObjectOutputStream outputStream &#x3D; new ObjectOutputStream(new FileOutputStream(&quot;output.txt&quot;));\n         ObjectInputStream inputStream &#x3D; new ObjectInputStream(new FileInputStream(&quot;output.txt&quot;)))&#123;\n        People people &#x3D; new People(&quot;lbw&quot;);\n        outputStream.writeObject(people);\n        outputStream.flush();\n        people &#x3D; (People) inputStream.readObject();\n        System.out.println(people.name);  &#x2F;&#x2F;è™½ç„¶èƒ½å¾—åˆ°å¯¹è±¡ï¼Œä½†æ˜¯nameå±æ€§å¹¶æ²¡æœ‰ä¿å­˜ï¼Œå› æ­¤ä¸ºnull\n    &#125;catch (IOException | ClassNotFoundException e) &#123;\n        e.printStackTrace();\n    &#125;\n&#125;\n\nstatic class People implements Serializable&#123;\n    private static final long serialVersionUID &#x3D; 1234567;\n\n    transient String name;\n\n    public People(String name)&#123;\n        this.name &#x3D; name;\n    &#125;\n&#125;\n\nå…¶å®æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ä¸€äº›JDKå†…éƒ¨çš„æºç ä¸­ï¼Œä¹Ÿå­˜åœ¨å¤§é‡çš„transientå…³é”®å­—ï¼Œä½¿å¾—æŸäº›å±æ€§ä¸å‚ä¸åºåˆ—åŒ–ï¼Œå–æ¶ˆè¿™äº›ä¸å¿…è¦ä¿å­˜çš„å±æ€§ï¼Œå¯ä»¥èŠ‚çœæ•°æ®ç©ºé—´å ç”¨ä»¥åŠå‡å°‘åºåˆ—åŒ–æ—¶é—´ã€‚\n\nJava I&#x2F;Oç¼–ç¨‹å®æˆ˜å›¾ä¹¦ç®¡ç†ç³»ç»Ÿè¦æ±‚å®ç°ä¸€ä¸ªå›¾ä¹¦ç®¡ç†ç³»ç»Ÿï¼ˆæ§åˆ¶å°ï¼‰ï¼Œæ”¯æŒä»¥ä¸‹åŠŸèƒ½ï¼šä¿å­˜ä¹¦ç±ä¿¡æ¯ï¼ˆè¦æ±‚æŒä¹…åŒ–ï¼‰ï¼ŒæŸ¥è¯¢ã€æ·»åŠ ã€åˆ é™¤ã€ä¿®æ”¹ä¹¦ç±ä¿¡æ¯ã€‚\n","slug":"JavaSEç¬”è®°ï¼ˆäº”ï¼‰","date":"2022-03-09T03:42:02.632Z","categories_index":"JavaSEç¬”è®°","tags_index":"JavaSEç¬”è®°","author_index":"YangChao"},{"id":"57463bbf531fd357a773ee081e3f2258","title":"JavaSEç¬”è®°ï¼ˆå››ï¼‰","content":"Javaæ³›å‹ä¸é›†åˆç±»åœ¨å‰é¢æˆ‘ä»¬å­¦ä¹ äº†æœ€é‡è¦çš„ç±»å’Œå¯¹è±¡ï¼Œäº†è§£äº†é¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ€æƒ³ï¼Œæ³¨æ„ï¼Œéå¸¸é‡è¦ï¼Œé¢å‘å¯¹è±¡æ˜¯å¿…é¡»è¦æ·±å…¥ç†è§£å’ŒæŒæ¡çš„å†…å®¹ï¼Œä¸èƒ½è‰è‰ç»“æŸã€‚åœ¨æœ¬ç« èŠ‚ï¼Œæˆ‘ä»¬ä¼šç»§ç»­æ·±å…¥äº†è§£ï¼Œä»æˆ‘ä»¬çš„æ³›å‹å¼€å§‹ï¼Œå†åˆ°æˆ‘ä»¬çš„æ•°æ®ç»“æ„ï¼Œæœ€åå†å¼€å§‹æˆ‘ä»¬çš„é›†åˆç±»å­¦ä¹ ã€‚\nèµ°è¿›æ³›å‹ä¸ºäº†ç»Ÿè®¡å­¦ç”Ÿæˆç»©ï¼Œè¦æ±‚è®¾è®¡ä¸€ä¸ªScoreå¯¹è±¡ï¼ŒåŒ…æ‹¬è¯¾ç¨‹åç§°ã€è¯¾ç¨‹å·ã€è¯¾ç¨‹æˆç»©ï¼Œä½†æ˜¯æˆç»©åˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§æ˜¯ä»¥ä¼˜ç§€ã€è‰¯å¥½ã€åˆæ ¼ æ¥ä½œä¸ºç»“æœï¼Œè¿˜æœ‰ä¸€ç§å°±æ˜¯ 60.0ã€75.5ã€92.5 è¿™æ ·çš„æ•°å­—åˆ†æ•°ï¼Œé‚£ä¹ˆç°åœ¨è¯¥å¦‚ä½•å»è®¾è®¡è¿™æ ·çš„ä¸€ä¸ªScoreç±»å‘¢ï¼Ÿç°åœ¨çš„é—®é¢˜å°±æ˜¯ï¼Œæˆç»©å¯èƒ½æ˜¯Stringç±»å‹ï¼Œä¹Ÿå¯èƒ½æ˜¯Integerç±»å‹ï¼Œå¦‚ä½•æ‰èƒ½å¾ˆå¥½çš„å»å­˜å¯èƒ½å‡ºç°çš„ä¸¤ç§ç±»å‹å‘¢ï¼Ÿ\npublic class Score &#123;\n    String name;\n    String id;\n    Object score;  &#x2F;&#x2F;å› ä¸ºObjectæ˜¯æ‰€æœ‰ç±»å‹çš„çˆ¶ç±»ï¼Œå› æ­¤æ—¢å¯ä»¥å­˜æ”¾Integerä¹Ÿèƒ½å­˜æ”¾String\n\n  \tpublic Score(String name, String id, Object score) &#123;\n        this.name &#x3D; name;\n        this.id &#x3D; id;\n        this.score &#x3D; score;\n    &#125;\n&#125;\n\nä»¥ä¸Šçš„æ–¹æ³•è™½ç„¶å¾ˆå¥½åœ°è§£å†³äº†å¤šç§ç±»å‹å­˜å‚¨é—®é¢˜ï¼Œä½†æ˜¯Objectç±»å‹åœ¨ç¼–è¯‘é˜¶æ®µå¹¶ä¸å…·æœ‰è‰¯å¥½çš„ç±»å‹åˆ¤æ–­èƒ½åŠ›ï¼Œå¾ˆå®¹æ˜“å‡ºç°ä»¥ä¸‹çš„æƒ…å†µï¼š\npublic static void main(String[] args) &#123;\n\n    Score score &#x3D; new Score(&quot;æ•°æ®ç»“æ„ä¸ç®—æ³•åŸºç¡€&quot;, &quot;EP074512&quot;, &quot;ä¼˜ç§€&quot;);  &#x2F;&#x2F;æ˜¯Stringç±»å‹çš„\n\n    &#x2F;&#x2F;....\n\n    Integer number &#x3D; (Integer) score.score;  &#x2F;&#x2F;è·å–æˆç»©éœ€è¦è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œè™½ç„¶å¹¶ä¸æ˜¯ä¸€å¼€å§‹çš„ç±»å‹ï¼Œä½†æ˜¯ç¼–è¯‘ä¸ä¼šæŠ¥é”™\n&#125;\n\n&#x2F;&#x2F;è¿è¡Œæ—¶å‡ºç°å¼‚å¸¸ï¼\nException in thread &quot;main&quot; java.lang.ClassCastException: java.lang.String cannot be cast to java.lang.Integer\n\tat com.test.Main.main(Main.java:14)\n\nä½¿ç”¨Objectç±»å‹ä½œä¸ºå¼•ç”¨ï¼Œå–å€¼åªèƒ½è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œæ˜¾ç„¶æ— æ³•åœ¨ç¼–è¯‘æœŸç¡®å®šç±»å‹æ˜¯å¦å®‰å…¨ï¼Œé¡¹ç›®ä¸­ä»£ç é‡éå¸¸ä¹‹å¤§ï¼Œè¿›è¡Œç±»å‹æ¯”è¾ƒåˆä¼šå¯¼è‡´é¢å¤–çš„å¼€é”€å’Œå¢åŠ ä»£ç é‡ï¼Œå¦‚æœä¸ç»æ¯”è¾ƒå°±å¾ˆå®¹æ˜“å‡ºç°ç±»å‹è½¬æ¢å¼‚å¸¸ï¼Œä»£ç çš„å¥å£®æ€§æœ‰æ‰€æ¬ ç¼ºï¼ï¼ˆæ­¤æ–¹æ³•è™½ç„¶å¯è¡Œï¼Œä½†å¹¶ä¸æ˜¯æœ€å¥½çš„æ–¹æ³•ï¼‰\nä¸ºäº†è§£å†³ä»¥ä¸Šé—®é¢˜ï¼ŒJDK1.5æ–°å¢äº†æ³›å‹ï¼Œå®ƒèƒ½å¤Ÿåœ¨ç¼–è¯‘é˜¶æ®µå°±æ£€æŸ¥ç±»å‹å®‰å…¨ï¼Œå¤§å¤§æå‡å¼€å‘æ•ˆç‡ã€‚\npublic class Score&lt;T&gt; &#123;   &#x2F;&#x2F;å°†Scoreè½¬å˜ä¸ºæ³›å‹ç±»&lt;T&gt;\n    String name;\n    String id;\n    T score;  &#x2F;&#x2F;Tä¸ºæ³›å‹ï¼Œæ ¹æ®ç”¨æˆ·æä¾›çš„ç±»å‹è‡ªåŠ¨å˜æˆå¯¹åº”ç±»å‹\n\n    public Score(String name, String id, T score) &#123;   &#x2F;&#x2F;æä¾›çš„scoreç±»å‹å³ä¸ºTä»£è¡¨çš„ç±»å‹\n        this.name &#x3D; name;\n        this.id &#x3D; id;\n        this.score &#x3D; score;\n    &#125;\n&#125;\n\npublic static void main(String[] args) &#123;\n    &#x2F;&#x2F;ç›´æ¥ç¡®å®šScoreçš„ç±»å‹æ˜¯å­—ç¬¦ä¸²ç±»å‹çš„æˆç»©\n    Score&lt;String&gt; score &#x3D; new Score&lt;String&gt;(&quot;æ•°æ®ç»“æ„ä¸ç®—æ³•åŸºç¡€&quot;, &quot;EP074512&quot;, &quot;ä¼˜ç§€&quot;);\n\n    Integer i &#x3D; score.score;  &#x2F;&#x2F;ç¼–è¯‘ä¸é€šè¿‡ï¼Œå› ä¸ºæˆå‘˜å˜é‡scoreç±»å‹è¢«å®šä¸ºStringï¼\n&#125;\n\næ³›å‹å°†æ•°æ®ç±»å‹çš„ç¡®å®šæ§åˆ¶åœ¨äº†ç¼–è¯‘é˜¶æ®µï¼Œåœ¨ç¼–å†™ä»£ç çš„æ—¶å€™å°±èƒ½æ˜ç¡®æ³›å‹çš„ç±»å‹ï¼å¦‚æœç±»å‹ä¸ç¬¦åˆï¼Œå°†æ— æ³•é€šè¿‡ç¼–è¯‘ï¼\næ³›å‹æœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼ˆå¹¶ä¸æ˜¯JVMæ‰€æ”¯æŒçš„è¯­æ³•ï¼Œç¼–è¯‘åä¼šè½¬æˆç¼–è¯‘å™¨æ”¯æŒçš„è¯­æ³•ï¼Œæ¯”å¦‚ä¹‹å‰çš„foreachå°±æ˜¯ï¼‰ï¼Œåœ¨ç¼–è¯‘åä¼šè¢«æ“¦é™¤ï¼Œå˜å›ä¸Šé¢çš„Objectç±»å‹è°ƒç”¨ï¼Œä½†æ˜¯ç±»å‹è½¬æ¢ç”±ç¼–è¯‘å™¨å¸®æˆ‘ä»¬å®Œæˆï¼Œè€Œä¸æ˜¯æˆ‘ä»¬è‡ªå·±è¿›è¡Œè½¬æ¢ï¼ˆå®‰å…¨ï¼‰\n&#x2F;&#x2F;åç¼–è¯‘åçš„ä»£ç \npublic static void main(String[] args) &#123;\n        Score score &#x3D; new Score(&quot;æ•°æ®ç»“æ„ä¸ç®—æ³•åŸºç¡€&quot;, &quot;EP074512&quot;, &quot;ä¼˜ç§€&quot;);\n        String i &#x3D; (String)score.score;   &#x2F;&#x2F;å…¶å®ä¾ç„¶ä¼šå˜ä¸ºå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œä½†æ˜¯è¿™æ˜¯ç”±ç¼–è¯‘å™¨å¸®æˆ‘ä»¬å®Œæˆçš„\n    &#125;\n\nåƒè¿™æ ·åœ¨ç¼–è¯‘åæ³›å‹çš„å†…å®¹æ¶ˆå¤±è½¬å˜ä¸ºObjectçš„æƒ…å†µç§°ä¸ºç±»å‹æ“¦é™¤ï¼ˆé‡è¦ï¼Œéœ€è¦å®Œå…¨ç†è§£ï¼‰ï¼Œæ‰€ä»¥æ³›å‹åªæ˜¯ä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬åœ¨ç¼–è¯‘é˜¶æ®µç¡®å®šç±»å‹çš„ä¸€ç§è¯­æ³•è€Œå·²ï¼Œå¹¶ä¸æ˜¯JVMæ‰€æ”¯æŒçš„ã€‚\nç»¼ä¸Šï¼Œæ³›å‹å…¶å®å°±æ˜¯ä¸€ç§ç±»å‹å‚æ•°ï¼Œç”¨äºæŒ‡å®šç±»å‹ã€‚\næ³›å‹çš„ä½¿ç”¨æ³›å‹ç±»ä¸Šä¸€èŠ‚æˆ‘ä»¬å·²ç»æåˆ°æ³›å‹ç±»çš„å®šä¹‰ï¼Œå®é™…ä¸Šå°±æ˜¯æ™®é€šçš„ç±»å¤šäº†ä¸€ä¸ªç±»å‹å‚æ•°ï¼Œä¹Ÿå°±æ˜¯åœ¨ä½¿ç”¨æ—¶éœ€è¦æŒ‡å®šå…·ä½“çš„æ³›å‹ç±»å‹ã€‚æ³›å‹çš„åç§°ä¸€èˆ¬å–å•ä¸ªå¤§å†™å­—æ¯ï¼Œæ¯”å¦‚Tä»£è¡¨Typeï¼Œä¹Ÿå°±æ˜¯ç±»å‹çš„è‹±æ–‡å•è¯é¦–å­—æ¯ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ·»åŠ æ•°å­—å’Œå…¶ä»–çš„å­—ç¬¦ã€‚\npublic class Score&lt;T&gt; &#123;   &#x2F;&#x2F;å°†Scoreè½¬å˜ä¸ºæ³›å‹ç±»&lt;T&gt;\n    String name;\n    String id;\n    T score;  &#x2F;&#x2F;Tä¸ºæ³›å‹ï¼Œæ ¹æ®ç”¨æˆ·æä¾›çš„ç±»å‹è‡ªåŠ¨å˜æˆå¯¹åº”ç±»å‹\n\n    public Score(String name, String id, T score) &#123;   &#x2F;&#x2F;æä¾›çš„scoreç±»å‹å³ä¸ºTä»£è¡¨çš„ç±»å‹\n        this.name &#x3D; name;\n        this.id &#x3D; id;\n        this.score &#x3D; score;\n    &#125;\n&#125;\n\nåœ¨ä¸€ä¸ªæ™®é€šç±»å‹ä¸­å®šä¹‰æ³›å‹ï¼Œæ³›å‹Tç§°ä¸ºå‚æ•°åŒ–ç±»å‹ï¼Œåœ¨å®šä¹‰æ³›å‹ç±»çš„å¼•ç”¨æ—¶ï¼Œéœ€è¦æ˜ç¡®æŒ‡å‡ºç±»å‹ï¼š\nScore&lt;String&gt; score &#x3D; new Score&lt;String&gt;(&quot;æ•°æ®ç»“æ„ä¸ç®—æ³•åŸºç¡€&quot;, &quot;EP074512&quot;, &quot;ä¼˜ç§€&quot;);\n\næ­¤æ—¶ç±»ä¸­çš„æ³›å‹Tå·²ç»è¢«æ›¿æ¢ä¸ºStringäº†ï¼Œåœ¨æˆ‘ä»¬è·å–æ­¤å¯¹è±¡çš„æ³›å‹å±æ€§æ—¶ï¼Œç¼–è¯‘å™¨ä¼šç›´æ¥å‘Šè¯‰æˆ‘ä»¬ç±»å‹ï¼š\nInteger i &#x3D; score.score;   &#x2F;&#x2F;ç¼–è¯‘ä¸é€šè¿‡ï¼Œå› ä¸ºæˆå‘˜å˜é‡scoreæ˜ç¡®ä¸ºStringç±»å‹\n\næ³¨æ„ï¼Œæ³›å‹åªèƒ½ç”¨äºå¯¹è±¡å±æ€§ï¼Œä¹Ÿå°±æ˜¯éé™æ€çš„æˆå‘˜å˜é‡æ‰èƒ½ä½¿ç”¨ï¼š\nstatic T score;   &#x2F;&#x2F;é”™è¯¯ï¼Œä¸èƒ½åœ¨é™æ€æˆå‘˜ä¸Šå®šä¹‰\n\nç”±æ­¤å¯è§ï¼Œæ³›å‹æ˜¯åªæœ‰åœ¨åˆ›å»ºå¯¹è±¡åç¼–è¯‘å™¨æ‰èƒ½æ˜ç¡®æ³›å‹ç±»å‹ï¼Œè€Œé™æ€ç±»å‹æ˜¯ç±»æ‰€å…·æœ‰çš„å±æ€§ï¼Œä¸è¶³ä»¥ä½¿å¾—ç¼–è¯‘å™¨å®Œæˆç±»å‹æ¨æ–­ã€‚\næ³›å‹æ— æ³•ä½¿ç”¨åŸºæœ¬ç±»å‹ï¼Œå¦‚æœéœ€è¦åŸºæœ¬ç±»å‹ï¼Œåªèƒ½ä½¿ç”¨åŸºæœ¬ç±»å‹çš„åŒ…è£…ç±»è¿›è¡Œæ›¿æ¢ï¼\nScore&lt;double&gt; score &#x3D; new Score&lt;double&gt;(&quot;æ•°æ®ç»“æ„ä¸ç®—æ³•åŸºç¡€&quot;, &quot;EP074512&quot;, 90.5);  &#x2F;&#x2F;ç¼–è¯‘ä¸é€šè¿‡\n\né‚£ä¹ˆä¸ºä»€ä¹ˆæ³›å‹æ— æ³•ä½¿ç”¨åŸºæœ¬ç±»å‹å‘¢ï¼Ÿå›æƒ³ä¸Šä¸€èŠ‚æåˆ°çš„ç±»å‹æ“¦é™¤ï¼Œå…¶å®å°±å¾ˆå¥½ç†è§£äº†ã€‚ç”±äºJVMæ²¡æœ‰æ³›å‹æ¦‚å¿µï¼Œå› æ­¤æ³›å‹æœ€åè¿˜æ˜¯ä¼šè¢«ç¼–è¯‘å™¨ç¼–è¯‘ä¸ºObjectï¼Œå¹¶é‡‡ç”¨å¼ºåˆ¶ç±»å‹è½¬æ¢çš„å½¢å¼è¿›è¡Œç±»å‹åŒ¹é…ï¼Œè€Œæˆ‘ä»¬çš„åŸºæœ¬æ•°æ®ç±»å‹å’Œå¼•ç”¨ç±»å‹ä¹‹é—´æ— æ³•è¿›è¡Œç±»å‹è½¬æ¢ï¼Œæ‰€ä»¥åªèƒ½ä½¿ç”¨åŸºæœ¬ç±»å‹çš„åŒ…è£…ç±»æ¥å¤„ç†ã€‚\nç±»çš„æ³›å‹æ–¹æ³•æ³›å‹æ–¹æ³•çš„ä½¿ç”¨ä¹Ÿå¾ˆç®€å•ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠå®ƒå½“åšä¸€ä¸ªæœªçŸ¥çš„ç±»å‹æ¥ä½¿ç”¨å³å¯ï¼š\npublic T getScore() &#123;    &#x2F;&#x2F;è‹¥æ–¹æ³•çš„è¿”å›å€¼ç±»å‹ä¸ºæ³›å‹ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è¿›è¡Œæ¨æ–­\n  return score;\n&#125;\n\npublic void setScore(T score) &#123;   &#x2F;&#x2F;è‹¥æ–¹æ³•çš„å½¢å¼å‚æ•°ä¸ºæ³›å‹ï¼Œé‚£ä¹ˆå®å‚åªèƒ½æ˜¯å®šä¹‰æ—¶çš„ç±»å‹\n  this.score &#x3D; score;\n&#125;\n\nScore&lt;String&gt; score &#x3D; new Score&lt;String&gt;(&quot;æ•°æ®ç»“æ„ä¸ç®—æ³•åŸºç¡€&quot;, &quot;EP074512&quot;, &quot;ä¼˜ç§€&quot;);\nscore.setScore(10);   &#x2F;&#x2F;ç¼–è¯‘ä¸é€šè¿‡ï¼Œå› ä¸ºåªæ¥å—Stringç±»å‹\n\nåŒæ ·åœ°ï¼Œé™æ€æ–¹æ³•æ— æ³•ç›´æ¥ä½¿ç”¨ç±»å®šä¹‰çš„æ³›å‹ï¼ˆæ³¨æ„æ˜¯æ— æ³•ç›´æ¥ä½¿ç”¨ï¼Œé™æ€æ–¹æ³•å¯ä»¥ä½¿ç”¨æ³›å‹ï¼‰\nè‡ªå®šä¹‰æ³›å‹æ–¹æ³•é‚£ä¹ˆå¦‚æœæˆ‘æƒ³åœ¨é™æ€æ–¹æ³•ä¸­ä½¿ç”¨æ³›å‹å‘¢ï¼Ÿé¦–å…ˆæˆ‘ä»¬è¦æ˜ç¡®ä¹‹å‰ä¸ºä»€ä¹ˆæ— æ³•ä½¿ç”¨æ³›å‹ï¼Œå› ä¸ºä¹‹å‰æˆ‘ä»¬çš„æ³›å‹å®šä¹‰æ˜¯åœ¨ç±»ä¸Šçš„ï¼Œåªæœ‰æ˜ç¡®å…·ä½“çš„ç±»å‹æ‰èƒ½å¼€å§‹ä½¿ç”¨ï¼Œä¹Ÿå°±æ˜¯åˆ›å»ºå¯¹è±¡æ—¶å®Œæˆç±»å‹ç¡®å®šï¼Œä½†æ˜¯é™æ€æ–¹æ³•ä¸éœ€è¦ä¾é™„äºå¯¹è±¡ï¼Œé‚£ä¹ˆåªèƒ½åœ¨ä½¿ç”¨æ—¶å†æ¥ç¡®å®šäº†ï¼Œæ‰€ä»¥é™æ€æ–¹æ³•å¯ä»¥ä½¿ç”¨æ³›å‹ï¼Œä½†æ˜¯éœ€è¦å•ç‹¬å®šä¹‰ï¼š\npublic static &lt;E&gt; void test(E e)&#123;   &#x2F;&#x2F;åœ¨æ–¹æ³•å®šä¹‰å‰å£°æ˜æ³›å‹\n  System.out.println(e);\n&#125;\n\nåŒç†ï¼Œæˆå‘˜æ–¹æ³•ä¹Ÿèƒ½è‡ªè¡Œå®šä¹‰æ³›å‹ï¼Œåœ¨å®é™…ä½¿ç”¨æ—¶å†è¿›è¡Œç±»å‹ç¡®å®šï¼š\npublic &lt;E&gt; void test(E e)&#123;\n  System.out.println(e);\n&#125;\n\nå…¶å®ï¼Œæ— è®ºæ˜¯æ³›å‹ç±»è¿˜æ˜¯æ³›å‹æ–¹æ³•ï¼Œå†ä½¿ç”¨æ—¶ä¸€å®šè¦èƒ½å¤Ÿè¿›è¡Œç±»å‹æ¨æ–­ï¼Œæ˜ç¡®ç±»å‹æ‰è¡Œã€‚\næ³¨æ„ä¸€å®šè¦åŒºåˆ†ç±»å®šä¹‰çš„æ³›å‹å’Œæ–¹æ³•å‰å®šä¹‰çš„æ³›å‹ï¼\næ³›å‹å¼•ç”¨å¯ä»¥çœ‹åˆ°æˆ‘ä»¬åœ¨å®šä¹‰ä¸€ä¸ªæ³›å‹ç±»çš„å¼•ç”¨æ—¶ï¼Œéœ€è¦åœ¨åé¢æŒ‡å‡ºæ­¤ç±»å‹ï¼š\nScore&lt;Integer&gt; score;  &#x2F;&#x2F;å£°æ˜æ³›å‹ä¸ºIntegerç±»å‹\n\nå¦‚æœä¸å¸Œæœ›æŒ‡å®šç±»å‹ï¼Œæˆ–æ˜¯å¸Œæœ›æ­¤å¼•ç”¨ç±»å‹å¯ä»¥å¼•ç”¨ä»»æ„æ³›å‹çš„Scoreç±»å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨?é€šé…ç¬¦ï¼Œæ¥è¡¨ç¤ºè‡ªåŠ¨åŒ¹é…ä»»æ„çš„å¯ç”¨ç±»å‹ï¼š\nScore&lt;?&gt; score;   &#x2F;&#x2F;scoreå¯ä»¥å¼•ç”¨ä»»æ„çš„Scoreç±»å‹å¯¹è±¡äº†ï¼\n\né‚£ä¹ˆä½¿ç”¨é€šé…ç¬¦ä¹‹åï¼Œå¾—åˆ°çš„æ³›å‹æˆå‘˜å˜é‡ä¼šæ˜¯ä»€ä¹ˆç±»å‹å‘¢ï¼Ÿ\nObject o &#x3D; score.getScore();   &#x2F;&#x2F;åªèƒ½å˜ä¸ºObject\n\nå› ä¸ºä½¿ç”¨äº†é€šé…ç¬¦ï¼Œç¼–è¯‘å™¨å°±æ— æ³•è¿›è¡Œç±»å‹æ¨æ–­ï¼Œæ‰€ä»¥åªèƒ½ä½¿ç”¨åŸå§‹ç±»å‹ã€‚\nåœ¨å­¦ä¹ äº†æ³›å‹çš„ç•Œé™åï¼Œæˆ‘ä»¬è¿˜ä¼šç»§ç»­äº†è§£é€šé…ç¬¦çš„ä½¿ç”¨ã€‚\næ³›å‹çš„ç•Œé™ç°åœ¨æœ‰ä¸€ä¸ªæ–°çš„éœ€æ±‚ï¼Œç°åœ¨æ²¡æœ‰Stringç±»å‹çš„æˆç»©äº†ï¼Œä½†æ˜¯æˆç»©ä¾ç„¶å¯èƒ½æ˜¯æ•´æ•°ï¼Œä¹Ÿå¯èƒ½æ˜¯å°æ•°ï¼Œè¿™æ—¶æˆ‘ä»¬ä¸å¸Œæœ›ç”¨æˆ·å°†æ³›å‹æŒ‡å®šä¸ºé™¤æ•°å­—ç±»å‹å¤–çš„å…¶ä»–ç±»å‹ï¼Œæˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨åˆ°æ³›å‹çš„ä¸Šç•Œå®šä¹‰ï¼š\npublic class Score&lt;T extends Number&gt; &#123;   &#x2F;&#x2F;è®¾å®šæ³›å‹ä¸Šç•Œï¼Œå¿…é¡»æ˜¯Numberçš„å­ç±»\n    private final String name;\n    private final String id;\n    private T score;\n\n    public Score(String name, String id, T score) &#123;\n        this.name &#x3D; name;\n        this.id &#x3D; id;\n        this.score &#x3D; score;\n    &#125;\n\n    public T getScore() &#123;\n        return score;\n    &#125;\n&#125;\n\né€šè¿‡extendså…³é”®å­—è¿›è¡Œä¸Šç•Œé™å®šï¼Œåªæœ‰æŒ‡å®šç±»å‹æˆ–æŒ‡å®šç±»å‹çš„å­ç±»æ‰èƒ½ä½œä¸ºç±»å‹å‚æ•°ã€‚\nåŒæ ·çš„ï¼Œæ³›å‹é€šé…ç¬¦ä¹Ÿæ”¯æŒæ³›å‹çš„ç•Œé™ï¼š\nScore&lt;? extends Number&gt; score;  &#x2F;&#x2F;é™å®šä¸ºåŒ¹é…NumberåŠå…¶å­ç±»çš„ç±»å‹\n\nåŒç†ï¼Œæ—¢ç„¶æ³›å‹æœ‰ä¸Šé™ï¼Œé‚£ä¹ˆä¹Ÿæœ‰ä¸‹é™ï¼š\nScore&lt;? super Integer&gt; score;   &#x2F;&#x2F;é™å®šä¸ºåŒ¹é…IntegeråŠå…¶çˆ¶ç±»\n\né€šè¿‡superå…³é”®å­—è¿›è¡Œä¸‹ç•Œé™å®šï¼Œåªæœ‰æŒ‡å®šç±»å‹æˆ–æŒ‡å®šç±»å‹çš„çˆ¶ç±»æ‰èƒ½ä½œä¸ºç±»å‹å‚æ•°ã€‚\nå›¾è§£å¦‚ä¸‹ï¼š\n\n\né‚£ä¹ˆé™å®šäº†ä¸Šç•Œåï¼Œæˆ‘ä»¬å†æ¥ä½¿ç”¨è¿™ä¸ªå¯¹è±¡çš„æ³›å‹æˆå‘˜ï¼Œä¼šå˜æˆä»€ä¹ˆç±»å‹å‘¢ï¼Ÿ\nScore&lt;? extends Number&gt; score &#x3D; new Score&lt;&gt;(&quot;æ•°æ®ç»“æ„ä¸ç®—æ³•åŸºç¡€&quot;, &quot;EP074512&quot;, 10);\nNumber o &#x3D; score.getScore();    &#x2F;&#x2F;å¾—åˆ°çš„ç»“æœä¸ºä¸Šç•Œç±»å‹\n\nä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦æˆ‘ä»¬æŒ‡å®šäº†ä¸Šç•Œåï¼Œç¼–è¯‘å™¨å°±å°†èŒƒå›´ä»åŸå§‹ç±»å‹Objectæå‡åˆ°æˆ‘ä»¬æŒ‡å®šçš„ä¸Šç•ŒNumberï¼Œä½†æ˜¯ä¾ç„¶æ— æ³•æ˜ç¡®å…·ä½“ç±»å‹ã€‚æ€è€ƒï¼šé‚£å¦‚æœå®šä¹‰ä¸‹é™å‘¢ï¼Ÿ\né‚£ä¹ˆæ—¢ç„¶æˆ‘ä»¬å¯ä»¥ç»™æ³›å‹ç±»é™å®šä¸Šç•Œï¼Œç°åœ¨æˆ‘ä»¬æ¥çœ‹ç¼–è¯‘åç»“æœå‘¢ï¼š\n&#x2F;&#x2F;ä½¿ç”¨javap -l è¿›è¡Œåç¼–è¯‘\npublic class com.test.Score&lt;T extends java.lang.Number&gt; &#123;\n  public com.test.Score(java.lang.String, java.lang.String, T);\n    LineNumberTable:\n      line 8: 0\n      line 9: 4\n      line 10: 9\n      line 11: 14\n      line 12: 19\n    LocalVariableTable:\n      Start  Length  Slot  Name   Signature\n          0      20     0  this   Lcom&#x2F;test&#x2F;Score;\n          0      20     1  name   Ljava&#x2F;lang&#x2F;String;\n          0      20     2    id   Ljava&#x2F;lang&#x2F;String;\n          0      20     3 score   Ljava&#x2F;lang&#x2F;Number;   &#x2F;&#x2F;å¯ä»¥çœ‹åˆ°scoreçš„ç±»å‹ç›´æ¥è¢«ç¼–è¯‘ä¸ºNumberç±»\n\n  public T getScore();\n    LineNumberTable:\n      line 15: 0\n    LocalVariableTable:\n      Start  Length  Slot  Name   Signature\n          0       5     0  this   Lcom&#x2F;test&#x2F;Score;\n&#125;\n\n\nå› æ­¤ï¼Œä¸€æ—¦ç¡®ç«‹ä¸Šé™åï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å°†ç±»å‹æå‡åˆ°ä¸Šé™ç±»å‹ã€‚\né’»çŸ³è¿ç®—ç¬¦æˆ‘ä»¬å‘ç°ï¼Œæ¯æ¬¡åˆ›å»ºæ³›å‹å¯¹è±¡éƒ½éœ€è¦åœ¨å‰åéƒ½æ ‡æ˜ç±»å‹ï¼Œä½†æ˜¯å®é™…ä¸Šåé¢çš„ç±»å‹å£°æ˜æ˜¯å¯ä»¥å»æ‰çš„ï¼Œå› ä¸ºæˆ‘ä»¬åœ¨ä¼ å…¥å‚æ•°æ—¶æˆ–å®šä¹‰æ³›å‹ç±»çš„å¼•ç”¨æ—¶ï¼Œå°±å·²ç»æ˜ç¡®äº†ç±»å‹ï¼Œå› æ­¤JDK1.7æä¾›äº†é’»çŸ³è¿ç®—ç¬¦æ¥ç®€åŒ–ä»£ç ï¼š\nScore&lt;Integer&gt; score &#x3D; new Score&lt;Integer&gt;(&quot;æ•°æ®ç»“æ„ä¸ç®—æ³•åŸºç¡€&quot;, &quot;EP074512&quot;, 10);  &#x2F;&#x2F;1.7ä¹‹å‰\n\nScore&lt;Integer&gt; score &#x3D; new Score&lt;&gt;(&quot;æ•°æ®ç»“æ„ä¸ç®—æ³•åŸºç¡€&quot;, &quot;EP074512&quot;, 10);  &#x2F;&#x2F;1.7ä¹‹å\n\næ³›å‹ä¸å¤šæ€æ³›å‹ä¸ä»…ä»…å¯ä»¥å¯ä»¥å®šä¹‰åœ¨ç±»ä¸Šï¼ŒåŒæ—¶ä¹Ÿèƒ½å®šä¹‰åœ¨æ¥å£ä¸Šï¼š\npublic interface ScoreInterface&lt;T&gt; &#123;\n    T getScore();\n    void setScore(T t);\n&#125;\n\nå½“å®ç°æ­¤æ¥å£æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©åœ¨å®ç°ç±»æ˜ç¡®æ³›å‹ç±»å‹æˆ–æ˜¯ç»§ç»­ä½¿ç”¨æ­¤æ³›å‹ï¼Œè®©å…·ä½“åˆ›å»ºçš„å¯¹è±¡æ¥ç¡®å®šç±»å‹ã€‚\npublic class Score&lt;T&gt; implements ScoreInterface&lt;T&gt;&#123;   &#x2F;&#x2F;å°†Scoreè½¬å˜ä¸ºæ³›å‹ç±»&lt;T&gt;\n    private final String name;\n    private final String id;\n    private T score;\n\n    public Score(String name, String id, T score) &#123; \n        this.name &#x3D; name;\n        this.id &#x3D; id;\n        this.score &#x3D; score;\n    &#125;\n\n    public T getScore() &#123;\n        return score;\n    &#125;\n\n    @Override\n    public void setScore(T score) &#123;\n        this.score &#x3D; score;\n    &#125;\n&#125;\n\npublic class StringScore implements ScoreInterface&lt;String&gt;&#123;   &#x2F;&#x2F;åœ¨å®ç°æ—¶æ˜ç¡®ç±»å‹\n\n    @Override\n    public String getScore() &#123;\n        return null;\n    &#125;\n\n    @Override\n    public void setScore(String s) &#123;\n\n    &#125;\n&#125;\n\næŠ½è±¡ç±»åŒç†ï¼Œè¿™é‡Œå°±ä¸å¤šåšæ¼”ç¤ºäº†ã€‚\nå¤šæ€ç±»å‹æ“¦é™¤æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼Œæ—¢ç„¶ç»§æ‰¿åæ˜ç¡®äº†æ³›å‹ç±»å‹ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆ@Overrideä¸ä¼šå‡ºç°é”™è¯¯å‘¢ï¼Œé‡å†™çš„æ¡ä»¶æ˜¯éœ€è¦å’Œçˆ¶ç±»çš„è¿”å›å€¼ç±»å‹ã€å½¢å¼å‚æ•°ä¸€è‡´ï¼Œè€Œæ³›å‹é»˜è®¤çš„åŸå§‹ç±»å‹æ˜¯Objectç±»å‹ï¼Œå­ç±»æ˜ç¡®åå˜ä¸ºNumberç±»å‹ï¼Œè¿™æ˜¾ç„¶ä¸æ»¡è¶³é‡å†™çš„æ¡ä»¶ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆä¾ç„¶èƒ½ç¼–è¯‘é€šè¿‡å‘¢ï¼Ÿ\nclass A&lt;T&gt;&#123;\n    private T t;\n    public T get()&#123;\n        return t;\n    &#125;\n    public void set(T t)&#123;\n        this.t&#x3D;t;\n    &#125;\n&#125;\n\nclass B extends A&lt;Number&gt;&#123;\n    private Number n;\n\n    @Override\n    public Number get()&#123;   &#x2F;&#x2F;è¿™å¹¶ä¸æ»¡è¶³é‡å†™çš„è¦æ±‚ï¼Œå› ä¸ºåªèƒ½é‡å†™çˆ¶ç±»åŒæ ·è¿”å›å€¼å’Œå‚æ•°çš„æ–¹æ³•ï¼Œä½†æ˜¯è¿™æ ·å´èƒ½å¤Ÿé€šè¿‡ç¼–è¯‘ï¼\n        return t;\n    &#125;\n\n    @Override\n    public void set(Number t)&#123;\n        this.t&#x3D;t;\n    &#125;\n&#125;\n\né€šè¿‡åç¼–è¯‘è¿›è¡Œè§‚å¯Ÿï¼Œå®é™…ä¸Šæ˜¯ç¼–è¯‘å™¨å¸®åŠ©æˆ‘ä»¬ç”Ÿæˆäº†ä¸¤ä¸ªæ¡¥æ¥æ–¹æ³•ç”¨äºæ”¯æŒé‡å†™ï¼š\n@Override\npublic Object get()&#123;\n  return this.get();&#x2F;&#x2F;è°ƒç”¨è¿”å›Numberçš„é‚£ä¸ªæ–¹æ³•\n&#125;\n\n@Override\npublic void set(Object t )&#123;\n  this.set((Number)t ); &#x2F;&#x2F;è°ƒç”¨å‚æ•°æ˜¯Numberçš„é‚£ä¸ªæ–¹æ³•\n&#125;\n\n\næ•°æ®ç»“æ„åŸºç¡€è­¦å‘Šï¼æœ¬ç« æœ€éš¾çš„éƒ¨åˆ†ï¼\nå­¦ä¹ é›†åˆç±»ä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜æœ‰æœ€å…³é”®çš„å†…å®¹éœ€è¦å­¦ä¹ ï¼ŒåŒç¬¬ä¸€ç« ä¸€æ ·ï¼Œè‡ªåº•å‘ä¸Šæ‰æ˜¯æœ€ä½³çš„å­¦ä¹ æ–¹å‘ï¼Œæ¯”èµ·ç›´æ¥å¸¦å¤§å®¶è®¤è¯†é›†åˆç±»ï¼Œä¸å¦‚å…ˆäº†è§£ä¸€ä¸‹æ•°æ®ç»“æ„ï¼Œåªæœ‰äº†è§£äº†æ•°æ®ç»“æ„åŸºç¡€ï¼Œæ‰èƒ½æ›´å¥½åœ°å­¦ä¹ é›†åˆç±»ï¼ŒåŒæ—¶ï¼Œæ•°æ®ç»“æ„ä¹Ÿæ˜¯ä½ ä»¥åæ·±å…¥å­¦ä¹ JDKæºç çš„å¿…å¤‡æ¡ä»¶ï¼ï¼ˆå­¦ä¹ ä¸è¦å¿«é¤å¼ï¼ï¼‰å½“ç„¶ï¼Œæˆ‘ä»¬ä¸»è¦æ˜¯è®²è§£Javaï¼Œæ•°æ®ç»“æ„ä½œä¸ºé“ºå«ä½œç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬åªä¼šè®²è§£å…³é”®çš„éƒ¨åˆ†ï¼Œå…¶ä»–éƒ¨åˆ†å¯ä»¥ä¸‹å»è‡ªè¡Œäº†è§£ã€‚\nåœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œæ•°æ®ç»“æ„æ˜¯ä¸€ç§æ•°æ®ç»„ç»‡ã€ç®¡ç†å’Œå­˜å‚¨çš„æ ¼å¼,å®ƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬å®ç°å¯¹æ•°æ®é«˜æ•ˆçš„è®¿é—®å’Œä¿®æ”¹ã€‚æ›´å‡†ç¡®åœ°è¯´,æ•°æ®ç»“æ„æ˜¯æ•°æ®å€¼çš„é›†åˆï¼Œå¯ä»¥ä½“ç°æ•°æ®å€¼ä¹‹é—´çš„å…³ç³»ï¼Œä»¥åŠå¯ä»¥å¯¹æ•°æ®è¿›è¡Œåº”ç”¨çš„å‡½æ•°æˆ–æ“ä½œã€‚\né€šä¿—åœ°è¯´ï¼Œæˆ‘ä»¬éœ€è¦å»å­¦ä¹ åœ¨è®¡ç®—æœºä¸­å¦‚ä½•å»æ›´å¥½åœ°ç®¡ç†æˆ‘ä»¬çš„æ•°æ®ï¼Œæ‰èƒ½è®©æˆ‘ä»¬å¯¹æˆ‘ä»¬çš„æ•°æ®æ§åˆ¶æ›´åŠ çµæ´»ï¼\nçº¿æ€§è¡¨çº¿æ€§è¡¨æ˜¯æœ€åŸºæœ¬çš„ä¸€ç§æ•°æ®ç»“æ„ï¼Œå®ƒæ˜¯è¡¨ç¤ºä¸€ç»„ç›¸åŒç±»å‹æ•°æ®çš„æœ‰é™åºåˆ—ï¼Œä½ å¯ä»¥æŠŠå®ƒä¸æ•°ç»„è¿›è¡Œå‚è€ƒï¼Œä½†æ˜¯å®ƒå¹¶ä¸æ˜¯æ•°ç»„ï¼Œçº¿æ€§è¡¨æ˜¯ä¸€ç§è¡¨ç»“æ„ï¼Œå®ƒèƒ½å¤Ÿæ”¯æŒæ•°æ®çš„æ’å…¥ã€åˆ é™¤ã€æ›´æ–°ã€æŸ¥è¯¢ç­‰ï¼ŒåŒæ—¶æ•°ç»„å¯ä»¥éšæ„å­˜æ”¾åœ¨æ•°ç»„ä¸­ä»»æ„ä½ç½®ï¼Œè€Œçº¿æ€§è¡¨åªèƒ½ä¾æ¬¡æœ‰åºæ’åˆ—ï¼Œä¸èƒ½å‡ºç°ç©ºéš™ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦è¿›ä¸€æ­¥çš„è®¾è®¡ã€‚\né¡ºåºè¡¨å°†æ•°æ®ä¾æ¬¡å­˜å‚¨åœ¨è¿ç»­çš„æ•´å—ç‰©ç†ç©ºé—´ä¸­ï¼Œè¿™ç§å­˜å‚¨ç»“æ„ç§°ä¸ºé¡ºåºå­˜å‚¨ç»“æ„ï¼Œè€Œä»¥è¿™ç§æ–¹å¼å®ç°çš„çº¿æ€§è¡¨ï¼Œæˆ‘ä»¬ç§°ä¸ºé¡ºåºè¡¨ã€‚\nåŒæ ·çš„ï¼Œè¡¨ä¸­çš„æ¯ä¸€ä¸ªä¸ªä½“éƒ½è¢«ç§°ä¸ºå…ƒç´ ï¼Œå…ƒç´ å·¦è¾¹çš„å…ƒç´ ï¼ˆä¸Šä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œç§°ä¸ºå‰é©±ï¼ŒåŒç†ï¼Œå³è¾¹çš„å…ƒç´ ï¼ˆåä¸€ä¸ªå…ƒç´ ï¼‰ç§°ä¸ºåé©±ã€‚\n\næˆ‘ä»¬è®¾è®¡çº¿æ€§è¡¨çš„ç›®æ ‡å°±æ˜¯ä¸ºäº†å»æ›´å¥½åœ°ç®¡ç†æˆ‘ä»¬çš„æ•°æ®ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥åŸºäºæ•°ç»„ï¼Œæ¥è¿›è¡Œå°è£…ï¼Œå®ç°å¢åˆ æ”¹æŸ¥ï¼æ—¢ç„¶è¦å­˜å‚¨ä¸€ç»„æ•°æ®ï¼Œé‚£ä¹ˆå¾ˆå®¹æ˜“è”æƒ³åˆ°æˆ‘ä»¬ä¹‹å‰å­¦è¿‡çš„æ•°ç»„ï¼Œæ•°ç»„å°±èƒ½å¤Ÿå®¹çº³ä¸€ç»„åŒç±»å‹çš„æ•°æ®ã€‚\nç›®æ ‡ï¼šä»¥æ•°ç»„ä¸ºåº•å±‚ï¼Œç¼–å†™ä»¥ä¸‹æŠ½è±¡ç±»çš„å…·ä½“å®ç°\n&#x2F;**\n * çº¿æ€§è¡¨æŠ½è±¡ç±»\n * @param &lt;E&gt; å­˜å‚¨çš„å…ƒç´ (Element)ç±»å‹\n *&#x2F;\npublic abstract class AbstractList&lt;E&gt; &#123;\n    &#x2F;**\n     * è·å–è¡¨çš„é•¿åº¦\n     * @return é¡ºåºè¡¨çš„é•¿åº¦\n     *&#x2F;\n    public abstract int size();\n\n    &#x2F;**\n     * æ·»åŠ ä¸€ä¸ªå…ƒç´ \n     * @param e å…ƒç´ \n     * @param index è¦æ·»åŠ çš„ä½ç½®(ç´¢å¼•)\n     *&#x2F;\n    public abstract void add(E e, int index);\n\n    &#x2F;**\n     * ç§»é™¤æŒ‡å®šä½ç½®çš„å…ƒç´ \n     * @param index ä½ç½®\n     * @return ç§»é™¤çš„å…ƒç´ \n     *&#x2F;\n    public abstract E remove(int index);\n\n    &#x2F;**\n     * è·å–æŒ‡å®šä½ç½®çš„å…ƒç´ \n     * @param index ä½ç½®\n     * @return å…ƒç´ \n     *&#x2F;\n    public abstract E get(int index);\n&#125;\n\né“¾è¡¨æ•°æ®åˆ†æ•£çš„å­˜å‚¨åœ¨ç‰©ç†ç©ºé—´ä¸­ï¼Œé€šè¿‡ä¸€æ ¹çº¿ä¿å­˜ç€å®ƒä»¬ä¹‹é—´çš„é€»è¾‘å…³ç³»ï¼Œè¿™ç§å­˜å‚¨ç»“æ„ç§°ä¸ºé“¾å¼å­˜å‚¨ç»“æ„\nå®é™…ä¸Šï¼Œå°±æ˜¯æ¯ä¸€ä¸ªç»“ç‚¹å­˜æ”¾ä¸€ä¸ªå…ƒç´ å’Œä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€ä¸ªç»“ç‚¹çš„å¼•ç”¨ï¼ˆCè¯­è¨€é‡Œé¢æ˜¯æŒ‡é’ˆï¼ŒJavaä¸­å°±æ˜¯å¯¹è±¡çš„å¼•ç”¨ï¼Œä»£è¡¨ä¸‹ä¸€ä¸ªç»“ç‚¹å¯¹è±¡ï¼‰\n\nåˆ©ç”¨è¿™ç§æ€æƒ³ï¼Œæˆ‘ä»¬å†æ¥å°è¯•å®ç°ä¸Šé¢çš„æŠ½è±¡ç±»ï¼Œä»å®é™…çš„ä»£ç ä¸­æ„Ÿå—ï¼\næ¯”è¾ƒï¼šé¡ºåºè¡¨å’Œé“¾è¡¨çš„ä¼˜å¼‚ï¼Ÿ\né¡ºåºè¡¨ä¼˜ç¼ºç‚¹ï¼š\n\nè®¿é—®é€Ÿåº¦å¿«ï¼Œéšæœºè®¿é—®æ€§èƒ½é«˜\næ’å…¥å’Œåˆ é™¤çš„æ•ˆç‡ä½ä¸‹ï¼Œæç«¯æƒ…å†µä¸‹éœ€è¦å˜æ›´æ•´ä¸ªè¡¨\nä¸æ˜“æ‰©å……ï¼Œéœ€è¦å¤åˆ¶å¹¶é‡æ–°åˆ›å»ºæ•°ç»„\n\né“¾è¡¨ä¼˜ç¼ºç‚¹ï¼š\n\næ’å…¥å’Œåˆ é™¤æ•ˆç‡é«˜ï¼Œåªéœ€è¦æ”¹å˜è¿æ¥ç‚¹çš„æŒ‡å‘å³å¯\nåŠ¨æ€æ‰©å……å®¹é‡ï¼Œæ— éœ€æ‹…å¿ƒå®¹é‡é—®é¢˜\nè®¿é—®å…ƒç´ éœ€è¦ä¾æ¬¡å¯»æ‰¾ï¼Œéšæœºè®¿é—®å…ƒç´ æ•ˆç‡ä½ä¸‹\n\né“¾è¡¨åªèƒ½æŒ‡å‘åé¢ï¼Œèƒ½ä¸èƒ½æŒ‡å‘å‰é¢å‘¢ï¼ŸåŒå‘é“¾è¡¨ï¼\n\næ ˆå’Œé˜Ÿåˆ—å®é™…ä¸Šå°±æ˜¯å¯¹çº¿æ€§è¡¨åŠ ä»¥çº¦æŸçš„ä¸€ç§æ•°æ®ç»“æ„ï¼Œå¦‚æœå‰é¢çš„çº¿æ€§è¡¨çš„æŒæ¡å·²ç»okï¼Œé‚£ä¹ˆæ ˆå’Œé˜Ÿåˆ—å°±éå¸¸è½»æ¾äº†ï¼\næ ˆæ ˆéµå¾ªå…ˆå…¥åå‡ºåŸåˆ™ï¼Œåªèƒ½åœ¨çº¿æ€§è¡¨çš„ä¸€ç«¯æ·»åŠ å’Œåˆ é™¤å…ƒç´ ã€‚æˆ‘ä»¬å¯ä»¥æŠŠæ ˆçœ‹åšä¸€ä¸ªæ¯å­ï¼Œæ¯å­åªæœ‰ä¸€ä¸ªå£è¿›å‡ºï¼Œæœ€ä½å¤„çš„å…ƒç´ åªèƒ½ç­‰åˆ°ä¸Šé¢çš„å…ƒç´ ç¦»å¼€æ¯å­åï¼Œæ‰èƒ½ç¦»å¼€ã€‚\n\nå‘æ ˆä¸­æ’å…¥ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œç§°ä¸ºå…¥æ ˆï¼ˆå‹æ ˆï¼‰ï¼Œç§»é™¤æ ˆé¡¶å…ƒç´ ç§°ä¸ºå‡ºæ ˆï¼Œæˆ‘ä»¬éœ€è¦å°è¯•å®ç°ä»¥ä¸‹æŠ½è±¡ç±»å‹ï¼š\n&#x2F;**\n * æŠ½è±¡ç±»å‹æ ˆï¼Œå¾…å®ç°\n * @param &lt;E&gt; å…ƒç´ ç±»å‹\n *&#x2F;\npublic abstract class AbstractStack&lt;E&gt; &#123;\n\n    &#x2F;**\n     * å‡ºæ ˆæ“ä½œ\n     * @return æ ˆé¡¶å…ƒç´ \n     *&#x2F;\n    public abstract E pop();\n\n    &#x2F;**\n     * å…¥æ ˆæ“ä½œ\n     * @param e å…ƒç´ \n     *&#x2F;\n    public abstract void push(E e);\n&#125;\n\nå…¶å®ï¼Œæˆ‘ä»¬çš„JVMåœ¨å¤„ç†æ–¹æ³•è°ƒç”¨æ—¶ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ ˆæ“ä½œï¼š\n\næ‰€ä»¥è¯´ï¼Œå¦‚æœç©ä¸å¥½é€’å½’ï¼Œå°±ä¼šåƒè¿™æ ·ï¼š\npublic class Main &#123;\n    public static void main(String[] args) &#123;\n        go();\n    &#125;\n\n    private static void go()&#123;\n        go();\n    &#125;\n&#125;\n\nException in thread &quot;main&quot; java.lang.StackOverflowError\n\tat com.test.Main.go(Main.java:13)\n\tat com.test.Main.go(Main.java:13)\n\tat com.test.Main.go(Main.java:13)\n\tat com.test.Main.go(Main.java:13)\n\tat com.test.Main.go(Main.java:13)\n\tat com.test.Main.go(Main.java:13)\n\tat com.test.Main.go(Main.java:13)\n\tat com.test.Main.go(Main.java:13)\n  ...\n\næ ˆçš„æ·±åº¦æ˜¯æœ‰é™åˆ¶çš„ï¼Œå¦‚æœè¾¾åˆ°é™åˆ¶ï¼Œå°†ä¼šå‡ºç°StackOverflowErroré”™è¯¯ï¼ˆæ³¨æ„æ˜¯é”™è¯¯ï¼è¯´æ˜æ˜¯JVMå‡ºç°äº†é—®é¢˜ï¼‰\né˜Ÿåˆ—é˜Ÿåˆ—åŒæ ·ä¹Ÿæ˜¯å—é™åˆ¶çš„çº¿æ€§è¡¨ï¼Œä¸è¿‡é˜Ÿåˆ—å°±åƒæˆ‘ä»¬æ’é˜Ÿä¸€æ ·ï¼Œåªèƒ½ä»é˜Ÿå°¾å¼€å§‹æ’ï¼Œä»é˜Ÿé¦–å‡ºã€‚\n\næ‰€ä»¥æˆ‘ä»¬è¦å®ç°ä»¥ä¸‹å†…å®¹ï¼š\n\n&#x2F;**\n *\n * @param &lt;E&gt;\n *&#x2F;\npublic abstract class AbstractQueue&lt;E&gt; &#123;\n\n    &#x2F;**\n     * è¿›é˜Ÿæ“ä½œ\n     * @param e å…ƒç´ \n     *&#x2F;\n    public abstract void offer(E e);\n\n    &#x2F;**\n     * å‡ºé˜Ÿæ“ä½œ\n     * @return å…ƒç´ \n     *&#x2F;\n    public abstract E poll();\n&#125;\n\n\n\näºŒå‰æ ‘æœ¬ç‰ˆå—ä¸»è¦å­¦ä¹ çš„æ˜¯äºŒå‰æ ‘ï¼Œæ ‘ä¹Ÿæ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œä½†æ˜¯å®ƒä½¿ç”¨èµ·æ¥æ›´åŠ çš„å¤æ‚ã€‚\næ ‘æˆ‘ä»¬å‰é¢å·²ç»å­¦ä¹ è¿‡é“¾è¡¨äº†ï¼Œæˆ‘ä»¬çŸ¥é“é“¾è¡¨æ˜¯å•ä¸ªç»“ç‚¹ä¹‹é—´ç›¸è¿ï¼Œä¹Ÿå°±æ˜¯ä¸€ç§ä¸€å¯¹ä¸€çš„å…³ç³»ï¼Œè€Œæ ‘åˆ™æ˜¯ä¸€ä¸ªç»“ç‚¹è¿æ¥å¤šä¸ªç»“ç‚¹ï¼Œä¹Ÿå°±æ˜¯ä¸€å¯¹å¤šçš„å…³ç³»ã€‚\n\nä¸€ä¸ªç»“ç‚¹å¯ä»¥æœ‰Nä¸ªå­ç»“ç‚¹ï¼Œå°±åƒä¸Šå›¾ä¸€æ ·ï¼Œçœ‹èµ·æ¥å°±åƒæ˜¯ä¸€æ£µæ ‘ã€‚è€Œä½äºæœ€é¡¶ç«¯çš„ç»“ç‚¹ï¼ˆæ²¡æœ‰çˆ¶ç»“ç‚¹ï¼‰æˆ‘ä»¬ç§°ä¸ºæ ¹ç»“ç‚¹ï¼Œè€Œç»“ç‚¹æ‹¥æœ‰çš„å­èŠ‚ç‚¹æ•°é‡ç§°ä¸ºåº¦ï¼Œæ¯å‘ä¸‹ä¸€çº§ç§°ä¸ºä¸€ä¸ªå±‚æ¬¡ï¼Œæ ‘ä¸­å‡ºç°çš„æœ€å¤§å±‚æ¬¡ç§°ä¸ºæ ‘çš„æ·±åº¦(é«˜åº¦)ã€‚\näºŒå‰æ ‘äºŒå‰æ ‘æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ ‘ï¼Œæ¯ä¸ªç»“ç‚¹æœ€å¤šæœ‰ä¸¤é¢—å­æ ‘ï¼Œæ‰€ä»¥äºŒå‰æ ‘ä¸­ä¸å­˜åœ¨åº¦å¤§äº2çš„ç»“ç‚¹ï¼Œä½äºä¸¤è¾¹çš„å­ç»“ç‚¹ç§°ä¸ºå·¦å³å­æ ‘ï¼ˆæ³¨æ„ï¼Œå·¦å³å­æ ‘æ˜¯æ˜ç¡®åŒºåˆ†çš„ï¼Œæ˜¯å·¦å°±æ˜¯å·¦ï¼Œæ˜¯å³å°±æ˜¯å³ï¼‰\n\næ•°å­¦æ€§è´¨ï¼š\n\nåœ¨äºŒå‰æ ‘çš„ç¬¬iå±‚ä¸Šæœ€å¤šæœ‰2^(i-1) ä¸ªèŠ‚ç‚¹ã€‚\näºŒå‰æ ‘ä¸­å¦‚æœæ·±åº¦ä¸ºkï¼Œé‚£ä¹ˆæœ€å¤šæœ‰2^k-1ä¸ªèŠ‚ç‚¹ã€‚\n\nè®¾è®¡ä¸€ä¸ªäºŒå‰æ ‘ç»“ç‚¹ç±»ï¼š\npublic class TreeNode&lt;E&gt; &#123;\n    public E e;   &#x2F;&#x2F;å½“å‰ç»“ç‚¹æ•°æ®\n    public TreeNode&lt;E&gt; left;   &#x2F;&#x2F;å·¦å­æ ‘\n    public TreeNode&lt;E&gt; right;   &#x2F;&#x2F;å³å­æ ‘\n&#125;\n\näºŒå‰æ ‘çš„éå†é¡ºåºè¡¨çš„éå†å…¶å®å°±æ˜¯ä¾æ¬¡æœ‰åºå»è®¿é—®è¡¨ä¸­æ¯ä¸€ä¸ªå…ƒç´ ï¼Œè€ŒåƒäºŒå‰æ ‘è¿™æ ·çš„å¤æ‚ç»“æ„ï¼Œæˆ‘ä»¬æœ‰å››ç§éå†æ–¹å¼ï¼Œä»–ä»¬æ˜¯ï¼šå‰åºéå†ã€ä¸­åºéå†ã€ååºéå†ä»¥åŠå±‚åºéå†ï¼Œæœ¬ç‰ˆå—æˆ‘ä»¬ä¸»è¦è®¨è®ºå‰ä¸‰ç§éå†æ–¹å¼ï¼š\n\nå‰åºéå†ï¼šä»äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹å‡ºå‘ï¼Œåˆ°è¾¾ç»“ç‚¹æ—¶å°±ç›´æ¥è¾“å‡ºç»“ç‚¹æ•°æ®ï¼ŒæŒ‰ç…§å…ˆå‘å·¦åœ¨å‘å³çš„æ–¹å‘è®¿é—®ã€‚ABCDEF\nä¸­åºéå†ï¼šä»äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹å‡ºå‘ï¼Œä¼˜å…ˆè¾“å‡ºå·¦å­æ ‘çš„èŠ‚ç‚¹çš„æ•°æ®ï¼Œå†è¾“å‡ºå½“å‰èŠ‚ç‚¹æœ¬èº«ï¼Œæœ€åæ‰æ˜¯å³å­æ ‘ã€‚CBDAEF\nååºéå†ï¼šä»äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹å‡ºå‘ï¼Œä¼˜å…ˆéå†å…¶å·¦å­æ ‘ï¼Œå†éå†å³å­æ ‘ï¼Œæœ€ååœ¨è¾“å‡ºå½“å‰èŠ‚ç‚¹æœ¬èº«ã€‚CDBFEA\n\næ»¡äºŒå‰æ ‘å’Œå®Œå…¨äºŒå‰æ ‘æ»¡äºŒå‰æ ‘å’Œå®Œå…¨äºŒå‰æ ‘å…¶å®å°±æ˜¯ç‰¹æ®Šæƒ…å†µä¸‹çš„äºŒå‰æ ‘ï¼Œæ»¡äºŒå‰æ ‘å·¦å³çš„æ‰€æœ‰å¶å­èŠ‚ç‚¹éƒ½åœ¨åŒä¸€å±‚ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®Œå…¨æŠŠæ¯ä¸€ä¸ªå±‚çº§éƒ½ç»™åŠ æ»¡äº†ç»“ç‚¹ã€‚å®Œå…¨äºŒå‰æ ‘ä¸æ»¡äºŒå‰æ ‘ä¸åŒçš„åœ°æ–¹åœ¨äºï¼Œå®ƒçš„æœ€ä¸‹å±‚å¶å­èŠ‚ç‚¹å¯ä»¥ä¸æ»¡ï¼Œä½†æ˜¯æœ€ä¸‹å±‚çš„å¶å­èŠ‚ç‚¹å¿…é¡»é å·¦æ’å¸ƒã€‚\n\nå…¶å®æ»¡äºŒå‰æ ‘å’Œå®Œå…¨äºŒå‰æ ‘å°±æ˜¯æœ‰ä¸€å®šè§„å¾‹çš„äºŒå‰æ ‘ï¼Œå¾ˆå®¹æ˜“ç†è§£ã€‚\nå¿«é€ŸæŸ¥æ‰¾æˆ‘ä»¬ä¹‹å‰æåˆ°çš„è¿™äº›æ•°æ®ç»“æ„ï¼Œå¾ˆå¥½åœ°å¸®æˆ‘ä»¬ç®¡ç†äº†æ•°æ®ï¼Œä½†æ˜¯ï¼Œå¦‚æœéœ€è¦æŸ¥æ‰¾æŸä¸€ä¸ªå…ƒç´ æ˜¯å¦å­˜åœ¨äºæ•°æ®ç»“æ„ä¸­ï¼Œå¦‚ä½•æ‰èƒ½æ›´åŠ é«˜æ•ˆçš„å»å®Œæˆå‘¢ï¼Ÿ\nå“ˆå¸Œè¡¨é€šè¿‡å‰é¢çš„å­¦ä¹ ï¼Œæˆ‘ä»¬å‘ç°ï¼Œé¡ºåºè¡¨è™½ç„¶æŸ¥è¯¢æ•ˆç‡é«˜ï¼Œä½†æ˜¯æ’å…¥åˆ é™¤æœ‰ä¸¥é‡è¡¨æ›´æ–°çš„é—®é¢˜ï¼Œè€Œé“¾è¡¨è™½ç„¶å¼¥è¡¥äº†æ›´æ–°é—®é¢˜ï¼Œä½†æ˜¯æŸ¥è¯¢æ•ˆç‡å®åœ¨æ˜¯å¤ªä½äº†ï¼Œèƒ½å¦æœ‰ä¸€ç§æŠ˜ä¸­æ–¹æ¡ˆï¼Ÿå“ˆå¸Œè¡¨ï¼\nä¸çŸ¥å¤§å®¶åœ¨ä¹‹å‰çš„å­¦ä¹ ä¸­æ˜¯å¦å‘ç°ï¼Œæˆ‘ä»¬çš„Objectç±»ä¸­ï¼Œå®šä¹‰äº†ä¸€ä¸ªå«åšhashcode()çš„æ–¹æ³•ï¼Ÿè€Œè¿™ä¸ªæ–¹æ³•å‘¢ï¼Œå°±æ˜¯ä¸ºäº†æ›´å¥½åœ°æ”¯æŒå“ˆå¸Œè¡¨çš„å®ç°ã€‚hashcode()é»˜è®¤å¾—åˆ°çš„æ˜¯å¯¹è±¡çš„å†…å­˜åœ°å€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸ªå¯¹è±¡çš„hashCodeéƒ½ä¸ä¸€æ ·ã€‚\nå“ˆå¸Œè¡¨ï¼Œå…¶å®æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªå­˜æ”¾é“¾è¡¨çš„æ•°ç»„ï¼Œé‚£ä¹ˆå®ƒæ˜¯å¦‚ä½•å»å­˜å‚¨æ•°æ®çš„å‘¢ï¼Ÿæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹é•¿å•¥æ ·ï¼š\n\næ•°ç»„ä¸­æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªå¤´ç»“ç‚¹ï¼Œç”¨äºä¿å­˜æ•°æ®ï¼Œé‚£æˆ‘ä»¬æ€ä¹ˆç¡®å®šæ•°æ®åº”è¯¥æ”¾åœ¨å“ªä¸€ä¸ªä½ç½®å‘¢ï¼Ÿé€šè¿‡hashç®—æ³•ï¼Œæˆ‘ä»¬èƒ½å¤Ÿç¬é—´å¾—åˆ°å…ƒç´ åº”è¯¥æ”¾ç½®çš„ä½ç½®ã€‚\n&#x2F;&#x2F;å‡è®¾hashè¡¨é•¿åº¦ä¸º16ï¼Œhashç®—æ³•ä¸ºï¼š\nprivate int hash(int hashcode)&#123;\n  return hashcode % 16;\n&#125;\n\nè®¾æƒ³è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœè®¡ç®—å‡ºæ¥çš„hashå€¼å’Œä¹‹å‰å·²ç»å­˜åœ¨çš„å…ƒç´ ç›¸åŒäº†å‘¢ï¼Ÿè¿™ç§æƒ…å†µæˆ‘ä»¬ç§°ä¸ºhashç¢°æ’ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆè¦å°†æ¯ä¸€ä¸ªè¡¨å…ƒç´ è®¾ç½®ä¸ºä¸€ä¸ªé“¾è¡¨çš„å¤´ç»“ç‚¹çš„åŸå› ï¼Œä¸€æ—¦å‘ç°é‡å¤ï¼Œæˆ‘ä»¬å¯ä»¥å¾€åç»§ç»­æ·»åŠ èŠ‚ç‚¹ã€‚\nå½“ç„¶ï¼Œä»¥ä¸Šçš„hashè¡¨ç»“æ„åªæ˜¯ä¸€ç§è®¾è®¡æ–¹æ¡ˆï¼Œåœ¨é¢å¯¹å¤§é¢æ•°æ®æ—¶ï¼Œæ˜¯ä¸å¤Ÿç”¨çš„ï¼Œåœ¨JDK1.8ä¸­ï¼Œé›†åˆç±»ä½¿ç”¨çš„æ˜¯æ•°ç»„+äºŒå‰æ ‘çš„å½¢å¼è§£å†³çš„ï¼ˆè¿™é‡Œçš„äºŒå‰æ ‘æ˜¯ç»è¿‡åŠ å¼ºçš„äºŒå‰æ ‘ï¼Œä¸æ˜¯å‰é¢è®²å¾—ç®€å•äºŒå‰æ ‘ï¼Œæˆ‘ä»¬ä¸‹ä¸€èŠ‚å°±ä¼šå¼€å§‹è®²ï¼‰\näºŒå‰æ’åºæ ‘æˆ‘ä»¬å‰é¢å­¦ä¹ çš„äºŒå‰æ ‘æ•ˆç‡æ˜¯ä¸å¤Ÿçš„ï¼Œæˆ‘ä»¬éœ€è¦çš„æ˜¯ä¸€ç§æ•ˆç‡æ›´é«˜çš„äºŒå‰æ ‘ï¼Œå› æ­¤ï¼ŒåŸºäºäºŒå‰æ ‘çš„æ”¹è¿›ï¼Œæå‡ºäº†äºŒå‰æŸ¥æ‰¾æ ‘ï¼Œå¯ä»¥çœ‹åˆ°ç»“æ„åƒä¸‹é¢è¿™æ ·ï¼š\n\nä¸éš¾å‘ç°ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„å·¦å­æ ‘ï¼Œä¸€å®šå°äºå½“å‰èŠ‚ç‚¹çš„å€¼ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„å³å­æ ‘ï¼Œä¸€å®šå¤§äºå½“å‰èŠ‚ç‚¹çš„å€¼ï¼Œè¿™æ ·çš„äºŒå‰æ ‘ç§°ä¸ºäºŒå‰æ’åºæ ‘ã€‚åˆ©ç”¨äºŒåˆ†æœç´¢çš„æ€æƒ³ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¿«é€ŸæŸ¥æ‰¾æŸä¸ªèŠ‚ç‚¹ï¼\nå¹³è¡¡äºŒå‰æ ‘åœ¨äº†è§£äº†äºŒå‰æŸ¥æ‰¾æ ‘ä¹‹åï¼Œæˆ‘ä»¬å‘ç°ï¼Œå¦‚æœæ ¹èŠ‚ç‚¹ä¸º10ï¼Œç°åœ¨åŠ å…¥åˆ°ç»“ç‚¹çš„å€¼ä»9å¼€å§‹ï¼Œä¾æ¬¡å‡å°åˆ°1ï¼Œé‚£ä¹ˆè¿™ä¸ªè¡¨å°±ä¼šå¾ˆå¥‡æ€ªï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š\n\næ˜¾ç„¶ï¼Œå½“æ‰€æœ‰çš„ç»“ç‚¹éƒ½æ’åˆ—åˆ°ä¸€è¾¹ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼ŒæŸ¥æ‰¾æ•ˆç‡ä¼šç›´æ¥é€€åŒ–ä¸ºæœ€åŸå§‹çš„äºŒå‰æ ‘ï¼å› æ­¤æˆ‘ä»¬éœ€è¦ç»´æŒäºŒå‰æ ‘çš„å¹³è¡¡ï¼Œæ‰èƒ½ç»´æŒåŸæœ‰çš„æŸ¥æ‰¾æ•ˆç‡ã€‚\nç°åœ¨æˆ‘ä»¬å¯¹äºŒå‰æ’åºæ ‘åŠ ä»¥çº¦æŸï¼Œè¦æ±‚æ¯ä¸ªç»“ç‚¹çš„å·¦å³ä¸¤ä¸ªå­æ ‘çš„é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡1ï¼Œè¿™æ ·çš„äºŒå‰æ ‘ç§°ä¸ºå¹³è¡¡äºŒå‰æ ‘ï¼ŒåŒæ—¶è¦æ±‚æ¯ä¸ªç»“ç‚¹çš„å·¦å³å­æ ‘éƒ½æ˜¯å¹³è¡¡äºŒå‰æ ‘ï¼Œè¿™æ ·ï¼Œå°±ä¸ä¼šå› ä¸ºä¸€è¾¹çš„ç–¯ç‹‚å¢åŠ å¯¼è‡´å¤±è¡¡ã€‚æˆ‘ä»¬æ¥çœ‹çœ‹ä»¥ä¸‹å‡ ç§æƒ…å†µï¼š\n\nå·¦å·¦å¤±è¡¡\n\nå³å³å¤±è¡¡\n\nå·¦å³å¤±è¡¡\n\nå³å·¦å¤±è¡¡\né€šè¿‡ä»¥ä¸Šå››ç§æƒ…å†µçš„å¤„ç†ï¼Œæœ€ç»ˆå¾—åˆ°ç»´æŠ¤å¹³è¡¡äºŒå‰æ ‘çš„ç®—æ³•ã€‚\nçº¢é»‘æ ‘çº¢é»‘æ ‘ä¹Ÿæ˜¯äºŒå‰æ’åºæ ‘çš„ä¸€ç§æ”¹è¿›ï¼ŒåŒå¹³è¡¡äºŒå‰æ ‘ä¸€æ ·ï¼Œçº¢é»‘æ ‘ä¹Ÿæ˜¯ä¸€ç§ç»´æŠ¤å¹³è¡¡çš„äºŒå‰æ’åºæ ‘ï¼Œä½†æ˜¯æ²¡æœ‰å¹³è¡¡äºŒå‰æ ‘é‚£æ ·ä¸¥æ ¼ï¼ˆå¹³è¡¡äºŒå‰æ ‘æ¯æ¬¡æ’å…¥æ–°ç»“ç‚¹æ—¶ï¼Œå¯èƒ½ä¼šå‡ºç°å¤§é‡çš„æ—‹è½¬ï¼Œè€Œçº¢é»‘æ ‘ä¿è¯ä¸è¶…è¿‡ä¸‰æ¬¡ï¼‰ï¼Œçº¢é»‘æ ‘é™ä½äº†å¯¹äºæ—‹è½¬çš„è¦æ±‚ï¼Œå› æ­¤æ•ˆç‡æœ‰ä¸€å®šçš„æå‡åŒæ—¶å®ç°èµ·æ¥ä¹Ÿæ›´åŠ ç®€å•ã€‚ä½†æ˜¯çº¢é»‘æ ‘çš„æ•ˆç‡å´é«˜äºå¹³è¡¡äºŒå‰æ ‘ï¼Œçº¢é»‘æ ‘ä¹Ÿæ˜¯JDK1.8ä¸­ä½¿ç”¨çš„æ•°æ®ç»“æ„ï¼\n\nçº¢é»‘æ ‘çš„ç‰¹æ€§:ï¼ˆ1ï¼‰æ¯ä¸ªèŠ‚ç‚¹æˆ–è€…æ˜¯é»‘è‰²ï¼Œæˆ–è€…æ˜¯çº¢è‰²ã€‚ï¼ˆ2ï¼‰æ ¹èŠ‚ç‚¹æ˜¯é»‘è‰²ã€‚ï¼ˆ3ï¼‰æ¯ä¸ªå¶å­èŠ‚ç‚¹çš„ä¸¤è¾¹ä¹Ÿéœ€è¦è¡¨ç¤ºï¼ˆè™½ç„¶æ²¡æœ‰ï¼Œä½†æ˜¯nullä¹Ÿéœ€è¦è¡¨ç¤ºå‡ºæ¥ï¼‰æ˜¯é»‘è‰²ã€‚ï¼ˆ4ï¼‰å¦‚æœä¸€ä¸ªèŠ‚ç‚¹æ˜¯çº¢è‰²çš„ï¼Œåˆ™å®ƒçš„å­èŠ‚ç‚¹å¿…é¡»æ˜¯é»‘è‰²çš„ã€‚ï¼ˆ5ï¼‰ä»ä¸€ä¸ªèŠ‚ç‚¹åˆ°è¯¥èŠ‚ç‚¹çš„å­å­™èŠ‚ç‚¹çš„æ‰€æœ‰è·¯å¾„ä¸ŠåŒ…å«ç›¸åŒæ•°ç›®çš„é»‘èŠ‚ç‚¹ã€‚\næˆ‘ä»¬æ¥çœ‹çœ‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ˜¯å¦‚ä½•æ’å…¥åˆ°çº¢é»‘æ ‘ä¸­çš„ï¼š\nåŸºæœ¬çš„ æ’å…¥è§„åˆ™å’Œå¹³è¡¡äºŒå‰æ ‘ä¸€æ ·ï¼Œä½†æ˜¯åœ¨æ’å…¥åï¼š\n\nå°†æ–°æ’å…¥çš„èŠ‚ç‚¹æ ‡è®°ä¸ºçº¢è‰²\nå¦‚æœ X æ˜¯æ ¹ç»“ç‚¹(root)ï¼Œåˆ™æ ‡è®°ä¸ºé»‘è‰²\nå¦‚æœ X çš„ parent ä¸æ˜¯é»‘è‰²ï¼ŒåŒæ—¶ X ä¹Ÿä¸æ˜¯ root:\n\n\n3.1 å¦‚æœ X çš„ uncle (å”å”) æ˜¯çº¢è‰²\n\n\n3.1.1 å°† parent å’Œ uncle æ ‡è®°ä¸ºé»‘è‰²\n3.1.2 å°† grand parent (ç¥–çˆ¶) æ ‡è®°ä¸ºçº¢è‰²\n3.1.3 è®© X èŠ‚ç‚¹çš„é¢œè‰²ä¸ X ç¥–çˆ¶çš„é¢œè‰²ç›¸åŒï¼Œç„¶åé‡å¤æ­¥éª¤ 2ã€3\n\n\n3.2 å¦‚æœ X çš„ uncle (å”å”) æ˜¯é»‘è‰²ï¼Œæˆ‘ä»¬è¦åˆ†å››ç§æƒ…å†µå¤„ç†\n\n\n3.2.1 å·¦å·¦ (P æ˜¯ G çš„å·¦å­©å­ï¼Œå¹¶ä¸” X æ˜¯ P çš„å·¦å­©å­)\n3.2.2 å·¦å³ (P æ˜¯ G çš„å·¦å­©å­ï¼Œå¹¶ä¸” X æ˜¯ P çš„å³å­©å­)\n3.2.3 å³å³ (P æ˜¯ G çš„å³å­©å­ï¼Œå¹¶ä¸” X æ˜¯ P çš„å³å­©å­)\n3.2.4 å³å·¦ (P æ˜¯ G çš„å³å­©å­ï¼Œå¹¶ä¸” X æ˜¯ P çš„å·¦å­©å­)\nå…¶å®è¿™ç§æƒ…å†µä¸‹å¤„ç†å°±å’Œæˆ‘ä»¬çš„å¹³è¡¡äºŒå‰æ ‘ä¸€æ ·äº†\n\n\n\n\nè®¤è¯†é›†åˆç±»é›†åˆè¡¨ç¤ºä¸€ç»„å¯¹è±¡ï¼Œç§°ä¸ºå…¶å…ƒç´ ã€‚ä¸€äº›é›†åˆå…è®¸é‡å¤çš„å…ƒç´ ï¼Œè€Œå¦ä¸€äº›åˆ™ä¸å…è®¸ã€‚ä¸€äº›é›†åˆæ˜¯æœ‰åºçš„ï¼Œè€Œå…¶ä»–åˆ™æ˜¯æ— åºçš„ã€‚\né›†åˆç±»å…¶å®å°±æ˜¯ä¸ºäº†æ›´å¥½åœ°ç»„ç»‡ã€ç®¡ç†å’Œæ“ä½œæˆ‘ä»¬çš„æ•°æ®è€Œå­˜åœ¨çš„ï¼ŒåŒ…æ‹¬åˆ—è¡¨ã€é›†åˆã€é˜Ÿåˆ—ã€æ˜ å°„ç­‰æ•°æ®ç»“æ„ã€‚ä»è¿™ä¸€å—å¼€å§‹ï¼Œæˆ‘ä»¬ä¼šä»æºç è§’åº¦ç»™å¤§å®¶è®²è§£ï¼ˆæ•°æ®ç»“æ„å¾ˆé‡è¦ï¼ï¼‰ï¼Œä¸ä»…ä»…æ˜¯æ•™ä¼šå¤§å®¶å¦‚ä½•å»ä½¿ç”¨ã€‚\né›†åˆç±»æœ€é¡¶å±‚ä¸æ˜¯æŠ½è±¡ç±»è€Œæ˜¯æ¥å£ï¼Œå› ä¸ºæ¥å£ä»£è¡¨çš„æ˜¯æŸä¸ªåŠŸèƒ½ï¼Œè€ŒæŠ½è±¡ç±»æ˜¯å·²ç»å¿«è¦æˆå½¢çš„ç±»å‹ï¼Œä¸åŒçš„é›†åˆç±»çš„åº•å±‚å®ç°æ˜¯ä¸ç›¸åŒçš„ï¼ŒåŒæ—¶ä¸€ä¸ªé›†åˆç±»å¯èƒ½ä¼šåŒæ—¶å…·æœ‰ä¸¤ç§åŠä»¥ä¸ŠåŠŸèƒ½ï¼ˆæ—¢èƒ½åšé˜Ÿåˆ—ä¹Ÿèƒ½åšåˆ—è¡¨ï¼‰ï¼Œæ‰€ä»¥é‡‡ç”¨æ¥å£ä¼šæ›´åŠ åˆé€‚ï¼Œæ¥å£åªéœ€å®šä¹‰æ”¯æŒçš„åŠŸèƒ½å³å¯ã€‚\n\næ•°ç»„ä¸é›†åˆç›¸åŒä¹‹å¤„ï¼š\n\nå®ƒä»¬éƒ½æ˜¯å®¹å™¨ï¼Œéƒ½èƒ½å¤Ÿå®¹çº³ä¸€ç»„å…ƒç´ ã€‚\n\nä¸åŒä¹‹å¤„ï¼š\n\næ•°ç»„çš„å¤§å°æ˜¯å›ºå®šçš„ï¼Œé›†åˆçš„å¤§å°æ˜¯å¯å˜çš„ã€‚\næ•°ç»„å¯ä»¥å­˜æ”¾åŸºæœ¬æ•°æ®ç±»å‹ï¼Œä½†é›†åˆåªèƒ½å­˜æ”¾å¯¹è±¡ã€‚\næ•°ç»„å­˜æ”¾çš„ç±»å‹åªèƒ½æ˜¯ä¸€ç§ï¼Œä½†é›†åˆå¯ä»¥æœ‰ä¸åŒç§ç±»çš„å…ƒç´ ã€‚\n\né›†åˆæ ¹æ¥å£Collectionæœ¬æ¥å£ä¸­å®šä¹‰äº†å…¨éƒ¨çš„é›†åˆåŸºæœ¬æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æºç ä¸­çœ‹çœ‹ã€‚\næˆ‘ä»¬å†æ¥çœ‹çœ‹Listå’ŒSetä»¥åŠQueueæ¥å£ã€‚\né›†åˆç±»çš„ä½¿ç”¨Liståˆ—è¡¨é¦–å…ˆä»‹ç»ArrayListï¼Œå®ƒçš„åº•å±‚æ˜¯ç”¨æ•°ç»„å®ç°çš„ï¼Œå†…éƒ¨ç»´æŠ¤çš„æ˜¯ä¸€ä¸ªå¯æ”¹å˜å¤§å°çš„æ•°ç»„ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¹‹å‰æ‰€è¯´çš„çº¿æ€§è¡¨ï¼è·Ÿæˆ‘ä»¬ä¹‹å‰è‡ªå·±å†™çš„ArrayListç›¸æ¯”ï¼Œå®ƒæ›´åŠ çš„è§„èŒƒï¼ŒåŒæ—¶ç»§æ‰¿è‡ªListæ¥å£ã€‚\nå…ˆçœ‹çœ‹ArrayListçš„æºç ï¼\nåŸºæœ¬æ“ä½œList&lt;String&gt; list &#x3D; new ArrayList&lt;&gt;();  &#x2F;&#x2F;é»˜è®¤é•¿åº¦çš„åˆ—è¡¨\nList&lt;String&gt; listInit &#x3D; new ArrayList&lt;&gt;(100);  &#x2F;&#x2F;åˆå§‹é•¿åº¦ä¸º100çš„åˆ—è¡¨\n\nå‘åˆ—è¡¨ä¸­æ·»åŠ å…ƒç´ ï¼š\nList&lt;String&gt; list &#x3D; new ArrayList&lt;&gt;();\nlist.add(&quot;lbwnb&quot;);\nlist.add(&quot;yyds&quot;);\nlist.contains(&quot;yyds&quot;); &#x2F;&#x2F;æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ \nSystem.out.println(list);\n\nç§»é™¤å…ƒç´ ï¼š\npublic static void main(String[] args) &#123;\n    List&lt;String&gt; list &#x3D; new ArrayList&lt;&gt;();\n    list.add(&quot;lbwnb&quot;);\n    list.add(&quot;yyds&quot;);\n    list.remove(0);   &#x2F;&#x2F;æŒ‰ä¸‹æ ‡ç§»é™¤å…ƒç´ \n    list.remove(&quot;yyds&quot;);    &#x2F;&#x2F;ç§»é™¤æŒ‡å®šå…ƒç´ \n    System.out.println(list);\n&#125;\n\nä¹Ÿæ”¯æŒæ‰¹é‡æ“ä½œï¼š\npublic static void main(String[] args) &#123;\n    ArrayList&lt;String&gt; list &#x3D; new ArrayList&lt;&gt;();\n    list.addAll(new ArrayList&lt;&gt;());   &#x2F;&#x2F;åœ¨å°¾éƒ¨æ‰¹é‡æ·»åŠ å…ƒç´ \n    list.removeAll(new ArrayList&lt;&gt;());   &#x2F;&#x2F;æ‰¹é‡ç§»é™¤å…ƒç´ ï¼ˆåªæœ‰ç»™å®šé›†åˆä¸­å­˜åœ¨çš„å…ƒç´ æ‰ä¼šè¢«ç§»é™¤ï¼‰\n    list.retainAll(new ArrayList&lt;&gt;());   &#x2F;&#x2F;åªä¿ç•™æŸäº›å…ƒç´ \n    System.out.println(list);\n&#125;\n\næˆ‘ä»¬å†æ¥çœ‹LinkedListï¼Œå…¶å®æœ¬è´¨å°±æ˜¯ä¸€ä¸ªé“¾è¡¨ï¼æˆ‘ä»¬æ¥çœ‹çœ‹æºç ã€‚\nå…¶å®ä¸æˆ‘ä»¬ä¹‹å‰ç¼–å†™çš„LinkedListä¸åŒä¹‹å¤„åœ¨äºï¼Œå®ƒå†…éƒ¨ä½¿ç”¨çš„æ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨ï¼š\nprivate static class Node&lt;E&gt; &#123;\n    E item;\n    Node&lt;E&gt; next;\n    Node&lt;E&gt; prev;\n\n    Node(Node&lt;E&gt; prev, E element, Node&lt;E&gt; next) &#123;\n        this.item &#x3D; element;\n        this.next &#x3D; next;\n        this.prev &#x3D; prev;\n    &#125;\n&#125;\n\nå½“ç„¶ï¼Œæˆ‘ä»¬å‘ç°å®ƒè¿˜å®ç°äº†Queueæ¥å£ï¼Œæ‰€ä»¥LinkedListä¹Ÿèƒ½è¢«å½“åšä¸€ä¸ªé˜Ÿåˆ—æˆ–æ˜¯æ ˆæ¥ä½¿ç”¨ã€‚\npublic static void main(String[] args) &#123;\n    LinkedList&lt;String&gt; list &#x3D; new LinkedList&lt;&gt;();\n    list.offer(&quot;A&quot;);   &#x2F;&#x2F;å…¥é˜Ÿ\n    System.out.println(list.poll());  &#x2F;&#x2F;å‡ºé˜Ÿ\n    list.push(&quot;A&quot;);\n    list.push(&quot;B&quot;);    &#x2F;&#x2F;è¿›æ ˆ\n    list.push(&quot;C&quot;);\n    System.out.println(list.pop());\n    System.out.println(list.pop());    &#x2F;&#x2F;å‡ºæ ˆ\n    System.out.println(list.pop());\n&#125;\n\nåˆ©ç”¨ä»£ç å—æ¥å¿«é€Ÿæ·»åŠ å†…å®¹å‰é¢æˆ‘ä»¬å­¦ä¹ äº†åŒ¿åå†…éƒ¨ç±»ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨ä»£ç å—ï¼Œæ¥å¿«é€Ÿç”Ÿæˆä¸€ä¸ªè‡ªå¸¦å…ƒç´ çš„List\nList&lt;String&gt; list &#x3D; new LinkedList&lt;String&gt;()&#123;&#123;    &#x2F;&#x2F;åˆå§‹åŒ–æ—¶æ·»åŠ \n  this.add(&quot;A&quot;);\n  this.add(&quot;B&quot;);\n&#125;&#125;;\n\nå¦‚æœæ˜¯éœ€è¦å¿«é€Ÿç”Ÿæˆä¸€ä¸ªåªè¯»çš„Listï¼Œåé¢æˆ‘ä»¬ä¼šè®²è§£Arrayså·¥å…·ç±»ã€‚\né›†åˆçš„æ’åºList&lt;Integer&gt; list &#x3D; new LinkedList&lt;Integer&gt;()&#123;   &#x2F;&#x2F;Java9æ‰æ”¯æŒåŒ¿åå†…éƒ¨ç±»ä½¿ç”¨é’»çŸ³è¿ç®—ç¬¦\n    &#123;\n        this.add(10);\n        this.add(2);\n        this.add(5);\n        this.add(8);\n    &#125;\n&#125;;\nlist.sort((a, b) -&gt; &#123;    &#x2F;&#x2F;æ’åºå·²ç»ç”±JDKå®ç°ï¼Œç°åœ¨åªéœ€è¦å¡«å…¥è‡ªå®šä¹‰è§„åˆ™ï¼Œå®ŒæˆComparatoræ¥å£å®ç°\n  return a - b;    &#x2F;&#x2F;è¿”å›å€¼å°äº0ï¼Œè¡¨ç¤ºaåº”è¯¥åœ¨bå‰é¢ï¼Œè¿”å›å€¼å¤§äº0ï¼Œè¡¨ç¤ºbåº”è¯¥åœ¨aåé¢ï¼Œç­‰äº0åˆ™ä¸è¿›è¡Œäº¤æ¢\n&#125;);\nSystem.out.println(list);\n\nè¿­ä»£å™¨é›†åˆçš„éå†æ‰€æœ‰çš„é›†åˆç±»ï¼Œéƒ½æ”¯æŒforeachå¾ªç¯ï¼\npublic static void main(String[] args) &#123;\n    List&lt;Integer&gt; list &#x3D; new LinkedList&lt;Integer&gt;()&#123;   &#x2F;&#x2F;Java9æ‰æ”¯æŒåŒ¿åå†…éƒ¨ç±»ä½¿ç”¨é’»çŸ³è¿ç®—ç¬¦\n        &#123;\n            this.add(10);\n            this.add(2);\n            this.add(5);\n            this.add(8);\n        &#125;\n    &#125;;\n    for (Integer integer : list) &#123;\n        System.out.println(integer);\n    &#125;\n&#125;\n\nå½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨JDK1.8æ–°å¢çš„forEachæ–¹æ³•ï¼Œå®ƒæ¥å—ä¸€ä¸ªConsumeræ¥å£å®ç°ï¼š\nlist.forEach(i -&gt; &#123;\n    System.out.println(i);\n&#125;);\n\nä»JDK1.8å¼€å§‹ï¼Œlambdaè¡¨è¾¾å¼å¼€å§‹é€æ¸æˆä¸ºä¸»æµï¼Œæˆ‘ä»¬éœ€è¦å»é€‚åº”å‡½æ•°å¼ç¼–ç¨‹çš„è¿™ç§è¯­æ³•ï¼ŒåŒ…æ‹¬æ‰¹é‡æ›¿æ¢ï¼Œä¹Ÿæ˜¯ç”¨åˆ°äº†å‡½æ•°å¼æ¥å£æ¥å®Œæˆçš„ã€‚\nlist.replaceAll((i) -&gt; &#123;\n  if(i &#x3D;&#x3D; 2) return 3;   &#x2F;&#x2F;å°†æ‰€æœ‰çš„2æ›¿æ¢ä¸º3\n  else return i;   &#x2F;&#x2F;ä¸æ˜¯2å°±ä¸å˜\n&#125;);\nSystem.out.println(list);\n\nIterableå’ŒIteratoræ¥å£æˆ‘ä»¬ä¹‹å‰å­¦ä¹ æ•°æ®ç»“æ„æ—¶ï¼Œå·²ç»å¾—çŸ¥ï¼Œä¸åŒçš„çº¿æ€§è¡¨å®ç°ï¼Œåœ¨è·å–å…ƒç´ æ—¶çš„æ•ˆç‡ä¹Ÿä¸åŒï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸€ç§æ›´å¥½åœ°æ–¹å¼æ¥ç»Ÿä¸€ä¸åŒæ•°æ®ç»“æ„çš„éå†ã€‚\nç”±äºArrayListå¯¹äºéšæœºè®¿é—®çš„é€Ÿåº¦æ›´å¿«ï¼Œè€ŒLinkedListå¯¹äºé¡ºåºè®¿é—®çš„é€Ÿåº¦æ›´å¿«ï¼Œå› æ­¤åœ¨ä¸Šè¿°çš„ä¼ ç»Ÿforå¾ªç¯éå†æ“ä½œä¸­ï¼ŒArrayListçš„æ•ˆç‡æ›´èƒœä¸€ç­¹ï¼Œå› æ­¤æˆ‘ä»¬è¦ä½¿å¾—LinkedListéå†æ•ˆç‡æå‡ï¼Œå°±éœ€è¦é‡‡ç”¨é¡ºåºè®¿é—®çš„æ–¹å¼è¿›è¡Œéå†ï¼Œå¦‚æœæ²¡æœ‰è¿­ä»£å™¨å¸®åŠ©æˆ‘ä»¬ç»Ÿä¸€æ ‡å‡†ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨åº”å¯¹å¤šç§é›†åˆç±»å‹çš„æ—¶å€™ï¼Œå°±éœ€è¦å¯¹åº”ç¼–å†™ä¸åŒçš„éå†ç®—æ³•ï¼Œå¾ˆæ˜¾ç„¶è¿™æ ·ä¼šé™ä½æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡ï¼Œè€Œè¿­ä»£å™¨çš„å‡ºç°å°±å¸®åŠ©æˆ‘ä»¬è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚\næˆ‘ä»¬å…ˆæ¥çœ‹çœ‹è¿­ä»£å™¨é‡Œé¢æ–¹æ³•ï¼š\npublic interface Iterator&lt;E&gt; &#123;\n  &#x2F;&#x2F;...\n&#125;\n\næ¯ä¸ªé›†åˆç±»éƒ½æœ‰è‡ªå·±çš„è¿­ä»£å™¨ï¼Œé€šè¿‡iterator()æ–¹æ³•æ¥è·å–ï¼š\nIterator&lt;Integer&gt; iterator &#x3D; list.iterator();   &#x2F;&#x2F;ç”Ÿæˆä¸€ä¸ªæ–°çš„è¿­ä»£å™¨\nwhile (iterator.hasNext())&#123;    &#x2F;&#x2F;åˆ¤æ–­æ˜¯å¦è¿˜æœ‰ä¸‹ä¸€ä¸ªå…ƒç´ \n  Integer i &#x3D; iterator.next();     &#x2F;&#x2F;è·å–ä¸‹ä¸€ä¸ªå…ƒç´ ï¼ˆè·å–ä¸€ä¸ªå°‘ä¸€ä¸ªï¼‰\n  System.out.println(i);\n&#125;\n\nè¿­ä»£å™¨ç”Ÿæˆåï¼Œé»˜è®¤æŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œæ¯æ¬¡è°ƒç”¨next()æ–¹æ³•ï¼Œéƒ½ä¼šå°†æŒ‡é’ˆåç§»ï¼Œå½“æŒ‡é’ˆç§»åŠ¨åˆ°æœ€åä¸€ä¸ªå…ƒç´ ä¹‹åï¼Œè°ƒç”¨hasNext()å°†ä¼šè¿”å›falseï¼Œè¿­ä»£å™¨æ˜¯ä¸€æ¬¡æ€§çš„ï¼Œç”¨å®Œå³æ­¢ï¼Œå¦‚æœéœ€è¦å†æ¬¡ä½¿ç”¨ï¼Œéœ€è¦è°ƒç”¨iterator()æ–¹æ³•ã€‚\nListIterator&lt;Integer&gt; iterator &#x3D; list.listIterator();   &#x2F;&#x2F;Listè¿˜æœ‰ä¸€ä¸ªæ›´å¥½åœ°è¿­ä»£å™¨å®ç°ListIterator\n\nListIteratoræ˜¯Listä¸­ç‹¬æœ‰çš„è¿­ä»£å™¨ï¼Œåœ¨åŸæœ‰è¿­ä»£å™¨åŸºç¡€ä¸Šæ–°å¢äº†ä¸€äº›é¢å¤–çš„æ“ä½œã€‚\n\nSeté›†åˆæˆ‘ä»¬ä¹‹å‰å·²ç»çœ‹è¿‡Setæ¥å£çš„å®šä¹‰äº†ï¼Œæˆ‘ä»¬å‘ç°æ¥å£ä¸­å®šä¹‰çš„æ–¹æ³•éƒ½æ˜¯Collectionä¸­ç›´æ¥ç»§æ‰¿çš„ï¼Œå› æ­¤ï¼ŒSetæ”¯æŒçš„åŠŸèƒ½å…¶å®ä¹Ÿå°±å’ŒCollectionä¸­å®šä¹‰çš„å·®ä¸å¤šï¼Œåªä¸è¿‡ä½¿ç”¨æ–¹æ³•ä¸Šç¨æœ‰ä¸åŒã€‚\nSeté›†åˆç‰¹ç‚¹ï¼š\n\nä¸å…è®¸å‡ºç°é‡å¤å…ƒç´ \nä¸æ”¯æŒéšæœºè®¿é—®ï¼ˆä¸å…è®¸é€šè¿‡ä¸‹æ ‡è®¿é—®ï¼‰\n\né¦–å…ˆè®¤è¯†ä¸€ä¸‹HashSetï¼Œå®ƒçš„åº•å±‚å°±æ˜¯é‡‡ç”¨å“ˆå¸Œè¡¨å®ç°çš„ï¼ˆæˆ‘ä»¬åœ¨è¿™é‡Œå…ˆä¸å»æ¢è®¨å®ç°åŸç†ï¼Œå› ä¸ºåº•å±‚å®è´¨ä¸Šç»´æŠ¤çš„æ˜¯ä¸€ä¸ªHashMapï¼Œæˆ‘ä»¬å­¦ä¹ äº†Mapä¹‹åå†æ¥è®¨è®ºï¼‰\npublic static void main(String[] args) &#123;\n    HashSet&lt;Integer&gt; set &#x3D; new HashSet&lt;&gt;();\n    set.add(120);    &#x2F;&#x2F;æ”¯æŒæ’å…¥å…ƒç´ ï¼Œä½†æ˜¯ä¸æ”¯æŒæŒ‡å®šä½ç½®æ’å…¥\n    set.add(13);\n    set.add(11);\n    for (Integer integer : set) &#123;\n      System.out.println(integer);\n    &#125;\n&#125;\n\nè¿è¡Œä¸Šé¢ä»£ç å‘ç°ï¼Œæœ€åSeté›†åˆä¸­å­˜åœ¨çš„å…ƒç´ é¡ºåºï¼Œå¹¶ä¸æ˜¯æˆ‘ä»¬çš„æ’å…¥é¡ºåºï¼Œè¿™æ˜¯å› ä¸ºHashSetåº•å±‚æ˜¯é‡‡ç”¨å“ˆå¸Œè¡¨æ¥å®ç°çš„ï¼Œå®é™…çš„å­˜æ”¾é¡ºåºæ˜¯ç”±Hashç®—æ³•å†³å®šçš„ã€‚\né‚£ä¹ˆæˆ‘ä»¬å¸Œæœ›æ•°æ®æŒ‰ç…§æˆ‘ä»¬æ’å…¥çš„é¡ºåºè¿›è¡Œä¿å­˜è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ä½¿ç”¨LinkedHashSetï¼š\npublic static void main(String[] args) &#123;\n    LinkedHashSet&lt;Integer&gt; set &#x3D; new LinkedHashSet&lt;&gt;();  &#x2F;&#x2F;ä¼šè‡ªåŠ¨ä¿å­˜æˆ‘ä»¬çš„æ’å…¥é¡ºåº\n    set.add(120);\n    set.add(13);\n    set.add(11);\n    for (Integer integer : set) &#123;\n        System.out.println(integer);\n    &#125;\n&#125;\n\nLinkedHashSetåº•å±‚ç»´æŠ¤çš„ä¸å†æ˜¯ä¸€ä¸ªHashMapï¼Œè€Œæ˜¯LinkedHashMapï¼Œå®ƒèƒ½å¤Ÿåœ¨æ’å…¥æ•°æ®æ—¶åˆ©ç”¨é“¾è¡¨è‡ªåŠ¨ç»´æŠ¤é¡ºåºï¼Œå› æ­¤è¿™æ ·å°±èƒ½å¤Ÿä¿è¯æˆ‘ä»¬æ’å…¥é¡ºåºå’Œæœ€åçš„è¿­ä»£é¡ºåºä¸€è‡´äº†ã€‚\nè¿˜æœ‰ä¸€ç§Setå«åšTreeSetï¼Œå®ƒä¼šåœ¨å…ƒç´ æ’å…¥æ—¶è¿›è¡Œæ’åºï¼š\npublic static void main(String[] args) &#123;\n    TreeSet&lt;Integer&gt; set &#x3D; new TreeSet&lt;&gt;();\n    set.add(1);\n    set.add(3);\n    set.add(2);\n    System.out.println(set);\n&#125;\n\nå¯ä»¥çœ‹åˆ°æœ€åå¾—åˆ°çš„ç»“æœå¹¶ä¸æ˜¯æˆ‘ä»¬æ’å…¥é¡ºåºï¼Œè€Œæ˜¯æŒ‰ç…§æ•°å­—çš„å¤§å°è¿›è¡Œæ’åˆ—ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå®šä¹‰æ’åºè§„åˆ™ï¼š\npublic static void main(String[] args) &#123;\n    TreeSet&lt;Integer&gt; set &#x3D; new TreeSet&lt;&gt;((a, b) -&gt; b - a);   &#x2F;&#x2F;åœ¨åˆ›å»ºå¯¹è±¡æ—¶æŒ‡å®šè§„åˆ™å³å¯\n    set.add(1);\n    set.add(3);\n    set.add(2);\n    System.out.println(set);\n&#125;\n\nç°åœ¨çš„ç»“æœå°±æ˜¯æˆ‘ä»¬è‡ªå®šä¹‰çš„æ’åºè§„åˆ™äº†ã€‚\nè™½ç„¶Seté›†åˆåªæ˜¯ç²—ç•¥çš„è¿›è¡Œäº†è®²è§£ï¼Œä½†æ˜¯å­¦ä¹ Mapä¹‹åï¼Œæˆ‘ä»¬è¿˜ä¼šå›æ¥çœ‹æˆ‘ä»¬Setçš„åº•å±‚å®ç°ï¼Œæ‰€ä»¥è¯´æœ€é‡è¦çš„è¿˜æ˜¯Mapã€‚æœ¬èŠ‚åªéœ€è¦è®°ä½Setçš„æ€§è´¨ã€ä½¿ç”¨å³å¯ã€‚\n\nMapæ˜ å°„ä»€ä¹ˆæ˜¯æ˜ å°„æˆ‘ä»¬åœ¨é«˜ä¸­é˜¶æ®µå…¶å®å·²ç»å­¦ä¹ è¿‡æ˜ å°„äº†ï¼Œæ˜ å°„æŒ‡ä¸¤ä¸ªå…ƒç´ çš„ä¹‹é—´ç›¸äº’â€œå¯¹åº”â€çš„å…³ç³»ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬çš„å…ƒç´ ä¹‹é—´æ˜¯ä¸¤ä¸¤å¯¹åº”çš„ï¼Œæ˜¯ä»¥é”®å€¼å¯¹çš„å½¢å¼å­˜åœ¨ã€‚\n\nMapæ¥å£Mapå°±æ˜¯ä¸ºäº†å®ç°è¿™ç§æ•°æ®ç»“æ„è€Œå­˜åœ¨çš„ï¼Œæˆ‘ä»¬é€šè¿‡ä¿å­˜é”®å€¼å¯¹çš„å½¢å¼æ¥å­˜å‚¨æ˜ å°„å…³ç³»ã€‚\næˆ‘ä»¬å…ˆæ¥çœ‹çœ‹Mapæ¥å£ä¸­å®šä¹‰äº†å“ªäº›æ“ä½œã€‚\nHashMapå’ŒLinkedHashMapHashMapçš„å®ç°è¿‡ç¨‹ï¼Œç›¸æ¯”Listï¼Œå°±éå¸¸åœ°å¤æ‚äº†ï¼Œå®ƒå¹¶ä¸æ˜¯ç®€ç®€å•å•çš„è¡¨ç»“æ„ï¼Œè€Œæ˜¯åˆ©ç”¨å“ˆå¸Œè¡¨å­˜æ”¾æ˜ å°„å…³ç³»ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹HashMapæ˜¯å¦‚ä½•å®ç°çš„ï¼Œé¦–å…ˆå›é¡¾æˆ‘ä»¬ä¹‹å‰å­¦ä¹ çš„å“ˆå¸Œè¡¨ï¼Œå®ƒé•¿è¿™æ ·ï¼š\n\nå“ˆå¸Œè¡¨çš„æœ¬è´¨å…¶å®å°±æ˜¯ä¸€ä¸ªç”¨äºå­˜æ”¾åç»­èŠ‚ç‚¹çš„å¤´ç»“ç‚¹çš„æ•°ç»„ï¼Œæ•°ç»„é‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªå¤´ç»“ç‚¹ï¼ˆä¹Ÿå¯ä»¥è¯´å°±æ˜¯ä¸€ä¸ªé“¾è¡¨ï¼‰ï¼Œå½“è¦æ–°æ’å…¥ä¸€ä¸ªæ•°æ®æ—¶ï¼Œä¼šå…ˆè®¡ç®—è¯¥æ•°æ®çš„å“ˆå¸Œå€¼ï¼Œæ‰¾åˆ°æ•°ç»„ä¸‹æ ‡ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ï¼Œæ·»åŠ åˆ°å¯¹åº”çš„é“¾è¡¨åé¢ã€‚\nè€ŒHashMapå°±æ˜¯é‡‡ç”¨çš„è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æºç ä¸­åŒæ ·å®šä¹‰äº†è¿™æ ·çš„ä¸€ä¸ªç»“æ„ï¼š\n&#x2F;**\n * The table, initialized on first use, and resized as\n * necessary. When allocated, length is always a power of two.\n * (We also tolerate length zero in some operations to allow\n * bootstrapping mechanics that are currently not needed.)\n *&#x2F;\ntransient Node&lt;K,V&gt;[] table;\n\nè¿™ä¸ªè¡¨ä¼šåœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨æ—¶åˆå§‹åŒ–ï¼ŒåŒæ—¶åœ¨å¿…è¦æ—¶è¿›è¡Œæ‰©å®¹ï¼Œå¹¶ä¸”å®ƒçš„å¤§å°æ°¸è¿œæ˜¯2çš„å€æ•°ï¼\n&#x2F;**\n * The default initial capacity - MUST be a power of two.\n *&#x2F;\nstatic final int DEFAULT_INITIAL_CAPACITY &#x3D; 1 &lt;&lt; 4; &#x2F;&#x2F; aka 16\n\næˆ‘ä»¬å¯ä»¥çœ‹åˆ°é»˜è®¤çš„å¤§å°ä¸º2çš„4æ¬¡æ–¹ï¼Œæ¯æ¬¡éƒ½éœ€è¦æ˜¯2çš„å€æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸‹ä¸€æ¬¡å¢é•¿ä¹‹åï¼Œå¤§å°ä¼šå˜æˆ2çš„5æ¬¡æ–¹ã€‚\næˆ‘ä»¬ç°åœ¨éœ€è¦æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼Œå½“æˆ‘ä»¬è¡¨ä¸­çš„æ•°æ®ä¸æ–­å¢åŠ ä¹‹åï¼Œé“¾è¡¨ä¼šå˜å¾—è¶Šæ¥è¶Šé•¿ï¼Œè¿™æ ·ä¼šä¸¥é‡å¯¼è‡´æŸ¥è¯¢é€Ÿåº¦å˜æ…¢ï¼Œé¦–å…ˆæƒ³åˆ°åŠæ³•å°±æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹æ•°ç»„çš„é•¿åº¦è¿›è¡Œæ‰©å®¹ï¼Œæ¥å­˜æ”¾æ›´å¤šçš„é“¾è¡¨ï¼Œé‚£ä¹ˆä»€ä¹ˆæƒ…å†µä¸‹ä¼šè¿›è¡Œæ‰©å®¹å‘¢ï¼Ÿ\n&#x2F;**\n * The load factor for the hash table.\n *\n * @serial\n *&#x2F;\nfinal float loadFactor;\n\næˆ‘ä»¬è¿˜å‘ç°HashMapæºç ä¸­æœ‰è¿™æ ·ä¸€ä¸ªå˜é‡ï¼Œä¹Ÿå°±æ˜¯è´Ÿè½½å› å­ï¼Œé‚£ä¹ˆå®ƒæ˜¯å¹²å˜›çš„å‘¢ï¼Ÿ\nè´Ÿè½½å› å­å…¶å®å°±æ˜¯ç”¨æ¥è¡¡é‡å½“å‰æƒ…å†µæ˜¯å¦éœ€è¦è¿›è¡Œæ‰©å®¹çš„æ ‡å‡†ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°é»˜è®¤çš„è´Ÿè½½å› å­æ˜¯0.75\n&#x2F;**\n * The load factor used when none specified in constructor.\n *&#x2F;\nstatic final float DEFAULT_LOAD_FACTOR &#x3D; 0.75f;\n\né‚£ä¹ˆè´Ÿè½½å› å­æ˜¯æ€ä¹ˆæ§åˆ¶æ‰©å®¹çš„å‘¢ï¼Ÿ0.75çš„æ„æ€æ˜¯ï¼Œåœ¨æ’å…¥æ–°çš„ç»“ç‚¹åï¼Œå¦‚æœå½“å‰æ•°ç»„çš„å ç”¨ç‡è¾¾åˆ°75%åˆ™è¿›è¡Œæ‰©å®¹ã€‚åœ¨æ‰©å®¹æ—¶ï¼Œä¼šå°†æ‰€æœ‰çš„æ•°æ®ï¼Œé‡æ–°è®¡ç®—å“ˆå¸Œå€¼ï¼Œå¾—åˆ°ä¸€ä¸ªæ–°çš„ä¸‹æ ‡ï¼Œç»„æˆæ–°çš„å“ˆå¸Œè¡¨ã€‚\nä½†æ˜¯è¿™æ ·ä¾ç„¶æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œé“¾è¡¨è¿‡é•¿çš„æƒ…å†µè¿˜æ˜¯æœ‰å¯èƒ½å‘ç”Ÿï¼Œæ‰€ä»¥ï¼Œä¸ºäº†ä»æ ¹æºä¸Šè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåœ¨JDK1.8æ—¶ï¼Œå¼•å…¥äº†çº¢é»‘æ ‘è¿™ä¸ªæ•°æ®ç»“æ„ã€‚\n\nå½“é“¾è¡¨çš„é•¿åº¦è¾¾åˆ°8æ—¶ï¼Œä¼šè‡ªåŠ¨å°†é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼Œè¿™æ ·èƒ½ä½¿å¾—åŸæœ‰çš„æŸ¥è¯¢æ•ˆç‡å¤§å¹…åº¦é™ä½ï¼å½“ä½¿ç”¨çº¢é»‘æ ‘ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨äºŒåˆ†æœç´¢çš„æ€æƒ³ï¼Œå¿«é€Ÿåœ°å»å¯»æ‰¾æˆ‘ä»¬æƒ³è¦çš„ç»“æœï¼Œè€Œä¸æ˜¯åƒé“¾è¡¨ä¸€æ ·æŒ¨ä¸ªå»çœ‹ã€‚\n&#x2F;**\n * Entry for Tree bins. Extends LinkedHashMap.Entry (which in turn\n * extends Node) so can be used as extension of either regular or\n * linked node.\n *&#x2F;\nstatic final class TreeNode&lt;K,V&gt; extends LinkedHashMap.Entry&lt;K,V&gt; &#123;\n\né™¤äº†Nodeä»¥å¤–ï¼ŒHashMapè¿˜æœ‰TreeNodeï¼Œå¾ˆæ˜æ˜¾è¿™å°±æ˜¯ä¸ºäº†å®ç°çº¢é»‘æ ‘è€Œè®¾è®¡çš„å†…éƒ¨ç±»ã€‚ä¸è¿‡æˆ‘ä»¬å‘ç°ï¼ŒTreeNodeå¹¶ä¸æ˜¯ç›´æ¥ç»§æ‰¿Nodeï¼Œè€Œæ˜¯ä½¿ç”¨äº†LinkedHashMapä¸­çš„Entryå®ç°ï¼Œå®ƒä¿å­˜äº†å‰åèŠ‚ç‚¹çš„é¡ºåºï¼ˆä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„æ’å…¥é¡ºåºï¼‰ã€‚\n&#x2F;**\n * HashMap.Node subclass for normal LinkedHashMap entries.\n *&#x2F;\nstatic class Entry&lt;K,V&gt; extends HashMap.Node&lt;K,V&gt; &#123;\n    Entry&lt;K,V&gt; before, after;\n    Entry(int hash, K key, V value, Node&lt;K,V&gt; next) &#123;\n        super(hash, key, value, next);\n    &#125;\n&#125;\n\nLinkedHashMapæ˜¯ç›´æ¥ç»§æ‰¿è‡ªHashMapï¼Œå…·æœ‰HashMapçš„å…¨éƒ¨æ€§è´¨ï¼ŒåŒæ—¶å¾—ç›Šäºæ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ä¸€ä¸ªåŒå‘é“¾è¡¨ï¼Œä¿å­˜äº†æ’å…¥é¡ºåºï¼Œè¿™æ ·æˆ‘ä»¬åœ¨éå†LinkedHashMapæ—¶ï¼Œé¡ºåºå°±åŒæˆ‘ä»¬çš„æ’å…¥é¡ºåºä¸€è‡´ã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è®¿é—®é¡ºåºï¼Œä¹Ÿå°±æ˜¯è¯´å¯¹äºåˆšè®¿é—®è¿‡çš„å…ƒç´ ï¼Œä¼šè¢«æ’åˆ°æœ€åä¸€ä½ã€‚\npublic static void main(String[] args) &#123;\n    LinkedHashMap&lt;Integer, String&gt; map &#x3D; new LinkedHashMap&lt;&gt;(16, 0.75f, true);  &#x2F;&#x2F;ä»¥è®¿é—®é¡ºåº\n    map.put(1, &quot;A&quot;);\n    map.put(2, &quot;B&quot;);\n    map.put(3, &quot;C&quot;);\n    map.get(2);\n    System.out.println(map);\n&#125;\n\nè§‚å¯Ÿç»“æœï¼Œæˆ‘ä»¬å‘ç°ï¼Œåˆšè®¿é—®çš„ç»“æœè¢«æ’åˆ°äº†æœ€åä¸€ä½ã€‚\nTreeMapTreeMapå…¶å®å°±æ˜¯è‡ªåŠ¨ç»´æŠ¤é¡ºåºçš„ä¸€ç§Mapï¼Œå°±å’Œæˆ‘ä»¬å‰é¢æåˆ°çš„TreeSetä¸€æ ·ï¼š\n&#x2F;**\n * The comparator used to maintain order in this tree map, or\n * null if it uses the natural ordering of its keys.\n *\n * @serial\n *&#x2F;\nprivate final Comparator&lt;? super K&gt; comparator;\n\nprivate transient Entry&lt;K,V&gt; root;\n\n&#x2F;**\n* Node in the Tree.  Doubles as a means to pass key-value pairs back to\n* user (see Map.Entry).\n*&#x2F;\n\nstatic final class Entry&lt;K,V&gt; implements Map.Entry&lt;K,V&gt; &#123;\n\næˆ‘ä»¬å‘ç°å®ƒçš„å†…éƒ¨ç›´æ¥ç»´æŠ¤äº†ä¸€ä¸ªçº¢é»‘æ ‘ï¼Œå°±åƒå®ƒçš„åå­—ä¸€æ ·ï¼Œå°±æ˜¯ä¸€ä¸ªTreeï¼Œå› ä¸ºå®ƒé»˜è®¤å°±æ˜¯æœ‰åºçš„ï¼Œæ‰€ä»¥è¯´ç›´æ¥é‡‡ç”¨çº¢é»‘æ ‘ä¼šæ›´å¥½ã€‚æˆ‘ä»¬åœ¨åˆ›å»ºæ—¶ï¼Œç›´æ¥ç»™äºˆä¸€ä¸ªæ¯”è¾ƒè§„åˆ™å³å¯ã€‚\nMapçš„ä½¿ç”¨æˆ‘ä»¬é¦–å…ˆæ¥çœ‹çœ‹Mapçš„ä¸€äº›åŸºæœ¬æ“ä½œï¼š\npublic static void main(String[] args) &#123;\n    Map&lt;Integer, String&gt; map &#x3D; new HashMap&lt;&gt;();\n    map.put(1, &quot;A&quot;);\n    map.put(2, &quot;B&quot;);\n    map.put(3, &quot;C&quot;);\n    System.out.println(map.get(1));    &#x2F;&#x2F;è·å–Keyä¸º1çš„å€¼\n    System.out.println(map.getOrDefault(0, &quot;K&quot;));  &#x2F;&#x2F;ä¸å­˜åœ¨å°±è¿”å›K\n   \tmap.remove(1);   &#x2F;&#x2F;ç§»é™¤è¿™ä¸ªKeyçš„é”®å€¼å¯¹\n&#125;\n\nç”±äºMapå¹¶æœªå®ç°è¿­ä»£å™¨æ¥å£ï¼Œå› æ­¤ä¸æ”¯æŒforeachï¼Œä½†æ˜¯JDK1.8ä¸ºæˆ‘ä»¬æä¾›äº†forEachæ–¹æ³•ä½¿ç”¨ï¼š\npublic static void main(String[] args) &#123;\n    Map&lt;Integer, String&gt; map &#x3D; new HashMap&lt;&gt;();\n    map.put(1, &quot;A&quot;);\n    map.put(2, &quot;B&quot;);\n    map.put(3, &quot;C&quot;);\n    map.forEach((k, v) -&gt; System.out.println(k+&quot;-&gt;&quot;+v));\n  \n  \tfor (Map.Entry&lt;Integer, String&gt; entry : map.entrySet()) &#123;   &#x2F;&#x2F;ä¹Ÿå¯ä»¥è·å–æ‰€æœ‰çš„Entryæ¥foreach\n      int key &#x3D; entry.getKey();\n      String value &#x3D; entry.getValue();\n      System.out.println(key+&quot; -&gt; &quot;+value);\n    &#125;\n&#125;\n\næˆ‘ä»¬ä¹Ÿå¯ä»¥å•ç‹¬è·å–æ‰€æœ‰çš„å€¼æˆ–è€…æ˜¯é”®ï¼š\npublic static void main(String[] args) &#123;\n    Map&lt;Integer, String&gt; map &#x3D; new HashMap&lt;&gt;();\n    map.put(1, &quot;A&quot;);\n    map.put(2, &quot;B&quot;);\n    map.put(3, &quot;C&quot;);\n    System.out.println(map.keySet());   &#x2F;&#x2F;ç›´æ¥è·å–æ‰€æœ‰çš„key\n    System.out.println(map.values());   &#x2F;&#x2F;ç›´æ¥è·å–æ‰€æœ‰çš„å€¼\n&#125;\n\nå†è°ˆSetåŸç†é€šè¿‡è§‚å¯ŸHashSetçš„æºç å‘ç°ï¼ŒHashSetå‡ ä¹éƒ½åœ¨æ“ä½œå†…éƒ¨ç»´æŠ¤çš„ä¸€ä¸ªHashMapï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒHashSetåªæ˜¯ä¸€ä¸ªè¡¨å£³ï¼Œè€Œå†…éƒ¨ç»´æŠ¤çš„HashMapæ‰æ˜¯çµé­‚ï¼\n&#x2F;&#x2F; Dummy value to associate with an Object in the backing Map\nprivate static final Object PRESENT &#x3D; new Object();\n\næˆ‘ä»¬å‘ç°ï¼Œåœ¨æ·»åŠ å…ƒç´ æ—¶ï¼Œå…¶å®æ·»åŠ çš„æ˜¯ä¸€ä¸ªé”®ä¸ºæˆ‘ä»¬æ’å…¥çš„å…ƒç´ ï¼Œè€Œå€¼å°±æ˜¯PRESENTå¸¸é‡ï¼š\n&#x2F;**\n * Adds the specified element to this set if it is not already present.\n * More formally, adds the specified element &lt;tt&gt;e&lt;&#x2F;tt&gt; to this set if\n * this set contains no element &lt;tt&gt;e2&lt;&#x2F;tt&gt; such that\n * &lt;tt&gt;(e&#x3D;&#x3D;null&amp;nbsp;?&amp;nbsp;e2&#x3D;&#x3D;null&amp;nbsp;:&amp;nbsp;e.equals(e2))&lt;&#x2F;tt&gt;.\n * If this set already contains the element, the call leaves the set\n * unchanged and returns &lt;tt&gt;false&lt;&#x2F;tt&gt;.\n *\n * @param e element to be added to this set\n * @return &lt;tt&gt;true&lt;&#x2F;tt&gt; if this set did not already contain the specified\n * element\n *&#x2F;\npublic boolean add(E e) &#123;\n    return map.put(e, PRESENT)&#x3D;&#x3D;null;\n&#125;\n\nè§‚å¯Ÿå…¶ä»–çš„æ–¹æ³•ï¼Œä¹Ÿå‡ ä¹éƒ½æ˜¯åœ¨ç”¨HashMapåšäº‹ï¼Œæ‰€ä»¥è¯´ï¼ŒHashSetåˆ©ç”¨äº†HashMapå†…éƒ¨çš„æ•°æ®ç»“æ„ï¼Œè½»æ¾åœ°å°±å®ç°äº†Setå®šä¹‰çš„å…¨éƒ¨åŠŸèƒ½ï¼\nå†æ¥çœ‹TreeSetï¼Œå®é™…ä¸Šç”¨çš„å°±æ˜¯æˆ‘ä»¬çš„TreeMapï¼š\n&#x2F;**\n * The backing map.\n *&#x2F;\nprivate transient NavigableMap&lt;E,Object&gt; m;\n\nåŒç†ï¼Œè¿™é‡Œå°±ä¸å¤šåšé˜è¿°äº†ã€‚\nJDK1.8æ–°å¢æ–¹æ³•ä½¿ç”¨æœ€åï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹JDK1.8ä¸­é›†åˆç±»æ–°å¢çš„ä¸€äº›æ“ä½œï¼ˆä¹‹å‰æ²¡æœ‰æåŠçš„ï¼‰é¦–å…ˆæ¥çœ‹çœ‹computeæ–¹æ³•ï¼š\npublic static void main(String[] args) &#123;\n    Map&lt;Integer, String&gt; map &#x3D; new HashMap&lt;&gt;();\n    map.put(1, &quot;A&quot;);\n    map.put(2, &quot;B&quot;);\n    map.compute(1, (k, v) -&gt; &#123;   &#x2F;&#x2F;computeä¼šå°†æŒ‡å®šKeyçš„å€¼è¿›è¡Œé‡æ–°è®¡ç®—ï¼Œè‹¥Keyä¸å­˜åœ¨ï¼Œvä¼šè¿”å›null\n        return v+&quot;M&quot;;     &#x2F;&#x2F;è¿™é‡Œè¿”å›åŸæ¥çš„value+M\n    &#125;);\n  \tmap.computeIfPresent(1, (k, v) -&gt; &#123;   &#x2F;&#x2F;å½“Keyå­˜åœ¨æ—¶å­˜åœ¨åˆ™è®¡ç®—å¹¶èµ‹äºˆæ–°çš„å€¼\n      return v+&quot;M&quot;;     &#x2F;&#x2F;è¿™é‡Œè¿”å›åŸæ¥çš„value+M\n    &#125;);\n    System.out.println(map);\n&#125;\n\nä¹Ÿå¯ä»¥ä½¿ç”¨computeIfAbsentï¼Œå½“ä¸å­˜åœ¨Keyæ—¶ï¼Œè®¡ç®—å¹¶å°†é”®å€¼å¯¹æ”¾å…¥Map\npublic static void main(String[] args) &#123;\n    Map&lt;Integer, String&gt; map &#x3D; new HashMap&lt;&gt;();\n    map.put(1, &quot;A&quot;);\n    map.put(2, &quot;B&quot;);\n    map.computeIfAbsent(0, (k) -&gt; &#123;   &#x2F;&#x2F;è‹¥ä¸å­˜åœ¨åˆ™è®¡ç®—å¹¶æ’å…¥æ–°çš„å€¼\n        return &quot;M&quot;;     &#x2F;&#x2F;è¿™é‡Œè¿”å›M\n    &#125;);\n    System.out.println(map);\n&#125;\n\nmergeæ–¹æ³•ç”¨äºå¤„ç†æ•°æ®ï¼š\npublic static void main(String[] args) &#123;\n    List&lt;Student&gt; students &#x3D; Arrays.asList(\n            new Student(&quot;yoni&quot;, &quot;English&quot;, 80),\n            new Student(&quot;yoni&quot;, &quot;Chiness&quot;, 98),\n            new Student(&quot;yoni&quot;, &quot;Math&quot;, 95),\n            new Student(&quot;taohai.wang&quot;, &quot;English&quot;, 50),\n            new Student(&quot;taohai.wang&quot;, &quot;Chiness&quot;, 72),\n            new Student(&quot;taohai.wang&quot;, &quot;Math&quot;, 41),\n            new Student(&quot;Seely&quot;, &quot;English&quot;, 88),\n            new Student(&quot;Seely&quot;, &quot;Chiness&quot;, 89),\n            new Student(&quot;Seely&quot;, &quot;Math&quot;, 92)\n    );\n    Map&lt;String, Integer&gt; scoreMap &#x3D; new HashMap&lt;&gt;();\n    students.forEach(student -&gt; scoreMap.merge(student.getName(), student.getScore(), Integer::sum));\n    scoreMap.forEach((k, v) -&gt; System.out.println(&quot;key:&quot; + k + &quot;æ€»åˆ†&quot; + &quot;value:&quot; + v));\n&#125;\n\nstatic class Student &#123;\n    private final String name;\n    private final String type;\n    private final int score;\n\n    public Student(String name, String type, int score) &#123;\n        this.name &#x3D; name;\n        this.type &#x3D; type;\n        this.score &#x3D; score;\n    &#125;\n\n    public String getName() &#123;\n        return name;\n    &#125;\n\n    public int getScore() &#123;\n        return score;\n    &#125;\n\n    public String getType() &#123;\n        return type;\n    &#125;\n&#125;\n\n\né›†åˆçš„åµŒå¥—æ—¢ç„¶é›†åˆç±»å‹ä¸­çš„å…ƒç´ ç±»å‹æ˜¯æ³›å‹ï¼Œé‚£ä¹ˆèƒ½å¦åµŒå¥—å­˜å‚¨å‘¢ï¼Ÿ\npublic static void main(String[] args) &#123;\n    Map&lt;String, List&lt;Integer&gt;&gt; map &#x3D; new HashMap&lt;&gt;();   &#x2F;&#x2F;æ¯ä¸€ä¸ªæ˜ å°„éƒ½æ˜¯ å­—ç¬¦ä¸²&lt;-&gt;åˆ—è¡¨\n    map.put(&quot;å¡å¸ƒå¥‡è¯ºä»ŠçŠ¹åœ¨&quot;, new LinkedList&lt;&gt;());\n    map.put(&quot;ä¸è§å½“å¹´å€’èŒ¶äºº&quot;, new LinkedList&lt;&gt;());\n    System.out.println(map.keySet());\n    System.out.println(map.values());\n&#125;\n\né€šè¿‡Keyè·å–åˆ°å¯¹åº”çš„å€¼åï¼Œå°±æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼š\nmap.get(&quot;å¡å¸ƒå¥‡è¯ºä»ŠçŠ¹åœ¨&quot;).add(10);\nSystem.out.println(map.get(&quot;å¡å¸ƒå¥‡è¯ºä»ŠçŠ¹åœ¨&quot;).get(0));\n\nè®©å¥—å¨ƒç»§ç»­ä¸‹å»ï¼š\npublic static void main(String[] args) &#123;\n    Map&lt;Integer, Map&lt;Integer, Map&lt;Integer, String&gt;&gt;&gt; map &#x3D; new HashMap&lt;&gt;();\n&#125;\n\nä½ ä¹Ÿå¯ä»¥ä½¿ç”¨Listæ¥å¥—å¨ƒåˆ«çš„ï¼š\npublic static void main(String[] args) &#123;\n    List&lt;Map&lt;String, Set&lt;String&gt;&gt;&gt; list &#x3D; new LinkedList&lt;&gt;();\n&#125;\n\næµStreamå’ŒOptionalçš„ä½¿ç”¨Java 8 APIæ·»åŠ äº†ä¸€ä¸ªæ–°çš„æŠ½è±¡ç§°ä¸ºæµStreamï¼Œå¯ä»¥è®©ä½ ä»¥ä¸€ç§å£°æ˜çš„æ–¹å¼å¤„ç†æ•°æ®ã€‚Stream ä½¿ç”¨ä¸€ç§ç±»ä¼¼ç”¨ SQL è¯­å¥ä»æ•°æ®åº“æŸ¥è¯¢æ•°æ®çš„ç›´è§‚æ–¹å¼æ¥æä¾›ä¸€ç§å¯¹ Java é›†åˆè¿ç®—å’Œè¡¨è¾¾çš„é«˜é˜¶æŠ½è±¡ã€‚Stream APIå¯ä»¥æå¤§æé«˜Javaç¨‹åºå‘˜çš„ç”Ÿäº§åŠ›ï¼Œè®©ç¨‹åºå‘˜å†™å‡ºé«˜æ•ˆç‡ã€å¹²å‡€ã€ç®€æ´çš„ä»£ç ã€‚è¿™ç§é£æ ¼å°†è¦å¤„ç†çš„å…ƒç´ é›†åˆçœ‹ä½œä¸€ç§æµï¼Œ æµåœ¨ç®¡é“ä¸­ä¼ è¾“ï¼Œ å¹¶ä¸”å¯ä»¥åœ¨ç®¡é“çš„èŠ‚ç‚¹ä¸Šè¿›è¡Œå¤„ç†ï¼Œ æ¯”å¦‚ç­›é€‰ï¼Œ æ’åºï¼Œèšåˆç­‰ã€‚å…ƒç´ æµåœ¨ç®¡é“ä¸­ç»è¿‡ä¸­é—´æ“ä½œï¼ˆintermediate operationï¼‰çš„å¤„ç†ï¼Œæœ€åç”±æœ€ç»ˆæ“ä½œ(terminal operation)å¾—åˆ°å‰é¢å¤„ç†çš„ç»“æœã€‚\n\nå®ƒçœ‹èµ·æ¥å°±åƒä¸€ä¸ªå·¥å‚çš„æµæ°´çº¿ä¸€æ ·ï¼æˆ‘ä»¬å°±å¯ä»¥æŠŠä¸€ä¸ªStreamå½“åšæµæ°´çº¿å¤„ç†ï¼š\npublic static void main(String[] args) &#123;\n    List&lt;String&gt; list &#x3D; new ArrayList&lt;&gt;();\n    list.add(&quot;A&quot;);\n    list.add(&quot;B&quot;);\n    list.add(&quot;C&quot;);\n  \n  \t&#x2F;&#x2F;ç§»é™¤ä¸ºBçš„å…ƒç´ \n  \tIterator&lt;String&gt; iterator &#x3D; list.iterator();\n        while (iterator.hasNext())&#123;\n            if(iterator.next().equals(&quot;B&quot;)) iterator.remove();\n        &#125;\n  \n  \t&#x2F;&#x2F;Streamæ“ä½œ\n    list &#x3D; list     &#x2F;&#x2F;é“¾å¼è°ƒç”¨\n            .stream()    &#x2F;&#x2F;è·å–æµ\n            .filter(e -&gt; !e.equals(&quot;B&quot;))   &#x2F;&#x2F;åªå…è®¸æ‰€æœ‰ä¸æ˜¯Bçš„å…ƒç´ é€šè¿‡æµæ°´çº¿\n            .collect(Collectors.toList());   &#x2F;&#x2F;å°†æµæ°´çº¿ä¸­çš„å…ƒç´ é‡æ–°æ”¶é›†èµ·æ¥ï¼Œå˜å›List\n    System.out.println(list);\n&#125;\n\nå¯èƒ½ä»ä¸Šè¿°ä¾‹å­ä¸­è¿˜ä¸èƒ½æ„Ÿå—åˆ°æµå¤„ç†å¸¦æ¥çš„ä¾¿æ·ï¼Œæˆ‘ä»¬é€šè¿‡ä¸‹é¢è¿™ä¸ªä¾‹å­æ¥æ„Ÿå—ä¸€ä¸‹ï¼š\npublic static void main(String[] args) &#123;\n    List&lt;Integer&gt; list &#x3D; new ArrayList&lt;&gt;();\n    list.add(1);\n    list.add(2);\n    list.add(3);\n  \tlist.add(3);\n\n    list &#x3D; list\n            .stream()\n      \t\t\t.distinct()   &#x2F;&#x2F;å»é‡ï¼ˆä½¿ç”¨equalsåˆ¤æ–­ï¼‰\n            .sorted((a, b) -&gt; b - a)    &#x2F;&#x2F;è¿›è¡Œå€’åºæ’åˆ—\n            .map(e -&gt; e+1)    &#x2F;&#x2F;æ¯ä¸ªå…ƒç´ éƒ½è¦æ‰§è¡Œ+1æ“ä½œ\n            .limit(2)    &#x2F;&#x2F;åªæ”¾è¡Œå‰ä¸¤ä¸ªå…ƒç´ \n            .collect(Collectors.toList());\n\n    System.out.println(list);\n&#125;\n\nå½“é‡åˆ°å¤§é‡çš„å¤æ‚æ“ä½œæ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨Streamæ¥å¿«é€Ÿç¼–å†™ä»£ç ï¼Œè¿™æ ·ä¸ä»…ä»£ç é‡å¤§å¹…åº¦å‡å°‘ï¼Œè€Œä¸”é€»è¾‘ä¹Ÿæ›´åŠ æ¸…æ™°æ˜äº†ï¼ˆå¦‚æœä½ å­¦ä¹ è¿‡SQLçš„è¯ï¼Œä½ ä¼šå‘ç°å®ƒæ›´åƒä¸€ä¸ªSqlè¯­å¥ï¼‰\næ³¨æ„ï¼šä¸èƒ½è®¤ä¸ºæ¯ä¸€æ­¥æ˜¯ç›´æ¥ä¾æ¬¡æ‰§è¡Œçš„ï¼\nList&lt;Integer&gt; list &#x3D; new ArrayList&lt;&gt;();\nlist.add(1);\nlist.add(2);\nlist.add(3);\nlist.add(3);\n\nlist &#x3D; list\n        .stream()\n        .distinct()   &#x2F;&#x2F;æ–­ç‚¹\n        .sorted((a, b) -&gt; b - a)\n        .map(e -&gt; &#123;\n            System.out.println(&quot;&gt;&gt;&gt; &quot;+e);   &#x2F;&#x2F;æ–­ç‚¹\n            return e+1;\n        &#125;)\n        .limit(2)   &#x2F;&#x2F;æ–­ç‚¹\n        .collect(Collectors.toList());\n&#x2F;&#x2F;å®é™…ä¸Šï¼Œstreamä¼šå…ˆè®°å½•æ¯ä¸€æ­¥æ“ä½œï¼Œè€Œä¸æ˜¯ç›´æ¥å¼€å§‹æ‰§è¡Œå†…å®¹ï¼Œå½“æ•´ä¸ªé“¾å¼è°ƒç”¨å®Œæˆåï¼Œæ‰ä¼šä¾æ¬¡è¿›è¡Œï¼\n\næ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç”¨ä¸€å †éšæœºæ•°æ¥è¿›è¡Œæ›´å¤šæµæ“ä½œçš„æ¼”ç¤ºï¼š\npublic static void main(String[] args) &#123;\n    Random random &#x3D; new Random();  &#x2F;&#x2F;Randomæ˜¯ä¸€ä¸ªéšæœºæ•°å·¥å…·ç±»\n    random\n            .ints(-100, 100)   &#x2F;&#x2F;ç”Ÿæˆ-100~100ä¹‹é—´çš„ï¼Œéšæœºintå‹æ•°å­—ï¼ˆæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªIntStreamï¼‰\n            .limit(10)   &#x2F;&#x2F;åªè·å–å‰10ä¸ªæ•°å­—ï¼ˆè¿™æ˜¯ä¸€ä¸ªæ— é™åˆ¶çš„æµï¼Œå¦‚æœä¸åŠ ä»¥é™åˆ¶ï¼Œå°†ä¼šæ— é™è¿›è¡Œä¸‹å»ï¼ï¼‰\n            .filter(i -&gt; i &lt; 0)   &#x2F;&#x2F;åªä¿ç•™å°äº0çš„æ•°å­—\n            .sorted()    &#x2F;&#x2F;é»˜è®¤ä»å°åˆ°å¤§æ’åº\n            .forEach(System.out::println);   &#x2F;&#x2F;ä¾æ¬¡æ‰“å°\n&#125;\n\næˆ‘ä»¬å¯ä»¥ç”Ÿæˆä¸€ä¸ªç»Ÿè®¡å®ä¾‹æ¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿè¿›è¡Œç»Ÿè®¡ï¼š\npublic static void main(String[] args) &#123;\n    Random random &#x3D; new Random();  &#x2F;&#x2F;Randomæ˜¯ä¸€ä¸ªéšæœºæ•°å·¥å…·ç±»\n    IntSummaryStatistics statistics &#x3D; random\n            .ints(0, 100)\n            .limit(100)\n            .summaryStatistics();    &#x2F;&#x2F;è·å–è¯­æ³•ç»Ÿè®¡å®ä¾‹\n    System.out.println(statistics.getMax());  &#x2F;&#x2F;å¿«é€Ÿè·å–æœ€å¤§å€¼\n    System.out.println(statistics.getCount());  &#x2F;&#x2F;è·å–æ•°é‡\n    System.out.println(statistics.getAverage());   &#x2F;&#x2F;è·å–å¹³å‡å€¼\n&#125;\n\næ™®é€šçš„Liståªéœ€è¦ä¸€ä¸ªæ–¹æ³•å°±å¯ä»¥ç›´æ¥è½¬æ¢åˆ°æ–¹ä¾¿å¥½ç”¨çš„IntStreamäº†ï¼š\npublic static void main(String[] args) &#123;\n    List&lt;Integer&gt; list &#x3D; new ArrayList&lt;&gt;();\n    list.add(1);\n    list.add(1);\n    list.add(2);\n    list.add(3);\n    list.add(4);\n    list.stream()\n            .mapToInt(i -&gt; i)    &#x2F;&#x2F;å°†æ¯ä¸€ä¸ªå…ƒç´ æ˜ å°„ä¸ºIntegerç±»å‹ï¼ˆè¿™é‡Œå› ä¸ºæœ¬æ¥å°±æ˜¯Integerï¼‰\n            .summaryStatistics();\n&#125;\n\næˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡flatæ¥å¯¹æ•´ä¸ªæµè¿›è¡Œè¿›ä¸€æ­¥ç»†åˆ†ï¼š\npublic static void main(String[] args) &#123;\n    List&lt;String&gt; list &#x3D; new ArrayList&lt;&gt;();\n    list.add(&quot;A,B&quot;);\n    list.add(&quot;C,D&quot;);\n    list.add(&quot;E,F&quot;);   &#x2F;&#x2F;æˆ‘ä»¬æƒ³è®©æ¯ä¸€ä¸ªå…ƒç´ é€šè¿‡,è¿›è¡Œåˆ†å‰²ï¼Œå˜æˆç‹¬ç«‹çš„6ä¸ªå…ƒç´ \n    list &#x3D; list\n            .stream()    &#x2F;&#x2F;ç”Ÿæˆæµ\n            .flatMap(e -&gt; Arrays.stream(e.split(&quot;,&quot;)))    &#x2F;&#x2F;åˆ†å‰²å­—ç¬¦ä¸²å¹¶ç”Ÿæˆæ–°çš„æµ\n            .collect(Collectors.toList());   &#x2F;&#x2F;æ±‡æˆæ–°çš„List\n    System.out.println(list);   &#x2F;&#x2F;å¾—åˆ°ç»“æœ\n&#125;\n\næˆ‘ä»¬ä¹Ÿå¯ä»¥åªé€šè¿‡Streamæ¥å®Œæˆæ‰€æœ‰æ•°å­—çš„å’Œï¼Œä½¿ç”¨reduceæ–¹æ³•ï¼š\npublic static void main(String[] args) &#123;\n    List&lt;Integer&gt; list &#x3D; new ArrayList&lt;&gt;();\n    list.add(1);\n    list.add(2);\n    list.add(3);\n    int sum &#x3D; list\n            .stream()\n            .reduce((a, b) -&gt; a + b)   &#x2F;&#x2F;è®¡ç®—è§„åˆ™ä¸ºï¼šaæ˜¯ä¸Šä¸€æ¬¡è®¡ç®—çš„å€¼ï¼Œbæ˜¯å½“å‰è¦è®¡ç®—çš„å‚æ•°ï¼Œè¿™é‡Œæ˜¯æ±‚å’Œ\n            .get();    &#x2F;&#x2F;æˆ‘ä»¬å‘ç°å¾—åˆ°çš„æ˜¯ä¸€ä¸ªOptionalç±»å®ä¾‹ï¼Œä¸æ˜¯æˆ‘ä»¬è¿”å›çš„ç±»å‹ï¼Œé€šè¿‡getæ–¹æ³•è¿”å›å¾—åˆ°çš„å€¼\n    System.out.println(sum);\n&#125;\n\né€šè¿‡ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬å‘ç°ï¼ŒStreamä¸å–œæ¬¢ç›´æ¥ç»™æˆ‘ä»¬è¿”å›ä¸€ä¸ªç»“æœï¼Œè€Œæ˜¯é€šè¿‡Optinalçš„æ–¹å¼ï¼Œé‚£ä¹ˆä»€ä¹ˆæ˜¯Optionalå‘¢ï¼Ÿ\nOptionalç±»æ˜¯Java8ä¸ºäº†è§£å†³nullå€¼åˆ¤æ–­é—®é¢˜ï¼Œä½¿ç”¨Optionalç±»å¯ä»¥é¿å…æ˜¾å¼çš„nullå€¼åˆ¤æ–­ï¼ˆnullçš„é˜²å¾¡æ€§æ£€æŸ¥ï¼‰ï¼Œé¿å…nullå¯¼è‡´çš„NPEï¼ˆNullPointerExceptionï¼‰ã€‚æ€»è€Œè¨€ä¹‹ï¼Œå°±æ˜¯å¯¹æ§åˆ¶çš„ä¸€ä¸ªåˆ¤æ–­ï¼Œä¸ºäº†é¿å…ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚\npublic static void main(String[] args) &#123;\n    String str &#x3D; null;\n    if(str !&#x3D; null)&#123;   &#x2F;&#x2F;å½“strä¸ä¸ºç©ºæ—¶æ·»åŠ å…ƒç´ åˆ°Listä¸­\n        list.add(str);\n    &#125;\n&#125;\n\næœ‰äº†Optionalä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿™æ ·å†™ï¼š\npublic static void main(String[] args) &#123;\n    String str &#x3D; null;\n    Optional&lt;String&gt; optional &#x3D; Optional.ofNullable(str);   &#x2F;&#x2F;è½¬æ¢ä¸ºOptional\n    optional.ifPresent(System.out::println);  &#x2F;&#x2F;å½“å­˜åœ¨æ—¶å†æ‰§è¡Œæ–¹æ³•\n&#125;\n\nå°±ç±»ä¼¼äºKotlinä¸­çš„ï¼š\nvar str : String? &#x3D; null\nstr?.upperCase()\n\næˆ‘ä»¬å¯ä»¥é€‰æ‹©ç›´æ¥getæˆ–æ˜¯å½“å€¼ä¸ºnullæ—¶ï¼Œè·å–å¤‡é€‰å€¼ï¼š\npublic static void main(String[] args) &#123;\n    String str &#x3D; null;\n    Optional optional &#x3D; Optional.ofNullable(str);   &#x2F;&#x2F;è½¬æ¢ä¸ºOptionalï¼ˆå¯ç©ºï¼‰\n    System.out.println(optional.orElse(&quot;lbwnb&quot;));\n \t\t&#x2F;&#x2F; System.out.println(optional.get());   è¿™æ ·ä¼šç›´æ¥æŠ¥é”™\n&#125;\n\nåŒæ ·çš„ï¼ŒOptionalä¹Ÿæ”¯æŒè¿‡æ»¤æ“ä½œå’Œæ˜ å°„æ“ä½œï¼Œä¸è¿‡æ˜¯å¯¹äºå•å¯¹è±¡è€Œè¨€ï¼š\npublic static void main(String[] args) &#123;\n    String str &#x3D; &quot;A&quot;;\n    Optional optional &#x3D; Optional.ofNullable(str);   &#x2F;&#x2F;è½¬æ¢ä¸ºOptionalï¼ˆå¯ç©ºï¼‰\n    System.out.println(optional.filter(s -&gt; s.equals(&quot;B&quot;)).get());   &#x2F;&#x2F;è¢«è¿‡æ»¤äº†ï¼Œæ­¤æ—¶å…ƒç´ ä¸ºnullï¼Œè·å–æ—¶æŠ¥é”™\n&#125;\n\npublic static void main(String[] args) &#123;\n    List&lt;String&gt; list &#x3D; new ArrayList&lt;&gt;();\n    String str &#x3D; &quot;A&quot;;\n    Optional optional &#x3D; Optional.ofNullable(str);   &#x2F;&#x2F;è½¬æ¢ä¸ºOptionalï¼ˆå¯ç©ºï¼‰\n    System.out.println(optional.map(s -&gt; s + &quot;A&quot;).get());   &#x2F;&#x2F;åœ¨å°¾éƒ¨è¿½åŠ ä¸€ä¸ªA\n&#125;\n\nå…¶ä»–æ“ä½œè‡ªå­¦äº†è§£ã€‚\nArrayså’ŒCollectionsçš„ä½¿ç”¨Arraysæ˜¯ä¸€ä¸ªç”¨äºæ“ä½œæ•°ç»„çš„å·¥å…·ç±»ï¼Œå®ƒç»™æˆ‘ä»¬æä¾›äº†å¤§é‡çš„å·¥å…·æ–¹æ³•ï¼š\n&#x2F;**\n * This class contains various methods for manipulating arrays (such as\n * sorting and searching). This class also contains a static factory\n * that allows arrays to be viewed as lists. &lt;- æ³¨æ„ï¼Œè¿™å¥è¯å¾ˆå…³é”®\n *\n * @author Josh Bloch\n * @author Neal Gafter\n * @author John Rose\n * @since  1.2\n *&#x2F;\npublic class Arrays &#123;\n\nç”±äºæ“ä½œæ•°ç»„å¹¶ä¸åƒé›†åˆé‚£æ ·æ–¹ä¾¿ï¼Œå› æ­¤JDKæä¾›äº†Arraysç±»æ¥å¢å¼ºå¯¹æ•°ç»„æ“ä½œï¼Œæ¯”å¦‚ï¼š\npublic static void main(String[] args) &#123;\n    int[] array &#x3D; &#123;1, 5, 2, 4, 7, 3, 6&#125;;\n    Arrays.sort(array);   &#x2F;&#x2F;ç›´æ¥è¿›è¡Œæ’åºï¼ˆåº•å±‚åŸç†ï¼šè¿›è¡Œåˆ¤æ–­ï¼Œå…ƒç´ å°‘ä½¿ç”¨æ’å…¥æ’åºï¼Œå¤§é‡å…ƒç´ ä½¿ç”¨åŒè½´å¿«é€Ÿ&#x2F;å½’å¹¶æ’åºï¼‰\n    System.out.println(array);  &#x2F;&#x2F;ç”±äºint[]æ˜¯ä¸€ä¸ªå¯¹è±¡ç±»å‹ï¼Œè€Œæ•°ç»„é»˜è®¤æ˜¯æ²¡æœ‰é‡å†™toString()æ–¹æ³•ï¼Œå› æ­¤æ— æ³•æ‰“å°åˆ°æƒ³è¦çš„ç»“æœ\n    System.out.println(Arrays.toString(array));  &#x2F;&#x2F;æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Arrays.toString()æ¥åƒé›†åˆä¸€æ ·ç›´æ¥æ‰“å°æ¯ä¸€ä¸ªå…ƒç´ å‡ºæ¥\n&#125;\n\npublic static void main(String[] args) &#123;\n    int[] array &#x3D; &#123;1, 5, 2, 4, 7, 3, 6&#125;;\n    Arrays.sort(array);\n    System.out.println(&quot;æ’åºåçš„ç»“æœï¼š&quot;+Arrays.toString(array));\n    System.out.println(&quot;ç›®æ ‡å…ƒç´ 3ä½ç½®ä¸ºï¼š&quot;+Arrays.binarySearch(array, 3));  &#x2F;&#x2F;äºŒåˆ†æœç´ ï¼Œå¿…é¡»æ˜¯å·²ç»æ’åºå¥½çš„æ•°ç»„ï¼\n&#125;\n\npublic static void main(String[] args) &#123;\n    int[] array &#x3D; &#123;1, 5, 2, 4, 7, 3, 6&#125;;\n    Arrays\n            .stream(array)    &#x2F;&#x2F;å°†æ•°ç»„è½¬æ¢ä¸ºæµè¿›è¡Œæ“ä½œ\n            .sorted()\n            .forEach(System.out::println);\n&#125;\n\npublic static void main(String[] args) &#123;\n    int[] array &#x3D; &#123;1, 5, 2, 4, 7, 3, 6&#125;;\n    int[] array2 &#x3D; Arrays.copyOf(array, array.length);  &#x2F;&#x2F;å¤åˆ¶ä¸€ä¸ªä¸€æ¨¡ä¸€æ ·çš„æ•°ç»„\n    System.out.println(Arrays.toString(array2));\n\n    System.out.println(Arrays.equals(array, array2));  &#x2F;&#x2F;æ¯”è¾ƒä¸¤ä¸ªæ•°ç»„æ˜¯å¦å€¼ç›¸åŒ\n\n    Arrays.fill(array, 0);   &#x2F;&#x2F;å°†æ•°ç»„çš„æ‰€æœ‰å€¼å…¨éƒ¨å¡«å……ä¸ºæŒ‡å®šå€¼\n    System.out.println(Arrays.toString(array));\n\n    Arrays.setAll(array2, i -&gt; array2[i] + 2);  &#x2F;&#x2F;ä¾æ¬¡è®¡ç®—æ¯ä¸€ä¸ªå…ƒç´ ï¼ˆæ³¨æ„iæ˜¯ä¸‹æ ‡ä½ç½®ï¼‰\n    System.out.println(Arrays.toString(array2));   &#x2F;&#x2F;è¿™é‡Œè®¡ç®—è®©æ¯ä¸ªå…ƒç´ å€¼+2\n&#125;\n\næ€è€ƒï¼šå½“äºŒç»´æ•°ç»„ä½¿ç”¨Arrays.equals()è¿›è¡Œæ¯”è¾ƒä»¥åŠArrays.toString()è¿›è¡Œæ‰“å°æ—¶ï¼Œè¿˜ä¼šå¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„ç»“æœå—ï¼Ÿ\npublic static void main(String[] args) &#123;\n    Integer[][] array &#x3D; &#123;&#123;1, 5&#125;, &#123;2, 4&#125;, &#123;7, 3&#125;, &#123;6&#125;&#125;;\n    Integer[][] array2 &#x3D; &#123;&#123;1, 5&#125;, &#123;2, 4&#125;, &#123;7, 3&#125;, &#123;6&#125;&#125;;\n    System.out.println(Arrays.toString(array));    &#x2F;&#x2F;è¿™æ ·è¿˜ä¼šå¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„ç»“æœå—ï¼Ÿ\n    System.out.println(Arrays.equals(array2, array));    &#x2F;&#x2F;è¿™æ ·è¿˜ä¼šå¾—åˆ°trueå—ï¼Ÿ\n\n    System.out.println(Arrays.deepToString(array));   &#x2F;&#x2F;ä½¿ç”¨deepToStringå°±èƒ½åˆ°æ‰“å°å¤šç»´æ•°ç»„\n    System.out.println(Arrays.deepEquals(array2, array));   &#x2F;&#x2F;ä½¿ç”¨deepEqualså°±èƒ½æ¯”è¾ƒå¤šç»´æ•°ç»„\n&#125;\n\né‚£ä¹ˆï¼Œä¸€å¼€å§‹æåˆ°çš„å½“åšListè¿›è¡Œæ“ä½œå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Arrays.asList()æ¥å°†æ•°ç»„è½¬æ¢ä¸ºä¸€ä¸ª å›ºå®šé•¿åº¦çš„List\npublic static void main(String[] args) &#123;\n    Integer[] array &#x3D; &#123;1, 5, 2, 4, 7, 3, 6&#125;;\n    List&lt;Integer&gt; list &#x3D; Arrays.asList(array);   &#x2F;&#x2F;ä¸æ”¯æŒåŸºæœ¬ç±»å‹æ•°ç»„ï¼Œå¿…é¡»æ˜¯å¯¹è±¡ç±»å‹æ•°ç»„\n    Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);  &#x2F;&#x2F;ä¹Ÿå¯ä»¥é€ä¸ªæ·»åŠ ï¼Œå› ä¸ºæ˜¯å¯å˜å‚æ•°\n\n    list.add(1);    &#x2F;&#x2F;æ­¤Listå®ç°æ˜¯é•¿åº¦å›ºå®šçš„ï¼Œæ˜¯Arrayså†…éƒ¨å•ç‹¬å®ç°çš„ä¸€ä¸ªç±»å‹ï¼Œå› æ­¤ä¸æ”¯æŒæ·»åŠ æ“ä½œ\n    list.remove(0);   &#x2F;&#x2F;åŒç†ï¼Œä¹Ÿä¸æ”¯æŒç§»é™¤\n\n    list.set(0, 8);   &#x2F;&#x2F;ç›´æ¥è®¾ç½®æŒ‡å®šä¸‹æ ‡çš„å€¼å°±å¯ä»¥\n    list.sort(Comparator.reverseOrder());   &#x2F;&#x2F;ä¹Ÿå¯ä»¥æ‰§è¡Œæ’åºæ“ä½œ\n    System.out.println(list);   &#x2F;&#x2F;ä¹Ÿå¯ä»¥åƒListé‚£æ ·ç›´æ¥æ‰“å°\n&#125;\n\næ–‡å­—æ¸¸æˆï¼šallows arrays to be viewed as listsï¼Œå®é™…ä¸Šåªæ˜¯å½“åšListä½¿ç”¨ï¼Œæœ¬è´¨è¿˜æ˜¯æ•°ç»„ï¼Œå› æ­¤æ•°ç»„çš„å±æ€§ä¾ç„¶å­˜åœ¨ï¼å› æ­¤å¦‚æœè¦å°†æ•°ç»„å¿«é€Ÿè½¬æ¢ä¸ºå®é™…çš„Listï¼Œå¯ä»¥åƒè¿™æ ·ï¼š\npublic static void main(String[] args) &#123;\n    Integer[] array &#x3D; &#123;1, 5, 2, 4, 7, 3, 6&#125;;\n    List&lt;Integer&gt; list &#x3D; new ArrayList&lt;&gt;(Arrays.asList(array));\n&#125;\n\né€šè¿‡è‡ªè¡Œåˆ›å»ºä¸€ä¸ªçœŸæ­£çš„ArrayListå¹¶åœ¨æ„é€ æ—¶å°†Arraysçš„Listå€¼ä¼ é€’ã€‚\næ—¢ç„¶æ•°ç»„æ“ä½œéƒ½è¿™ä¹ˆæ–¹ä¾¿äº†ï¼Œé›†åˆæ“ä½œèƒ½ä¸èƒ½ä¹Ÿå®‰æ’ç‚¹é«˜çº§çš„ç©æ³•å‘¢ï¼Ÿé‚£å¿…é¡»çš„ï¼ŒJDKä¸ºæˆ‘ä»¬å‡†å¤‡çš„Collocationsç±»å°±æ˜¯ä¸“ç”¨äºé›†åˆçš„å·¥å…·ç±»ï¼š\npublic static void main(String[] args) &#123;\n    List&lt;Integer&gt; list &#x3D; new ArrayList&lt;&gt;();\n    Collections.max(list);\n    Collections.min(list);\n&#125;\n\nå½“ç„¶ï¼ŒCollectionsæä¾›çš„å†…å®¹ç›¸æ¯”Arraysä¼šæ›´å¤šï¼Œå¸Œæœ›å¤§å®¶ä¸‹å»è‡ªè¡Œäº†è§£ï¼Œè¿™é‡Œå°±ä¸å¤šåšä»‹ç»äº†ã€‚\n\né›†åˆç±»ç¼–ç¨‹å®æˆ˜åè½¬é“¾è¡¨1 &lt;- 3 &lt;- 5 &lt;- 7 &lt;- 9  è½¬æ¢ä¸º 1 &lt;- 3 &lt;- 5 &lt;- 7 &lt;- 9\nç°åœ¨æœ‰ä¸€ä¸ªå•é“¾è¡¨ï¼Œå°è¯•å°†å…¶æ‰€æœ‰èŠ‚ç‚¹å€’åºæ’åˆ—\npublic class Main &#123;\n    public static void main(String[] args) &#123;\n        Node head &#x3D; new Node(1);\n        head.next &#x3D; new Node(3);\n        head.next.next &#x3D; new Node(5);\n        head.next.next.next &#x3D; new Node(7);\n        head.next.next.next.next &#x3D; new Node(9);\n\n        head &#x3D; reverse(head);\n\n        while (head !&#x3D; null)&#123;\n            System.out.println(head.value+&quot; &quot;);\n            head &#x3D; head.next;\n        &#125;\n    &#125;\n\n    public static class Node &#123;\n        public int value;\n        public Node next;\n\n        public Node(int data) &#123;\n            this.value &#x3D; data;\n        &#125;\n    &#125;\n\n    public static Node reverse(Node head) &#123;\n        &#x2F;&#x2F;åœ¨è¿™é‡Œå®ç°\n    &#125;\n&#125;\n\né‡å»ºäºŒå‰æ ‘ç°åœ¨çŸ¥é“äºŒå‰æ ‘çš„å‰åº: GDAFEMHZï¼Œä»¥åŠä¸­åº: ADEFGHMZï¼Œè¯·æ ¹æ®å·²çŸ¥ä¿¡æ¯è¿˜åŸè¿™é¢—äºŒå‰æ ‘ã€‚\n\nå®ç°è®¡ç®—å™¨å®ç°ä¸€ä¸ªè®¡ç®—å™¨ï¼Œè¦æ±‚è¾“å…¥ä¸€ä¸ªè®¡ç®—å…¬å¼ï¼ˆå«åŠ å‡ä¹˜é™¤è¿ç®—ç¬¦ï¼Œæ²¡æœ‰è´Ÿæ•°ä½†æ˜¯æœ‰å°æ•°ï¼‰ï¼Œå¾—åˆ°ç»“æœï¼Œæ¯”å¦‚è¾“å…¥ï¼š1+4*3&#x2F;1.321ï¼Œå¾—åˆ°ç»“æœä¸ºï¼š2.2\nå­—ç¬¦ä¸²åŒ¹é…ï¼ˆKMPç®—æ³•ï¼‰ç°åœ¨ç»™å®šä¸€ä¸ªä¸»å­—ç¬¦ä¸²å’Œä¸€ä¸ªå­å­—ç¬¦ä¸²ï¼Œè¯·åˆ¤æ–­ä¸»å­—ç¬¦ä¸²æ˜¯å¦åŒ…å«å­å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ä¸»å­—ç¬¦ä¸²ï¼šABCABCDHIï¼Œå­å­—ç¬¦ä¸²ï¼šABCDï¼Œå› æ­¤ä¸»å­—ç¬¦ä¸²åŒ…å«æ­¤å­å­—ç¬¦ä¸²ï¼›ä¸»å­—ç¬¦ä¸²ï¼šABCABCUISAï¼Œå­å­—ç¬¦ä¸²ï¼šABCDï¼Œåˆ™ä¸åŒ…å«ã€‚\n","slug":"JavaSEç¬”è®°ï¼ˆå››ï¼‰","date":"2022-03-09T03:41:58.359Z","categories_index":"JavaSEç¬”è®°","tags_index":"JavaSEç¬”è®°","author_index":"YangChao"},{"id":"3acd6dd0df5d1947dcaf1fc3fec39ce8","title":"JavaSEç¬”è®°ï¼ˆä¸‰ï¼‰","content":"Javaå¼‚å¸¸æœºåˆ¶åœ¨ç†æƒ³çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„ç¨‹åºä¼šæŒ‰ç…§æˆ‘ä»¬çš„æ€è·¯å»è¿è¡Œï¼ŒæŒ‰ç†è¯´æ˜¯ä¸ä¼šå‡ºç°é—®é¢˜çš„ï¼Œä½†æ˜¯ï¼Œä»£ç å®é™…ç¼–å†™åå¹¶ä¸ä¸€å®šæ˜¯å®Œç¾çš„ï¼Œå¯èƒ½ä¼šæœ‰æˆ‘ä»¬æ²¡æœ‰è€ƒè™‘åˆ°çš„æƒ…å†µï¼Œå¦‚æœè¿™äº›æƒ…å†µèƒ½å¤Ÿæ­£å¸¸å¾—åˆ°ä¸€ä¸ªé”™è¯¯çš„ç»“æœè¿˜å¥½ï¼Œä½†æ˜¯å¦‚æœç›´æ¥å¯¼è‡´ç¨‹åºè¿è¡Œå‡ºç°é—®é¢˜äº†å‘¢ï¼Ÿ\npublic static void main(String[] args) &#123;\n    test(1, 0);   &#x2F;&#x2F;å½“bä¸º0çš„æ—¶å€™ï¼Œè¿˜èƒ½æ­£å¸¸è¿è¡Œå—ï¼Ÿ\n&#125;\n\nprivate static int test(int a, int b)&#123;\n    return a&#x2F;b;   &#x2F;&#x2F;æ²¡æœ‰ä»»ä½•çš„åˆ¤æ–­è€Œæ˜¯ç›´æ¥åšè®¡ç®—\n&#125;\n\nException in thread &quot;main&quot; java.lang.ArithmeticException: &#x2F; by zero\n\tat com.test.Application.test(Application.java:9)\n\tat com.test.Application.main(Application.java:5)\n\nå½“ç¨‹åºè¿è¡Œå‡ºç°æˆ‘ä»¬æ²¡æœ‰è€ƒè™‘åˆ°çš„æƒ…å†µæ—¶ï¼Œå°±æœ‰å¯èƒ½å‡ºç°å¼‚å¸¸æˆ–æ˜¯é”™è¯¯ï¼\nå¼‚å¸¸æˆ‘ä»¬åœ¨ä¹‹å‰å…¶å®å·²ç»æ¥è§¦è¿‡ä¸€äº›å¼‚å¸¸äº†ï¼Œæ¯”å¦‚æ•°ç»„è¶Šç•Œå¼‚å¸¸ï¼Œç©ºæŒ‡é’ˆå¼‚å¸¸ï¼Œç®—æœ¯å¼‚å¸¸ç­‰ï¼Œä»–ä»¬å…¶å®éƒ½æ˜¯å¼‚å¸¸ç±»å‹ï¼Œæˆ‘ä»¬çš„æ¯ä¸€ä¸ªå¼‚å¸¸ä¹Ÿæ˜¯ä¸€ä¸ªç±»ï¼Œä»–ä»¬éƒ½ç»§æ‰¿è‡ªExceptionç±»ï¼å¼‚å¸¸ç±»å‹æœ¬è´¨ä¾ç„¶ç±»çš„å¯¹è±¡ï¼Œä½†æ˜¯å¼‚å¸¸ç±»å‹æ”¯æŒåœ¨ç¨‹åºè¿è¡Œå‡ºç°é—®é¢˜æ—¶æŠ›å‡ºï¼ˆä¹Ÿå°±æ˜¯ä¸Šé¢å‡ºç°çš„çº¢è‰²æŠ¥é”™ï¼‰ä¹Ÿå¯ä»¥æå‰å£°æ˜ï¼Œå‘ŠçŸ¥ä½¿ç”¨è€…éœ€è¦å¤„ç†å¯èƒ½ä¼šå‡ºç°çš„å¼‚å¸¸ï¼\nè¿è¡Œæ—¶å¼‚å¸¸å¼‚å¸¸çš„ç¬¬ä¸€ç§ç±»å‹æ˜¯è¿è¡Œæ—¶å¼‚å¸¸ï¼Œå¦‚ä¸Šè¿°çš„åˆ—å­ï¼Œåœ¨ç¼–è¯‘é˜¶æ®µæ— æ³•æ„ŸçŸ¥ä»£ç æ˜¯å¦ä¼šå‡ºç°é—®é¢˜ï¼Œåªæœ‰åœ¨è¿è¡Œçš„æ—¶å€™æ‰çŸ¥é“ä¼šä¸ä¼šå‡ºé”™ï¼ˆæ­£å¸¸æƒ…å†µä¸‹æ˜¯ä¸ä¼šå‡ºé”™çš„ï¼‰ï¼Œè¿™æ ·çš„å¼‚å¸¸ç§°ä¸ºè¿è¡Œæ—¶å¼‚å¸¸ã€‚æ‰€æœ‰çš„è¿è¡Œæ—¶å¼‚å¸¸éƒ½ç»§æ‰¿è‡ªRuntimeExceptionã€‚\nç¼–è¯‘æ—¶å¼‚å¸¸å¼‚å¸¸çš„å¦ä¸€ç§ç±»å‹æ˜¯ç¼–è¯‘æ—¶å¼‚å¸¸ï¼Œç¼–è¯‘æ—¶å¼‚å¸¸æ˜¯æ˜ç¡®ä¼šå‡ºç°çš„å¼‚å¸¸ï¼Œåœ¨ç¼–è¯‘é˜¶æ®µå°±éœ€è¦è¿›è¡Œå¤„ç†çš„å¼‚å¸¸ï¼ˆæ•è·å¼‚å¸¸ï¼‰å¦‚æœä¸è¿›è¡Œå¤„ç†ï¼Œå°†æ— æ³•é€šè¿‡ç¼–è¯‘ï¼é»˜è®¤ç»§æ‰¿è‡ªExceptionç±»çš„å¼‚å¸¸éƒ½æ˜¯ç¼–è¯‘æ—¶å¼‚å¸¸ã€‚\nFile file &#x3D; new File(&quot;my.txt&quot;);\nfile.createNewFile();   &#x2F;&#x2F;è¦è°ƒç”¨æ­¤æ–¹æ³•ï¼Œé¦–å…ˆéœ€è¦å¤„ç†å¼‚å¸¸\n\né”™è¯¯é”™è¯¯æ¯”å¼‚å¸¸æ›´ä¸¥é‡ï¼Œå¼‚å¸¸å°±æ˜¯ä¸åŒå¯»å¸¸ï¼Œä½†ä¸ä¸€å®šä¼šå¯¼è‡´è‡´å‘½çš„é—®é¢˜ï¼Œè€Œé”™è¯¯æ˜¯è‡´å‘½é—®é¢˜ï¼Œä¸€èˆ¬å‡ºç°é”™è¯¯å¯èƒ½JVMå°±æ— æ³•ç»§ç»­æ­£å¸¸è¿è¡Œäº†ï¼Œæ¯”å¦‚OutOfMemoryErrorå°±æ˜¯å†…å­˜æº¢å‡ºé”™è¯¯ï¼ˆå†…å­˜å ç”¨å·²ç»è¶…å‡ºé™åˆ¶ï¼Œæ— æ³•ç»§ç»­ç”³è¯·å†…å­˜äº†ï¼‰\nint[] arr &#x3D; new int[Integer.MAX_VALUE];   &#x2F;&#x2F;èƒ½åˆ›å»ºå¦‚æ­¤ä¹‹å¤§çš„æ•°ç»„å—ï¼Ÿ\n\nè¿è¡Œåå¾—åˆ°ä»¥ä¸‹å†…å®¹ï¼š\nException in thread &quot;main&quot; java.lang.OutOfMemoryError: Requested array size exceeds VM limit\n\tat com.test.Main.main(Main.java:14)\n\né”™è¯¯éƒ½ç»§æ‰¿è‡ªErrorç±»ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œç¨‹åºä¸­åªèƒ½å¤„ç†å¼‚å¸¸ï¼Œé”™è¯¯æ˜¯å¾ˆéš¾è¿›è¡Œå¤„ç†çš„ï¼ŒErrorå’ŒExecptionéƒ½ç»§æ‰¿è‡ªThrowableç±»ã€‚å½“ç¨‹åºä¸­å‡ºç°é”™è¯¯æˆ–å¼‚å¸¸æ—¶åˆæ²¡æœ‰è¿›è¡Œå¤„ç†æ—¶ï¼Œç¨‹åºï¼ˆå½“å‰çº¿ç¨‹ï¼‰å°†ç»ˆæ­¢è¿è¡Œï¼š\nint[] arr &#x3D; new int[Integer.MAX_VALUE];\nSystem.out.println(&quot;lbwnb&quot;);  &#x2F;&#x2F;è¿˜èƒ½æ­£å¸¸æ‰“å°å—ï¼Ÿ\n\nå¼‚å¸¸çš„å¤„ç†å½“ç¨‹åºæ²¡æœ‰æŒ‰ç…§æˆ‘ä»¬æƒ³è¦çš„æ ·å­è¿è¡Œè€Œå‡ºç°å¼‚å¸¸æ—¶ï¼ˆé»˜è®¤ä¼šäº¤ç»™JVMæ¥å¤„ç†ï¼ŒJVMå‘ç°ä»»ä½•å¼‚å¸¸éƒ½ä¼šç«‹å³ç»ˆæ­¢ç¨‹åºè¿è¡Œï¼Œå¹¶åœ¨æ§åˆ¶å°æ‰“å°æ ˆè¿½è¸ªä¿¡æ¯ï¼‰ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿè‡ªå·±å¤„ç†å‡ºç°çš„é—®é¢˜ï¼Œè®©ç¨‹åºç»§ç»­è¿è¡Œä¸‹å»ï¼Œå°±éœ€è¦å¯¹å¼‚å¸¸è¿›è¡Œæ•è·ï¼Œæ¯”å¦‚ï¼š\nint[] arr &#x3D; new int[5];\narr[5] &#x3D; 1;  &#x2F;&#x2F;æˆ‘ä»¬éœ€è¦å¤„ç†è¿™ç§æƒ…å†µï¼Œä¿è¯åé¢çš„ä»£ç æ­£å¸¸è¿è¡Œï¼\nSystem.out.println(&quot;lbwnb&quot;);\n\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨tryå’Œcatchè¯­å¥å—æ¥å¤„ç†ï¼š\nint[] arr &#x3D; new int[5];\ntry&#123;    &#x2F;&#x2F;åœ¨tryå—ä¸­è¿è¡Œä»£ç \n     arr[5] &#x3D; 1;    &#x2F;&#x2F;å½“ä»£ç å‡ºç°å¼‚å¸¸æ—¶ï¼Œå¼‚å¸¸ä¼šè¢«æ•è·ï¼Œå¹¶åœ¨catchå—ä¸­å¾—åˆ°å¼‚å¸¸ç±»å‹çš„å¯¹è±¡\n&#125;catch (ArrayIndexOutOfBoundsException e)&#123;   &#x2F;&#x2F;æ•è·çš„å¼‚å¸¸ç±»å‹\n     System.out.println(&quot;ç¨‹åºè¿è¡Œå‡ºç°å¼‚å¸¸ï¼&quot;);  &#x2F;&#x2F;å‡ºç°å¼‚å¸¸æ—¶æ‰§è¡Œ\n&#125;\n&#x2F;&#x2F;åé¢çš„ä»£ç ä¼šæ­£å¸¸è¿è¡Œ\nSystem.out.println(&quot;lbwnb&quot;);\n\nå½“å¼‚å¸¸è¢«æ•è·åï¼Œå°±ç”±æˆ‘ä»¬è‡ªå·±è¿›è¡Œå¤„ç†ï¼ˆä¸å†äº¤ç»™JVMå¤„ç†ï¼‰ï¼Œå› æ­¤å°±ä¸ä¼šå¯¼è‡´ç¨‹åºç»ˆæ­¢è¿è¡Œã€‚\næˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨e.printStackTrace()æ¥æ‰“å°æ ˆè¿½è¸ªä¿¡æ¯ï¼Œå®šä½æˆ‘ä»¬çš„å¼‚å¸¸å‡ºç°ä½ç½®ï¼š\njava.lang.ArrayIndexOutOfBoundsException: 5\n\tat com.test.Main.main(Main.java:7)    &#x2F;&#x2F;Mainç±»çš„ç¬¬7è¡Œå‡ºç°é—®é¢˜\nç¨‹åºè¿è¡Œå‡ºç°å¼‚å¸¸ï¼\nlbwnb\n\nè¿è¡Œæ—¶å¼‚å¸¸åœ¨ç¼–è¯‘æ—¶å¯ä»¥ä¸ç”¨æ•è·ï¼Œä½†æ˜¯ç¼–è¯‘æ—¶å¼‚å¸¸å¿…é¡»è¿›è¡Œå¤„ç†ï¼š\nFile file &#x3D; new File(&quot;my.txt&quot;);\ntry &#123;\n  file.createNewFile();\n&#125; catch (IOException e) &#123;  &#x2F;&#x2F;æ•è·å£°æ˜çš„å¼‚å¸¸ç±»å‹\n  e.printStackTrace();\n&#125;\n\nå¯ä»¥æ•è·åˆ°ç±»å‹ä¸æ­¢æ˜¯Exceptionçš„å­ç±»ï¼Œåªè¦æ˜¯ç»§æ‰¿è‡ªThrowalbeçš„ç±»ï¼Œéƒ½èƒ½è¢«æ•è·ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒErrorä¹Ÿèƒ½è¢«æ•è·ï¼Œä½†æ˜¯ä¸å»ºè®®è¿™æ ·åšï¼Œå› ä¸ºé”™è¯¯ä¸€èˆ¬æ˜¯è™šæ‹Ÿæœºç›¸å…³çš„é—®é¢˜ï¼Œå‡ºç°Erroråº”è¯¥ä»é—®é¢˜çš„æ ¹æºå»è§£å†³ã€‚\nå¼‚å¸¸çš„æŠ›å‡ºå½“åˆ«äººè°ƒç”¨æˆ‘ä»¬çš„æ–¹æ³•æ—¶ï¼Œå¦‚æœä¼ å…¥äº†é”™è¯¯çš„å‚æ•°å¯¼è‡´ç¨‹åºæ— æ³•æ­£å¸¸è¿è¡Œï¼Œè¿™æ—¶æˆ‘ä»¬å°±éœ€è¦æ‰‹åŠ¨æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸æ¥ç»ˆæ­¢ç¨‹åºç»§ç»­è¿è¡Œä¸‹å»ï¼ŒåŒæ—¶å‘ŠçŸ¥ä¸Šä¸€çº§æ–¹æ³•æ‰§è¡Œå‡ºç°äº†é—®é¢˜ï¼š\npublic static void main(String[] args) &#123;\n        try &#123;\n            test(1, 0);\n        &#125; catch (Exception e) &#123;   &#x2F;&#x2F;æ•è·æ–¹æ³•ä¸­ä¼šå‡ºç°çš„å¼‚å¸¸\n            e.printStackTrace();\n        &#125;\n    &#125;\n\n    private static int test(int a, int b) throws Exception &#123;  &#x2F;&#x2F;å£°æ˜æŠ›å‡ºçš„å¼‚å¸¸ç±»å‹\n        if(b &#x3D;&#x3D; 0) throw new Exception(&quot;0ä¸èƒ½åšé™¤æ•°ï¼&quot;);  &#x2F;&#x2F;åˆ›å»ºå¼‚å¸¸å¯¹è±¡å¹¶æŠ›å‡ºå¼‚å¸¸\n        return a&#x2F;b;  &#x2F;&#x2F;æŠ›å‡ºå¼‚å¸¸ä¼šç»ˆæ­¢ä»£ç è¿è¡Œ\n    &#125;\n\né€šè¿‡throwå…³é”®å­—æŠ›å‡ºå¼‚å¸¸ï¼ˆæŠ›å‡ºå¼‚å¸¸åï¼Œåé¢çš„ä»£ç ä¸å†æ‰§è¡Œï¼‰å½“ç¨‹åºè¿è¡Œåˆ°è¿™ä¸€è¡Œæ—¶ï¼Œå°±ä¼šç»ˆæ­¢æ‰§è¡Œï¼Œå¹¶å‡ºç°ä¸€ä¸ªå¼‚å¸¸ã€‚\nå¦‚æœæ–¹æ³•ä¸­æŠ›å‡ºäº†éè¿è¡Œæ—¶å¼‚å¸¸ï¼Œä½†æ˜¯ä¸å¸Œæœ›åœ¨æ­¤æ–¹æ³•å†…å¤„ç†ï¼Œè€Œæ˜¯äº¤ç»™è°ƒç”¨è€…æ¥å¤„ç†å¼‚å¸¸ï¼Œå°±éœ€è¦åœ¨æ–¹æ³•å®šä¹‰åé¢æ˜¾å¼å£°æ˜æŠ›å‡ºçš„å¼‚å¸¸ç±»å‹ï¼å¦‚æœæŠ›å‡ºçš„æ˜¯è¿è¡Œæ—¶å¼‚å¸¸ï¼Œåˆ™ä¸éœ€è¦åœ¨æ–¹æ³•åé¢å£°æ˜å¼‚å¸¸ç±»å‹ï¼Œè°ƒç”¨æ—¶ä¹Ÿæ— éœ€æ•è·ï¼Œä½†æ˜¯å‡ºç°å¼‚å¸¸æ—¶åŒæ ·ä¼šå¯¼è‡´ç¨‹åºç»ˆæ­¢ï¼ˆå‡ºç°è¿è¡Œæ—¶å¼‚å¸¸åŒæ—¶æœªè¢«æ•è·ä¼šé»˜è®¤äº¤ç»™JVMå¤„ç†ï¼Œä¹Ÿå°±æ˜¯ç›´æ¥ä¸­æ­¢ç¨‹åºå¹¶åœ¨æ§åˆ¶å°æ‰“å°æ ˆè¿½è¸ªä¿¡æ¯ï¼‰\nå¦‚æœæƒ³è¦è°ƒç”¨å£°æ˜ç¼–è¯‘æ—¶å¼‚å¸¸çš„æ–¹æ³•ï¼Œä½†æ˜¯ä¾ç„¶ä¸æƒ³å»å¤„ç†ï¼Œå¯ä»¥åŒæ ·çš„åœ¨æ–¹æ³•ä¸Šå£°æ˜throwsæ¥ç»§ç»­äº¤ç»™ä¸Šä¸€çº§å¤„ç†ã€‚\npublic static void main(String[] args) throws Exception &#123;  &#x2F;&#x2F;å‡ºç°å¼‚å¸¸å°±å†å¾€ä¸ŠæŠ›ï¼Œè€Œä¸æ˜¯åœ¨æ­¤æ–¹æ³•å†…å¤„ç†\n  test(1, 0);\n&#125;\n\nprivate static int test(int a, int b) throws Exception &#123;  &#x2F;&#x2F;å£°æ˜æŠ›å‡ºçš„å¼‚å¸¸ç±»å‹\n  if(b &#x3D;&#x3D; 0) throw new Exception(&quot;0ä¸èƒ½åšé™¤æ•°ï¼&quot;);  &#x2F;&#x2F;åˆ›å»ºå¼‚å¸¸å¯¹è±¡å¹¶æŠ›å‡ºå¼‚å¸¸      \n  return a&#x2F;b;  \n&#125;\n\nå½“mainæ–¹æ³•éƒ½å£°æ˜æŠ›å‡ºå¼‚å¸¸æ—¶ï¼Œå‡ºç°å¼‚å¸¸å°±ç”±JVMè¿›è¡Œå¤„ç†ï¼Œä¹Ÿå°±æ˜¯é»˜è®¤çš„å¤„ç†æ–¹å¼ï¼ˆç›´æ¥ä¸­æ­¢ç¨‹åºå¹¶åœ¨æ§åˆ¶å°æ‰“å°æ ˆè¿½è¸ªä¿¡æ¯ï¼‰\nå¼‚å¸¸åªèƒ½è¢«æ•è·ä¸€æ¬¡ï¼Œå½“å¼‚å¸¸æ•è·å‡ºç°åµŒå¥—æ—¶ï¼Œåªä¼šåœ¨æœ€å†…å±‚è¢«æ•è·ï¼š\npublic static void main(String[] args) throws Exception &#123;\n        try&#123;\n            test(1, 0);\n        &#125;catch (Exception e)&#123;\n            System.out.println(&quot;å¤–å±‚&quot;);\n        &#125;\n    &#125;\n\n    private static int test(int a, int b)&#123;\n        try&#123;\n            if(b &#x3D;&#x3D; 0) throw new Exception(&quot;0ä¸èƒ½åšé™¤æ•°ï¼&quot;);\n        &#125;catch (Exception e)&#123;\n            System.out.println(&quot;å†…å±‚&quot;);\n            return 0;\n        &#125;\n        return a&#x2F;b;\n    &#125;\n\nè‡ªå®šä¹‰å¼‚å¸¸JDKä¸ºæˆ‘ä»¬å·²ç»æå‰å®šä¹‰äº†ä¸€äº›å¼‚å¸¸äº†ï¼Œä½†æ˜¯å¯èƒ½å¯¹æˆ‘ä»¬æ¥è¯´ä¸å¤Ÿï¼Œé‚£ä¹ˆå°±éœ€è¦è‡ªå®šä¹‰å¼‚å¸¸ï¼š\npublic class MyException extends Exception &#123;  &#x2F;&#x2F;ç›´æ¥ç»§æ‰¿å³å¯\n    \n&#125;\n\npublic static void main(String[] args) throws MyException &#123;\n        throw new MyException();   &#x2F;&#x2F;ç›´æ¥ä½¿ç”¨\n    &#125;\n\nä¹Ÿå¯ä»¥ä½¿ç”¨çˆ¶ç±»çš„å¸¦æè¿°çš„æ„é€ æ–¹æ³•ï¼š\npublic class MyException extends Exception &#123;\n\n    public MyException(String message)&#123;\n        super(message);\n    &#125;\n&#125;\n\npublic static void main(String[] args) throws MyException &#123;\n    throw new MyException(&quot;å‡ºç°äº†è‡ªå®šä¹‰çš„é”™è¯¯&quot;);\n&#125;\n\næ•è·å¼‚å¸¸æŒ‡å®šçš„ç±»å‹ï¼Œä¼šæ•è·å…¶æ‰€æœ‰å­å¼‚å¸¸ç±»å‹ï¼š\ntry &#123;\n  throw new MyException(&quot;å‡ºç°äº†è‡ªå®šä¹‰çš„é”™è¯¯&quot;);\n&#125; catch (Exception e) &#123;    &#x2F;&#x2F;æ•è·çˆ¶å¼‚å¸¸ç±»å‹\n  System.out.println(&quot;æ•è·åˆ°å¼‚å¸¸&quot;);\n&#125;\n\nå¤šé‡å¼‚å¸¸æ•è·å’Œfinallyå…³é”®å­—å½“ä»£ç å¯èƒ½å‡ºç°å¤šç§ç±»å‹çš„å¼‚å¸¸æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿåˆ†ä¸åŒæƒ…å†µå¤„ç†ä¸åŒç±»å‹çš„å¼‚å¸¸ï¼Œå°±å¯ä»¥ä½¿ç”¨å¤šé‡å¼‚å¸¸æ•è·ï¼š\ntry &#123;\n  &#x2F;&#x2F;....\n&#125; catch (NullPointerException e) &#123;\n            \n&#125; catch (IndexOutOfBoundsException e)&#123;\n\n&#125; catch (RuntimeException e)&#123;\n            \n&#125;\n\næ³¨æ„ï¼Œç±»ä¼¼äºif-else ifçš„ç»“æ„ï¼Œçˆ¶å¼‚å¸¸ç±»å‹åªèƒ½æ”¾åœ¨æœ€åï¼\ntry &#123;\n  &#x2F;&#x2F;....\n&#125; catch (RuntimeException e)&#123;  &#x2F;&#x2F;çˆ¶ç±»å‹åœ¨å‰ï¼Œä¼šå°†å­ç±»çš„ä¹Ÿæ•è·\n\n&#125; catch (NullPointerException e) &#123;   &#x2F;&#x2F;æ°¸è¿œéƒ½ä¸ä¼šè¢«æ•è·\n\n&#125; catch (IndexOutOfBoundsException e)&#123;   &#x2F;&#x2F;æ°¸è¿œéƒ½ä¸ä¼šè¢«æ•è·\n\n&#125;\n\nå¦‚æœå¸Œæœ›æŠŠè¿™äº›å¼‚å¸¸æ”¾åœ¨ä¸€èµ·è¿›è¡Œå¤„ç†ï¼š\ntry &#123;\n     &#x2F;&#x2F;....\n&#125; catch (NullPointerException | IndexOutOfBoundsException e) &#123;  &#x2F;&#x2F;ç”¨|éš”å¼€æ¯ç§ç±»å‹å³å¯\n\n&#125;\n\nå½“æˆ‘ä»¬å¸Œæœ›ï¼Œç¨‹åºè¿è¡Œæ—¶ï¼Œæ— è®ºæ˜¯å¦å‡ºç°å¼‚å¸¸ï¼Œéƒ½ä¼šåœ¨æœ€åæ‰§è¡Œçš„ä»»åŠ¡ï¼Œå¯ä»¥äº¤ç»™finallyè¯­å¥å—æ¥å¤„ç†ï¼š\ntry &#123;\n    &#x2F;&#x2F;....\n&#125;catch (Exception e)&#123;\n            \n&#125;finally &#123;\n  System.out.println(&quot;lbwnb&quot;);   &#x2F;&#x2F;æ— è®ºæ˜¯å¦å‡ºç°å¼‚å¸¸ï¼Œéƒ½ä¼šåœ¨æœ€åæ‰§è¡Œ\n&#125;\n\ntryè¯­å¥å—è‡³å°‘è¦é…åˆcatchæˆ–finallyä¸­çš„ä¸€ä¸ªï¼š\ntry &#123;\n    int a &#x3D; 10;\n    a &#x2F;&#x3D; 0;\n&#125;finally &#123;  &#x2F;&#x2F;ä¸æ•è·å¼‚å¸¸ï¼Œç¨‹åºä¼šç»ˆæ­¢ï¼Œä½†åœ¨æœ€åä¾ç„¶ä¼šæ‰§è¡Œä¸‹é¢çš„å†…å®¹\n    System.out.println(&quot;lbwnb&quot;); \n&#125;\n\næ€è€ƒï¼štryã€catchå’Œfinallyæ‰§è¡Œé¡ºåºï¼š\nprivate static int test(int a)&#123;\n  try&#123;\n    return a;\n  &#125;catch (Exception e)&#123;\n    return 0;\n  &#125;finally &#123;\n    a &#x3D;  a + 1;\n  &#125;\n&#125;\n\nJavaæ³›å‹ä¸é›†åˆç±»æ³›å‹åˆ©ç”¨ä»£ç å—æ¥å¿«é€Ÿæ·»åŠ å†…å®¹Java BIOtry-with-resourseJava å¤šçº¿ç¨‹Javaåå°„è¯¦è°ˆç±»åŠ è½½æœºåˆ¶Javaæ³¨è§£","slug":"JavaSEç¬”è®°ï¼ˆä¸‰ï¼‰","date":"2022-03-09T03:41:52.829Z","categories_index":"JavaSEç¬”è®°","tags_index":"JavaSEç¬”è®°","author_index":"YangChao"},{"id":"c02ca665cd1f72f1b198d0583b891337","title":"JavaSEç¬”è®°ï¼ˆäºŒï¼‰","content":"Javaå¯¹è±¡å’Œå¤šæ€ ï¼ˆé¢å‘å¯¹è±¡ï¼‰é¢å‘å¯¹è±¡åŸºç¡€é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡(Object Oriented Programming)\nå¯¹è±¡åŸºäºç±»åˆ›å»ºï¼Œç±»ç›¸å½“äºä¸€ä¸ªæ¨¡æ¿ï¼Œå¯¹è±¡å°±æ˜¯æ ¹æ®æ¨¡æ¿åˆ›å»ºå‡ºæ¥çš„å®ä½“ï¼ˆå°±åƒåšæœˆé¥¼ï¼Œæˆ‘ä»¬è¦åšä¸€ä¸ªæœˆé¥¼é¦–å…ˆéœ€è¦ä¸€ä¸ªæ¨¡å…·ï¼Œæ¨¡å…·å°±æ˜¯æˆ‘ä»¬çš„ç±»ï¼Œè€Œåšå‡ºæ¥çš„æœˆé¥¼ï¼Œå°±æ˜¯ç±»çš„å®ç°ï¼Œä¹Ÿå«åšå¯¹è±¡ï¼‰ï¼Œç±»æ˜¯æŠ½è±¡çš„æ•°æ®ç±»å‹ï¼Œå¹¶ä¸èƒ½ä»£è¡¨æŸä¸€ä¸ªå…·ä½“çš„äº‹ç‰©ï¼Œç±»æ˜¯å¯¹è±¡çš„ä¸€ä¸ªæ¨¡æ¿ã€‚ç±»å…·æœ‰è‡ªå·±çš„å±æ€§ï¼ŒåŒ…æ‹¬æˆå‘˜å˜é‡ã€æˆå‘˜æ–¹æ³•ç­‰ï¼Œæˆ‘ä»¬å¯ä»¥è°ƒç”¨ç±»çš„æˆå‘˜æ–¹æ³•æ¥è®©ç±»è¿›è¡Œä¸€äº›æ“ä½œã€‚\nScanner sc &#x3D; new Scanner(System.in);\nString str &#x3D; sc.nextLine();\nSystem.out.println(&quot;ä½ è¾“å…¥äº†ï¼š&quot;+str);\nsc.close();\n\næ‰€æœ‰çš„å¯¹è±¡ï¼Œéƒ½éœ€è¦é€šè¿‡newå…³é”®å­—åˆ›å»ºï¼ŒåŸºæœ¬æ•°æ®ç±»å‹ä¸æ˜¯å¯¹è±¡ï¼Javaä¸æ˜¯çº¯é¢å¯¹å¯¹è±¡è¯­è¨€ï¼\nä¸æ˜¯åŸºæœ¬ç±»å‹çš„å˜é‡ï¼Œéƒ½æ˜¯å¼•ç”¨ç±»å‹ï¼Œå¼•ç”¨ç±»å‹å˜é‡ä»£è¡¨ä¸€ä¸ªå¯¹è±¡ï¼Œè€ŒåŸºæœ¬æ•°æ®ç±»å‹å˜é‡ï¼Œä¿å­˜çš„æ˜¯åŸºæœ¬æ•°æ®ç±»å‹çš„å€¼ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¼•ç”¨æ¥å¯¹å¯¹è±¡è¿›è¡Œæ“ä½œã€‚ï¼ˆæœ€å¥½ä¸è¦ç†è§£ä¸ºå¼•ç”¨æŒ‡å‘å¯¹è±¡çš„åœ°å€ï¼Œåˆå­¦è€…ä¸è¦è°ˆå†…å­˜ï¼Œå­¦åˆ°JVMæ—¶å†æ¥è®¨è®ºï¼‰\nå¯¹è±¡å ç”¨çš„å†…å­˜ç”±JVMç»Ÿä¸€ç®¡ç†ï¼Œä¸éœ€è¦æ‰‹åŠ¨é‡Šæ”¾å†…å­˜ï¼Œå½“ä¸€ä¸ªå¯¹è±¡ä¸å†ä½¿ç”¨æ—¶ï¼ˆæ¯”å¦‚å¤±å»å¼•ç”¨æˆ–æ˜¯ç¦»å¼€äº†ä½œç”¨åŸŸï¼‰ä¼šè¢«JVMè‡ªåŠ¨æ¸…ç†ï¼Œå†…å­˜ç®¡ç†æ›´æ–¹ä¾¿ï¼\n\nç±»çš„åŸºæœ¬ç»“æ„ä¸ºäº†å¿«é€ŸæŒæ¡ï¼Œæˆ‘ä»¬è‡ªå·±åˆ›å»ºä¸€ä¸ªè‡ªå·±çš„ç±»ï¼Œåˆ›å»ºçš„ç±»æ–‡ä»¶åç§°åº”è¯¥å’Œç±»åä¸€è‡´ã€‚\næˆå‘˜å˜é‡åœ¨ç±»ä¸­ï¼Œå¯ä»¥åŒ…å«è®¸å¤šçš„æˆå‘˜å˜é‡ï¼Œä¹Ÿå«æˆå‘˜å±æ€§ï¼Œæˆå‘˜å­—æ®µ(field)é€šè¿‡.æ¥è®¿é—®æˆ‘ä»¬ç±»ä¸­çš„æˆå‘˜å˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç±»åˆ›å»ºçš„å¯¹è±¡æ¥è®¿é—®å’Œä¿®æ”¹è¿™äº›å˜é‡ã€‚æˆå‘˜å˜é‡æ˜¯å±äºå¯¹è±¡çš„ï¼\npublic class Test &#123;\n    int age;\n    String name;\n&#125;\n\npublic static void main(String[] args) &#123;\n    Test test &#x3D; new Test();\n    test.name &#x3D; &quot;å¥¥åˆ©ç»™&quot;;\n    System.out.println(test.name);\n&#125;\n\næˆå‘˜å˜é‡é»˜è®¤å¸¦æœ‰åˆå§‹å€¼ï¼Œä¹Ÿå¯ä»¥è‡ªå·±å®šä¹‰åˆå§‹å€¼ã€‚\næˆå‘˜æ–¹æ³•æˆ‘ä»¬ä¹‹å‰çš„å­¦ä¹ ä¸­æ¥è§¦è¿‡æ–¹æ³•(Method)å—ï¼Ÿä¸»æ–¹æ³•ï¼\npublic static void main(String[] args) &#123;\n  &#x2F;&#x2F;Body\n&#125;\n\næ–¹æ³•æ˜¯è¯­å¥çš„é›†åˆï¼Œæ˜¯ä¸ºäº†å®ŒæˆæŸä»¶äº‹æƒ…è€Œå­˜åœ¨çš„ã€‚å®ŒæˆæŸä»¶äº‹æƒ…ï¼Œå¯ä»¥æœ‰ç»“æœï¼Œä¹Ÿå¯ä»¥åšäº†å°±åšäº†ï¼Œä¸è¿”å›ç»“æœã€‚æ¯”å¦‚è®¡ç®—ä¸¤ä¸ªæ•°å­—çš„å’Œï¼Œæˆ‘ä»¬éœ€è¦å¾—åˆ°è®¡ç®—åçš„ç»“æœï¼Œæ‰€ä»¥è¯´æ–¹æ³•éœ€è¦æœ‰è¿”å›å€¼ï¼›åˆæ¯”å¦‚ï¼Œæˆ‘ä»¬åªæƒ³å§æ•°å­—æ‰“å°åœ¨æ§åˆ¶å°ï¼Œåªéœ€è¦æ‰“å°å°±è¡Œï¼Œä¸ç”¨ç»™æˆ‘ç»“æœï¼Œæ‰€ä»¥è¯´æ–¹æ³•ä¸éœ€è¦æœ‰è¿”å›å€¼ã€‚\næ–¹æ³•çš„å®šä¹‰å’Œä½¿ç”¨åœ¨ç±»ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰è‡ªå·±çš„æ–¹æ³•ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š\n[è¿”å›å€¼ç±»å‹] æ–¹æ³•åç§°([å‚æ•°])&#123;\n  &#x2F;&#x2F;æ–¹æ³•ä½“\n  return ç»“æœ;\n&#125;\n\n\nè¿”å›å€¼ç±»å‹ï¼šå¯ä»¥æ˜¯å¼•ç”¨ç±»å‹å’ŒåŸºæœ¬ç±»å‹ï¼Œè¿˜å¯ä»¥æ˜¯voidï¼Œè¡¨ç¤ºæ²¡æœ‰è¿”å›å€¼\næ–¹æ³•åç§°ï¼šå’Œæ ‡è¯†ç¬¦çš„è§„åˆ™ä¸€è‡´ï¼Œå’Œå˜é‡ä¸€æ ·ï¼Œè§„èŒƒå°å†™å­—æ¯å¼€å¤´ï¼\nå‚æ•°ï¼šä¾‹å¦‚æ–¹æ³•éœ€è¦è®¡ç®—ä¸¤ä¸ªæ•°çš„å’Œï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è¦æŠŠä¸¤ä¸ªæ•°åˆ°åº•æ˜¯ä»€ä¹ˆå‘Šè¯‰æ–¹æ³•ï¼Œé‚£ä¹ˆå®ƒä»¬å°±å¯ä»¥ä½œä¸ºå‚æ•°ä¼ å…¥æ–¹æ³•\næ–¹æ³•ä½“ï¼šæ–¹æ³•å…·ä½“è¦å¹²çš„äº‹æƒ…\nç»“æœï¼šæ–¹æ³•æ‰§è¡Œçš„ç»“æœé€šè¿‡returnè¿”å›ï¼ˆå¦‚æœè¿”å›ç±»å‹ä¸ºvoidï¼Œå¯ä»¥çœç•¥returnï¼‰\n\névoidæ–¹æ³•ä¸­ï¼Œreturnå…³é”®å­—ä¸ä¸€å®šéœ€è¦æ”¾åœ¨æœ€åï¼Œä½†æ˜¯ä¸€å®šè¦ä¿è¯æ–¹æ³•åœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½å…·æœ‰è¿”å›å€¼ï¼\nint test(int a)&#123;\n  if(a &gt; 0)&#123;\n    &#x2F;&#x2F;ç¼ºå°‘retrunè¯­å¥ï¼\n  &#125;else&#123;\n    return 0;\n  &#125;\n&#125;\n\nreturnä¹Ÿèƒ½ç”¨æ¥æå‰ç»“æŸæ•´ä¸ªæ–¹æ³•ï¼Œæ— è®ºæ­¤æ—¶ç¨‹åºæ‰§è¡Œåˆ°ä½•å¤„ï¼Œæ— è®ºreturnä½äºå“ªé‡Œï¼Œéƒ½ä¼šç«‹å³ç»“æŸä¸ªæ–¹æ³•ï¼\nvoid main(String[] args) &#123;\n   for (int i &#x3D; 0; i &lt; 10; i++) &#123;\n       if(i &#x3D;&#x3D; 1) return;   &#x2F;&#x2F;åœ¨å¾ªç¯å†…è¿”å›äº†ï¼å’ŒbreakåŒºåˆ«ï¼Ÿ\n   &#125;\n   System.out.println(&quot;æ·¦&quot;);   &#x2F;&#x2F;è¿˜ä¼šåˆ°è¿™é‡Œå—ï¼Ÿ\n&#125;\n\nä¼ å…¥æ–¹æ³•çš„å‚æ•°ï¼Œå¦‚æœæ˜¯åŸºæœ¬ç±»å‹ï¼Œä¼šåœ¨è°ƒç”¨æ–¹æ³•çš„æ—¶å€™ï¼Œå¯¹å‚æ•°çš„å€¼è¿›è¡Œå¤åˆ¶ï¼Œæ–¹æ³•ä¸­çš„å‚æ•°å˜é‡ï¼Œä¸æ˜¯æˆ‘ä»¬ä¼ å…¥çš„å˜é‡æœ¬èº«ï¼\npublic static void main(String[] args) &#123;\n    int a &#x3D; 10, b &#x3D; 20;\n  \tnew Test().swap(a, b);\n  \tSystem.out.println(&quot;a&#x3D;&quot;+a+&quot;, b&#x3D;&quot;+b);\n&#125;\n\npublic class Test&#123;\n \tvoid swap(int a, int b)&#123;  &#x2F;&#x2F;ä¼ é€’çš„ä»…ä»…æ˜¯å€¼è€Œå·²ï¼\n  \t\tint temp &#x3D; a;\n  \t\ta &#x3D; b;\n \t\t\tb &#x3D; temp;\n\t&#125; \n&#125;\n\nä¼ å…¥æ–¹æ³•çš„å‚æ•°ï¼Œå¦‚æœæ˜¯å¼•ç”¨ç±»å‹ï¼Œé‚£ä¹ˆä¼ å…¥çš„ä¾ç„¶æ˜¯è¯¥å¯¹è±¡çš„å¼•ç”¨ï¼ï¼ˆç±»ä¼¼äºCè¯­è¨€çš„æŒ‡é’ˆï¼‰\npublic class B&#123;\n \tString name;\n&#125;\n\npublic class A&#123;\n \tvoid test(B b)&#123;  &#x2F;&#x2F;ä¼ é€’çš„æ˜¯å¯¹è±¡çš„å¼•ç”¨ï¼Œè€Œä¸æ˜¯å€¼\n    System.out.println(b.name);\n  &#125;\n&#125;\n\npublic static void main(String[] args) &#123;\n    int a &#x3D; 10, b &#x3D; 20;\n  \tB b &#x3D; new B();\n  \tb.name &#x3D; &quot;lbw&quot;;\n  \tnew A().test(b);\n  \tSystem.out.println(&quot;a&#x3D;&quot;+a+&quot;, b&#x3D;&quot;+b);\n&#125;\n\næ–¹æ³•ä¹‹é—´å¯ä»¥ç›¸äº’è°ƒç”¨\nvoid a()&#123;\n  &#x2F;&#x2F;xxxx\n&#125;\n\nvoid b()&#123;\n  a();\n&#125;\n\nå½“æ–¹æ³•åœ¨è‡ªå·±å†…éƒ¨è°ƒç”¨è‡ªå·±æ—¶ï¼Œç§°ä¸ºé€’å½’è°ƒç”¨ï¼ˆé€’å½’å¾ˆå±é™©ï¼Œæ…é‡ï¼ï¼‰\nint a()&#123;\n  return a();\n&#125;\n\næˆå‘˜æ–¹æ³•å’Œæˆå‘˜å˜é‡ä¸€æ ·ï¼Œæ˜¯å±äºå¯¹è±¡çš„ï¼Œåªèƒ½é€šè¿‡å¯¹è±¡å»è°ƒç”¨ï¼\n\nå¯¹è±¡è®¾è®¡ç»ƒä¹ \nå­¦ç”Ÿåº”è¯¥å…·æœ‰ä»¥ä¸‹å±æ€§ï¼šåå­—ã€å¹´é¾„\nå­¦ç”Ÿåº”è¯¥å…·æœ‰ä»¥ä¸‹è¡Œä¸ºï¼šå­¦ä¹ ã€è¿åŠ¨ã€è¯´è¯\n\n\næ–¹æ³•çš„é‡è½½ä¸€ä¸ªç±»ä¸­å¯ä»¥åŒ…å«å¤šä¸ªåŒåçš„æ–¹æ³•ï¼Œä½†æ˜¯éœ€è¦çš„å½¢å¼å‚æ•°ä¸ä¸€æ ·ã€‚ï¼ˆè¡¥å……ï¼šå½¢å¼å‚æ•°å°±æ˜¯å®šä¹‰æ–¹æ³•éœ€è¦çš„å‚æ•°ï¼Œå®é™…å‚æ•°å°±ä¼ å…¥çš„å‚æ•°ï¼‰æ–¹æ³•çš„è¿”å›ç±»å‹ï¼Œå¯ä»¥ç›¸åŒï¼Œä¹Ÿå¯ä»¥ä¸åŒï¼Œä½†æ˜¯ä»…è¿”å›ç±»å‹ä¸åŒï¼Œæ˜¯ä¸å…è®¸çš„ï¼\npublic class Test &#123;\n    int a()&#123;   &#x2F;&#x2F;åŸæœ¬çš„æ–¹æ³•\n       return 1;\n    &#125;\n\n    int a(int i)&#123;  &#x2F;&#x2F;okï¼Œå½¢å‚ä¸åŒ\n        return i;\n    &#125;\n    \n    void a(byte i)&#123;  &#x2F;&#x2F;okï¼Œè¿”å›ç±»å‹å’Œå½¢å‚éƒ½ä¸åŒ\n        \n    &#125;\n    \n    void a()&#123;  &#x2F;&#x2F;é”™è¯¯ï¼Œä»…è¿”å›å€¼ç±»å‹åç§°ä¸åŒä¸èƒ½é‡è½½\n        \n    &#125;\n&#125;\n\nç°åœ¨æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ä¸åŒçš„å‚æ•°ï¼Œä½†æ˜¯æ”¯æŒè°ƒç”¨åŒæ ·çš„æ–¹æ³•ï¼Œæ‰§è¡Œä¸€æ ·çš„é€»è¾‘ï¼š\npublic class Test &#123;\n    int sum(int a, int b)&#123;   &#x2F;&#x2F;åªæœ‰intæ”¯æŒï¼Œä¸çµæ´»ï¼\n        return a+b;\n    &#125;\n    \n    double sum(double a, double b)&#123;  &#x2F;&#x2F;é‡å†™ä¸€ä¸ªdoubleç±»å‹çš„ï¼Œå°±æ”¯æŒå°æ•°è®¡ç®—äº†\n        return a+b;\n    &#125;\n&#125;\n\nç°åœ¨æˆ‘ä»¬æœ‰å¾ˆå¤šç§é‡å†™çš„æ–¹æ³•ï¼Œé‚£ä¹ˆä¼ å…¥å®å‚åï¼Œåˆ°åº•è¿›äº†å“ªä¸ªæ–¹æ³•å‘¢ï¼Ÿ\npublic class Test &#123;\n    void a(int i)&#123;\n        System.out.println(&quot;è°ƒç”¨äº†int&quot;);\n    &#125;\n\n    void a(short i)&#123;\n        System.out.println(&quot;è°ƒç”¨äº†short&quot;);\n    &#125;\n\n    void a(long i)&#123;\n        System.out.println(&quot;è°ƒç”¨äº†long&quot;);\n    &#125;\n\n    void a(char i)&#123;\n        System.out.println(&quot;è°ƒç”¨äº†char&quot;);\n    &#125;\n\n    void a(double i)&#123;\n        System.out.println(&quot;è°ƒç”¨äº†double&quot;);\n    &#125;\n\n    void a(float i)&#123;\n        System.out.println(&quot;è°ƒç”¨äº†float&quot;);\n    &#125;\n  \n  \tpublic static void main(String[] args) &#123;\n        Test test &#x3D; new Test();\n        test.a(1);   &#x2F;&#x2F;ç›´æ¥è¾“å…¥æ•´æ•°\n        test.a(1.0);  &#x2F;&#x2F;ç›´æ¥è¾“å…¥å°æ•°\n\n        short s &#x3D; 2;\n        test.a(s);  &#x2F;&#x2F;ä¼šå¯¹å·å…¥åº§å—ï¼Ÿ\n        test.a(1.0F);\n    &#125;\n&#125;\n\næ„é€ æ–¹æ³•æ„é€ æ–¹æ³•ï¼ˆæ„é€ å™¨ï¼‰æ²¡æœ‰è¿”å›å€¼ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºï¼Œè¿”å›çš„æ˜¯å½“å‰å¯¹è±¡çš„å¼•ç”¨ï¼æ¯ä¸€ä¸ªç±»éƒ½é»˜è®¤è‡ªå¸¦ä¸€ä¸ªæ— å‚æ„é€ æ–¹æ³•ã€‚\n&#x2F;&#x2F;åç¼–è¯‘ç»“æœ\npackage com.test;\n\npublic class Test &#123;\n    public Test() &#123;    &#x2F;&#x2F;å³ä½¿ä½ ä»€ä¹ˆéƒ½ä¸ç¼–å†™ï¼Œä¹Ÿè‡ªå¸¦ä¸€ä¸ªæ— å‚æ„é€ æ–¹æ³•ï¼Œåªæ˜¯é»˜è®¤æ˜¯éšè—çš„\n    &#125;\n&#125;\n\nåç¼–è¯‘å…¶å®å°±æ˜¯æŠŠæˆ‘ä»¬ç¼–è¯‘å¥½çš„classæ–‡ä»¶å˜å›Javaæºä»£ç ã€‚\nTest test &#x3D; new Test();  &#x2F;&#x2F;å®é™…ä¸Šå­˜åœ¨Test()è¿™ä¸ªçš„æ–¹æ³•ï¼Œnewå…³é”®å­—å°±æ˜¯ç”¨æ¥åˆ›å»ºå¹¶å¾—åˆ°å¼•ç”¨çš„\n&#x2F;&#x2F; new + ä½ æƒ³è¦ä½¿ç”¨çš„æ„é€ æ–¹æ³•\n\nè¿™ç§æ–¹æ³•æ²¡æœ‰å†™æ˜è¿”å›å€¼ï¼Œä½†æ˜¯æ¯ä¸ªç±»éƒ½å¿…é¡»å…·æœ‰è¿™ä¸ªæ–¹æ³•ï¼åªæœ‰è°ƒç”¨ç±»çš„æ„é€ æ–¹æ³•ï¼Œæ‰èƒ½åˆ›å»ºç±»çš„å¯¹è±¡ï¼\nç±»è¦åœ¨ä¸€å¼€å§‹å‡†å¤‡çš„æ‰€æœ‰ä¸œè¥¿ï¼Œéƒ½ä¼šåœ¨æ„é€ æ–¹æ³•é‡Œé¢æ‰§è¡Œï¼Œå®Œæˆæ„é€ æ–¹æ³•çš„å†…å®¹åï¼Œæ‰èƒ½åˆ›å»ºå‡ºå¯¹è±¡ï¼\nä¸€èˆ¬æœ€å¸¸ç”¨çš„å°±æ˜¯ç»™æˆå‘˜å±æ€§èµ‹åˆå§‹å€¼ï¼š\npublic class Student &#123;\n    String name;\n    \n    Student()&#123;\n        name &#x3D; &quot;ä¼å…µä¸€å·&quot;;\n    &#125;\n&#125;\n\næˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨æŒ‡å®šæœ‰å‚æ„é€ ï¼Œå½“é‡åˆ°åç§°å†²çªæ—¶ï¼Œéœ€è¦ç”¨åˆ°thiså…³é”®å­—\npublic class Student &#123;\n    String name;\n\n    Student(String name)&#123;   &#x2F;&#x2F;å½¢å‚å’Œç±»æˆå‘˜å˜é‡å†²çªäº†ï¼ŒJavaä¼šä¼˜å…ˆä½¿ç”¨å½¢å¼å‚æ•°å®šä¹‰çš„å˜é‡ï¼\n        this.name &#x3D; name;  &#x2F;&#x2F;é€šè¿‡thisæŒ‡ä»£å½“å‰çš„å¯¹è±¡å±æ€§ï¼Œthiså°±ä»£è¡¨å½“å‰å¯¹è±¡\n    &#125;\n&#125;\n\n&#x2F;&#x2F;idea å³é”®å¿«é€Ÿç”Ÿæˆï¼\n\næ³¨æ„ï¼Œthisåªèƒ½ç”¨äºæŒ‡ä»£å½“å‰å¯¹è±¡çš„å†…å®¹ï¼Œå› æ­¤ï¼Œåªæœ‰å±äºå¯¹è±¡æ‹¥æœ‰çš„éƒ¨åˆ†æ‰å¯ä»¥ä½¿ç”¨thisï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåªèƒ½åœ¨ç±»çš„æˆå‘˜æ–¹æ³•ä¸­ä½¿ç”¨thisï¼Œä¸èƒ½åœ¨é™æ€æ–¹æ³•ä¸­ä½¿ç”¨thiså…³é”®å­—ã€‚\nåœ¨æˆ‘ä»¬å®šä¹‰äº†æ–°çš„æœ‰å‚æ„é€ ä¹‹åï¼Œé»˜è®¤çš„æ— å‚æ„é€ ä¼šè¢«è¦†ç›–ï¼\n&#x2F;&#x2F;åç¼–è¯‘åä¾ç„¶åªæœ‰æˆ‘ä»¬å®šä¹‰çš„æœ‰å‚æ„é€ ï¼\n\nå¦‚æœåŒæ—¶éœ€è¦æœ‰å‚å’Œæ— å‚æ„é€ ï¼Œé‚£ä¹ˆå°±éœ€è¦ç”¨åˆ°æ–¹æ³•çš„é‡è½½ï¼æ‰‹åŠ¨å†å»å®šä¹‰ä¸€ä¸ªæ— å‚æ„é€ ã€‚\npublic class Student &#123;\n    String name;\n\n    Student()&#123;\n\n    &#125;\n\n    Student(String name)&#123;\n        this.name &#x3D; name;\n    &#125;\n&#125;\n\næˆå‘˜å˜é‡çš„åˆå§‹åŒ–å§‹ç»ˆåœ¨æ„é€ æ–¹æ³•æ‰§è¡Œä¹‹å‰\npublic class Student &#123;\n    String a &#x3D; &quot;sadasa&quot;;\n\n    Student()&#123;\n        System.out.println(a);\n    &#125;\n\n    public static void main(String[] args) &#123;\n        Student s &#x3D; new Student();\n    &#125;\n&#125;\n\né™æ€å˜é‡å’Œé™æ€æ–¹æ³•é™æ€å˜é‡å’Œé™æ€æ–¹æ³•æ˜¯ç±»å…·æœ‰çš„å±æ€§ï¼ˆåé¢è¿˜ä¼šæåˆ°é™æ€ç±»ã€é™æ€ä»£ç å—ï¼‰ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºæ˜¯æ‰€æœ‰å¯¹è±¡å…±äº«çš„å†…å®¹ã€‚æˆ‘ä»¬é€šè¿‡ä½¿ç”¨staticå…³é”®å­—æ¥å£°æ˜ä¸€ä¸ªå˜é‡æˆ–ä¸€ä¸ªæ–¹æ³•ä¸ºé™æ€çš„ï¼Œä¸€æ—¦è¢«å£°æ˜ä¸ºé™æ€ï¼Œé‚£ä¹ˆé€šè¿‡è¿™ä¸ªç±»åˆ›å»ºçš„æ‰€æœ‰å¯¹è±¡ï¼Œæ“ä½œçš„éƒ½æ˜¯åŒä¸€ä¸ªç›®æ ‡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹è±¡å†å¤šï¼Œä¹Ÿåªæœ‰è¿™ä¸€ä¸ªé™æ€çš„å˜é‡æˆ–æ–¹æ³•ã€‚é‚£ä¹ˆï¼Œä¸€ä¸ªå¯¹è±¡æ”¹å˜äº†é™æ€å˜é‡çš„å€¼ï¼Œé‚£ä¹ˆå…¶ä»–çš„å¯¹è±¡è¯»å–çš„å°±æ˜¯è¢«æ”¹å˜çš„å€¼ã€‚\npublic class Student &#123;\n    static int a;\n&#125;\n\npublic static void main(String[] args) &#123;\n\tStudent s1 &#x3D; new Student();\n\ts1.a &#x3D; 10;\n\tStudent s2 &#x3D; new Student();\n\tSystem.out.println(s2.a);\n&#125;\n\nä¸æ¨èä½¿ç”¨å¯¹è±¡æ¥è°ƒç”¨ï¼Œè¢«æ ‡è®°ä¸ºé™æ€çš„å†…å®¹ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ç±»å.xxxçš„å½¢å¼è®¿é—®\npublic static void main(String[] args) &#123;\n   Student.a &#x3D; 10;\n   System.out.println(Student.a);\n&#125;\n\nç®€è¿°ç±»åŠ è½½æœºåˆ¶ç±»å¹¶ä¸æ˜¯åœ¨ä¸€å¼€å§‹å°±å…¨éƒ¨åŠ è½½å¥½ï¼Œè€Œæ˜¯åœ¨éœ€è¦æ—¶æ‰ä¼šå»åŠ è½½ï¼ˆæå‡é€Ÿåº¦ï¼‰ä»¥ä¸‹æƒ…å†µä¼šåŠ è½½ç±»ï¼š\n\nè®¿é—®ç±»çš„é™æ€å˜é‡ï¼Œæˆ–è€…ä¸ºé™æ€å˜é‡èµ‹å€¼\nnew åˆ›å»ºç±»çš„å®ä¾‹ï¼ˆéšå¼åŠ è½½ï¼‰\nè°ƒç”¨ç±»çš„é™æ€æ–¹æ³•\nå­ç±»åˆå§‹åŒ–æ—¶\nå…¶ä»–çš„æƒ…å†µä¼šåœ¨è®²åˆ°åå°„æ—¶ä»‹ç»\n\næ‰€æœ‰è¢«æ ‡è®°ä¸ºé™æ€çš„å†…å®¹ï¼Œä¼šåœ¨ç±»åˆšåŠ è½½çš„æ—¶å€™å°±åˆ†é…ï¼Œè€Œä¸æ˜¯åœ¨å¯¹è±¡åˆ›å»ºçš„æ—¶å€™åˆ†é…ï¼Œæ‰€ä»¥è¯´é™æ€å†…å®¹ä¸€å®šä¼šåœ¨ç¬¬ä¸€ä¸ªå¯¹è±¡åˆå§‹åŒ–ä¹‹å‰å®ŒæˆåŠ è½½ã€‚\npublic class Student &#123;\n    static int a &#x3D; test();  &#x2F;&#x2F;ç›´æ¥è°ƒç”¨é™æ€æ–¹æ³•ï¼Œåªèƒ½è°ƒç”¨é™æ€æ–¹æ³•\n\n    Student()&#123;\n        System.out.println(&quot;æ„é€ ç±»å¯¹è±¡&quot;);\n    &#125;\n\n    static int test()&#123;   &#x2F;&#x2F;é™æ€æ–¹æ³•åˆšåŠ è½½æ—¶å°±æœ‰äº†\n        System.out.println(&quot;åˆå§‹åŒ–å˜é‡a&quot;);\n        return 1;\n    &#125;\n&#125;\n\næ€è€ƒï¼šä¸‹é¢è¿™ç§æƒ…å†µä¸‹ï¼Œç¨‹åºèƒ½æ­£å¸¸è¿è¡Œå—ï¼Ÿå¦‚æœèƒ½ï¼Œä¼šè¾“å‡ºä»€ä¹ˆå†…å®¹ï¼Ÿ\npublic class Student &#123;\n    static int a &#x3D; test();\n\n    static int test()&#123;\n        return a;\n    &#125;\n\n    public static void main(String[] args) &#123;\n        System.out.println(Student.a);\n    &#125;\n&#125;\n\nå®šä¹‰å’Œèµ‹å€¼æ˜¯ä¸¤ä¸ªé˜¶æ®µï¼Œåœ¨å®šä¹‰æ—¶ä¼šä½¿ç”¨é»˜è®¤å€¼ï¼ˆä¸Šé¢è®²çš„ï¼Œç±»çš„æˆå‘˜å˜é‡ä¼šæœ‰é»˜è®¤å€¼ï¼‰å®šä¹‰å‡ºæ¥ä¹‹åï¼Œå¦‚æœå‘ç°æœ‰èµ‹å€¼è¯­å¥ï¼Œå†è¿›è¡Œèµ‹å€¼ï¼Œè€Œè¿™æ—¶ï¼Œè°ƒç”¨äº†é™æ€æ–¹æ³•ï¼Œæ‰€ä»¥è¯´ä¼šå…ˆå»åŠ è½½é™æ€æ–¹æ³•ï¼Œé™æ€æ–¹æ³•è°ƒç”¨æ—¶æ‹¿åˆ°aï¼Œè€Œaè¿™æ—¶ä»…ä»…æ˜¯åˆšå®šä¹‰ï¼Œæ‰€ä»¥è¯´è¿˜æ˜¯åˆå§‹å€¼ï¼Œæœ€åå¾—åˆ°0\nä»£ç å—å’Œé™æ€ä»£ç å—ä»£ç å—åœ¨å¯¹è±¡åˆ›å»ºæ—¶æ‰§è¡Œï¼Œä¹Ÿæ˜¯å±äºç±»çš„å†…å®¹ï¼Œä½†æ˜¯å®ƒåœ¨æ„é€ æ–¹æ³•æ‰§è¡Œä¹‹å‰æ‰§è¡Œï¼ˆå’Œæˆå‘˜å˜é‡åˆå§‹å€¼ä¸€æ ·ï¼‰ï¼Œä¸”æ¯åˆ›å»ºä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œåªæ‰§è¡Œä¸€æ¬¡ï¼ï¼ˆç›¸å½“äºæ„é€ ä¹‹å‰çš„å‡†å¤‡å·¥ä½œï¼‰\npublic class Student &#123;\n    &#123;\n        System.out.println(&quot;æˆ‘æ˜¯ä»£ç å—&quot;);\n    &#125;\n\n    Student()&#123;\n        System.out.println(&quot;æˆ‘æ˜¯æ„é€ æ–¹æ³•&quot;);\n    &#125;\n&#125;\n\né™æ€ä»£ç å—å’Œä¸Šé¢çš„é™æ€æ–¹æ³•å’Œé™æ€å˜é‡ä¸€æ ·ï¼Œåœ¨ç±»åˆšåŠ è½½æ—¶å°±ä¼šè°ƒç”¨ï¼›\npublic class Student &#123;\n    static int a;\n\n    static &#123;\n        a &#x3D; 10;\n    &#125;\n    \n    public static void main(String[] args) &#123;\n        System.out.println(Student.a);\n    &#125;\n&#125;\n\nStringå’ŒStringBuilderç±»å­—ç¬¦ä¸²ç±»æ˜¯ä¸€ä¸ªæ¯”è¾ƒç‰¹æ®Šçš„ç±»ï¼Œä»–æ˜¯Javaä¸­å”¯ä¸€é‡è½½è¿ç®—ç¬¦çš„ç±»ï¼(Javaä¸æ”¯æŒè¿ç®—ç¬¦é‡è½½ï¼ŒStringæ˜¯ç‰¹ä¾‹)\nStringçš„å¯¹è±¡ç›´æ¥æ”¯æŒä½¿ç”¨+æˆ–+=è¿ç®—ç¬¦æ¥è¿›è¡Œæ‹¼æ¥ï¼Œå¹¶å½¢æˆæ–°çš„Stringå¯¹è±¡ï¼ï¼ˆStringçš„å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ï¼ï¼‰\nString a &#x3D; &quot;dasdsa&quot;, b &#x3D; &quot;dasdasdsa&quot;;\nString l &#x3D; a+b;\nSystem.out.println(l);\n\nå¤§é‡è¿›è¡Œå­—ç¬¦ä¸²çš„æ‹¼æ¥ä¼¼ä¹ä¸å¤ªå¥½ï¼Œç¼–è¯‘å™¨æ˜¯å¾ˆèªæ˜çš„ï¼ŒStringçš„æ‹¼æ¥æœ‰å¯èƒ½ä¼šè¢«ç¼–è¯‘å™¨ä¼˜åŒ–ä¸ºStringBuilderæ¥å‡å°‘å¯¹è±¡åˆ›å»ºï¼ˆå¯¹è±¡é¢‘ç¹åˆ›å»ºæ—¶å¾ˆè´¹æ—¶é—´åŒæ—¶å å†…å­˜çš„ï¼ï¼‰\nString result&#x3D;&quot;String&quot;+&quot;and&quot;; &#x2F;&#x2F;ä¼šè¢«ä¼˜åŒ–æˆä¸€å¥ï¼\n\nString str1&#x3D;&quot;String&quot;;\nString str2&#x3D;&quot;and&quot;;\nString result&#x3D;str1+str2;\n&#x2F;&#x2F;å˜é‡éšæ—¶å¯å˜ï¼Œåœ¨ç¼–è¯‘æ—¶æ— æ³•ç¡®å®šresultçš„å€¼ï¼Œé‚£ä¹ˆåªèƒ½åœ¨è¿è¡Œæ—¶å†å»ç¡®å®š\n\nString str1&#x3D;&quot;String&quot;;\nString str2&#x3D;&quot;and&quot;;\nString result&#x3D;(new StringBuilder(String.valueOf(str1))).append(str2).toString();\n&#x2F;&#x2F;ä½¿ç”¨StringBuilderï¼Œä¼šé‡‡ç”¨ç±»ä¼¼äºç¬¬ä¸€ç§å®ç°ï¼Œæ˜¾ç„¶ä¼šæ›´å¿«ï¼\n\nStringBuilderä¹Ÿæ˜¯ä¸€ä¸ªç±»ï¼Œä½†æ˜¯å®ƒèƒ½å¤Ÿå­˜å‚¨å¯å˜é•¿åº¦çš„å­—ç¬¦ä¸²ï¼\nStringBuilder builder &#x3D; new StringBuilder();\nbuilder\n       .append(&quot;a&quot;)\n       .append(&quot;bc&quot;)\n       .append(&quot;d&quot;);   &#x2F;&#x2F;é“¾å¼è°ƒç”¨\nString str &#x3D; builder.toString();\nSystem.out.println(str);\n\n\nåŒ…å’Œè®¿é—®æ§åˆ¶åŒ…å£°æ˜å’Œå¯¼å…¥åŒ…å…¶å®å°±æ˜¯ç”¨æ¥åŒºåˆ†ç±»ä½ç½®çš„ä¸œè¥¿ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥å°†æˆ‘ä»¬çš„ç±»è¿›è¡Œåˆ†ç±»ï¼Œç±»ä¼¼äºC++ä¸­çš„namespaceï¼\npackage com.test;\n\npublic class Test&#123;\n  \n&#125;\n\nåŒ…å…¶å®æ˜¯æ–‡ä»¶å¤¹ï¼Œæ¯”å¦‚com.testå°±æ˜¯ä¸€ä¸ªcomæ–‡ä»¶å¤¹ä¸­åŒ…å«ä¸€ä¸ªtestæ–‡ä»¶å¤¹ï¼Œå†åŒ…å«æˆ‘ä»¬Testç±»ã€‚\nä¸€èˆ¬åŒ…æŒ‰ç…§ä¸ªäººæˆ–æ˜¯å…¬å¸åŸŸåçš„è§„åˆ™å€’è¿‡æ¥å†™ é¡¶çº§åŸŸå.ä¸€çº§åŸŸå.äºŒçº§åŸŸå com.java.xxxx\nå¦‚æœéœ€è¦ä½¿ç”¨å…¶ä»–åŒ…é‡Œé¢çš„ç±»ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦importï¼ˆç±»ä¼¼äºC&#x2F;C++ä¸­çš„includeï¼‰\nimport com.test.Student;\n\nä¹Ÿå¯ä»¥å¯¼å…¥åŒ…ä¸‹çš„å…¨éƒ¨ï¼ˆä¸€èˆ¬å¯¼å…¥ä¼šç”±ç¼–è¯‘å™¨è‡ªå¸¦å¸®æˆ‘ä»¬è¡¥å…¨ï¼Œä½†æ˜¯ä¸€å®šè¦è®°å¾—æˆ‘ä»¬éœ€è¦å¯¼åŒ…ï¼ï¼‰\nimport com.test.*\n\nJavaé»˜è®¤ä¸ºæˆ‘ä»¬å¯¼å…¥äº†ä»¥ä¸‹çš„åŒ…ï¼Œä¸éœ€è¦å»å£°æ˜\nimport java.lang.*\n\né™æ€å¯¼å…¥é™æ€å¯¼å…¥å¯ä»¥ç›´æ¥å¯¼å…¥æŸä¸ªç±»çš„é™æ€æ–¹æ³•æˆ–è€…æ˜¯é™æ€å˜é‡ï¼Œå¯¼å…¥åï¼Œç›¸å½“äºè¿™ä¸ªæ–¹æ³•æˆ–æ˜¯ç±»åœ¨å®šä¹‰åœ¨å½“å‰ç±»ä¸­ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨è¯¥æ–¹æ³•ã€‚\nimport static com.test.ui.Student.test;\n\npublic class Main &#123;\n    public static void main(String[] args) &#123;\n        test();\n    &#125;\n&#125;\n\né™æ€å¯¼å…¥ä¸ä¼šè¿›è¡Œç±»çš„åˆå§‹åŒ–ï¼\nè®¿é—®æ§åˆ¶Javaæ”¯æŒå¯¹ç±»å±æ€§è®¿é—®çš„ä¿æŠ¤ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¸Œæœ›å¤–éƒ¨ç±»è®¿é—®ç±»ä¸­çš„å±æ€§æˆ–æ˜¯æ–¹æ³•ï¼Œåªå…è®¸å†…éƒ¨è°ƒç”¨ï¼Œè¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬å°±éœ€è¦ç”¨åˆ°æƒé™æ§åˆ¶ç¬¦ã€‚\n![image-20210819160939950](&#x2F;Users&#x2F;nagocoler&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20210819160939950.png)\næƒé™æ§åˆ¶ç¬¦å¯ä»¥å£°æ˜åœ¨æ–¹æ³•ã€æˆå‘˜å˜é‡ã€ç±»å‰é¢ï¼Œä¸€æ—¦å£°æ˜privateï¼Œåªèƒ½ç±»å†…éƒ¨è®¿é—®ï¼\npublic class Student &#123;\n    private int a &#x3D; 10;   &#x2F;&#x2F;å…·æœ‰ç§æœ‰è®¿é—®æƒé™ï¼Œåªèƒ½ç±»å†…éƒ¨è®¿é—®\n&#125;\n\npublic static void main(String[] args) &#123;\n    Student s &#x3D; new Student();\n    System.out.println(s.a);  &#x2F;&#x2F;è¿˜å¯ä»¥è®¿é—®å—ï¼Ÿ\n&#125;\n\nå’Œæ–‡ä»¶åç§°ç›¸åŒçš„ç±»ï¼Œåªèƒ½æ˜¯publicï¼Œå¹¶ä¸”ä¸€ä¸ªjavaæ–‡ä»¶ä¸­åªèƒ½æœ‰ä¸€ä¸ªpublic classï¼\n&#x2F;&#x2F; Student.java\npublic class Student &#123;\n    \n&#125;\nclass Test&#123;   &#x2F;&#x2F;ä¸èƒ½æ·»åŠ æƒé™ä¿®é¥°ç¬¦ï¼åªèƒ½æ˜¯default\n\t\n&#125;\n\n\næ•°ç»„ç±»å‹å‡è®¾å‡ºç°ä¸€ç§æƒ…å†µï¼Œæˆ‘æƒ³è®°å½•100ä¸ªæ•°å­—ï¼Œå®šä¹‰100ä¸ªå˜é‡è¿˜å¯è¡Œå—ï¼Ÿ\n\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨åˆ°æ•°ç»„ï¼Œæ•°ç»„æ˜¯ç›¸åŒç±»å‹æ•°æ®çš„æœ‰åºé›†åˆã€‚æ•°ç»„å¯ä»¥ä»£è¡¨ä»»ä½•ç›¸åŒç±»å‹çš„ä¸€ç»„å†…å®¹ï¼ˆåŒ…æ‹¬å¼•ç”¨ç±»å‹å’ŒåŸºæœ¬ç±»å‹ï¼‰å…¶ä¸­å­˜æ”¾çš„æ¯ä¸€ä¸ªæ•°æ®ç§°ä¸ºæ•°ç»„çš„ä¸€ä¸ªå…ƒç´ ï¼Œæ•°ç»„çš„ä¸‹æ ‡æ˜¯ä»0å¼€å§‹ï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•æ˜¯0ï¼\nint[] arr &#x3D; new int[10];  &#x2F;&#x2F;éœ€è¦newå…³é”®å­—æ¥åˆ›å»ºï¼\nString[] arr2 &#x3D; new String[10];\n\næ•°ç»„æœ¬èº«ä¹Ÿæ˜¯ç±»ï¼ˆç¼–ç¨‹ä¸å¯è§ï¼ŒC++å†™çš„ï¼‰ï¼Œä¸æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼\nint[] arr &#x3D; new int[10];\nSystem.out.println(arr.length);   &#x2F;&#x2F;æ•°ç»„æœ‰æˆå‘˜å˜é‡ï¼\nSystem.out.println(arr.toString());   &#x2F;&#x2F;æ•°ç»„æœ‰æˆå‘˜æ–¹æ³•ï¼\n\nä¸€ç»´æ•°ç»„ä¸€ç»´æ•°ç»„ä¸­ï¼Œå…ƒç´ æ˜¯ä¾æ¬¡æ’åˆ—çš„ï¼ˆçº¿æ€§ï¼‰ï¼Œæ¯ä¸ªæ•°ç»„å…ƒç´ å¯ä»¥é€šè¿‡ä¸‹æ ‡æ¥è®¿é—®ï¼å£°æ˜æ ¼å¼å¦‚ä¸‹ï¼š\nç±»å‹[] å˜é‡åç§° &#x3D; new ç±»å‹[æ•°ç»„å¤§å°];\nç±»å‹ å˜é‡åç§°n &#x3D; new ç±»å‹[æ•°ç»„å¤§å°];  &#x2F;&#x2F;æ”¯æŒCè¯­è¨€æ ·å¼ï¼Œä½†ä¸æ¨èï¼\n\nç±»å‹[] å˜é‡åç§° &#x3D; new ç±»å‹[]&#123;...&#125;;  &#x2F;&#x2F;é™æ€åˆå§‹åŒ–ï¼ˆç›´æ¥æŒ‡å®šå€¼å’Œå¤§å°ï¼‰\nç±»å‹[] å˜é‡åç§° &#x3D; &#123;...&#125;;   &#x2F;&#x2F;åŒä¸Šï¼Œä½†æ˜¯åªèƒ½åœ¨å®šä¹‰æ—¶èµ‹å€¼\n\n åˆ›å»ºå‡ºæ¥çš„æ•°ç»„æ¯ä¸ªå…ƒç´ éƒ½æœ‰é»˜è®¤å€¼ï¼ˆè§„åˆ™å’Œç±»çš„æˆå‘˜å˜é‡ä¸€æ ·ï¼ŒCè¯­è¨€åˆ›å»ºçš„æ•°ç»„éœ€è¦æ‰‹åŠ¨è®¾ç½®é»˜è®¤å€¼ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹æ ‡å»è®¿é—®ï¼š\nint[] arr &#x3D; new int[10];\narr[0] &#x3D; 626;\nSystem.out.println(arr[0]);\nSystem.out.println(arr[1]);\n\næˆ‘ä»¬å¯ä»¥é€šè¿‡æ•°ç»„å˜é‡åç§°.lengthæ¥è·å–å½“å‰æ•°ç»„é•¿åº¦ï¼š\nint[] arr &#x3D; new int[]&#123;1, 2, 3&#125;;\nSystem.out.println(arr.length);  &#x2F;&#x2F;æ‰“å°lengthæˆå‘˜å˜é‡çš„å€¼\n\næ•°ç»„åœ¨åˆ›å»ºæ—¶ï¼Œå°±å›ºå®šé•¿åº¦ï¼Œä¸å¯æ›´æ”¹ï¼è®¿é—®è¶…å‡ºæ•°ç»„é•¿åº¦çš„å†…å®¹ï¼Œä¼šå‡ºç°é”™è¯¯ï¼\nString[] arr &#x3D; new String[10];\nSystem.out.println(arr[10]);  &#x2F;&#x2F;å‡ºç°å¼‚å¸¸ï¼\n\n&#x2F;&#x2F;Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 11\n&#x2F;&#x2F;\tat com.test.Application.main(Application.java:7)\n\næ€è€ƒï¼šèƒ½ä¸èƒ½ç›´æ¥ä¿®æ”¹lengthçš„å€¼æ¥å®ç°åŠ¨æ€æ‰©å®¹å‘¢ï¼Ÿ\nint[] arr &#x3D; new int[]&#123;1, 2, 3&#125;;\narr.length &#x3D; 10;\n\næ•°ç»„åšå®å‚ï¼Œå› ä¸ºæ•°ç»„ä¹Ÿæ˜¯ç±»ï¼Œæ‰€ä»¥å½¢å‚å¾—åˆ°çš„æ˜¯æ•°ç»„çš„å¼•ç”¨è€Œä¸æ˜¯å¤åˆ¶çš„æ•°ç»„ï¼Œæ“ä½œçš„ä¾ç„¶æ˜¯æ•°ç»„å¯¹è±¡æœ¬èº«\npublic static void main(String[] args) &#123;\n    int[] arr &#x3D; new int[]&#123;1, 2, 3&#125;;\n    test(arr);\n    System.out.println(arr[0]);\n&#125;\n\nprivate static void test(int[] arr)&#123;\n    arr[0] &#x3D; 2934;\n&#125;\n\næ•°ç»„çš„éå†å¦‚æœæˆ‘ä»¬æƒ³è¦å¿«é€Ÿæ‰“å°æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œåˆæ€ä¹ˆåŠå‘¢ï¼Ÿ\nä¼ ç»Ÿforå¾ªç¯æˆ‘ä»¬å¾ˆå®¹æ˜“å°±è”æƒ³åˆ°forå¾ªç¯\nint[] arr &#x3D; new int[]&#123;1, 2, 3&#125;;\nfor (int i &#x3D; 0; i &lt; arr.length; i++) &#123;\n   System.out.println(arr[i]);\n&#125;\n\nforeachä¼ ç»Ÿforå¾ªç¯è™½ç„¶å¯æ§æ€§é«˜ï¼Œä½†æ˜¯ä¸å¤Ÿçœäº‹ï¼Œè¦å†™ä¸€å¤§å †ä¸œè¥¿ï¼Œæœ‰æ²¡æœ‰ä¸€ç§çœäº‹çš„å†™æ³•å‘¢ï¼Ÿ\nint[] arr &#x3D; new int[]&#123;1, 2, 3&#125;;\nfor (int i : arr) &#123;\n    System.out.println(i);\n&#125;\n\nforeachå±äºå¢å¼ºå‹çš„forå¾ªç¯ï¼Œå®ƒä½¿å¾—ä»£ç æ›´ç®€æ´ï¼ŒåŒæ—¶æˆ‘ä»¬èƒ½ç›´æ¥æ‹¿åˆ°æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªæ•°å­—ã€‚\näºŒç»´æ•°ç»„äºŒç»´æ•°ç»„å…¶å®å°±æ˜¯å­˜æ”¾æ•°ç»„çš„æ•°ç»„ï¼Œæ¯ä¸€ä¸ªå…ƒç´ éƒ½å­˜æ”¾ä¸€ä¸ªæ•°ç»„çš„å¼•ç”¨ï¼Œä¹Ÿå°±ç›¸å½“äºå˜æˆäº†ä¸€ä¸ªå¹³é¢ã€‚\n\n&#x2F;&#x2F;ä¸‰è¡Œä¸¤åˆ—\nint[][] arr &#x3D; &#123; &#123;1, 2&#125;,\n                &#123;3, 4&#125;,\n                &#123;5, 6&#125;&#125;;\nSystem.out.println(arr[2][1]);\n\näºŒç»´æ•°ç»„çš„éå†åŒä¸€ç»´æ•°ç»„ä¸€æ ·ï¼Œåªä¸è¿‡éœ€è¦åµŒå¥—å¾ªç¯ï¼\nint[][] arr &#x3D; new int[][]&#123; &#123;1, 2&#125;,\n                           &#123;3, 4&#125;,\n                           &#123;5, 6&#125;&#125;;\nfor (int i &#x3D; 0; i &lt; 3; i++) &#123;\n     for (int j &#x3D; 0; j &lt; 2; j++) &#123;\n          System.out.println(arr[i][j]);\n     &#125;\n&#125;\n\nå¤šç»´æ•°ç»„ä¸æ­¢äºŒç»´æ•°ç»„ï¼Œè¿˜å­˜åœ¨ä¸‰ç»´æ•°ç»„ï¼Œä¹Ÿå°±æ˜¯å­˜æ”¾æ•°ç»„çš„æ•°ç»„çš„æ•°ç»„ï¼ŒåŸç†åŒäºŒç»´æ•°ç»„ä¸€æ ·ï¼Œé€çº§è®¿é—®å³å¯ã€‚\nå¯å˜é•¿å‚æ•°å¯å˜é•¿å‚æ•°å…¶å®å°±æ˜¯æ•°ç»„çš„ä¸€ç§åº”ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šæ–¹æ³•çš„å½¢å‚ä¸ºä¸€ä¸ªå¯å˜é•¿å‚æ•°ï¼Œè¦æ±‚å®å‚å¯ä»¥æ ¹æ®æƒ…å†µåŠ¨æ€å¡«å…¥0ä¸ªæˆ–å¤šä¸ªï¼Œè€Œä¸æ˜¯å›ºå®šçš„æ•°é‡\npublic static void main(String[] args) &#123;\n     test(&quot;AAA&quot;, &quot;BBB&quot;, &quot;CCC&quot;);    &#x2F;&#x2F;å¯å˜é•¿ï¼Œæœ€åéƒ½ä¼šè¢«è‡ªåŠ¨å°è£…æˆä¸€ä¸ªæ•°ç»„\n&#125;\n    \nprivate static void test(String... test)&#123;\n     System.out.println(test[0]);    &#x2F;&#x2F;å…¶å®å‚æ•°å°±æ˜¯ä¸€ä¸ªæ•°ç»„\n&#125;\n\nç”±äºæ˜¯æ•°ç»„ï¼Œæ‰€ä»¥è¯´åªèƒ½ä½¿ç”¨ä¸€ç§ç±»å‹çš„å¯å˜é•¿å‚æ•°ï¼Œå¹¶ä¸”å¯å˜é•¿å‚æ•°åªèƒ½æ”¾åœ¨æœ€åä¸€ä½ï¼\nå®æˆ˜ï¼šä¸‰å¤§åŸºæœ¬æ’åºç®—æ³•ç°åœ¨æˆ‘ä»¬æœ‰ä¸€ä¸ªæ•°ç»„ï¼Œä½†æ˜¯æ•°ç»„é‡Œé¢çš„æ•°æ®æ˜¯ä¹±åºæ’åˆ—çš„ï¼Œå¦‚ä½•ä½¿å®ƒå˜å¾—æœ‰åºï¼Ÿ\nint[] arr &#x3D; &#123;8, 5, 0, 1, 4, 9, 2, 3, 6, 7&#125;;\n\næ’åºæ˜¯ç¼–ç¨‹çš„ä¸€ä¸ªé‡è¦æŠ€èƒ½ï¼ŒæŒæ¡æ’åºç®—æ³•ï¼Œä½ çš„æŠ€æœ¯æ‰èƒ½æ›´ä¸Šä¸€å±‚æ¥¼ï¼Œå¾ˆå¤šçš„é¡¹ç›®éƒ½éœ€è¦ç”¨åˆ°æ’åºï¼ä¸‰å¤§æ’åºç®—æ³•ï¼š\n\nå†’æ³¡æ’åº\n\nå†’æ³¡æ’åºå°±æ˜¯å†’æ³¡ï¼Œå…¶å®å°±æ˜¯ä¸æ–­ä½¿å¾—æˆ‘ä»¬æ— åºæ•°ç»„ä¸­çš„æœ€å¤§æ•°å‘å‰ç§»åŠ¨ï¼Œç»å†nè½®å¾ªç¯é€æ¸å°†æ¯ä¸€ä¸ªæ•°æ¨å‘æœ€å‰ã€‚\n\næ’å…¥æ’åº\n\næ’å…¥æ’åºå…¶å®å°±è·Ÿæˆ‘ä»¬æ‰“ç‰Œæ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬åœ¨æ‘¸ç‰Œçš„æ—¶å€™ï¼Œç‰Œå †æ˜¯ä¹±åºçš„ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸€å¼ ä¸€å¼ æ‘¸åˆ°æ‰‹ä¸­è¿›è¡Œæ’åºï¼Œä½¿å¾—å®ƒå˜æˆäº†æœ‰åºçš„ï¼\n\n\né€‰æ‹©æ’åº\n\né€‰æ‹©æ’åºå…¶å®å°±æ˜¯æ¯æ¬¡éƒ½é€‰æ‹©å½“å‰æ•°ç»„ä¸­æœ€å¤§çš„æ•°æ’åˆ°æœ€å‰é¢ï¼\n\nå°è£…ã€ç»§æ‰¿å’Œå¤šæ€å°è£…ã€ç»§æ‰¿å’Œå¤šæ€æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸‰å¤§ç‰¹æ€§ã€‚\nå°è£…å°è£…çš„ç›®çš„æ˜¯ä¸ºäº†ä¿è¯å˜é‡çš„å®‰å…¨æ€§ï¼Œä½¿ç”¨è€…ä¸å¿…åœ¨æ„å…·ä½“å®ç°ç»†èŠ‚ï¼Œè€Œåªæ˜¯é€šè¿‡å¤–éƒ¨æ¥å£å³å¯è®¿é—®ç±»çš„æˆå‘˜ï¼Œå¦‚æœä¸è¿›è¡Œå°è£…ï¼Œç±»ä¸­çš„å®ä¾‹å˜é‡å¯ä»¥ç›´æ¥æŸ¥çœ‹å’Œä¿®æ”¹ï¼Œå¯èƒ½ç»™æ•´ä¸ªä»£ç å¸¦æ¥ä¸å¥½çš„å½±å“ï¼Œå› æ­¤åœ¨ç¼–å†™ç±»æ—¶ä¸€èˆ¬å°†æˆå‘˜å˜é‡ç§æœ‰åŒ–ï¼Œå¤–éƒ¨ç±»éœ€è¦åŒgetterå’Œsetteræ–¹æ³•æ¥æŸ¥çœ‹å’Œè®¾ç½®å˜é‡ã€‚\nè®¾æƒ³ï¼šå­¦ç”Ÿå°æ˜å·²ç»åˆ›å»ºæˆåŠŸï¼Œæ­£å¸¸æƒ…å†µä¸‹èƒ½éšä¾¿æ”¹ä»–çš„åå­—å’Œå¹´é¾„å—ï¼Ÿ\npublic class Student &#123;\n    private String name;\n    private int age;\n  \n    public Student(String name, int age) &#123;\n        this.name &#x3D; name;\n        this.age &#x3D; age;\n    &#125;\n\n    public int getAge() &#123;\n        return age;\n    &#125;\n\n    public String getName() &#123;\n        return name;\n    &#125;\n&#125;\n\nä¹Ÿå°±æ˜¯è¯´ï¼Œå¤–éƒ¨ç°åœ¨åªèƒ½é€šè¿‡è°ƒç”¨æˆ‘å®šä¹‰çš„æ–¹æ³•æ¥è·å–æˆå‘˜å±æ€§ï¼Œè€Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªæ–¹æ³•ä¸­è¿›è¡Œä¸€äº›é¢å¤–çš„æ“ä½œï¼Œæ¯”å¦‚å°æ˜å¯ä»¥ä¿®æ”¹åå­—ï¼Œä½†æ˜¯åå­—ä¸­ä¸èƒ½åŒ…å«â€å°â€è¿™ä¸ªå­—ã€‚\npublic void setName(String name) &#123;\n    if(name.contains(&quot;å°&quot;)) return;\n    this.name &#x3D; name;\n&#125;\n\nå•ç‹¬ç»™å¤–éƒ¨å¼€æ”¾è®¾ç½®åç§°çš„æ–¹æ³•ï¼Œå› ä¸ºæˆ‘è¿˜éœ€è¦åšä¸€äº›é¢å¤–çš„å¤„ç†ï¼Œæ‰€ä»¥è¯´ä¸èƒ½ç»™å¤–éƒ¨ç›´æ¥æ“ä½œæˆå‘˜å˜é‡çš„æƒé™ï¼\nå°è£…æ€æƒ³å…¶å®å°±æ˜¯æŠŠå®ç°ç»†èŠ‚ç»™éšè—äº†ï¼Œå¤–éƒ¨åªéœ€çŸ¥é“è¿™ä¸ªæ–¹æ³•æ˜¯ä»€ä¹ˆä½œç”¨ï¼Œè€Œæ— éœ€å…³å¿ƒå®ç°ã€‚\nå°è£…å°±æ˜¯é€šè¿‡è®¿é—®æƒé™æ§åˆ¶æ¥å®ç°çš„ã€‚\nç»§æ‰¿ç»§æ‰¿å±äºéå¸¸é‡è¦çš„å†…å®¹ï¼Œåœ¨å®šä¹‰ä¸åŒç±»çš„æ—¶å€™å­˜åœ¨ä¸€äº›ç›¸åŒå±æ€§ï¼Œä¸ºäº†æ–¹ä¾¿ä½¿ç”¨å¯ä»¥å°†è¿™äº›å…±åŒå±æ€§æŠ½è±¡æˆä¸€ä¸ªçˆ¶ç±»ï¼Œåœ¨å®šä¹‰å…¶ä»–å­ç±»æ—¶å¯ä»¥ç»§æ‰¿è‡ªè¯¥çˆ¶ç±»ï¼Œå‡å°‘ä»£ç çš„é‡å¤å®šä¹‰ï¼Œå­ç±»å¯ä»¥ä½¿ç”¨çˆ¶ç±»ä¸­éç§æœ‰çš„æˆå‘˜ã€‚\nç°åœ¨å­¦ç”Ÿåˆ†ä¸ºä¸¤ç§ï¼Œè‰ºæœ¯ç”Ÿå’Œä½“è‚²ç”Ÿï¼Œä»–ä»¬éƒ½æ˜¯å­¦ç”Ÿçš„åˆ†æ”¯ï¼Œä½†æ˜¯ä»–ä»¬éƒ½æœ‰è‡ªå·±çš„æ–¹æ³•ï¼š\npublic class SportsStudent extends Student&#123;   &#x2F;&#x2F;é€šè¿‡extendså…³é”®å­—æ¥ç»§æ‰¿çˆ¶ç±»\n\n    public SportsStudent(String name, int age) &#123;\n        super(name, age);   &#x2F;&#x2F;å¿…é¡»å…ˆé€šè¿‡superå…³é”®å­—ï¼ˆæŒ‡ä»£çˆ¶ç±»ï¼‰ï¼Œå®ç°çˆ¶ç±»çš„æ„é€ æ–¹æ³•ï¼\n    &#125;\n\n    public void exercise()&#123;\n        System.out.println(&quot;æˆ‘è¶…å‹‡çš„ï¼&quot;);\n    &#125;\n&#125;\n\npublic class ArtStudent extends Student&#123;\n\n    public ArtStudent(String name, int age) &#123;\n        super(name, age);\n    &#125;\n\n    public void art()&#123;\n        System.out.println(&quot;éšæ‰‹ç”»ä¸ªæ¯•åŠ ç´¢ï¼&quot;);\n    &#125;\n&#125;\n\nå­ç±»å…·æœ‰çˆ¶ç±»çš„å…¨éƒ¨å±æ€§ï¼Œprotectedå¯è§ä½†å¤–éƒ¨æ— æ³•ä½¿ç”¨ï¼ˆåŒ…æ‹¬privateå±æ€§ï¼Œä¸å¯è§ï¼Œæ— æ³•ä½¿ç”¨ï¼‰ï¼ŒåŒæ—¶å­ç±»è¿˜èƒ½æœ‰è‡ªå·±çš„æ–¹æ³•ã€‚ç»§æ‰¿åªèƒ½ç»§æ‰¿ä¸€ä¸ªçˆ¶ç±»ï¼Œä¸æ”¯æŒå¤šç»§æ‰¿ï¼\næ¯ä¸€ä¸ªå­ç±»å¿…é¡»å®šä¹‰ä¸€ä¸ªå®ç°çˆ¶ç±»æ„é€ æ–¹æ³•çš„æ„é€ æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯éœ€è¦åœ¨æ„é€ æ–¹æ³•å¼€å§‹ä½¿ç”¨super()ï¼Œå¦‚æœçˆ¶ç±»ä½¿ç”¨çš„æ˜¯é»˜è®¤æ„é€ æ–¹æ³•ï¼Œé‚£ä¹ˆå­ç±»ä¸ç”¨æ‰‹åŠ¨æŒ‡æ˜ã€‚\næ‰€æœ‰ç±»éƒ½é»˜è®¤ç»§æ‰¿è‡ªObjectç±»ï¼Œé™¤éæ‰‹åŠ¨æŒ‡å®šç±»å‹ï¼Œä½†æ˜¯ä¾ç„¶æ”¹å˜ä¸äº†æœ€é¡¶å±‚çš„çˆ¶ç±»æ˜¯Objectç±»ã€‚æ‰€æœ‰ç±»éƒ½åŒ…å«Objectç±»ä¸­çš„æ–¹æ³•ï¼Œæ¯”å¦‚ï¼š\npublic static void main(String[] args) &#123;\nObject obj &#x3D; new Object;\nSystem.out.println(obj.hashCode());  &#x2F;&#x2F;æ±‚å¯¹è±¡çš„hashcodeï¼Œé»˜è®¤æ˜¯å¯¹è±¡çš„å†…å­˜åœ°å€\nSystem.out.println(obj.equals(obj));  &#x2F;&#x2F;æ¯”è¾ƒå¯¹è±¡æ˜¯å¦ç›¸åŒï¼Œé»˜è®¤æ¯”è¾ƒçš„æ˜¯å¯¹è±¡çš„å†…å­˜åœ°å€ï¼Œä¹Ÿå°±æ˜¯ç­‰åŒäº &#x3D;&#x3D;\nSystem.out.println(obj.toString());  &#x2F;&#x2F;å°†å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œé»˜è®¤ç”Ÿæˆå¯¹è±¡çš„ç±»åç§°+hashcode\n&#125;\n\nå…³äºObjectç±»çš„å…¶ä»–æ–¹æ³•ï¼Œæˆ‘ä»¬ä¼šåœ¨Javaå¤šçº¿ç¨‹ä¸­å†æ¥æåŠã€‚\nå¤šæ€å¤šæ€æ˜¯åŒä¸€ä¸ªè¡Œä¸ºå…·æœ‰å¤šä¸ªä¸åŒè¡¨ç°å½¢å¼æˆ–å½¢æ€çš„èƒ½åŠ›ã€‚ä¹Ÿå°±æ˜¯åŒæ ·çš„æ–¹æ³•ï¼Œç”±äºå®ç°ç±»ä¸åŒï¼Œæ‰§è¡Œçš„ç»“æœä¹Ÿä¸åŒï¼\næ–¹æ³•çš„é‡å†™æˆ‘ä»¬ä¹‹å‰å­¦ä¹ äº†æ–¹æ³•çš„é‡è½½ï¼Œæ–¹æ³•çš„é‡å†™å’Œé‡è½½æ˜¯ä¸ä¸€æ ·çš„ï¼Œé‡è½½æ˜¯åŸæœ‰çš„æ–¹æ³•é€»è¾‘ä¸å˜çš„æƒ…å†µä¸‹ï¼Œæ”¯æŒæ›´å¤šå‚æ•°çš„å®ç°ï¼Œè€Œé‡å†™æ˜¯ç›´æ¥è¦†ç›–åŸæœ‰æ–¹æ³•ï¼\n&#x2F;&#x2F;çˆ¶ç±»ä¸­çš„study\npublic void study()&#123;\n    System.out.println(&quot;å­¦ä¹ &quot;);\n&#125;\n\n&#x2F;&#x2F;å­ç±»ä¸­çš„study\n@Override  &#x2F;&#x2F;å£°æ˜è¿™ä¸ªæ–¹æ³•æ˜¯é‡å†™çš„ï¼Œä½†æ˜¯å¯ä»¥ä¸è¦ï¼Œæˆ‘ä»¬ç°é˜¶æ®µä¸æ¥è§¦\npublic void study()&#123;\n    System.out.println(&quot;ç»™ä½ çœ‹ç‚¹å¥½åº·çš„&quot;);\n&#125;\n\nå†æ¬¡å®šä¹‰åŒæ ·çš„æ–¹æ³•åï¼Œçˆ¶ç±»çš„æ–¹æ³•å°±è¢«è¦†ç›–ï¼å­ç±»è¿˜å¯ä»¥ç»™çˆ¶ç±»æ–¹æ³•æå‡è®¿é—®æƒé™ï¼\npublic static void main(String[] args) &#123;\n     SportsStudent student &#x3D; new SportsStudent(&quot;lbw&quot;, 20);\n     student.study();   &#x2F;&#x2F;è¾“å‡ºå­ç±»å®šä¹‰çš„å†…å®¹\n&#125;\n\næ€è€ƒï¼šé™æ€æ–¹æ³•èƒ½è¢«é‡å†™å—ï¼Ÿ\nå½“æˆ‘ä»¬åœ¨é‡å†™æ–¹æ³•æ—¶ï¼Œä¸ä»…æƒ³ä½¿ç”¨æˆ‘ä»¬è‡ªå·±çš„é€»è¾‘ï¼ŒåŒæ—¶è¿˜å¸Œæœ›æ‰§è¡Œçˆ¶ç±»çš„é€»è¾‘ï¼ˆä¹Ÿå°±æ˜¯è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•ï¼‰æ€ä¹ˆåŠå‘¢ï¼Ÿ\npublic void study()&#123;\n    super.study();\n    System.out.println(&quot;ç»™ä½ çœ‹ç‚¹å¥½åº·çš„&quot;);\n&#125;\n\nåŒç†ï¼Œå¦‚æœæƒ³è®¿é—®çˆ¶ç±»çš„æˆå‘˜å˜é‡ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨superå…³é”®å­—æ¥è®¿é—®ï¼Œæ³¨æ„ï¼Œå­ç±»å¯ä»¥å…·æœ‰å’Œçˆ¶ç±»ç›¸åŒçš„æˆå‘˜å˜é‡ï¼è€Œåœ¨æ–¹æ³•ä¸­è®¿é—®çš„é»˜è®¤æ˜¯ å½¢å‚åˆ—è¡¨ä¸­ &gt; å½“å‰ç±»çš„æˆå‘˜å˜é‡ &gt; çˆ¶ç±»æˆå‘˜å˜é‡\npublic void setTest(int test)&#123;\n    test &#x3D; 1;\n  \tthis.test &#x3D; 1;\n  \tsuper.test &#x3D; 1;\n&#125;\n\nå†è°ˆç±»å‹è½¬æ¢æˆ‘ä»¬æ›¾ç»å­¦ä¹ è¿‡åŸºæœ¬æ•°æ®ç±»å‹çš„ç±»å‹è½¬æ¢ï¼Œæ”¯æŒä¸€ç§æ•°æ®ç±»å‹è½¬æ¢ä¸ºå¦ä¸€ç§æ•°æ®ç±»å‹ï¼Œè€Œæˆ‘ä»¬çš„ç±»ä¹Ÿæ˜¯æ”¯æŒç±»å‹è½¬æ¢çš„ï¼ˆä»…é™äºå­˜åœ¨äº²ç¼˜å…³ç³»çš„ç±»ä¹‹é—´è¿›è¡Œè½¬æ¢ï¼‰æ¯”å¦‚å­ç±»å¯ä»¥ç›´æ¥å‘ä¸Šè½¬å‹ï¼š\nStudent student &#x3D; new SportsStudent(&quot;lbw&quot;, 20);  &#x2F;&#x2F;çˆ¶ç±»å˜é‡å¼•ç”¨å­ç±»å®ä¾‹\nstudent.study();     &#x2F;&#x2F;å¾—åˆ°ä¾ç„¶æ˜¯å…·ä½“å®ç°çš„ç»“æœï¼Œè€Œä¸æ˜¯å½“å‰ç±»å‹çš„ç»“æœ\n\næˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠå·²ç»æ˜ç¡®æ˜¯ç”±å“ªä¸ªç±»å®ç°çš„çˆ¶ç±»å¼•ç”¨ï¼Œå¼ºåˆ¶è½¬æ¢ä¸ºå¯¹åº”çš„ç±»å‹ï¼š\nStudent student &#x3D; new SportsStudent(&quot;lbw&quot;, 20);  &#x2F;&#x2F;æ˜¯ç”±SportsStudentè¿›è¡Œå®ç°çš„\n&#x2F;&#x2F;... do something...\n\nSportsStudent ps &#x3D; (SportsStudent)student;  &#x2F;&#x2F;è®©å®ƒå˜æˆä¸€ä¸ªå…·ä½“çš„å­ç±»\nps.sport();  &#x2F;&#x2F;è°ƒç”¨å…·ä½“å®ç°ç±»çš„æ–¹æ³•\n\nè¿™æ ·çš„ç±»å‹è½¬æ¢ç§°ä¸ºå‘ä¸‹è½¬å‹ã€‚\ninstanceofå…³é”®å­—é‚£ä¹ˆæˆ‘ä»¬å¦‚æœåªæ˜¯å¾—åˆ°ä¸€ä¸ªçˆ¶ç±»å¼•ç”¨ï¼Œä½†æ˜¯ä¸çŸ¥é“å®ƒåˆ°åº•æ˜¯å“ªä¸€ä¸ªå­ç±»çš„å®ç°æ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬å¯ä»¥ä½¿ç”¨instanceofå…³é”®å­—æ¥å®ç°ï¼Œå®ƒèƒ½å¤Ÿè¿›è¡Œç±»å‹åˆ¤æ–­ï¼\nprivate static void test(Student student)&#123;\n    if (student instanceof SportsStudent)&#123;\n        SportsStudent sportsStudent &#x3D; (SportsStudent) student;\n        sportsStudent.sport();\n    &#125;else if (student instanceof ArtStudent)&#123;\n        ArtStudent artStudent &#x3D; (ArtStudent) student;\n        artStudent.art();\n    &#125;\n&#125;\n\né€šè¿‡è¿›è¡Œç±»å‹åˆ¤æ–­ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ˜ç¡®ç±»çš„å…·ä½“å®ç°åˆ°åº•æ˜¯å“ªä¸ªç±»ï¼\næ€è€ƒï¼šstudent instanceof Studentçš„ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ\nå†è°ˆfinalå…³é”®å­—æˆ‘ä»¬ç›®å‰åªçŸ¥é“finalå…³é”®å­—èƒ½å¤Ÿä½¿å¾—ä¸€ä¸ªå˜é‡çš„å€¼ä¸å¯æ›´æ”¹ï¼Œé‚£ä¹ˆå¦‚æœåœ¨ç±»å‰é¢å£°æ˜finalï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ\npublic final class Student &#123;   &#x2F;&#x2F;ç±»è¢«å£°æ˜ä¸ºç»ˆæ€ï¼Œé‚£ä¹ˆå®ƒè¿˜èƒ½è¢«ç»§æ‰¿å—\n  \t\n&#125;\n\nç±»ä¸€æ—¦è¢«å£°æ˜ä¸ºç»ˆæ€ï¼Œå°†æ— æ³•å†è¢«ç»§æ‰¿ï¼Œä¸å…è®¸å­ç±»çš„å­˜åœ¨ï¼è€Œæ–¹æ³•è¢«å£°æ˜ä¸ºfinalå‘¢ï¼Ÿ\npublic final void study()&#123;  &#x2F;&#x2F;è¿˜èƒ½é‡å†™å—\n    System.out.println(&quot;å­¦ä¹ &quot;);\n&#125;\n\nå¦‚æœç±»çš„æˆå‘˜å±æ€§è¢«å£°æ˜ä¸ºfinalï¼Œé‚£ä¹ˆå¿…é¡»åœ¨æ„é€ æ–¹æ³•ä¸­æˆ–æ˜¯åœ¨å®šä¹‰æ—¶èµ‹åˆå§‹å€¼ï¼\nprivate final String name;   &#x2F;&#x2F;å¼•ç”¨ç±»å‹ä¸å…è®¸å†æŒ‡å‘å…¶ä»–å¯¹è±¡\nprivate final int age;    &#x2F;&#x2F;åŸºæœ¬ç±»å‹å€¼ä¸å…è®¸å‘ç”Ÿæ”¹å˜\n\npublic Student(String name, int age) &#123;\n    this.name &#x3D; name;\n    this.age &#x3D; age;\n&#125;\n\nå­¦ä¹ å®Œå°è£…ç»§æ‰¿å’Œå¤šæ€ä¹‹åï¼Œæˆ‘ä»¬æ¨èåœ¨ä¸ä¼šå†å‘ç”Ÿæ”¹å˜çš„æˆå‘˜å±æ€§ä¸Šæ·»åŠ finalå…³é”®å­—ï¼ŒJVMä¼šå¯¹æ·»åŠ äº†finalå…³é”®å­—çš„å±æ€§è¿›è¡Œä¼˜åŒ–ï¼\næŠ½è±¡ç±»ç±»æœ¬èº«å°±æ˜¯ä¸€ç§æŠ½è±¡ï¼Œè€ŒæŠ½è±¡ç±»ï¼ŒæŠŠç±»è¿˜è¦æŠ½è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒæŠ½è±¡ç±»å¯ä»¥åªä¿ç•™ç‰¹å¾ï¼Œè€Œä¸ä¿ç•™å…·ä½“å‘ˆç°å½¢æ€ï¼Œæ¯”å¦‚æ–¹æ³•å¯ä»¥å®šä¹‰å¥½ï¼Œä½†æ˜¯æˆ‘å¯ä»¥ä¸å»å®ç°å®ƒï¼Œè€Œæ˜¯äº¤ç”±å­ç±»æ¥è¿›è¡Œå®ç°ï¼\npublic abstract class Student &#123;    &#x2F;&#x2F;æŠ½è±¡ç±»\n\t\tpublic abstract void test();  &#x2F;&#x2F;æŠ½è±¡æ–¹æ³•\n&#125;\n\né€šè¿‡ä½¿ç”¨abstractå…³é”®å­—æ¥è¡¨æ˜ä¸€ä¸ªç±»æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼ŒæŠ½è±¡ç±»å¯ä»¥ä½¿ç”¨abstractå…³é”®å­—æ¥è¡¨æ˜ä¸€ä¸ªæ–¹æ³•ä¸ºæŠ½è±¡æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥å®šä¹‰æ™®é€šæ–¹æ³•ï¼ŒæŠ½è±¡æ–¹æ³•ä¸éœ€è¦ç¼–å†™å…·ä½“å®ç°ï¼ˆæ— æ–¹æ³•ä½“ï¼‰ä½†æ˜¯å¿…é¡»ç”±å­ç±»å®ç°ï¼ˆé™¤éå­ç±»ä¹Ÿæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼‰ï¼\næŠ½è±¡ç±»ç”±äºä¸æ˜¯å…·ä½“çš„ç±»å®šä¹‰ï¼Œå› æ­¤æ— æ³•ç›´æ¥é€šè¿‡newå…³é”®å­—æ¥åˆ›å»ºå¯¹è±¡ï¼\nStudent s &#x3D; new Student()&#123;    &#x2F;&#x2F;åªèƒ½ç›´æ¥åˆ›å»ºå¸¦å®ç°çš„åŒ¿åå†…éƒ¨ç±»ï¼\n  public void test()&#123;\n    \n  &#125;\n&#125;\n\nå› æ­¤ï¼ŒæŠ½è±¡ç±»ä¸€èˆ¬åªç”¨ä½œç»§æ‰¿ä½¿ç”¨ï¼æŠ½è±¡ç±»ä½¿å¾—ç»§æ‰¿å…³ç³»ä¹‹é—´æ›´åŠ æ˜ç¡®ï¼š\npublic void study()&#123;   &#x2F;&#x2F;ç°åœ¨åªèƒ½ç”±å­ç±»ç¼–å†™ï¼Œçˆ¶ç±»æ²¡æœ‰å®šä¹‰ï¼Œæ›´åŠ æ˜ç¡®äº†å¤šæ€çš„å®šä¹‰ï¼åŒä¸€ä¸ªæ–¹æ³•å¤šç§å®ç°ï¼\n    System.out.println(&quot;ç»™ä½ çœ‹ç‚¹å¥½åº·çš„&quot;);\n&#125;\n\næ¥å£æ¥å£ç”šè‡³æ¯”æŠ½è±¡ç±»è¿˜æŠ½è±¡ï¼Œä»–åªä»£è¡¨æŸä¸ªç¡®åˆ‡çš„åŠŸèƒ½ï¼ä¹Ÿå°±æ˜¯åªåŒ…å«æ–¹æ³•çš„å®šä¹‰ï¼Œç”šè‡³éƒ½ä¸æ˜¯ä¸€ä¸ªç±»ï¼æ¥å£åŒ…å«äº†ä¸€äº›åˆ—æ–¹æ³•çš„å…·ä½“å®šä¹‰ï¼Œç±»å¯ä»¥å®ç°è¿™ä¸ªæ¥å£ï¼Œè¡¨ç¤ºç±»æ”¯æŒæ¥å£ä»£è¡¨çš„åŠŸèƒ½ï¼ˆç±»ä¼¼äºä¸€ä¸ªæ’ä»¶ï¼Œåªèƒ½ä½œä¸ºä¸€ä¸ªé™„å±åŠŸèƒ½åŠ åœ¨ä¸»ä½“ä¸Šï¼ŒåŒæ—¶å…·ä½“å®ç°è¿˜éœ€è¦ç”±ä¸»ä½“æ¥å®ç°ï¼‰\npublic interface Eat &#123;\n\tvoid eat(); \n&#125;\n\né€šè¿‡ä½¿ç”¨interfaceå…³é”®å­—æ¥è¡¨æ˜æ˜¯ä¸€ä¸ªæ¥å£ï¼ˆæ³¨æ„ï¼Œè¿™é‡Œclasså…³é”®å­—è¢«æ›¿æ¢ä¸ºäº†interfaceï¼‰æ¥å£åªèƒ½åŒ…å«publicæƒé™çš„æŠ½è±¡æ–¹æ³•ï¼ï¼ˆJava8ä»¥åå¯ä»¥æœ‰é»˜è®¤å®ç°ï¼‰æˆ‘ä»¬å¯ä»¥é€šè¿‡å£°æ˜defaultå…³é”®å­—æ¥ç»™æŠ½è±¡æ–¹æ³•ä¸€ä¸ªé»˜è®¤å®ç°ï¼š\npublic interface Eat &#123;\n    default void eat()&#123;\n        &#x2F;&#x2F;do something...\n    &#125;\n&#125;\n\næ¥å£ä¸­å®šä¹‰çš„å˜é‡ï¼Œé»˜è®¤ä¸ºpublic static final\npublic interface Eat &#123;\n    int a &#x3D; 1;\n    void eat();\n&#125;\n\nä¸€ä¸ªç±»å¯ä»¥å®ç°å¾ˆå¤šä¸ªæ¥å£ï¼Œä½†æ˜¯ä¸èƒ½ç†è§£ä¸ºå¤šç»§æ‰¿ï¼ï¼ˆå®é™…ä¸Šå®ç°æ¥å£æ˜¯é™„åŠ åŠŸèƒ½ï¼Œå’Œç»§æ‰¿çš„æ¦‚å¿µæœ‰ä¸€å®šå‡ºå…¥ï¼Œé¡¶å¤šè¯´æ˜¯å¤šç»§æ‰¿çš„ä¸€ç§æ›¿ä»£æ–¹æ¡ˆï¼‰ä¸€ä¸ªç±»å¯ä»¥é™„åŠ å¾ˆå¤šä¸ªåŠŸèƒ½ï¼\npublic class SportsStudent extends Student implements Eat, ...&#123;\n\t\t@Override\n    public void eat() &#123;\n        \n    &#125;\n&#125;\n\nç±»é€šè¿‡implementså…³é”®å­—æ¥å£°æ˜å®ç°çš„æ¥å£ï¼æ¯ä¸ªæ¥å£ä¹‹é—´ç”¨é€—å·éš”å¼€ï¼\nå®ç°æ¥å£çš„ç±»ä¹Ÿèƒ½é€šè¿‡instanceofå…³é”®å­—åˆ¤æ–­ï¼Œä¹Ÿæ”¯æŒå‘ä¸Šå’Œå‘ä¸‹è½¬å‹ï¼\nå†…éƒ¨ç±»ç±»ä¸­å¯ä»¥å­˜åœ¨ä¸€ä¸ªç±»ï¼å„ç§å„æ ·çš„é•¿ç›¸æ€ªå¼‚çš„ä»£ç å°±æ˜¯ä»è¿™é‡Œå¼€å§‹å‡ºç°çš„ï¼\næˆå‘˜å†…éƒ¨ç±»æˆ‘ä»¬çš„ç±»ä¸­å¯ä»¥åœ¨åµŒå¥—ä¸€ä¸ªç±»ï¼š\npublic class Test &#123;\n    class Inner&#123;   &#x2F;&#x2F;ç±»ä¸­å®šä¹‰çš„ä¸€ä¸ªå†…éƒ¨ç±»\n        \n    &#125;\n&#125;\n\næˆå‘˜å†…éƒ¨ç±»å’Œæˆå‘˜å˜é‡å’Œæˆå‘˜æ–¹æ³•ä¸€æ ·ï¼Œéƒ½æ˜¯å±äºå¯¹è±¡çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¿…é¡»å­˜åœ¨å¤–éƒ¨å¯¹è±¡ï¼Œæ‰èƒ½åˆ›å»ºå†…éƒ¨ç±»çš„å¯¹è±¡ï¼\npublic static void main(String[] args) &#123;\n    Test test &#x3D; new Test();\n    Test.Inner inner &#x3D; test.new Inner();   &#x2F;&#x2F;å†™æ³•æœ‰é‚£ä¹ˆä¸€ä¸æ€ªå¼‚ï¼Œä½†æ˜¯æ²¡æ¯›ç—…ï¼\n&#125;\n\né™æ€å†…éƒ¨ç±»é™æ€å†…éƒ¨ç±»å…¶å®å°±å’Œç±»ä¸­çš„é™æ€å˜é‡å’Œé™æ€æ–¹æ³•ä¸€æ ·ï¼Œæ˜¯å±äºç±»æ‹¥æœ‰çš„ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡ç±»å.å»è®¿é—®:\npublic class Test &#123;\n    static class Inner&#123;\n\n    &#125;\n&#125;\n\npublic static void main(String[] args) &#123;\n    Test.Inner inner &#x3D; new Test.Inner();   &#x2F;&#x2F;ä¸ç”¨å†åˆ›å»ºå¤–éƒ¨ç±»å¯¹è±¡äº†ï¼\n&#125;\n\nå±€éƒ¨å†…éƒ¨ç±»å¯¹ï¼Œä½ æ²¡çŒœé”™ï¼Œå°±æ˜¯å’Œå±€éƒ¨å˜é‡ä¸€æ ·å“’~\npublic class Test &#123;\n    public void test()&#123;\n        class Inner&#123;\n\n        &#125;\n        \n        Inner inner &#x3D; new Inner();\n    &#125;\n&#125;\n\nåæ­£æˆ‘æ˜¯æ²¡ç”¨è¿‡ï¼å†…éƒ¨ç±» -&gt; ç´¯ä¸ç´¯ -&gt; åæ­£æˆ‘ç´¯äº†ï¼\nåŒ¿åå†…éƒ¨ç±»åŒ¿åå†…éƒ¨ç±»æ‰æ˜¯æˆ‘ä»¬çš„é‡ç‚¹ï¼Œä¹Ÿæ˜¯å®ç°lambdaè¡¨è¾¾å¼çš„åŸç†ï¼åŒ¿åå†…éƒ¨ç±»å…¶å®å°±æ˜¯åœ¨newçš„æ—¶å€™ï¼Œç›´æ¥å¯¹æ¥å£æˆ–æ˜¯æŠ½è±¡ç±»çš„å®ç°ï¼š\npublic static void main(String[] args) &#123;\n        Eat eat &#x3D; new Eat() &#123;\n            @Override\n            public void eat() &#123;\n                &#x2F;&#x2F;DO something...\n            &#125;\n        &#125;;\n    &#125;\n\næˆ‘ä»¬ä¸ç”¨å•ç‹¬å»åˆ›å»ºä¸€ä¸ªç±»æ¥å®ç°ï¼Œè€Œæ˜¯å¯ä»¥ç›´æ¥åœ¨newçš„æ—¶å€™å†™å¯¹åº”çš„å®ç°ï¼ä½†æ˜¯ï¼Œè¿™æ ·å†™ï¼Œæ— æ³•å®ç°å¤ç”¨ï¼Œåªèƒ½åœ¨è¿™é‡Œä½¿ç”¨ï¼\nlambdaè¡¨è¾¾å¼è¯»ä½œÎ»è¡¨è¾¾å¼ï¼Œå®ƒå…¶å®å°±æ˜¯æˆ‘ä»¬æ¥å£åŒ¿åå®ç°çš„ç®€åŒ–ï¼Œæ¯”å¦‚è¯´ï¼š\npublic static void main(String[] args) &#123;\n        Eat eat &#x3D; new Eat() &#123;\n            @Override\n            public void eat() &#123;\n                &#x2F;&#x2F;DO something...\n            &#125;\n        &#125;;\n    &#125;\n\npublic static void main(String[] args) &#123;\n        Eat eat &#x3D; () -&gt; &#123;&#125;;   &#x2F;&#x2F;ç­‰ä»·äºä¸Šè¿°å†…å®¹\n    &#125;\n\nlambdaè¡¨è¾¾å¼ï¼ˆåŒ¿åå†…éƒ¨ç±»ï¼‰åªèƒ½è®¿é—®å¤–éƒ¨çš„finalç±»å‹æˆ–æ˜¯éšå¼finalç±»å‹çš„å±€éƒ¨å˜é‡ï¼\nä¸ºäº†æ–¹ä¾¿ï¼ŒJDKé»˜è®¤å°±ä¸ºæˆ‘ä»¬æä¾›äº†ä¸“é—¨å†™å‡½æ•°å¼çš„æ¥å£ï¼Œè¿™é‡Œåªä»‹ç»Consumer\næšä¸¾ç±»å‡è®¾ç°åœ¨æˆ‘ä»¬æƒ³ç»™å°æ˜æ·»åŠ ä¸€ä¸ªçŠ¶æ€ï¼ˆè·‘æ­¥ã€å­¦ä¹ ã€ç¡è§‰ï¼‰ï¼Œå¤–éƒ¨å¯ä»¥å®æ—¶è·å–å°æ˜çš„çŠ¶æ€ï¼š\npublic class Student &#123;\n    private final String name;\n    private final int age;\n    private String status;\n  \n  \t&#x2F;&#x2F;...\n  \n  \tpublic void setStatus(String status) &#123;\n        this.status &#x3D; status;\n    &#125;\n\n    public String getStatus() &#123;\n        return status;\n    &#125;\n&#125;\n\nä½†æ˜¯è¿™æ ·ä¼šå‡ºç°ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœæˆ‘ä»¬ä»…ä»…æ˜¯å­˜å‚¨å­—ç¬¦ä¸²ï¼Œä¼¼ä¹å¤–éƒ¨å¯ä»¥ä¸æŒ‰ç…§æˆ‘ä»¬è§„åˆ™ï¼Œä¼ å…¥ä¸€äº›å…¶ä»–çš„å­—ç¬¦ä¸²ã€‚è¿™æ˜¾ç„¶æ˜¯ä¸å¤Ÿä¸¥è°¨çš„ï¼\næœ‰æ²¡æœ‰ä¸€ç§åŠæ³•ï¼Œèƒ½å¤Ÿæ›´å¥½åœ°å»å®ç°è¿™æ ·çš„çŠ¶æ€æ ‡è®°å‘¢ï¼Ÿæˆ‘ä»¬å¸Œæœ›å¼€å‘è€…æ‹¿åˆ°ä½¿ç”¨çš„å°±æ˜¯æˆ‘ä»¬å®šä¹‰å¥½çš„çŠ¶æ€ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æšä¸¾ç±»ï¼\npublic enum Status &#123;\n    RUNNING, STUDY, SLEEP    &#x2F;&#x2F;ç›´æ¥å†™æ¯ä¸ªçŠ¶æ€çš„åå­—å³å¯ï¼Œåˆ†å·å¯ä»¥ä¸æ‰“ï¼Œä½†æ˜¯æ¨èæ‰“ä¸Š\n&#125;\n\nä½¿ç”¨æšä¸¾ç±»ä¹Ÿéå¸¸æ–¹ä¾¿ï¼Œæˆ‘ä»¬åªéœ€è¦ç›´æ¥è®¿é—®å³å¯\npublic class Student &#123;\n    private final String name;\n    private final int age;\n    private Status status;\n  \n \t\t&#x2F;&#x2F;...\n  \n  \tpublic void setStatus(Status status) &#123;   &#x2F;&#x2F;ä¸å†æ˜¯Stringï¼Œè€Œæ˜¯æˆ‘ä»¬æŒ‡å®šçš„æšä¸¾ç±»å‹\n        this.status &#x3D; status;\n    &#125;\n\n    public Status getStatus() &#123;\n        return status;\n    &#125;\n&#125;\n\npublic static void main(String[] args) &#123;\n    Student student &#x3D; new Student(&quot;å°æ˜&quot;, 18);\n    student.setStatus(Status.RUNNING);\n    System.out.println(student.getStatus());\n&#125;\n\næšä¸¾ç±»å‹ä½¿ç”¨èµ·æ¥å°±éå¸¸æ–¹ä¾¿äº†ï¼Œå…¶å®æšä¸¾ç±»å‹çš„æœ¬è´¨å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„ç±»ï¼Œä½†æ˜¯å®ƒç»§æ‰¿è‡ªEnumç±»ï¼Œæˆ‘ä»¬å®šä¹‰çš„æ¯ä¸€ä¸ªçŠ¶æ€å…¶å®å°±æ˜¯ä¸€ä¸ªpublic static finalçš„Statusç±»å‹æˆå‘˜å˜é‡ï¼\n&#x2F;&#x2F; Compiled from &quot;Status.java&quot;\npublic final class com.test.Status extends java.lang.Enum&lt;com.test.Status&gt; &#123;\n  public static final com.test.Status RUNNING;\n  public static final com.test.Status STUDY;\n  public static final com.test.Status SLEEP;\n  public static com.test.Status[] values();\n  public static com.test.Status valueOf(java.lang.String);\n  static &#123;&#125;;\n&#125;\n\næ—¢ç„¶æšä¸¾ç±»å‹æ˜¯æ™®é€šçš„ç±»ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¹Ÿå¯ä»¥ç»™æšä¸¾ç±»å‹æ·»åŠ ç‹¬æœ‰çš„æˆå‘˜æ–¹æ³•\npublic enum Status &#123;\n    RUNNING(&quot;ç¡è§‰&quot;), STUDY(&quot;å­¦ä¹ &quot;), SLEEP(&quot;ç¡è§‰&quot;);   &#x2F;&#x2F;æ— å‚æ„é€ æ–¹æ³•è¢«è¦†ç›–ï¼Œåˆ›å»ºæšä¸¾éœ€è¦æ·»åŠ å‚æ•°ï¼ˆæœ¬è´¨å°±æ˜¯è°ƒç”¨çš„æ„é€ æ–¹æ³•ï¼ï¼‰\n\n    private final String name;    &#x2F;&#x2F;æšä¸¾çš„æˆå‘˜å˜é‡\n    Status(String name)&#123;    &#x2F;&#x2F;è¦†ç›–åŸæœ‰æ„é€ æ–¹æ³•ï¼ˆé»˜è®¤privateï¼Œåªèƒ½å†…éƒ¨ä½¿ç”¨ï¼ï¼‰\n        this.name &#x3D; name;\n    &#125;\n  \n  \tpublic String getName() &#123;   &#x2F;&#x2F;è·å–å°è£…çš„æˆå‘˜å˜é‡\n        return name;\n    &#125;\n&#125;\n\npublic static void main(String[] args) &#123;\n    Student student &#x3D; new Student(&quot;å°æ˜&quot;, 18);\n    student.setStatus(Status.RUNNING);\n    System.out.println(student.getStatus().getName());\n&#125;\n\næšä¸¾ç±»è¿˜è‡ªå¸¦ä¸€äº›ç»§æ‰¿ä¸‹æ¥çš„å®ç”¨æ–¹æ³•\nStatus.valueOf(&quot;&quot;)   &#x2F;&#x2F;å°†åç§°ç›¸åŒçš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºæšä¸¾\nStatus.values()   &#x2F;&#x2F;å¿«é€Ÿè·å–æ‰€æœ‰çš„æšä¸¾\n\nåŸºæœ¬ç±»å‹åŒ…è£…ç±»Javaå¹¶ä¸æ˜¯çº¯é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œè™½ç„¶Javaè¯­è¨€æ˜¯ä¸€ä¸ªé¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œä½†æ˜¯Javaä¸­çš„åŸºæœ¬æ•°æ®ç±»å‹å´ä¸æ˜¯é¢å‘å¯¹è±¡çš„ã€‚åœ¨å­¦ä¹ æ³›å‹å’Œé›†åˆä¹‹å‰ï¼ŒåŸºæœ¬ç±»å‹çš„åŒ…è£…ç±»æ˜¯ä¸€å®šè¦è®²è§£çš„å†…å®¹ï¼\næˆ‘ä»¬çš„åŸºæœ¬ç±»å‹ï¼Œå¦‚æœæƒ³é€šè¿‡å¯¹è±¡çš„å½¢å¼å»ä½¿ç”¨ä»–ä»¬ï¼ŒJavaæä¾›çš„åŸºæœ¬ç±»å‹åŒ…è£…ç±»ï¼Œä½¿å¾—Javaèƒ½å¤Ÿæ›´å¥½çš„ä½“ç°é¢å‘å¯¹è±¡çš„æ€æƒ³ï¼ŒåŒæ—¶ä¹Ÿä½¿å¾—åŸºæœ¬ç±»å‹èƒ½å¤Ÿæ”¯æŒå¯¹è±¡æ“ä½œï¼\n\n\nbyte  -&gt;  Byte      \nboolean  -&gt;  Boolean   \nshort  -&gt;  Short    \nchar  -&gt;  Character  \nint -&gt; Integer    \nlong -&gt;  Long     \nfloat -&gt; Float      \ndouble -&gt; Double\n\nåŒ…è£…ç±»å®é™…ä¸Šå°±è¡Œå°†æˆ‘ä»¬çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼Œå°è£…æˆä¸€ä¸ªç±»ï¼ˆè¿ç”¨äº†å°è£…çš„æ€æƒ³ï¼‰\nprivate final int value;   &#x2F;&#x2F;Integerå†…éƒ¨å…¶å®æœ¬è´¨è¿˜æ˜¯å­˜äº†ä¸€ä¸ªåŸºæœ¬ç±»å‹çš„æ•°æ®ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸èƒ½ç›´æ¥æ“ä½œ\n\npublic Integer(int value) &#123;\n    this.value &#x3D; value;\n&#125;\n\nç°åœ¨æˆ‘ä»¬æ“ä½œçš„å°±æ˜¯Integerå¯¹è±¡è€Œä¸æ˜¯ä¸€ä¸ªintåŸºæœ¬ç±»å‹äº†ï¼\npublic static void main(String[] args) &#123;\n     Integer i &#x3D; 1;   &#x2F;&#x2F;åŒ…è£…ç±»å‹å¯ä»¥ç›´æ¥æ¥æ”¶å¯¹åº”ç±»å‹çš„æ•°æ®ï¼Œå¹¶å˜ä¸ºä¸€ä¸ªå¯¹è±¡ï¼\n     System.out.println(i + i);    &#x2F;&#x2F;åŒ…è£…ç±»å‹å¯ä»¥ç›´æ¥è¢«å½“åšä¸€ä¸ªåŸºæœ¬ç±»å‹è¿›è¡Œæ“ä½œï¼\n&#125;\n\nè‡ªåŠ¨è£…ç®±å’Œæ‹†ç®±é‚£ä¹ˆä¸ºä»€ä¹ˆåŒ…è£…ç±»å‹èƒ½ç›´æ¥ä½¿ç”¨ä¸€ä¸ªå…·ä½“å€¼æ¥èµ‹å€¼å‘¢ï¼Ÿå…¶å®ä¾é çš„æ˜¯è‡ªåŠ¨è£…ç®±å’Œæ‹†ç®±æœºåˆ¶\nInteger i &#x3D; 1;    &#x2F;&#x2F;å…¶å®è¿™é‡Œåªæ˜¯ç®€å†™äº†è€Œå·²\nInteger i &#x3D; Integer.valueOf(1);  &#x2F;&#x2F;ç¼–è¯‘åçœŸæ­£çš„æ ·å­\n\nè°ƒç”¨valueOfæ¥ç”Ÿæˆä¸€ä¸ªIntegerå¯¹è±¡ï¼\npublic static Integer valueOf(int i) &#123;\n    if (i &gt;&#x3D; IntegerCache.low &amp;&amp; i &lt;&#x3D; IntegerCache.high)   &#x2F;&#x2F;æ³¨æ„ï¼ŒJavaä¸ºäº†ä¼˜åŒ–ï¼Œæœ‰ä¸€ä¸ªç¼“å­˜æœºåˆ¶ï¼Œå¦‚æœæ˜¯åœ¨-128~127ä¹‹é—´çš„æ•°ï¼Œä¼šç›´æ¥ä½¿ç”¨å·²ç»ç¼“å­˜å¥½çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯å†å»åˆ›å»ºæ–°çš„ï¼ï¼ˆé¢è¯•å¸¸è€ƒï¼‰\n       return IntegerCache.cache[i + (-IntegerCache.low)];\n  \treturn new Integer(i);   &#x2F;&#x2F;è¿”å›ä¸€ä¸ªæ–°åˆ›å»ºå¥½çš„å¯¹è±¡\n&#125;\n\nè€Œå¦‚æœä½¿ç”¨åŒ…è£…ç±»æ¥è¿›è¡Œè¿ç®—ï¼Œæˆ–æ˜¯èµ‹å€¼ç»™ä¸€ä¸ªåŸºæœ¬ç±»å‹å˜é‡ï¼Œä¼šè¿›è¡Œè‡ªåŠ¨æ‹†ç®±ï¼š\npublic static void main(String[] args) &#123;\n    Integer i &#x3D; Integer.valueOf(1);\n    int a &#x3D; i;    &#x2F;&#x2F;ç®€å†™\n    int a &#x3D; i.intValue();   &#x2F;&#x2F;ç¼–è¯‘åå®é™…çš„ä»£ç \n  \n  \tlong c &#x3D; i.longValue();   &#x2F;&#x2F;å…¶ä»–ç±»å‹ä¹Ÿæœ‰ï¼\n&#125;\n\næ—¢ç„¶ç°åœ¨æ˜¯åŒ…è£…ç±»å‹äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿˜èƒ½ä½¿ç”¨==æ¥åˆ¤æ–­ä¸¤ä¸ªæ•°æ˜¯å¦ç›¸ç­‰å—ï¼Ÿ\npublic static void main(String[] args) &#123;\n    Integer i1 &#x3D; 28914;\n    Integer i2 &#x3D; 28914;\n\n    System.out.println(i1 &#x3D;&#x3D; i2);   &#x2F;&#x2F;å®é™…ä¸Šåˆ¤æ–­æ˜¯ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºåŒä¸€ä¸ªå¯¹è±¡ï¼ˆå†…å­˜åœ°å€æ˜¯å¦ç›¸åŒï¼‰\n    System.out.println(i1.equals(i2));   &#x2F;&#x2F;è¿™ä¸ªæ‰æ˜¯çœŸæ­£çš„å€¼åˆ¤æ–­ï¼\n&#125;\n\næ³¨æ„IntegerCacheå¸¦æ¥çš„å½±å“ï¼\næ€è€ƒï¼šä¸‹é¢è¿™ç§æƒ…å†µç»“æœä¼šæ˜¯ä»€ä¹ˆï¼Ÿ\npublic static void main(String[] args) &#123;\n    Integer i1 &#x3D; 28914;\n    Integer i2 &#x3D; 28914;\n\n    System.out.println(i1+1 &#x3D;&#x3D; i2+1);\n&#125;\n\nåœ¨é›†åˆç±»çš„å­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬è¿˜ä¼šç»§ç»­ç”¨åˆ°æˆ‘ä»¬çš„åŒ…è£…ç±»å‹ï¼\n\né¢å‘å¯¹è±¡ç¼–ç¨‹å®æˆ˜è™½ç„¶æˆ‘ä»¬å­¦ä¹ äº†ç¼–ç¨‹ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸èƒ½ä¸€è‚¡è„‘çš„æ‰€æœ‰é—®é¢˜éƒ½ç…§ç€ç¼–ç¨‹çš„æ€ç»´å»è§£å†³ï¼Œç¼–ç¨‹åªæ˜¯è§£å†³é—®é¢˜çš„ä¸€ç§æ‰‹æ®µï¼Œçµæ´»çš„è¿ç”¨æˆ‘ä»¬æ‰€å­¦çš„çŸ¥è¯†ï¼Œæ‰æ˜¯è§£å†³é—®é¢˜çš„æœ€å¥½åŠæ³•ï¼æ¯”å¦‚ï¼Œæ±‚1åˆ°100æ‰€æœ‰æ•°çš„å’Œï¼š\npublic static void main(String[] args) &#123;\n    int sum &#x3D; 0;\n    for (int i &#x3D; 1; i &lt;&#x3D; 100; i++) &#123;   &#x2F;&#x2F;forå¾ªç¯æš´åŠ›æ±‚è§£ï¼Œç®€å•ï¼Œä½†æ˜¯æ•ˆç‡ä¼¼ä¹ä½äº†ä¸€äº›\n        sum +&#x3D; i;\n    &#125;\n    System.out.println(sum);\n&#125;\n\npublic static void main(String[] args) &#123;\n    System.out.println((1 + 100) * 50);  &#x2F;&#x2F;é«˜æ–¯æ±‚å’Œå…¬å¼ï¼Œåˆ©ç”¨æ•°å­¦ï¼Œç¬é—´è®¡ç®—ç»“æœï¼\n&#125;\n\nè¯´åˆ°æœ€åï¼Œå…¶å®æ•°å­¦å’Œé€»è¾‘æ€ç»´æ‰æ˜¯è§£å†³é—®é¢˜çš„æœ€ç»ˆåŠæ³•ï¼\nå¯¹è±¡è®¾è®¡ï¼ˆé¢å‘å¯¹è±¡ã€å¤šæ€è¿ç”¨ï¼‰\nè®¾è®¡ä¸€ä¸ªPersonæŠ½è±¡ç±»ï¼ŒåŒ…å«åƒé¥­è¿åŠ¨å­¦ä¹ ä¸‰ç§è¡Œä¸ºï¼Œåˆ†ä¸ºå·¥äººã€å­¦ç”Ÿã€è€å¸ˆä¸‰ç§èŒä¸šã€‚\nè®¾è®¡è®¾è®¡ä¸€ä¸ªæ¥å£è€ƒè¯•ï¼Œåªæœ‰è€å¸ˆå’Œå­¦ç”Ÿä¼šè€ƒè¯•ã€‚\nè®¾è®¡ä¸€ä¸ªæ–¹æ³•ï¼Œæ¨¡æ‹Ÿè®©äººç±»è¿›å…¥è€ƒåœºï¼Œè¦æ±‚åªæœ‰ä¼šè€ƒè¯•çš„äººæ‰èƒ½è¿›å…¥ï¼Œå¹¶ä¸”è€ƒè¯•ã€‚\n\näºŒåˆ†æœç´¢ï¼ˆæœç´¢ç®—æ³•ï¼‰ç°åœ¨æœ‰ä¸€ä¸ªæœ‰åºæ•°ç»„ï¼ˆä»å°åˆ°å¤§ï¼Œæ•°ç»„é•¿åº¦ 0 &lt; n &lt; 1000000ï¼‰å¦‚ä½•å¿«é€Ÿå¯»æ‰¾æˆ‘ä»¬æƒ³è¦çš„æ•°åœ¨å“ªä¸ªä½ç½®ï¼Œå¦‚æœå­˜åœ¨è¯·è¿”å›ä¸‹æ ‡ï¼Œä¸å­˜åœ¨è¿”å›-1å³å¯ã€‚\nint[] arr &#x3D; new int[]&#123;1, 4, 5, 6, 7, 10, 12, 14, 20, 22, 26&#125;;   &#x2F;&#x2F;æµ‹è¯•ç”¨ä¾‹\n\nprivate static int test(int[] arr, int target)&#123;\n    &#x2F;&#x2F;è¯·åœ¨è¿™é‡Œå®ç°æœç´¢ç®—æ³•\n&#125;\n\nå¿«é€Ÿæ’åºï¼ˆæ’åºç®—æ³•ã€é€’å½’åˆ†æ²»ï¼‰ï¼ˆå¼€å§‹ä¹‹å‰å…ˆä»‹ç»ä¸€ä¸‹é€’å½’ï¼ï¼‰å¿«é€Ÿæ’åºå…¶å®æ˜¯ä¸€ç§æ’åºæ‰§è¡Œæ•ˆç‡å¾ˆé«˜çš„æ’åºç®—æ³•ï¼Œå®ƒåˆ©ç”¨åˆ†æ²»æ³•æ¥å¯¹å¾…æ’åºåºåˆ—è¿›è¡Œåˆ†æ²»æ’åºï¼Œå®ƒçš„æ€æƒ³ä¸»è¦æ˜¯é€šè¿‡ä¸€è¶Ÿæ’åºå°†å¾…æ’è®°å½•åˆ†éš”æˆç‹¬ç«‹çš„ä¸¤éƒ¨åˆ†ï¼Œå…¶ä¸­çš„ä¸€éƒ¨åˆ†æ¯”å…³é”®å­—å°ï¼Œåé¢ä¸€éƒ¨åˆ†æ¯”å…³é”®å­—å¤§ï¼Œç„¶åå†å¯¹è¿™å‰åçš„ä¸¤éƒ¨åˆ†åˆ†åˆ«é‡‡ç”¨è¿™ç§æ–¹å¼è¿›è¡Œæ’åºï¼Œé€šè¿‡é€’å½’çš„è¿ç®—æœ€ç»ˆè¾¾åˆ°æ•´ä¸ªåºåˆ—æœ‰åºã€‚\nå¿«é€Ÿæ’åºå°±åƒå®ƒçš„åå­—ä¸€æ ·ï¼Œå¿«é€Ÿï¼åœ¨æç«¯æƒ…å†µä¸‹ï¼Œä¼šé€€åŒ–æˆå†’æ³¡æ’åºï¼\n0&#x2F;1èƒŒåŒ…é—®é¢˜ï¼ˆå›æº¯æ³•ã€å‰ªæ&#x2F;åŠ¨æ€è§„åˆ’ä¼˜åŒ–ï¼‰ç»™å®š n ä»¶ç‰©å“ï¼Œæ¯ä¸€ä¸ªç‰©å“çš„é‡é‡ä¸º w[n]ï¼Œæ¯ä¸ªç‰©å“çš„ä»·å€¼ä¸º v[n]ã€‚ç°æŒ‘é€‰ç‰©å“æ”¾å…¥èƒŒåŒ…ä¸­ï¼Œå‡å®šèƒŒåŒ…èƒ½æ‰¿å—çš„æœ€å¤§é‡é‡ä¸º capacityï¼Œæ±‚è£…å…¥ç‰©å“çš„æœ€å¤§ä»·å€¼æ˜¯å¤šå°‘?\nint[] w &#x3D; &#123;2, 3, 4, 5&#125;;\nint[] v &#x3D; &#123;3, 4, 5, 6&#125;;\nint capacity &#x3D; 8;","slug":"JavaSEç¬”è®°ï¼ˆäºŒï¼‰","date":"2022-03-09T03:41:48.987Z","categories_index":"JavaSEç¬”è®°","tags_index":"JavaSEç¬”è®°","author_index":"YangChao"},{"id":"c77d7175e79dc8945326daf0b5bc2787","title":"JavaSEç¬”è®°ï¼ˆä¸€ï¼‰","content":"Javaè¯­æ³•è§„èŒƒæ‰€æœ‰çš„Javaè¯­å¥å¿…é¡»ä»¥;ç»“å°¾ï¼\næ— è®ºæ˜¯()ã€[]è¿˜æ˜¯&#123;&#125;ï¼Œæ‰€æœ‰çš„æ‹¬å·å¿…é¡»ä¸€ä¸€åŒ¹é…ï¼\nä¸»æ–¹æ³•çš„ä»£ç åªèƒ½å†™åœ¨&#123;&#125;ä¸­ï¼\nJavaåŸºç¡€è¯­æ³•ï¼ˆé¢å‘è¿‡ç¨‹ï¼‰åœ¨å­¦ä¹ é¢å‘å¯¹è±¡ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£é¢å‘è¿‡ç¨‹çš„ç¼–ç¨‹æ€ç»´ï¼Œå¦‚æœä½ å­¦ä¹ è¿‡Cè¯­è¨€å’ŒPythonå°±ä¼šå¾ˆè½»æ¾ï¼\nå˜é‡å’Œå…³é”®å­—å˜é‡å˜é‡å°±æ˜¯ä¸€ä¸ªå¯å˜çš„é‡ï¼Œä¾‹å¦‚å®šä¹‰ä¸€ä¸ªintç±»å‹çš„å˜é‡ï¼ˆintå°±æ˜¯æ•´æ•°ç±»å‹ï¼‰ï¼š\nint a &#x3D; 10;\na &#x3D; 20;\na &#x3D; 30;\n\næˆ‘ä»¬èƒ½å¤Ÿéšæ„æ›´æ”¹å®ƒçš„å€¼ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒçš„å€¼æ˜¯éšæ—¶å¯å˜çš„ï¼Œæˆ‘ä»¬ç§°ä¸ºå˜é‡ã€‚å˜é‡å¯ä»¥æ˜¯ç±»çš„å˜é‡ï¼Œä¹Ÿå¯ä»¥æ˜¯æ–¹æ³•å†…éƒ¨çš„å±€éƒ¨å˜é‡ï¼ˆæˆ‘ä»¬ç°é˜¶æ®µä¸»è¦ç”¨å±€éƒ¨å˜é‡ï¼Œç±»å˜é‡åœ¨é¢å‘å¯¹è±¡å†è®²è§£ï¼‰\nå˜é‡å’ŒCè¯­è¨€ä¸­çš„å˜é‡ä¸åŒï¼ŒJavaä¸­çš„å˜é‡æ˜¯å­˜æ”¾åœ¨JVMç®¡ç†çš„å†…å­˜ä¸­ï¼ŒCè¯­è¨€çš„å˜é‡å­˜æ”¾åœ¨å†…å­˜ï¼ˆæŸäº›æƒ…å†µä¸‹éœ€è¦æ‰‹åŠ¨é‡Šæ”¾å†…å­˜ï¼Œè€ŒJavaä¼šè‡ªåŠ¨å¸®åŠ©æˆ‘ä»¬æ¸…ç†å˜é‡å æ®çš„å†…å­˜ï¼‰Javaå’ŒC++å¾ˆç±»ä¼¼ï¼Œä½†æ˜¯æ²¡æœ‰æŒ‡é’ˆï¼Javaä¹Ÿå«C++â€“\nJavaæ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œåªæœ‰æ˜ç¡®å®šä¹‰äº†å˜é‡ä¹‹åï¼Œä½ æ‰èƒ½ä½¿ç”¨ï¼ä¸€æ—¦è¢«æŒ‡å®šæŸä¸ªæ•°æ®ç±»å‹ï¼Œé‚£ä¹ˆå®ƒå°†å§‹ç»ˆè¢«è®¤ä¸ºæ˜¯å¯¹åº”çš„ç±»å‹ï¼ˆå’ŒJSä¸ä¸€æ ·ï¼ï¼‰\nå®šä¹‰ä¸€ä¸ªå˜é‡çš„æ ¼å¼å¦‚ä¸‹ï¼š\n[ç±»å‹] [æ ‡è¯†ç¬¦(åå­—)] &#x3D; [åˆå§‹å€¼(å¯é€‰)]\nint a &#x3D; 10;\n\næ³¨æ„ï¼šæ ‡è¯†ç¬¦ä¸èƒ½ä¸ºä»¥ä¸‹å†…å®¹ï¼š\n\næ ‡è¯†ç¬¦ä»¥ç”±å¤§å°å†™å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿(_)å’Œç¾å…ƒç¬¦å·($)ç»„æˆï¼Œä½†æ˜¯ä¸èƒ½ä»¥æ•°å­—å¼€å¤´ã€‚\nå¤§å°å†™æ•æ„Ÿï¼\nä¸èƒ½æœ‰ç©ºæ ¼ã€@ã€#ã€+ã€-ã€&#x2F; ç­‰ç¬¦å·\nåº”è¯¥ä½¿ç”¨æœ‰æ„ä¹‰çš„åç§°ï¼Œè¾¾åˆ°è§åçŸ¥æ„çš„ç›®çš„ï¼Œæœ€å¥½ä»¥å°å†™å­—æ¯å¼€å¤´\nä¸å¯ä»¥æ˜¯ true å’Œ false \nä¸èƒ½ä¸Javaè¯­è¨€çš„å…³é”®å­—é‡å\n\nå…³é”®å­—åŒ…æ‹¬åŸºæœ¬æ•°æ®ç±»å‹ã€æµç¨‹æ§åˆ¶è¯­å¥ç­‰ï¼Œäº†è§£å°±è¡Œï¼Œä¸ç”¨å»è®°ï¼Œåé¢æˆ‘ä»¬ä¼šä¸€ç‚¹ä¸€ç‚¹å¸¦å¤§å®¶è®¤è¯†ï¼\nå¸¸é‡å¸¸é‡å°±æ˜¯æ— æ³•ä¿®æ”¹å€¼çš„å˜é‡ï¼Œå¸¸é‡çš„å€¼ï¼Œåªèƒ½å®šä¹‰ä¸€æ¬¡ï¼š\nfinal int a &#x3D; 10;\na &#x3D; 10;  &#x2F;&#x2F;æŠ¥é”™ï¼\n\nå¸¸é‡å‰é¢å¿…é¡»æ·»åŠ finalå…³é”®å­—ï¼ˆCè¯­è¨€é‡Œé¢æ˜¯constï¼Œè™½ç„¶Javaä¹Ÿæœ‰ï¼Œä½†æ˜¯ä¸èƒ½ä½¿ç”¨ï¼ï¼‰\nè¿™åªæ˜¯finalå…³é”®å­—çš„ç¬¬ä¸€ä¸ªç”¨æ³•ï¼Œåé¢è¿˜ä¼šæœ‰æ›´å¤šçš„ç”¨æ³•ã€‚\næ³¨é‡Šå…»æˆæ³¨é‡Šçš„å¥½ä¹ æƒ¯ï¼Œä¸ç„¶ä»¥åè‡ªå·±éƒ½çœ‹ä¸æ‡‚è‡ªå·±çš„ä»£ç ï¼æ³¨é‡ŠåŒ…æ‹¬å•è¡Œæ³¨é‡Šå’Œå¤šè¡Œæ³¨é‡Šï¼š\n&#x2F;&#x2F;æˆ‘æ˜¯å•è¡Œæ³¨é‡Š\n\n&#x2F;**\n* æˆ‘æ˜¯\n* å¤šè¡Œæ³¨é‡Š\n*&#x2F;\n\n&#x2F;&#x2F;TODO å¾…åšæ ‡è®°\n\n\nåŸºæœ¬æ•°æ®ç±»å‹Javaä¸­çš„æ•°æ®ç±»å‹åˆ†ä¸ºåŸºæœ¬æ•°æ®ç±»å‹å’Œå¼•ç”¨ç±»å‹ä¸¤å¤§ç±»ï¼Œå¼•ç”¨ç±»å‹æˆ‘ä»¬åœ¨é¢å‘å¯¹è±¡æ—¶å†æï¼ŒåŸºæœ¬æ•°æ®ç±»å‹æ˜¯é‡ç‚¹ä¸­çš„é‡ç‚¹ï¼é¦–å…ˆæˆ‘ä»¬éœ€è¦äº†è§£æœ‰å“ªäº›ç±»å‹ã€‚ç„¶åï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“çš„ï¼Œå¹¶ä¸æ˜¯ä»–ä»¬çš„ç²¾åº¦å¦‚ä½•ï¼Œèƒ½å¤Ÿè¡¨ç¤ºçš„èŒƒå›´æœ‰å¤šå¤§ï¼Œè€Œæ˜¯ä¸ºä»€ä¹ˆJavaä¼šç»™æˆ‘ä»¬å®šä¹‰è¿™äº›ç±»å‹ï¼Œè®¡ç®—æœºæ˜¯æ€ä¹ˆè¡¨ç¤ºè¿™äº›ç±»å‹çš„ï¼Œè¿™æ ·æˆ‘ä»¬æ‰èƒ½å¤Ÿæ›´å¥½çš„è®°å¿†ä»–ä»¬çš„ç²¾åº¦ã€è¡¨ç¤ºçš„èŒƒå›´å¤§å°ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬ä»è®¡ç®—æœºåŸç†çš„è§’åº¦å‡ºå‘ï¼Œå¸¦é¢†å¤§å®¶èµ°è¿›Javaçš„åŸºæœ¬æ•°æ®ç±»å‹ã€‚\nè¿™ä¸€éƒ¨åˆ†ç¨å¾®æœ‰ç‚¹çƒ§è„‘ï¼Œä½†æ˜¯æ˜¯é‡ä¸­ä¹‹é‡ï¼Œå¦‚æœä½ æŒæ¡äº†è¿™äº›ï¼Œä»»ä½•ç›¸å…³çš„é¢è¯•é¢˜éƒ½éš¾ä¸å€’ä½ ï¼ï¼ˆå¦‚æœä½ å­¦ä¹ è¿‡è®¡ç®—æœºç»„æˆåŸç†å°±å¾ˆå¥½ç†è§£äº†ï¼‰\nè®¡ç®—æœºä¸­çš„äºŒè¿›åˆ¶è¡¨ç¤ºåœ¨è®¡ç®—æœºä¸­ï¼Œæ‰€æœ‰çš„å†…å®¹éƒ½æ˜¯äºŒè¿›åˆ¶å½¢å¼è¡¨ç¤ºã€‚åè¿›åˆ¶æ˜¯ä»¥10ä¸ºè¿›ä½ï¼Œå¦‚9+1&#x3D;10ï¼›äºŒè¿›åˆ¶åˆ™æ˜¯æ»¡2è¿›ä½ï¼ˆå› ä¸ºæˆ‘ä»¬çš„è®¡ç®—æœºæ˜¯ç”µå­çš„ï¼Œç”µå¹³ä¿¡å·åªæœ‰é«˜ä½å’Œä½ä½ï¼Œä½ ä¹Ÿå¯ä»¥æš‚ä¸”ç†è§£ä¸ºé€šç”µå’Œä¸é€šç”µï¼Œé«˜ç”µå¹³ä»£è¡¨1ï¼Œä½ç”µå¹³ä»£è¡¨0ï¼Œç”±äºåªæœ‰0å’Œ1ï¼Œå› æ­¤åªèƒ½ä½¿ç”¨2è¿›åˆ¶è¡¨ç¤ºæˆ‘ä»¬çš„æ•°å­—ï¼ï¼‰æ¯”å¦‚1+1&#x3D;10&#x3D;2^1+0ï¼Œä¸€ä¸ªä½ä¹Ÿå«ä¸€ä¸ªbitï¼Œ8ä¸ªbitç§°ä¸º1å­—èŠ‚ï¼Œ16ä¸ªbitç§°ä¸ºä¸€ä¸ªå­—ï¼Œ32ä¸ªbitç§°ä¸ºä¸€ä¸ªåŒå­—ï¼Œ64ä¸ªbitç§°ä¸ºä¸€ä¸ªå››å­—ï¼Œæˆ‘ä»¬ä¸€èˆ¬é‡‡ç”¨å­—èŠ‚æ¥æè¿°æ•°æ®å¤§å°ã€‚\nåè¿›åˆ¶çš„7 -&gt; åœ¨äºŒè¿›åˆ¶ä¸­ä¸º 111 &#x3D; 2^2 + 2^1 + 2^0\nç°åœ¨æœ‰4ä¸ªbitä½ï¼Œæœ€å¤§èƒ½å¤Ÿè¡¨ç¤ºå¤šå¤§çš„æ•°å­—å‘¢ï¼Ÿ\n\næœ€å°ï¼š0000 &#x3D;&gt; 0\næœ€å¤§ï¼š1111 &#x3D;&gt; 2^3+2^2+2^1+2^0 &#x3D;&gt; 8 + 4 + 2 + 1 &#x3D; 15\n\nåœ¨Javaä¸­ï¼Œæ— è®ºæ˜¯å°æ•°è¿˜æ˜¯æ•´æ•°ï¼Œä»–ä»¬éƒ½è¦å¸¦æœ‰ç¬¦å·ï¼ˆå’ŒCè¯­è¨€ä¸åŒï¼ŒCè¯­è¨€æœ‰æ— ç¬¦å·æ•°ï¼‰æ‰€ä»¥ï¼Œé¦–ä½å°±ä½œä¸ºæˆ‘ä»¬çš„ç¬¦å·ä½ï¼Œè¿˜æ˜¯ä»¥4ä¸ªbitä¸ºä¾‹ï¼Œé¦–ä½ç°åœ¨ä½œä¸ºç¬¦å·ä½ï¼ˆ1ä»£è¡¨è´Ÿæ•°ï¼Œ0ä»£è¡¨æ­£æ•°ï¼‰ï¼š\n\næœ€å°ï¼š1111 &#x3D;&gt; -(2^2+2^1+2^0) &#x3D;&gt; -7\næœ€å¤§ï¼š0111 &#x3D;&gt; +(2^2+2^1+2^0) &#x3D;&gt; +7 &#x3D;&gt; 7\n\nç°åœ¨ï¼Œæˆ‘ä»¬4bitèƒ½å¤Ÿè¡¨ç¤ºçš„èŒƒå›´å˜ä¸ºäº†-7~+7ï¼Œè¿™æ ·çš„è¡¨ç¤ºæ–¹å¼ç§°ä¸ºåŸç ã€‚\nè®¡ç®—æœºä¸­çš„åŠ å‡æ³•åŸç è™½ç„¶åŸç è¡¨ç¤ºç®€å•ï¼Œä½†æ˜¯åŸç åœ¨åšåŠ å‡æ³•çš„æ—¶å€™ï¼Œå¾ˆéº»çƒ¦ï¼ä»¥4bitä½ä¸ºä¾‹ï¼š\n1+(-1) &#x3D; 0001 + 1001 &#x3D; æ€ä¹ˆè®©è®¡ç®—æœºå»è®¡ç®—ï¼Ÿï¼ˆè™½ç„¶æˆ‘ä»¬çŸ¥é“è¯¥å»æ€ä¹ˆç®—ï¼Œä½†æ˜¯è®¡ç®—æœºä¸çŸ¥é“ï¼ï¼‰\næˆ‘ä»¬å¾—åˆ›é€ ä¸€ç§æ›´å¥½çš„è¡¨ç¤ºæ–¹å¼ï¼äºæ˜¯æˆ‘ä»¬å¼•å…¥äº†åç ï¼š\nåç \næ­£æ•°çš„åç æ˜¯å…¶æœ¬èº«\nè´Ÿæ•°çš„åç æ˜¯åœ¨å…¶åŸç çš„åŸºç¡€ä¸Š, ç¬¦å·ä½ä¸å˜ï¼Œå…¶ä½™å„ä¸ªä½å–å\n\nç»è¿‡ä¸Šé¢çš„å®šä¹‰ï¼Œæˆ‘ä»¬å†æ¥è¿›è¡ŒåŠ å‡æ³•ï¼š\n1+(-1) &#x3D; 0001 + 1110 &#x3D; 1111 &#x3D;&gt; -0 ï¼ˆç›´æ¥ç›¸åŠ ï¼Œè¿™æ ·å°±ç®€å•å¤šäº†ï¼ï¼‰\næ€è€ƒï¼š1111ä»£è¡¨-0ï¼Œ0000ä»£è¡¨+0ï¼Œåœ¨æˆ‘ä»¬å®æ•°çš„èŒƒå›´å†…ï¼Œ0æœ‰æ­£è´Ÿä¹‹åˆ†å—ï¼Ÿ\n\n0æ—¢ä¸æ˜¯æ­£æ•°ä¹Ÿä¸æ˜¯è´Ÿæ•°ï¼Œé‚£ä¹ˆæ˜¾ç„¶è¿™æ ·çš„è¡¨ç¤ºä¾ç„¶ä¸å¤Ÿåˆç†ï¼\n\nè¡¥ç æ ¹æ®ä¸Šé¢çš„é—®é¢˜ï¼Œæˆ‘ä»¬å¼•å…¥äº†æœ€ç»ˆçš„è§£å†³æ–¹æ¡ˆï¼Œé‚£å°±æ˜¯è¡¥ç ï¼Œå®šä¹‰å¦‚ä¸‹ï¼š\n\næ­£æ•°çš„è¡¥ç å°±æ˜¯å…¶æœ¬èº« ï¼ˆä¸å˜ï¼ï¼‰\nè´Ÿæ•°çš„è¡¥ç æ˜¯åœ¨å…¶åŸç çš„åŸºç¡€ä¸Š, ç¬¦å·ä½ä¸å˜, å…¶ä½™å„ä½å–å, æœ€å+1. (å³åœ¨åç çš„åŸºç¡€ä¸Š+1)\n\nå…¶å®ç°åœ¨å°±å·²ç»èƒ½å¤Ÿæƒ³é€šäº†ï¼Œ-0å…¶å®å·²ç»è¢«æ¶ˆé™¤äº†ï¼æˆ‘ä»¬å†æ¥çœ‹ä¸Šé¢çš„è¿ç®—ï¼š\n1+(-1) &#x3D; 0001 + 1111 &#x3D; (1)0000 &#x3D;&gt; +0 ï¼ˆç°åœ¨æ— è®ºä½ æ€ä¹ˆç®—ï¼Œä¹Ÿä¸ä¼šæœ‰-0äº†ï¼ï¼‰\næ‰€ä»¥ç°åœ¨ï¼Œ4bitä½èƒ½å¤Ÿè¡¨ç¤ºçš„èŒƒå›´æ˜¯ï¼š-8~+7ï¼ˆJavaä½¿ç”¨çš„å°±æ˜¯è¡¥ç ï¼ï¼‰\nä»¥ä¸Šå†…å®¹æ˜¯é‡ç‚¹ï¼Œ æ˜¯ä¸€å®šè¦æŒæ¡çš„çŸ¥è¯†ï¼Œè¿™äº›çŸ¥è¯†æ˜¯ä½ åœ¨é¢è¯•ä¸­çš„æœ€ç»ˆé˜²çº¿ï¼æœ‰äº†è¿™äº›ç†è®ºåŸºç¡€ï¼Œæ— è®ºé¢è¯•é¢˜å¦‚ä½•å˜æ¢ï¼Œéƒ½èƒ½å¤Ÿé€šè¿‡ç†è®ºçŸ¥è¯†æ¥ç ´è§£\n\næ•´æ•°ç±»å‹æ•´æ•°ç±»å‹æ˜¯æœ€å®¹æ˜“ç†è§£çš„ç±»å‹ï¼æ—¢ç„¶æˆ‘ä»¬çŸ¥é“äº†è®¡ç®—æœºä¸­çš„äºŒè¿›åˆ¶æ•°å­—æ˜¯å¦‚ä½•è¡¨ç¤ºçš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å¾ˆè½»æ¾çš„ä»¥äºŒè¿›åˆ¶çš„å½¢å¼æ¥è¡¨è¾¾æˆ‘ä»¬åè¿›åˆ¶çš„å†…å®¹äº†ã€‚\nåœ¨Javaä¸­ï¼Œæ•´æ•°ç±»å‹åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªï¼š\n\nbyte å­—èŠ‚å‹ ï¼ˆ8ä¸ªbitï¼Œä¹Ÿå°±æ˜¯1ä¸ªå­—èŠ‚ï¼‰èŒƒå›´ï¼š-128~+127\nshort çŸ­æ•´å½¢ï¼ˆ16ä¸ªbitï¼Œä¹Ÿå°±æ˜¯2ä¸ªå­—èŠ‚ï¼‰èŒƒå›´ï¼š-32768~+32767\nint æ•´å½¢ï¼ˆ32ä¸ªbitï¼Œä¹Ÿå°±æ˜¯4ä¸ªå­—èŠ‚ï¼‰æœ€å¸¸ç”¨çš„ç±»å‹ï¼\nlong é•¿æ•´å½¢ï¼ˆ64ä¸ªbitï¼Œä¹Ÿå°±æ˜¯8ä¸ªå­—èŠ‚ï¼‰æœ€åéœ€è¦æ·»åŠ læˆ–L\n\nlongéƒ½è£…ä¸ä¸‹æ€ä¹ˆåŠï¼ŸBigIntegerï¼\næ•°å­—å·²ç»è¾¾åˆ°byteçš„æœ€å¤§å€¼äº†ï¼Œè¿˜èƒ½åŠ å—ï¼Ÿä¸ºäº†ä¾¿äºç†è§£ï¼Œä»¥4bitä¸ºä¾‹ï¼š\n0111 + 0001 &#x3D; 1000 &#x3D;&gt;  -8ï¼ˆä½ æ²¡çœ‹é”™ï¼Œå°±æ˜¯è¿™æ ·ï¼ï¼‰\næ•´æ•°è¿˜èƒ½ä½¿ç”¨8è¿›åˆ¶ã€16è¿›åˆ¶è¡¨ç¤ºï¼š\n\nåè¿›åˆ¶ä¸º15 &#x3D; å…«è¿›åˆ¶è¡¨ç¤ºä¸º017 &#x3D; åå…­è¿›åˆ¶è¡¨ç¤ºä¸º 0xF &#x3D; äºŒè¿›åˆ¶è¡¨ç¤º 1111 (ä»£ç é‡Œé¢ä¸èƒ½ä½¿ç”¨äºŒè¿›åˆ¶ï¼)\n\nå­—ç¬¦ç±»å‹å’Œå­—ç¬¦ä¸²åœ¨Javaä¸­ï¼Œå­˜åœ¨å­—ç¬¦ç±»å‹ï¼Œå®ƒèƒ½å¤Ÿä»£è¡¨ä¸€ä¸ªå­—ç¬¦ï¼š\n\nchar å­—ç¬¦å‹ï¼ˆ16ä¸ªbitï¼Œä¹Ÿå°±æ˜¯2å­—èŠ‚ï¼Œå®ƒä¸å¸¦ç¬¦å·ï¼ï¼‰èŒƒå›´æ˜¯0 ~ 65535\nä½¿ç”¨Unicodeè¡¨ç¤ºå°±æ˜¯ï¼š\\u0000 ~ \\uffff\n\nå­—ç¬¦è¦ç”¨å•å¼•å·æ‰©èµ·æ¥ï¼æ¯”å¦‚ char c &#x3D; â€˜æ·¦â€™;\nå­—ç¬¦å…¶å®æœ¬è´¨ä¹Ÿæ˜¯æ•°å­—ï¼Œä½†æ˜¯è¿™äº›æ•°å­—é€šè¿‡ç¼–ç è¡¨è¿›è¡Œæ˜ å°„ï¼Œä»£è¡¨äº†ä¸åŒçš„å­—ç¬¦ï¼Œæ¯”å¦‚å­—ç¬¦&#39;A&#39;çš„ASCIIç å°±æ˜¯æ•°å­—65ï¼Œæ‰€ä»¥ï¼Œcharç±»å‹å…¶å®å¯ä»¥è½¬æ¢ä¸ºä¸Šé¢çš„æ•´æ•°ç±»å‹ã€‚\nJavaçš„charé‡‡ç”¨Unicodeç¼–ç è¡¨ï¼ˆä¸æ˜¯ASCIIç¼–ç ï¼ï¼‰ï¼ŒUnicodeç¼–ç è¡¨åŒ…å«ASCIIçš„æ‰€æœ‰å†…å®¹ï¼ŒåŒæ—¶è¿˜åŒ…æ‹¬äº†å…¨ä¸–ç•Œçš„è¯­è¨€ï¼ŒASCIIåªæœ‰1å­—èŠ‚ï¼Œè€ŒUnicodeç¼–ç æ˜¯2å­—èŠ‚ï¼Œèƒ½å¤Ÿä»£è¡¨65536ç§æ–‡å­—ï¼Œè¶³ä»¥åŒ…å«å…¨ä¸–ç•Œçš„æ–‡å­—äº†ï¼ï¼ˆæˆ‘ä»¬ç¼–è¯‘å‡ºæ¥çš„å­—èŠ‚ç æ–‡ä»¶ä¹Ÿæ˜¯ä½¿ç”¨Unicodeç¼–ç çš„ï¼Œæ‰€ä»¥åˆ©ç”¨è¿™ç§ç‰¹æ€§ï¼Œå…¶å®Javaæ”¯æŒä¸­æ–‡å˜é‡åç§°ã€æ–¹æ³•åç§°ç”šè‡³æ˜¯ç±»åï¼‰\næ—¢ç„¶charåªèƒ½ä»£è¡¨ä¸€ä¸ªå­—ç¬¦ï¼Œé‚£æ€ä¹ˆæ‰èƒ½åŒ…å«ä¸€å¥è¯å‘¢ï¼Ÿï¼ˆå…³äºæ•°ç»„ï¼Œæˆ‘ä»¬è¿™é‡Œå…ˆä¸äº†è§£ï¼Œæ•°ç»„æˆ‘ä»¬æ”¾åœ¨é¢å‘å¯¹è±¡ç« èŠ‚è®²è§£ï¼‰\nStringå°±æ˜¯Javaä¸­çš„å­—ç¬¦ä¸²ç±»å‹ï¼ˆæ³¨æ„ï¼Œå®ƒæ˜¯ä¸€ä¸ªç±»ï¼Œåˆ›å»ºå‡ºæ¥çš„å­—ç¬¦ä¸²æœ¬è´¨æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä¸æ˜¯æˆ‘ä»¬çš„åŸºæœ¬ç±»å‹ï¼‰å­—ç¬¦ä¸²å°±åƒå®ƒçš„åå­—ä¸€æ ·ï¼Œä»£è¡¨ä¸€ä¸²å­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯ä¸€å¥å®Œæ•´çš„è¯ã€‚\nå­—ç¬¦ä¸²ç”¨åŒå¼•å·æ‹¬èµ·æ¥ï¼æ¯”å¦‚ï¼šString str &#x3D; â€œä¸€æ—¥ä¸‰é¤æ²¡çƒ¦æ¼â€;\nå°æ•°ç±»å‹å°æ•°ç±»å‹æ¯”è¾ƒéš¾ç†è§£ï¼ˆæ¯”è¾ƒéš¾ç†è§£æŒ‡çš„æ˜¯åŸç†ï¼Œä¸æ˜¯ä½¿ç”¨ï¼‰é¦–å…ˆæ¥çœ‹çœ‹Javaä¸­çš„å°æ•°ç±»å‹åŒ…å«å“ªäº›ï¼š\n\nfloat å•ç²¾åº¦æµ®ç‚¹å‹ ï¼ˆ32bitï¼Œ4å­—èŠ‚ï¼‰\ndouble åŒç²¾åº¦æµ®ç‚¹å‹ï¼ˆ64bitï¼Œ8å­—èŠ‚ï¼‰\n\næ€è€ƒï¼šå°æ•°çš„èŒƒå›´è¯¥æ€ä¹ˆå®šä¹‰å‘¢ï¼Ÿæˆ‘ä»¬é¦–å…ˆè¦äº†è§£çš„æ˜¯å°æ•°åœ¨è®¡ç®—æœºé‡Œé¢æ˜¯å¦‚ä½•å­˜æ”¾çš„ï¼š\n![image-20210817143234500](&#x2F;Users&#x2F;nagocoler&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20210817143234500.png)\næ ¹æ®å›½é™…æ ‡å‡† IEEE 754ï¼Œä»»æ„ä¸€ä¸ªäºŒè¿›åˆ¶æµ®ç‚¹æ•° V å¯ä»¥è¡¨ç¤ºæˆä¸‹é¢çš„å½¢å¼ï¼šV &#x3D; (-1)^S Ã— M Ã— 2^Eï¼ˆ1ï¼‰(-1)^S è¡¨ç¤ºç¬¦å·ä½ï¼Œå½“ S&#x3D;0ï¼ŒV ä¸ºæ­£æ•°ï¼›å½“ S&#x3D;1ï¼ŒV ä¸ºè´Ÿæ•°ã€‚ï¼ˆ2ï¼‰M è¡¨ç¤ºæœ‰æ•ˆæ•°å­—ï¼Œå¤§äºç­‰äº 1ï¼Œå°äº 2ï¼Œä½†æ•´æ•°éƒ¨åˆ†çš„ 1 ä¸å˜ï¼Œå› æ­¤å¯ä»¥çœç•¥ã€‚ï¼ˆä¾‹å¦‚å°¾æ•°ä¸º1111010ï¼Œé‚£ä¹ˆMå®é™…ä¸Šå°±æ˜¯1.111010ï¼Œå°¾æ•°é¦–ä½å¿…é¡»æ˜¯1ï¼Œ1åé¢ç´§è·Ÿå°æ•°ç‚¹ï¼Œå¦‚æœå‡ºç°0001111è¿™æ ·çš„æƒ…å†µï¼Œå»æ‰å‰é¢çš„0ï¼Œç§»åŠ¨1åˆ°é¦–ä½ï¼›é¢˜å¤–è¯ï¼šéšç€æ—¶é—´çš„å‘å±•ï¼ŒIEEE 754æ ‡å‡†é»˜è®¤ç¬¬ä¸€ä½ä¸º1ï¼Œæ•…ä¸ºäº†èƒ½å¤Ÿå­˜æ”¾æ›´å¤šæ•°æ®ï¼Œå°±èˆå»äº†ç¬¬ä¸€ä½ï¼Œæ¯”å¦‚ä¿å­˜1.0101 çš„æ—¶å€™ï¼Œ åªä¿å­˜ 0101ï¼Œè¿™æ ·èƒ½å¤Ÿå¤šå­˜å‚¨ä¸€ä½æ•°æ®ï¼‰ï¼ˆ3ï¼‰2^E è¡¨ç¤ºæŒ‡æ•°ä½ã€‚ï¼ˆç”¨äºç§»åŠ¨å°æ•°ç‚¹ï¼‰\næ¯”å¦‚ï¼š å¯¹äºåè¿›åˆ¶çš„ 5.25 å¯¹åº”çš„äºŒè¿›åˆ¶ä¸ºï¼š101.01ï¼Œç›¸å½“äºï¼š1.0101*2^2ã€‚æ‰€ä»¥ï¼ŒS ä¸º 0ï¼ŒM ä¸º 1.0101ï¼ŒE ä¸º 2ã€‚æ‰€ä»¥ï¼Œå¯¹äºæµ®ç‚¹ç±»å‹ï¼Œæœ€å¤§å€¼å’Œæœ€å°å€¼ä¸ä»…å–å†³äºç¬¦å·å’Œå°¾æ•°ï¼Œè¿˜æœ‰å®ƒçš„é˜¶ç ã€‚æˆ‘ä»¬åœ¨è¿™é‡Œå°±ä¸å»è®¡ç®—äº†ï¼Œæƒ³äº†è§£çš„å¯ä»¥å»æœç´¢ç›¸å…³èµ„æ–™ã€‚\næ€è€ƒï¼šå°±ç®—doubleæœ‰64bitä½æ•°ï¼Œä½†æ˜¯ä¾ç„¶å­˜åœ¨ç²¾åº¦é™åˆ¶ï¼Œå¦‚æœæˆ‘è¦è¿›è¡Œé«˜ç²¾åº¦çš„è®¡ç®—ï¼Œæ€ä¹ˆåŠï¼ŸBigDecimalï¼\nå¸ƒå°”ç±»å‹å¸ƒå°”ç±»å‹ï¼ˆbooleanï¼‰åªæœ‰trueå’Œfalseä¸¤ç§å€¼ï¼Œä¹Ÿå°±æ˜¯è¦ä¹ˆä¸ºçœŸï¼Œè¦ä¹ˆä¸ºå‡ï¼Œå¸ƒå°”ç±»å‹çš„å˜é‡é€šå¸¸ç”¨ä½œæµç¨‹æ§åˆ¶åˆ¤æ–­è¯­å¥ã€‚ï¼ˆCè¯­è¨€ä¸€èˆ¬ä½¿ç”¨0è¡¨ç¤ºfalseï¼Œé™¤0ä»¥å¤–çš„æ‰€æœ‰æ•°éƒ½è¡¨ç¤ºtrueï¼‰å¸ƒå°”ç±»å‹å æ®çš„ç©ºé—´å¤§å°å¹¶æœªæ˜ç¡®å®šä¹‰ï¼Œè€Œæ˜¯æ ¹æ®ä¸åŒçš„JVMä¼šæœ‰ä¸åŒçš„å®ç°ã€‚\n\nç±»å‹è½¬æ¢éšå¼ç±»å‹è½¬æ¢éšå¼ç±»å‹è½¬æ¢æ”¯æŒå­—èŠ‚æ•°å°çš„ç±»å‹è‡ªåŠ¨è½¬æ¢ä¸ºå­—èŠ‚æ•°å¤§çš„ç±»å‹ï¼Œæ•´æ•°ç±»å‹è‡ªåŠ¨è½¬æ¢ä¸ºå°æ•°ç±»å‹ï¼Œè½¬æ¢è§„åˆ™å¦‚ä¸‹ï¼š\n\nbyteâ†’short(char)â†’intâ†’longâ†’floatâ†’double\n\né—®é¢˜ï¼šä¸ºä»€ä¹ˆlongæ¯”floatå¤§ï¼Œè¿˜èƒ½è½¬æ¢ä¸ºfloatå‘¢ï¼Ÿå°æ•°çš„å­˜å‚¨è§„åˆ™è®©floatçš„æœ€å¤§å€¼æ¯”longè¿˜å¤§ï¼Œåªæ˜¯å¯èƒ½ä¼šä¸¢å¤±æŸäº›ä½ä¸Šçš„ç²¾åº¦ï¼\næ‰€ä»¥ï¼Œå¦‚ä¸‹çš„ä»£ç å°±èƒ½å¤Ÿæ­£å¸¸è¿è¡Œï¼š\nbyte b &#x3D; 9;\nshort s &#x3D; b;\nint i &#x3D; s;\nlong l &#x3D; i;\nfloat f &#x3D; l;\ndouble d &#x3D; f;\nSystem.out.println(d);\n\n&#x2F;&#x2F;è¾“å‡º 9.0\n\næ˜¾ç¤ºç±»å‹è½¬æ¢æ˜¾ç¤ºç±»å‹è½¬æ¢ä¹Ÿå«åšå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿åéšå¼è½¬æ¢çš„è§„åˆ™ï¼Œç‰ºç‰²ç²¾åº¦å¼ºè¡Œè¿›è¡Œç±»å‹è½¬æ¢ã€‚\nint i &#x3D; 128;\nbyte b &#x3D; (byte)i;\nSystem.out.println(b);\n\n&#x2F;&#x2F;è¾“å‡º -128\n\nä¸ºä»€ä¹ˆç»“æœæ˜¯-128ï¼Ÿç²¾åº¦ä¸¢å¤±äº†ï¼\n\nint ç±»å‹çš„128è¡¨ç¤ºï¼š00000000 00000000 00000000 10000000\nbyteç±»å‹è½¬æ¢åè¡¨ç¤ºï¼šxxxxxxxx xxxxxxxx xxxxxxxx 10000000 &#x3D;&gt; -128\n\næ•°æ®ç±»å‹è‡ªåŠ¨æå‡åœ¨å‚ä¸è¿ç®—æ—¶ï¼ˆä¹Ÿå¯ä»¥ä½äºè¡¨è¾¾å¼ä¸­æ—¶ï¼Œè‡ªå¢è‡ªå‡é™¤å¤–ï¼‰ï¼Œæ‰€æœ‰çš„byteå‹ã€shortå‹å’Œcharçš„å€¼å°†è¢«æå‡åˆ°intå‹ï¼š\nbyte b &#x3D; 105;\nb &#x3D; b + 1;   &#x2F;&#x2F;æŠ¥é”™ï¼\nSystem.out.println(b);\n\nè¿™ä¸ªç‰¹æ€§æ˜¯ç”± Javaè™šæ‹Ÿæœºè§„èŒƒ å®šä¹‰çš„ï¼Œä¹Ÿæ˜¯ä¸ºäº†æé«˜è¿è¡Œçš„æ•ˆç‡ã€‚å…¶ä»–çš„ç‰¹æ€§è¿˜æœ‰ï¼š\n\nå¦‚æœä¸€ä¸ªæ“ä½œæ•°æ˜¯longå‹ï¼Œè®¡ç®—ç»“æœå°±æ˜¯longå‹\nå¦‚æœä¸€ä¸ªæ“ä½œæ•°æ˜¯floatå‹ï¼Œè®¡ç®—ç»“æœå°±æ˜¯floatå‹\nå¦‚æœä¸€ä¸ªæ“ä½œæ•°æ˜¯doubleå‹ï¼Œè®¡ç®—ç»“æœå°±æ˜¯doubleå‹\n\n\nè¿ç®—ç¬¦èµ‹å€¼å’Œç®—æœ¯è¿ç®—ç¬¦èµ‹å€¼è¿ç®—ç¬¦=æ˜¯æœ€å¸¸ç”¨çš„è¿ç®—ç¬¦ï¼Œå…¶å®å°±æ˜¯å°†æˆ‘ä»¬ç­‰å·å³è¾¹çš„ç»“æœï¼Œä¼ é€’ç»™ç­‰å·å·¦è¾¹çš„å˜é‡ï¼Œä¾‹å¦‚ï¼š\nint a &#x3D; 10;\nint b &#x3D; 1 + 8;\nint c &#x3D; 5 * 5;\n\nç®—æœ¯è¿ç®—ç¬¦ä¹Ÿå°±æ˜¯æˆ‘ä»¬åœ¨å°å­¦é˜¶æ®µå­¦ä¹ çš„+ - * / %ï¼Œåˆ†åˆ«ä»£è¡¨åŠ å‡ä¹˜é™¤è¿˜æœ‰å–ä½™ï¼Œä¾‹å¦‚ï¼š\nint a &#x3D; 2;\nint b &#x3D; 3;\nint c &#x3D; a * b;\n&#x2F;&#x2F;ç»“æœä¸º6\n\néœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ+è¿˜å¯ä»¥ç”¨ä½œå­—ç¬¦ä¸²è¿æ¥ç¬¦ä½¿ç”¨ï¼š\nSystem.out.println(&quot;lbw&quot; + &quot;nb&quot;);  &#x2F;&#x2F;lbwnb\n\nå½“ç„¶ï¼Œå­—ç¬¦ä¸²å¯ä»¥ç›´æ¥è¿æ¥å…¶ä»–ç±»å‹ï¼Œä½†æ˜¯ä¼šå…¨éƒ¨å½“åšå­—ç¬¦ä¸²å¤„ç†ï¼š\nint a &#x3D; 7, b &#x3D; 15;\nSystem.out.println(&quot;lbw&quot; + a + b); &#x2F;&#x2F;lbw715\n\nç®—æœ¯è¿ç®—ç¬¦è¿˜åŒ…æ‹¬++å’Œ--ä¹Ÿå°±æ˜¯è‡ªå¢å’Œè‡ªå‡ï¼Œä»¥è‡ªå¢ä¸ºä¾‹ï¼š\nint a &#x3D; 10;\na++;\nSystem.out.println(a); &#x2F;&#x2F;è¾“å‡ºä¸º11\n\nè‡ªå¢è‡ªå‡è¿ç®—ç¬¦æ”¾åœ¨å˜é‡çš„å‰åçš„è¿”å›å€¼æ˜¯æœ‰åŒºåˆ«çš„ï¼š\nint a &#x3D; 10;\nSystem.out.println(a++);  &#x2F;&#x2F;10 ï¼ˆå…ˆè¿”å›å€¼ï¼Œå†è‡ªå¢ï¼‰\nSystem.out.println(a);   &#x2F;&#x2F;11\n\nint a &#x3D; 10;\nSystem.out.println(++a);  &#x2F;&#x2F;11 ï¼ˆå…ˆè‡ªå¢ï¼Œå†è¿”å›å€¼ï¼‰\nSystem.out.println(a);  &#x2F;&#x2F;11\n\nint a &#x3D; 10;\nint b &#x3D; 2;\nSystem.out.println(b+++a++);  &#x2F;&#x2F;çŒœçŒœçœ‹ç»“æœæ˜¯å¤šå°‘\n\nä¸ºäº†ä½¿å¾—ä»£ç æ›´ç®€æ´ï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨æ‰©å±•çš„èµ‹å€¼è¿ç®—ç¬¦ï¼ŒåŒ…æ‹¬+=ã€-=ã€/=ã€*=ã€%=ï¼Œå’Œè‡ªå¢è‡ªå‡ç±»ä¼¼ï¼Œå…ˆæ‰§è¡Œè¿ç®—ï¼Œå†è¿”å›ç»“æœï¼ŒåŒæ—¶è‡ªèº«æ”¹å˜ï¼š\nint a &#x3D; 10;\nSystem.out.println(a +&#x3D; 2);  &#x2F;&#x2F;ç­‰ä»·äº a &#x3D; a + 2\n\nå…³ç³»è¿ç®—ç¬¦å…³ç³»è¿ç®—ç¬¦çš„ç»“æœåªèƒ½æ˜¯å¸ƒå°”ç±»å‹ï¼Œä¹Ÿå°±æ˜¯è¦ä¹ˆä¸ºçœŸè¦ä¹ˆä¸ºå‡ï¼Œå…³ç³»è¿ç®—ç¬¦åŒ…æ‹¬ï¼š\n&gt; &lt; &#x3D;&#x3D; &#x2F;&#x2F;å¤§äºå°äºç­‰äº\n&gt;&#x3D; &lt;&#x3D;  !&#x3D;  &#x2F;&#x2F;å¤§äºç­‰äºï¼Œå°äºç­‰äºï¼Œä¸ç­‰äº\n\nå…³ç³»è¿ç®—ç¬¦ä¸€èˆ¬åªç”¨äºåŸºæœ¬ç±»å‹çš„æ¯”è¾ƒï¼Œè¿ç®—ç»“æœåªèƒ½æ˜¯booleanï¼š\nint a &#x3D; 10;\nint b &#x3D; 2;\nboolean x &#x3D; a &gt; b;\nSystem.out.println(x);\n&#x2F;&#x2F;ç»“æœä¸º true\n\né€»è¾‘è¿ç®—ç¬¦é€»è¾‘è¿ç®—ç¬¦ä¸¤è¾¹åªèƒ½æ˜¯booleanç±»å‹æˆ–æ˜¯å…³ç³»&#x2F;é€»è¾‘è¿ç®—è¡¨è¾¾å¼ï¼Œè¿”å›å€¼åªèƒ½æ˜¯booleanç±»å‹ï¼é€»è¾‘è¿ç®—ç¬¦åŒ…æ‹¬ï¼š\n&amp;&amp; &#x2F;&#x2F;ä¸è¿ç®—ï¼Œè¦æ±‚ä¸¤è¾¹åŒæ—¶ä¸ºtrueæ‰èƒ½è¿”å›true\n|| &#x2F;&#x2F;æˆ–è¿ç®—ï¼Œè¦æ±‚ä¸¤è¾¹è‡³å°‘è¦æœ‰ä¸€ä¸ªä¸ºtrueæ‰èƒ½è¿”å›true\n! &#x2F;&#x2F;éè¿ç®—ï¼Œä¸€èˆ¬æ”¾åœ¨è¡¨è¾¾å¼æœ€å‰é¢ï¼Œè¡¨è¾¾å¼ç”¨æ‹¬å·æ‰©èµ·æ¥ï¼Œè¡¨ç¤ºå¯¹è¡¨è¾¾å¼çš„ç»“æœè¿›è¡Œåè½¬\n\nå®é™…æ¡ˆä¾‹æ¥çœ‹çœ‹ï¼š\nint a &#x3D; 10;\nint b &#x3D; 2;\nboolean x &#x3D; a &gt; b &amp;&amp; a &lt; b;  &#x2F;&#x2F;æ€ä¹ˆå¯èƒ½åŒæ—¶æ»¡è¶³å‘¢\nSystem.out.println(x);   &#x2F;&#x2F;false\n\nint a &#x3D; 10;\nint b &#x3D; 2;\nboolean x &#x3D; a &gt; b || a &lt;&#x3D; b;  &#x2F;&#x2F;ä¸€å®šæœ‰ä¸€ä¸ªæ»¡è¶³ï¼\nSystem.out.println(x);   &#x2F;&#x2F;true\n\nint a &#x3D; 10;\nint b &#x3D; 2;\nboolean x &#x3D; !(a &gt; b); &#x2F;&#x2F;å¯¹ç»“æœè¿›è¡Œåè½¬ï¼Œæœ¬æ¥åº”è¯¥æ˜¯true\nSystem.out.println(x); &#x2F;&#x2F;false\n\nä½è¿ç®—ç¬¦&amp; &#x2F;&#x2F;æŒ‰ä½ä¸ï¼Œæ³¨æ„ï¼Œè¿”å›çš„æ˜¯è¿ç®—åçš„åŒç±»å‹å€¼ï¼Œä¸æ˜¯booleanï¼\n| &#x2F;&#x2F;æŒ‰ä½æˆ–\n^ &#x2F;&#x2F;æŒ‰ä½å¼‚æˆ– 0 ^ 0 &#x3D; 0\n~ &#x2F;&#x2F;æŒ‰ä½é\n\næŒ‰ä½è¿ç®—å®é™…ä¸Šæ˜¯æ ¹æ®å€¼çš„äºŒè¿›åˆ¶ç¼–ç æ¥è®¡ç®—ç»“æœï¼Œä¾‹å¦‚æŒ‰ä½ä¸ï¼Œä»¥4bitä¸ºä¾‹ï¼š\n0101 &amp; 0100 &#x3D; 0100 ï¼ˆåªæœ‰åŒæ—¶ä¸º1å¯¹åº”ä½æ‰å¾—1ï¼‰\nint a &#x3D; 7, b &#x3D; 15;\nSystem.out.println(a &amp; b); &#x2F;&#x2F;ç»“æœä¸º7\n\nä¸‰ç›®è¿ç®—ç¬¦ä¸‰ç›®è¿ç®—ç¬¦å…¶å®æ˜¯ä¸ºäº†ç®€åŒ–ä»£ç è€Œç”Ÿï¼Œå¯ä»¥æ ¹æ®æ¡ä»¶æ˜¯å¦æ»¡è¶³æ¥å†³å®šè¿”å›å€¼ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š\nint a &#x3D; 7, b &#x3D; 15;\nString str &#x3D; a &gt; b ? &quot;è¡Œ&quot; : &quot;ä¸è¡Œ&quot;;  &#x2F;&#x2F; åˆ¤æ–­æ¡ä»¶(åªèƒ½æ˜¯boolean,æˆ–è¿”å›booleançš„è¡¨è¾¾å¼) ? æ»¡è¶³çš„è¿”å›å€¼ : ä¸æ»¡è¶³çš„è¿”å›å€¼ \nSystem.out.println(&quot;æ±‰å ¡åšçš„è¡Œä¸è¡Œï¼Ÿ&quot;+str);  &#x2F;&#x2F;æ±‰å ¡åšçš„è¡Œä¸è¡Œï¼Ÿä¸è¡Œ\n\nç†è§£ä¸‰ç›®è¿ç®—ç¬¦ï¼Œå°±å¾ˆå®¹æ˜“ç†è§£åé¢çš„if-elseè¯­å¥äº†ã€‚\n\næµç¨‹æ§åˆ¶æˆ‘ä»¬çš„ç¨‹åºéƒ½æ˜¯ä»ä¸Šå¾€ä¸‹ä¾æ¬¡è¿è¡Œçš„ï¼Œä½†æ˜¯ï¼Œä»…ä»…æ˜¯è¿™æ ·è¿˜ä¸å¤Ÿï¼Œæˆ‘ä»¬éœ€è¦æ›´åŠ é«˜çº§çš„æ§åˆ¶è¯­å¥æ¥å¸®æˆ‘è¿›è¡Œæ›´çµæ´»çš„æ§åˆ¶ã€‚æ¯”å¦‚ï¼Œåˆ¤æ–­ç”¨æˆ·è¾“å…¥çš„æ•°å­—ï¼Œå¤§äº1åˆ™è¾“å‡ºokï¼Œå°äº1åˆ™è¾“å‡ºnoï¼Œè¿™æ—¶æˆ‘ä»¬å°±éœ€è¦ç”¨åˆ°é€‰æ‹©ç»“æ„æ¥å¸®åŠ©æˆ‘ä»¬å®Œæˆæ¡ä»¶çš„åˆ¤æ–­å’Œç¨‹åºçš„åˆ†æ”¯èµ°å‘ã€‚å­¦ä¹ è¿‡Cè¯­è¨€å°±å¾ˆè½»æ¾ï¼\né€‰æ‹©ç»“æ„é€‰æ‹©ç»“æ„åŒ…å«ifå’Œswitchç±»å‹ï¼Œé€‰æ‹©ç»“æ„èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬æ ¹æ®æ¡ä»¶åˆ¤æ–­ï¼Œå†æ‰§è¡Œå“ªä¸€å—ä»£ç ã€‚\nifè¯­å¥å°±åƒä¸Šé¢æ‰€è¯´ï¼Œåˆ¤æ–­ç”¨æˆ·è¾“å…¥çš„æ•°å­—ï¼Œå¤§äº1åˆ™è¾“å‡ºokï¼Œå°äº1åˆ™è¾“å‡ºnoï¼Œè¦å®ç°è¿™ç§æ•ˆæœï¼Œæˆ‘ä»¬é¦–å…ˆå¯ä»¥é‡‡ç”¨ifè¯­å¥ï¼š\nif(åˆ¤æ–­æ¡ä»¶)&#123;\n  &#x2F;&#x2F;åˆ¤æ–­æˆåŠŸæ‰§è¡Œçš„å†…å®¹\n&#125;else&#123;\n  &#x2F;&#x2F;åˆ¤æ–­å¤±è´¥æ‰§è¡Œçš„å†…å®¹\n&#125;\n&#x2F;&#x2F;ifçš„å†…å®¹æ‰§è¡Œå®Œæˆåï¼Œåé¢çš„å†…å®¹æ­£å¸¸æ‰§è¡Œ\n\nå…¶ä¸­ï¼Œelseè¯­å¥ä¸æ˜¯å¿…é¡»çš„ã€‚\nç°åœ¨ï¼Œåˆæ¥äº†ä¸€ä¸ªæ–°çš„éœ€æ±‚ï¼Œç”¨æˆ·è¾“å…¥çš„æ˜¯1æ‰“å°okï¼Œè¾“å…¥2ï¼Œæ‰“å°yesï¼Œå…¶ä»–æ‰“å°noï¼Œé‚£ä¹ˆè¿™æ ·å°±éœ€è¦æˆ‘ä»¬è¿›è¡Œå¤šç§æ¡ä»¶çš„åˆ¤æ–­äº†ï¼Œå½“ç„¶ifèƒ½è¿›è¡Œå¤šåˆ†æ”¯åˆ¤æ–­ï¼š\nif(åˆ¤æ–­æ¡ä»¶1)&#123;\n  &#x2F;&#x2F;åˆ¤æ–­æˆåŠŸæ‰§è¡Œçš„å†…å®¹\n&#125;else if(åˆ¤æ–­æ¡ä»¶2)&#123;\n  &#x2F;&#x2F;å†æ¬¡åˆ¤æ–­ï¼Œå¦‚æœåˆ¤æ–­æˆåŠŸæ‰§è¡Œçš„å†…å®¹\n&#125;else&#123;\n  &#x2F;&#x2F;ä¸Šé¢çš„éƒ½æ²¡æˆåŠŸï¼Œåªèƒ½èµ°è¿™é‡Œ\n&#125;\n\nåŒæ ·ï¼Œelseè¯­å¥ä¸æ˜¯å¿…é¡»çš„ã€‚\nç°åœ¨ï¼Œåˆæ¥äº†ä¸€ä¸ªæ–°çš„éœ€æ±‚ï¼Œç”¨æˆ·è¾“å…¥1ä¹‹åï¼Œåœ¨åˆ¤æ–­ç”¨æˆ·ä¸‹ä¸€æ¬¡è¾“å…¥çš„æ˜¯ä»€ä¹ˆï¼Œå¦‚æœæ˜¯1ï¼Œæ‰“å°yesï¼Œä¸æ˜¯å°±æ‰“å°noï¼Œè¿™æ ·å°±å¯ä»¥ç”¨åµŒå¥—ifäº†ï¼š\nif(åˆ¤æ–­æ¡ä»¶1)&#123;\n  &#x2F;&#x2F;å‰ææ˜¯åˆ¤æ–­æ¡ä»¶1è¦æˆåŠŸæ‰èƒ½è¿›æ¥ï¼\n  if(åˆ¤æ–­æ¡ä»¶2)&#123;\n    &#x2F;&#x2F;åˆ¤æ–­æˆåŠŸæ‰§è¡Œçš„å†…å®¹\n  &#125;else&#123;\n    &#x2F;&#x2F;åˆ¤æ–­å¤±è´¥æ‰§è¡Œçš„å†…å®¹\n  &#125;\n&#125;\n\nswitchè¯­å¥æˆ‘ä»¬ä¸éš¾å‘ç°ï¼Œè™½ç„¶else-ifèƒ½è§£å†³å¤šåˆ†æ”¯åˆ¤æ–­çš„é—®é¢˜ï¼Œä½†æ˜¯æ•ˆç‡å®åœ¨æ˜¯å¤ªä½äº†ï¼Œå¤šåˆ†æ”¯ifé‡‡ç”¨çš„æ˜¯é€çº§å‘ä¸‹åˆ¤æ–­ï¼Œæ˜¾ç„¶è´¹æ—¶è´¹åŠ›ï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰ä¸€ç›´æ›´ä¸“ä¸šçš„è§£å†³å¤šåˆ†æ”¯åˆ¤æ–­é—®é¢˜çš„ä¸œè¥¿å‘¢ï¼Ÿ\nswitch(åˆ¤æ–­ä¸»ä½“)&#123;\n  case å€¼1:\n    &#x2F;&#x2F;è¿è¡Œxxx\n    break;  &#x2F;&#x2F;breakç”¨äºè·³å‡ºswitchè¯­å¥ï¼Œä¸æ·»åŠ ä¼šå¯¼è‡´ç¨‹åºç»§ç»­å‘ä¸‹è¿è¡Œï¼\n  case å€¼2:\n    &#x2F;&#x2F;è¿è¡Œxxx\n    break;\n  case å€¼3:\n    &#x2F;&#x2F;è¿è¡Œxxx\n    break;\n&#125;\n\nåœ¨ä¸Šè¿°è¯­å¥ä¸­ï¼Œåªæœ‰åˆ¤æ–­ä¸»ä½“ç­‰äºcaseåé¢çš„å€¼æ—¶ï¼Œæ‰ä¼šæ‰§è¡Œcaseä¸­çš„è¯­å¥ï¼ŒåŒæ—¶éœ€è¦ä½¿ç”¨breakæ¥è·³å‡ºswitchè¯­å¥ï¼Œå¦åˆ™ä¼šç»§ç»­å‘ä¸‹è¿è¡Œï¼\nä¸ºä»€ä¹ˆswitchæ•ˆç‡æ›´é«˜å‘¢ï¼Œå› ä¸ºswitché‡‡ç”¨äºŒåˆ†æ€æƒ³è¿›è¡ŒæŸ¥æ‰¾ï¼ˆè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆswitchåªèƒ½åˆ¤æ–­å€¼ç›¸ç­‰çš„åŸå› ï¼‰ï¼Œèƒ½å¤Ÿæ›´å¿«åœ°æ‰¾åˆ°æˆ‘ä»¬æƒ³è¦çš„ç»“æœï¼\nå¾ªç¯ç»“æ„å°æ˜æƒ³å‘å°çº¢è¡¨ç™½ï¼Œäºæ˜¯ä»–åœ¨å±å¹•ä¸Šæ‰“å°äº†520ä¸ª â€œæˆ‘çˆ±ä½ â€ï¼Œæˆ‘ä»¬ç”¨Javaè¯¥å¦‚ä½•å®ç°å‘¢ï¼Ÿ\nforè¯­å¥forè¯­å¥æ˜¯æ¯”è¾ƒçµæ´»çš„å¾ªç¯æ§åˆ¶è¯­å¥ï¼Œä¸€ä¸ªforè¯­å¥çš„å®šä¹‰å¦‚ä¸‹ï¼š\nfor(åˆå§‹æ¡ä»¶;å¾ªç¯æ¡ä»¶;æ›´æ–°)&#123;\n  &#x2F;&#x2F;å¾ªç¯æ‰§è¡Œçš„å†…å®¹\n&#125;\n&#x2F;&#x2F;å¾ªç¯ç»“æŸåï¼Œç»§ç»­æ‰§è¡Œ\n\n\nåˆå§‹æ¡ä»¶ï¼šå¾ªç¯å¼€å§‹æ—¶çš„æ¡ä»¶ï¼Œä¸€èˆ¬ç”¨äºå®šä¹‰æ§åˆ¶å¾ªç¯çš„å˜é‡ã€‚\nå¾ªç¯æ¡ä»¶ï¼šæ¯è½®å¾ªç¯å¼€å§‹ä¹‹å‰ï¼Œè¿›è¡Œä¸€æ¬¡åˆ¤æ–­ï¼Œå¦‚æœæ»¡è¶³åˆ™ç»§ç»­ï¼Œä¸æ»¡è¶³åˆ™ç»“æŸï¼Œè¦æ±‚ä¸ºbooleanå˜é‡æˆ–æ˜¯booleanè¡¨è¾¾å¼ã€‚\næ›´æ–°ï¼šæ¯è½®å¾ªç¯ç»“æŸåéƒ½ä¼šæ‰§è¡Œçš„å†…å®¹ï¼Œä¸€èˆ¬å†™å¢é‡è¡¨è¾¾å¼ã€‚\n\nåˆå§‹æ¡ä»¶ã€å¾ªç¯æ¡ä»¶ã€æ›´æ–°æ¡ä»¶ä¸æ˜¯ç¼ºä¸€ä¸å¯ï¼Œç”šè‡³å¯ä»¥éƒ½ç¼ºï¼\nfor(int i &#x3D; 0;i &lt; 520;i++)&#123;\n  System.out.println(&quot;æˆ‘çˆ±ä½ &quot;);\n&#125;\n\nfor(;;)&#123;\n  &#x2F;&#x2F;è¿™é‡Œçš„å†…å®¹å°†ä¼šæ°¸è¿œåœ°è¿›è¡Œä¸‹å»ï¼\n&#125;\n\nå¢å¼ºforå¾ªç¯åœ¨æ•°ç»„æ—¶å†è®²è§£ï¼\nwhileå¾ªç¯whileå¾ªç¯å’Œforå¾ªç¯ç±»ä¼¼ï¼Œä½†æ˜¯å®ƒæ›´åŠ çš„ç®€å•ï¼Œåªéœ€è¦æ·»åŠ ç»´æŒå¾ªç¯çš„åˆ¤æ–­æ¡ä»¶å³å¯ï¼\nwhile(å¾ªç¯æ¡ä»¶)&#123;\n  &#x2F;&#x2F;å¾ªç¯æ‰§è¡Œçš„å†…å®¹\n&#125;\n\nå’Œforä¸€æ ·ï¼Œæ¯æ¬¡å¾ªç¯å¼€å§‹ï¼Œå½“å¾ªç¯æ¡ä»¶ä¸æ»¡è¶³æ—¶ï¼Œè‡ªåŠ¨é€€å‡ºï¼é‚£ä¹ˆæœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›å…ˆæ‰§è¡Œäº†æˆ‘ä»¬çš„ä»£ç å†å»åˆ¤æ–­æ€ä¹ˆåŠå‘¢ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨do-whileè¯­å¥ï¼š\ndo&#123;\n  &#x2F;&#x2F;æ‰§è¡Œå†…å®¹\n&#125;while(å¾ªç¯æ¡ä»¶);\n\nä¸€å®šä¼šå…ˆæ‰§è¡Œdoé‡Œé¢çš„å†…å®¹ï¼Œå†åšåˆ¤æ–­ï¼\næ€è€ƒï¼š\nfor(;;)&#123;\n  \n&#125;\n\nwhile(true)&#123;\n  \n&#125;\n\n&#x2F;&#x2F;å®ƒä»¬çš„æ€§èƒ½è°æ›´é«˜ï¼Ÿ\n\n\né¢å‘è¿‡ç¨‹ç¼–ç¨‹å®æˆ˜ï¼ˆåŸºç¡€+ç®—æ³•ï¼‰æ‰“å°ä¹ä¹ä¹˜æ³•è¡¨ç®€å•ï¼šå°†ä¹ä¹ä¹˜æ³•è¡¨æ‰“å°åˆ°æ§åˆ¶å°ã€‚\næ±‚1000ä»¥å†…çš„æ°´ä»™èŠ±æ•°ä¸­ç­‰ï¼šæ‰“å°1000ä»¥å†…æ‰€æœ‰æ»¡è¶³æ°´ä»™èŠ±çš„æ•°ï¼Œâ€œæ°´ä»™èŠ±æ•°â€æ˜¯æŒ‡ä¸€ä¸ªä¸‰ä½æ•°å…¶å„ä½æ•°å­—çš„ç«‹æ–¹å’Œç­‰äºè¯¥æ•°æœ¬èº«ï¼Œä¾‹å¦‚153æ˜¯â€œæ°´ä»™èŠ±æ•°â€ï¼Œå› ä¸ºï¼š153 &#x3D; 1^3 + 5^3 + 3^3\né’è›™è·³å°é˜¶é—®é¢˜å›°éš¾ï¼šä¸€å…±æœ‰nä¸ªå°é˜¶ï¼Œä¸€åªé’è›™æ¯æ¬¡åªèƒ½è·³ä¸€é˜¶æˆ–æ˜¯ä¸¤é˜¶ï¼Œé‚£ä¹ˆä¸€å…±æœ‰å¤šå°‘ç§è·³åˆ°é¡¶ç«¯çš„æ–¹æ¡ˆï¼Ÿä¾‹å¦‚n&#x3D;2ï¼Œé‚£ä¹ˆä¸€å…±æœ‰ä¸¤ç§æ–¹æ¡ˆï¼Œä¸€æ¬¡æ€§è·³ä¸¤é˜¶æˆ–æ˜¯æ¯æ¬¡è·³ä¸€é˜¶ã€‚\nåŠ¨æ€è§„åˆ’ï¼šå…¶å®ï¼Œå°±æ˜¯åˆ©ç”¨ï¼Œä¸Šæ¬¡å¾—åˆ°çš„ç»“æœï¼Œç»™ä¸‹ä¸€æ¬¡ä½œå‚è€ƒï¼Œä¸‹ä¸€æ¬¡å°±èƒ½åˆ©ç”¨ä¸Šæ¬¡çš„ç»“æœå¿«é€Ÿå¾—åˆ°ç»“æœï¼Œä¾æ¬¡ç±»æ¨\n\nä¸å¯¹å•Šï¼Œåˆ«çš„æ•™ç¨‹éƒ½è®²äº†æ•°ç»„ã€æ–¹æ³•ï¼Œæ€ä¹ˆæˆ‘ä»¬è¿˜æ²¡è®²å°±è¿›å…¥é¢å‘å¯¹è±¡äº†å‘¢ï¼Ÿ\n\næ•°ç»„åœ¨Javaä¸­ï¼Œå¹¶éåŸºæœ¬ç±»å‹ï¼Œæ•°ç»„æ˜¯ç¼–ç¨‹ä¸å¯è§çš„å¯¹è±¡ç±»å‹ï¼Œå­¦ä¹ äº†é¢å‘å¯¹è±¡å†æ¥ç†è§£ï¼Œä¼šæ›´åŠ å®¹æ˜“ï¼\næ–¹æ³•åœ¨Javaä¸­æ˜¯ç±»å…·æœ‰çš„å±æ€§ï¼Œæ‰€ä»¥ï¼Œåœ¨äº†è§£äº†å¯¹è±¡ç±»å‹ä¹‹åï¼Œå†æ¥äº†è§£æ–¹æ³•ï¼Œå°±æ›´åŠ ç®€å•äº†ï¼\n\n","slug":"JavaSEç¬”è®°ï¼ˆä¸€ï¼‰","date":"2022-03-09T03:41:38.630Z","categories_index":"JavaSEç¬”è®°","tags_index":"JavaSEç¬”è®°","author_index":"YangChao"},{"id":"98f040fb8fb5c5ced4fb87fa4094e887","title":"JavaSSMç¬”è®°ï¼ˆå››ï¼‰","content":"MySQLé«˜çº§åœ¨JavaWebé˜¶æ®µï¼Œæˆ‘ä»¬åˆæ­¥è®¤è¯†äº†MySQLæ•°æ®åº“ï¼ŒåŒ…æ‹¬ä¸€äº›åŸºæœ¬æ“ä½œï¼Œæ¯”å¦‚åˆ›å»ºæ•°æ®åº“ã€è¡¨ã€è§¦å‘å™¨ï¼Œä»¥åŠæœ€åŸºæœ¬çš„å¢åˆ æ”¹æŸ¥ã€äº‹åŠ¡ç­‰æ“ä½œã€‚è€Œåœ¨æ­¤é˜¶æ®µï¼Œæˆ‘ä»¬å°†ç»§ç»­æ·±å…¥å­¦ä¹ MySQLï¼Œäº†è§£å®ƒçš„æ›´å¤šé«˜çº§ç©æ³•ï¼Œä¹Ÿç›¸å½“äºè¿›è¡Œå¤ä¹ ã€‚\nå‡½æ•°å…¶å®å‡½æ•°æˆ‘ä»¬åœ¨ä¹‹å‰å·²ç»æ¥è§¦åˆ°ä¸€éƒ¨åˆ†äº†ï¼Œåœ¨JavaWebé˜¶æ®µï¼Œæˆ‘ä»¬äº†è§£äº†èšé›†å‡½æ•°ï¼Œèšé›†å‡½æ•°ä¸€èˆ¬ç”¨ä½œç»Ÿè®¡ï¼ŒåŒ…æ‹¬ï¼š\n\ncount([distinct]*)    ç»Ÿè®¡æ‰€æœ‰çš„è¡Œæ•°ï¼ˆdistinctè¡¨ç¤ºå»é‡å†ç»Ÿè®¡ï¼Œä¸‹åŒï¼‰\ncount([distinct]åˆ—å)    ç»Ÿè®¡æŸåˆ—çš„å€¼æ€»å’Œ\nsum([distinct]åˆ—å)    æ±‚ä¸€åˆ—çš„å’Œï¼ˆæ³¨æ„å¿…é¡»æ˜¯æ•°å­—ç±»å‹çš„ï¼‰\navg([distinct]åˆ—å)    æ±‚ä¸€åˆ—çš„å¹³å‡å€¼ï¼ˆæ³¨æ„å¿…é¡»æ˜¯æ•°å­—ç±»å‹ï¼‰\nmax([distinct]åˆ—å)    æ±‚ä¸€åˆ—çš„æœ€å¤§å€¼\nmin([distinct]åˆ—å)    æ±‚ä¸€åˆ—çš„æœ€å°å€¼\n\næ¯”å¦‚æˆ‘ä»¬éœ€è¦è®¡ç®—æŸä¸ªè¡¨ä¸€å…±æœ‰å¤šå°‘è¡Œï¼š\nSELECT COUNT(*) FROM student\n\né€šè¿‡ä½¿ç”¨COUNTèšé›†å‡½æ•°ï¼Œå°±å¯ä»¥å¿«é€Ÿç»Ÿè®¡å¹¶å¾—åˆ°ç»“æœï¼Œæ¯”å¦‚æˆ‘ä»¬æƒ³è®¡ç®—æŸä¸€åˆ—ä¸Šæ‰€æœ‰æ•°å­—çš„å’Œï¼š\nSELECT SUM(sid) FROM student\n\né€šè¿‡SUMèšé›†å‡½æ•°ï¼Œå°±å¯ä»¥å¿«é€Ÿè®¡ç®—æ¯ä¸€åˆ—çš„å’Œï¼Œå®é™…ä¸Šè¿™äº›å‡½æ•°éƒ½æ˜¯ç”±ç³»ç»Ÿæä¾›çš„å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚\næœ¬ç‰ˆå—æˆ‘ä»¬ä¼šè¯¦ç»†ä»‹ç»å„ç±»ç³»ç»Ÿå‡½æ•°ä»¥åŠå¦‚ä½•ç¼–å†™è‡ªå®šä¹‰å‡½æ•°ã€‚\nç³»ç»Ÿå‡½æ•°ç³»ç»Ÿä¸ºæˆ‘ä»¬æä¾›çš„å‡½æ•°ä¹Ÿæ˜¯éå¸¸å®ç”¨çš„ï¼Œæˆ‘ä»¬å°†ä¼šåˆ†ä¸ºå‡ ä¸ªç±»å‹è¿›è¡Œè®²è§£ã€‚\nå­—ç¬¦ä¸²å‡½æ•°å¤„ç†å­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªæ¯”è¾ƒé‡è¦çš„å†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²å‡½æ•°æ¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿå¤„ç†å­—ç¬¦ä¸²ï¼Œå…¶ä¸­å¸¸ç”¨æ¯”å¦‚ç”¨äºå­—ç¬¦ä¸²åˆ†å‰²çš„å‡½æ•°æœ‰ï¼š\n\nsubstring(å­—ç¬¦ä¸², èµ·å§‹ä½ç½®, ç»“æŸä½ç½®)     åŒJavaä¸­Stringç±»çš„substringä¸€è‡´ï¼Œä½†æ˜¯æ³¨æ„ä¸‹æ ‡æ˜¯ä»1å¼€å§‹ï¼Œä¸‹åŒ\nleft(å­—ç¬¦ä¸², é•¿åº¦)     ä»æœ€å·¦è¾¹å‘å³æˆªå–å­—ç¬¦ä¸²\nright(å­—ç¬¦ä¸², é•¿åº¦)     ä»æœ€å³è¾¹å‘å·¦æˆªå–å­—ç¬¦ä¸²\n\næ¯”å¦‚æˆ‘ä»¬åªæƒ³è·å–æ‰€æœ‰å­¦ç”Ÿå§“åçš„ç¬¬äºŒä¸ªå­—ï¼Œé‚£ä¹ˆå¯ä»¥åƒè¿™æ ·å†™ï¼š\nSELECT SUBSTRING(name, 2, 2) FROM student\n\næ¯”å¦‚æˆ‘ä»¬æƒ³è·å–æ‰€æœ‰å­¦ç”Ÿå§“åçš„ç¬¬ä¸€ä¸ªå­—ï¼Œå¯ä»¥åƒè¿™æ ·å†™ï¼š\nSELECT LEFT(name, 1) FROM student\n\næˆ‘ä»¬è¿˜å¯ä»¥åˆ©ç”¨å­—ç¬¦ä¸²å‡½æ•°æ¥å¿«é€Ÿå°†æ‰€æœ‰çš„å­—æ¯è½¬æ¢ä¸ºå¤§å†™å­—æ¯æˆ–æ˜¯å¿«é€Ÿè½¬æ¢ä¸ºå°å†™å­—æ¯ï¼š\n\nupper(å­—ç¬¦ä¸²)     å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰å­—æ¯è½¬æ¢ä¸ºå¤§å†™å­—æ¯\nlower(å­—ç¬¦ä¸²)     å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰å­—æ¯è½¬æ¢ä¸ºå°å†™å­—æ¯\n\næ¯”å¦‚æˆ‘ä»¬å¸Œæœ›å°†ä¸€ä¸ªå­—ç¬¦ä¸²æ‰€æœ‰å­—ç¬¦ä¸“ä¸ºå¤§å†™ï¼š\nSELECT UPPER(&#39;abcdefg&#39;)\n\næˆ‘ä»¬ä¹Ÿå¯ä»¥åƒJavaä¸­é‚£æ ·ç›´æ¥å¯¹å­—ç¬¦ä¸²ä¸­çš„å†…å®¹è¿›è¡Œæ›¿æ¢ï¼š\n\nreplace(å­—ç¬¦ä¸², åŸæ–‡, æ›¿æ¢æ–‡)      åŒJavaä¸­Stringçš„replaceæ•ˆæœ\n\næ¯”å¦‚ç°åœ¨æˆ‘ä»¬å¸Œæœ›å°†æŸ¥è¯¢åˆ°çš„æ‰€æœ‰åŒå­¦çš„åç§°ä¸­çš„å°å…¨éƒ¨æ›¿æ¢å¤§ï¼š\nSELECT REPLACE(&#96;name&#96;, &#39;å°&#39;, &#39;å¤§&#39;) FROM student\n\nå­—ç¬¦ä¸²ä¹Ÿæ”¯æŒè¿›è¡Œæ‹¼æ¥ï¼Œç³»ç»Ÿæä¾›äº†å­—ç¬¦ä¸²çš„æ‹¼æ¥å‡½æ•°ï¼š\n\nconcat(å­—ç¬¦ä¸²1, å­—ç¬¦ä¸²2)   è¿æ¥ä¸¤ä¸ªå­—ç¬¦ä¸²\n\næ¯”å¦‚æˆ‘ä»¬å¸Œæœ›å°†æŸ¥è¯¢åˆ°çš„æ‰€æœ‰åŒå­¦çš„åç§°æœ€åéƒ½æ·»åŠ ä¸€ä¸ªå­å­—ï¼š\nSELECT concat(name, &#39;å­&#39;) FROM student\n\næœ€åå°±æ˜¯è®¡ç®—å­—ç¬¦ä¸²çš„é•¿åº¦ï¼š\n\nlength(å­—ç¬¦ä¸²)    è·å–å­—ç¬¦ä¸²é•¿åº¦ï¼ˆæ³¨æ„å¦‚æœä½¿ç”¨çš„æ˜¯UTF-8ç¼–ç æ ¼å¼ï¼Œé‚£ä¹ˆä¸€ä¸ªæ±‰å­—å 3å­—èŠ‚ï¼Œæ•°å­—å’Œå­—æ¯å ä¸€ä¸ªå­—èŠ‚ï¼‰\n\næ¯”å¦‚æˆ‘ä»¬è¦è·å–æ‰€æœ‰äººåå­—çš„é•¿åº¦ï¼š\nSELECT LENGTH(&#96;name&#96;) FROM student\n\næ—¥æœŸå‡½æ•°MySQLæä¾›çš„æ—¥æœŸå‡½æ•°ä¹Ÿéå¸¸å®ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿå¯¹æ—¥æœŸè¿›è¡Œæ“ä½œï¼Œæ¯”å¦‚æˆ‘ä»¬æƒ³è¦å¿«é€Ÿå°†æ—¥æœŸæ·»åŠ Nå¤©ï¼Œå°±å¯ä»¥ä½¿ç”¨ï¼š\n\ndate_add(æ—¥æœŸ, interval å¢é‡ å•ä½)\n\næ¯”å¦‚æˆ‘ä»¬å¸Œæœ›è®©2022-1-1å‘å5å¤©ï¼š\nSELECT DATE_ADD(&#39;2022-1-1&#39;,INTERVAL 5 day)\n\nåŒç†ï¼Œå‘å‰1å¹´ï¼š\nSELECT DATE_ADD(&#39;2022-1-1&#39;,INTERVAL -1 year)\n\nå•ä½æœ‰ï¼šyearï¼ˆå¹´ï¼‰ã€monthï¼ˆæœˆï¼‰ã€dayï¼ˆæ—¥ï¼‰ã€hourï¼ˆå°æ—¶ï¼‰ã€minuteï¼ˆåˆ†é’Ÿï¼‰ã€secondï¼ˆç§’ï¼‰\næˆ‘ä»¬è¿˜å¯ä»¥å¿«é€Ÿè®¡ç®—æ—¥æœŸçš„é—´éš”å¤©æ•°ï¼š\n\ndatediff(æ—¥æœŸ1, æ—¥æœŸ2)\n\næ¯”å¦‚æˆ‘ä»¬æƒ³è®¡ç®—2022å¹´çš„2æœˆæœ‰å¤šå°‘å¤©ï¼š\nSELECT DATEDIFF(&#39;2022-3-1&#39;,&#39;2022-2-1&#39;)\n\nå¦‚æœæˆ‘ä»¬æƒ³å¿«é€Ÿè·å–å½“å‰æ—¶é—´çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨è¿™äº›ï¼š\n\ncurdate()     å½“å‰çš„æ—¥æœŸ\ncurtime()     å½“å‰çš„æ—¶é—´\nnow()    å½“å‰çš„æ—¥æœŸ+æ—¶é—´\n\næ­¤å‡½æ•°ä¹‹å‰æˆ‘ä»¬åœ¨ç¼–å†™å®æˆ˜é¡¹ç›®çš„æ—¶å€™å·²ç»ä½¿ç”¨è¿‡äº†ï¼Œè¿™é‡Œå°±ä¸æ¼”ç¤ºäº†ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥å•ç‹¬è·å–æ—¶é—´ä¸­çš„æŸä¸ªå€¼ï¼š\n\nday(æ—¥æœŸ)    è·å–æ—¥æœŸæ˜¯å‡ å·\nmonth(æ—¥æœŸ)   è·å–æ—¥æœŸæ˜¯å‡ æœˆ\nyear(æ—¥æœŸ)      è·å–æ—¥æœŸæ˜¯å“ªä¸€å¹´\n\næ¯”å¦‚æˆ‘ä»¬æƒ³è·å–ä»Šå¤©æ˜¯å‡ å·ï¼š\nSELECT DAY(NOW())\n\næ•°å­¦å‡½æ•°æ•°å­¦å‡½æ•°æ¯”è¾ƒå¸¸è§„ï¼ŒåŸºæœ¬ä¸Javaçš„Mathå·¥å…·ç±»ä¸€è‡´ï¼Œè¿™é‡Œåˆ—å‡ºå³å¯ï¼Œå„ä½å¯ä»¥è‡ªè¡Œå°è¯•ï¼š\n\nabs(x)   æ±‚xçš„ç»å¯¹å€¼\nceiling(x)   xå‘ä¸Šå–æ•´\nfloor(x)  xå‘ä¸‹å–æ•´\nround(x, ç²¾åº¦)  xå–å››èˆäº”å…¥ï¼Œéµå¾ªå°æ•°ç‚¹ç²¾åº¦ \nexp(x)   eçš„xæ¬¡æ–¹\nrand()   0-1ä¹‹é—´çš„éšæœºæ•°\nlog(x)    xçš„å¯¹æ•°\npi()     Ï€\npower(x, n)    xçš„næ¬¡æ–¹\nsqrt(x)     xçš„å¹³æ–¹æ ¹\nsin(x)  cos(x)   tan(x)     ä¸‰è§’å‡½æ•°ï¼ˆè²Œä¼¼æ²¡æœ‰arctanè¿™ç±»åå‡½æ•°ï¼Ÿï¼‰\n\nç±»å‹è½¬æ¢å‡½æ•°MySQLçš„ç±»å‹è½¬æ¢ä¹Ÿåˆ†ä¸ºéšå¼ç±»å‹è½¬æ¢å’Œæ˜¾ç¤ºç±»å‹è½¬æ¢ï¼Œé¦–å…ˆæˆ‘ä»¬æ¥çœ‹çœ‹éšå¼ç±»å‹è½¬æ¢ï¼š\nSELECT 1+&#39;2&#39;\n\nè™½ç„¶è¿™å¥ä¸­æ—¢åŒ…å«äº†æ•°å­—å’Œå­—ç¬¦ï¼Œä½†æ˜¯å­—ç¬¦ä¸²ä¼šè¢«è¿›è¡Œéšå¼è½¬æ¢ï¼ˆæ³¨æ„è¿™é‡Œå¹¶ä¸æ˜¯æŒ‰ç…§å­—ç¬¦çš„ASCIIç è½¬æ¢ï¼Œè€Œæ˜¯å†™çš„å¤šå°‘è¡¨ç¤ºå¤šå°‘ï¼‰æ‰€ä»¥æœ€åå¾—åˆ°çš„å°±æ˜¯1+2çš„ç»“æœä¸º3\nSELECT CONCAT(1, &#39;2&#39;)\n\nè¿™é‡Œå› ä¸ºéœ€è¦ä¼ å…¥å­—ç¬¦ä¸²ç±»å‹çš„æ•°æ®ï¼Œä½†æ˜¯æˆ‘ä»¬ç»™çš„æ˜¯1è¿™ä¸ªæ•°å­—ï¼Œå› æ­¤è¿™é‡Œä¹Ÿä¼šå‘ç”Ÿéšå¼ç±»å‹è½¬æ¢ï¼Œ1ä¼šè¢«ç›´æ¥è½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„â€™1â€™ï¼Œæ‰€ä»¥è¿™é‡Œå¾—åˆ°çš„ç»“æœæ˜¯â€™12â€™\nåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦ä½¿ç”¨å¼ºåˆ¶ç±»å‹è½¬æ¢æ¥å°†å¾—åˆ°çš„æ•°æ®è½¬æ¢æˆæˆ‘ä»¬éœ€è¦çš„æ•°æ®ç±»å‹ï¼Œè¿™æ—¶å°±éœ€è¦ç”¨åˆ°ç±»å‹è½¬æ¢å‡½æ•°äº†ï¼ŒMySQLæä¾›äº†ï¼š\n\ncast(æ•°æ®   as æ•°æ®ç±»å‹)\n\næ•°æ®ç±»å‹æœ‰ä»¥ä¸‹å‡ ç§ï¼š\n\nBINARY[(N)] ï¼šäºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼Œè½¬æ¢åé•¿åº¦å°äºNä¸ªå­—èŠ‚\nCHAR[(N)] ï¼šå­—ç¬¦ä¸²ï¼Œè½¬æ¢åé•¿åº¦å°äºNä¸ªå­—ç¬¦\nDATE ï¼šæ—¥æœŸ\nDATETIME ï¼šæ—¥æœŸæ—¶é—´\nDECIMAL[(M[,N])] ï¼šæµ®ç‚¹æ•°ï¼ŒMä¸ºæ•°å­—æ€»ä½æ•°(åŒ…æ‹¬æ•´æ•°éƒ¨åˆ†å’Œå°æ•°éƒ¨åˆ†)ï¼ŒNä¸ºå°æ•°ç‚¹åçš„ä½æ•°\nSIGNED [INTEGER] ï¼šæœ‰ç¬¦å·æ•´æ•°\nTIME ï¼šæ—¶é—´\nUNSIGNED [INTEGER] ï¼šæ— ç¬¦å·æ•´æ•°\n\næ¯”å¦‚æˆ‘ä»¬ç°åœ¨éœ€è¦å°†ä¸€ä¸ªæµ®ç‚¹æ•°è½¬æ¢ä¸ºä¸€ä¸ªæ•´æ•°ï¼š\nSELECT CAST(pi() AS SIGNED)\n\næˆ‘ä»¬è¿˜å¯ä»¥å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—ï¼Œä¼šè‡ªåŠ¨è¿›è¡Œæ‰«æï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ä¸€æ—¦é‡åˆ°éæ•°å­—çš„å­—ç¬¦ï¼Œä¼šåœæ­¢æ‰«æï¼š\nSELECT CAST(&#39;123abc456&#39; as SIGNED)\n\né™¤äº†castä»¥å¤–è¿˜æœ‰convertå‡½æ•°ï¼ŒåŠŸèƒ½æ¯”è¾ƒç›¸ä¼¼ï¼Œè¿™é‡Œå°±ä¸åšè®²è§£äº†ã€‚\næµç¨‹æ§åˆ¶å‡½æ•°MySQLè¿˜ä¸ºæˆ‘ä»¬æä¾›äº†å¾ˆå¤šçš„é€»è¾‘åˆ¤æ–­å‡½æ•°ï¼Œæ¯”å¦‚ï¼š\n\nif(æ¡ä»¶è¡¨è¾¾å¼, ç»“æœ1, ç»“æœ2)    ä¸Javaä¸­çš„ä¸‰ç›®è¿ç®—ç¬¦ä¸€è‡´ a &gt; b ? â€œAAAâ€ : â€œBBBâ€\nifnull(å€¼1, å€¼2)     å¦‚æœå€¼1ä¸ºNULLåˆ™è¿”å›å€¼2ï¼Œå¦åˆ™è¿”å›å€¼1\nnullif(å€¼1, å€¼2)     å¦‚æœå€¼1ä¸å€¼2ç›¸ç­‰ï¼Œé‚£ä¹ˆè¿”å›NULL\nisnull(å€¼)      åˆ¤æ–­å€¼æ˜¯å¦ä¸ºNULL\n\næ¯”å¦‚ç°åœ¨æˆ‘ä»¬æƒ³åˆ¤æ–­ï¼š\nSELECT IF(1 &lt; 0,&#39;lbwnb&#39;,&#39;yyds&#39;)\n\né€šè¿‡åˆ¤æ–­å‡½æ•°ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¾ˆæ–¹ä¾¿åœ°è¿›è¡Œä¸€äº›æ¡ä»¶åˆ¤æ–­æ“ä½œã€‚\né™¤äº†IFæ¡ä»¶åˆ¤æ–­ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ç±»ä¼¼Switchä¸€æ ·çš„è¯­å¥å®Œæˆå¤šåˆ†æ”¯ç»“æ„ï¼š\nSELECT \nCASE 2\n\tWHEN 1 THEN\n\t\t10\n\tELSE\n\t\t5\nEND;\n\næˆ‘ä»¬ä¹Ÿå¯ä»¥å°†è‡ªå®šä¹‰çš„åˆ¤æ–­æ¡ä»¶æ”¾å…¥Whenä¹‹åï¼Œå®ƒç±»ä¼¼äºelse-ifï¼š\nSELECT \nCASE\n\tWHEN 3&gt;5 THEN\n\t\t10\n\tWHEN 0&lt;1 THEN\n\t\t11\n\tELSE\n\t\t5\nEND;\n\nè¿˜æœ‰ä¸€ä¸ªç±»ä¼¼äºJavaä¸­çš„Thread.sleepçš„å‡½æ•°ï¼Œä»¥ç§’ä¸ºå•ä½ï¼š\nSELECT sleep(10);\n\næœ‰å…³MySQL8.0æ–°å¢çš„çª—å£å‡½æ•°è¿™é‡Œæš‚æ—¶ä¸åšä»‹ç»ã€‚\nè‡ªå®šä¹‰å‡½æ•°é™¤äº†ä½¿ç”¨ç³»ç»Ÿä¸ºæˆ‘ä»¬æä¾›çš„å‡½æ•°ä»¥å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå®šä¹‰å‡½æ•°ï¼Œå¹¶ä½¿ç”¨æˆ‘ä»¬è‡ªå®šä¹‰çš„å‡½æ•°è¿›è¡Œæ•°æ®å¤„ç†ï¼Œå”¯ä¸€æ¯”è¾ƒéº»çƒ¦çš„å°±æ˜¯å‡½æ•°å®šä¹‰åä¸èƒ½ä¿®æ”¹ï¼Œåªèƒ½åˆ äº†é‡æ–°å†™ã€‚\nåŸºæœ¬è¯­æ³•MySQLçš„å‡½æ•°ä¸Javaä¸­çš„æ–¹æ³•ç±»ä¼¼ï¼Œä¹Ÿå¯ä»¥æ·»åŠ å‚æ•°å’Œè¿”å›å€¼ï¼Œå¯ä»¥é€šè¿‡CREATE FUNCTIONåˆ›å»ºå‡½æ•°ï¼š\nCREATE FUNCTION test() RETURNS INT\nBEGIN\nRETURN 666;\nEND\n\nå®šä¹‰å‡½æ•°çš„æ ¼å¼ä¸ºï¼š\n\ncreate function å‡½æ•°åç§°([å‚æ•°åˆ—è¡¨]) returns è¿”å›å€¼ç±»å‹\nbegin å’Œ end ä¹‹é—´å†™å‡½æ•°çš„å…¶ä»–é€»è¾‘ï¼Œbeginå’Œendå°±ç›¸å½“äºJavaä¸­çš„èŠ±æ‹¬å·&#123;  ...  &#125;\nreturnåç´§è·Ÿè¿”å›çš„ç»“æœ\n\næ·»åŠ å‚æ•°ä¹Ÿå¾ˆç®€å•ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨å‡½æ•°åç§°æ‹¬å·ä¸­æ·»åŠ å³å¯ï¼Œæ³¨æ„ç±»å‹éœ€è¦å†™åœ¨å‚æ•°åç§°åé¢ï¼š\nCREATE FUNCTION test(i INT) RETURNS INT\nBEGIN\nRETURN i * i;\nEND\n\næˆ‘ä»¬å¯ä»¥åœ¨BEGINå’ŒRETURNä¹‹é—´ç¼–å†™ä¸€äº›å…¶ä»–çš„é€»è¾‘ï¼Œæ¯”å¦‚æˆ‘ä»¬æƒ³è¦å®šä¹‰ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œå¹¶ä¸ºå…¶èµ‹å€¼ï¼š\nBEGIN\nDECLARE a INT;\nSET a &#x3D; 10;\nRETURN i * i * a;\nEND\n\nå®šä¹‰å±€éƒ¨å˜é‡çš„æ ¼å¼ä¸ºï¼š\n\ndeclare å˜é‡åç§° å˜é‡ç±»å‹ [, â€¦]\ndeclare å˜é‡åç§° å˜é‡ç±»å‹ default é»˜è®¤å€¼\n\nä¸ºå˜é‡èµ‹å€¼çš„æ ¼å¼ä¸ºï¼š\n\nset å˜é‡åç§° &#x3D; å€¼\n\næˆ‘ä»¬è¿˜å¯ä»¥åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨selectè¯­å¥ï¼Œå®ƒå¯ä»¥ç›´æ¥ä»è¡¨ä¸­è¯»å–æ•°æ®ï¼Œå¹¶å¯ä»¥ç»“åˆintoå…³é”®å­—å°†æŸ¥è¯¢ç»“æœèµ‹å€¼ç»™å˜é‡ï¼š\nBEGIN\nDECLARE a INT;\n-- select into from è¯­å¥\nSELECT COUNT(*) INTO a FROM student;\nRETURN a;\nEND\n\næµç¨‹æ§åˆ¶æ¥ç€æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨æµç¨‹æ§åˆ¶è¯­å¥ï¼Œå…¶ä¸­æœ€å…³é”®çš„å°±æ˜¯IFåˆ¤æ–­è¯­å¥ï¼š\nBEGIN\nDECLARE a INT DEFAULT 10;\nIF a &gt; 10 THEN\n\tRETURN 1;\nELSE\n\tRETURN 2;\nEND IF;\nEND\n\nIFåˆ†æ”¯è¯­å¥çš„æ ¼å¼ä¸ºï¼š\n\nif åˆ¤æ–­æ¡ä»¶ then  â€¦ else if åˆ¤æ–­æ¡ä»¶ then â€¦. else â€¦ end if;\n\næˆ‘ä»¬å¯ä»¥ç»“åˆexistså…³é”®å­—æ¥åˆ¤æ–­æ˜¯å¦ä¸ºNULLï¼š\nBEGIN\nDECLARE a INT DEFAULT 0;\n-- IF EXISTS(SELECT * FROM student WHERE sid &#x3D; 100) THEN\nIF NOT EXISTS(SELECT * FROM student WHERE sid &#x3D; 100) THEN\n\tSET a &#x3D; 10;\nEND IF;\nRETURN a;\nEND\n\næˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨å‡½æ•°ä¸­ä½¿ç”¨switchè¯­å¥ï¼š\nBEGIN\nDECLARE a INT DEFAULT 10;\nCASE a\n\tWHEN 10 THEN\n\t\tRETURN 2;\n\tELSE\n\t\tRETURN 1;\nEND CASE;\nEND\n\nSWITCHåˆ†æ”¯è¯­å¥çš„æ ¼å¼ä¸ºï¼š\n\ncase å˜é‡ when å…·ä½“å€¼æˆ–æ˜¯å¸ƒå°”è¡¨è¾¾å¼ then â€¦ when * then â€¦ else â€¦ end case;\n\nä¸Javaä¸åŒçš„æ˜¯ï¼Œå®ƒæ”¯æŒä½¿ç”¨å¸ƒå°”è¡¨è¾¾å¼ï¼š\nBEGIN\nDECLARE a INT DEFAULT 10;\nCASE\n\tWHEN 1 &lt; 5 THEN\n\t\tSET a &#x3D; 5;\n\tELSE\n\t\tSET a &#x3D; 10;\nEND CASE;\nRETURN a;\nEND\n\næˆ‘ä»¬ä»¥ç±»ä¼¼äºelseifçš„å½¢å¼è¿›è¡Œåˆ¤æ–­ï¼Œå…¶å®å’Œä¸Šé¢ç›´æ¥ä½¿ç”¨æ˜¯ä¸€æ ·çš„ã€‚\næˆ‘ä»¬æ¥ç€æ¥çœ‹å¾ªç¯è¯­å¥ï¼ŒMySQLæä¾›äº†ä¸‰ç§å¾ªç¯è¯­å¥ï¼Œå…¶ä¸­ç¬¬ä¸€ç§æ˜¯WHILEè¯­å¥ï¼š\nBEGIN\nDECLARE a INT DEFAULT 10;\nWHILE a &lt; 11 DO\n\tSET a &#x3D; a + 1;\nEND WHILE;\nRETURN a;\nEND\n\næ ¼å¼ä¸ºï¼š\n\nwhile å¾ªç¯æ¡ä»¶ do â€¦  end while;\n\næˆ‘ä»¬æ¥ç€æ¥çœ‹ç¬¬äºŒç§å¾ªç¯è¯­å¥ï¼ŒLOOPå¾ªç¯ï¼š\nBEGIN\nDECLARE a INT DEFAULT 10;\nlp1: LOOP\n  SET a &#x3D; a - 1;\n\tIF a &#x3D; 0 THEN\n\t\tLEAVE lp1; \n\tEND IF; \nEND LOOP lp1;\nRETURN a;\nEND\n\nç›¸æ¯”whileè¯­å¥ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨LEAVEç²¾å‡†æ§åˆ¶ç»“æŸå“ªä¸ªå¾ªç¯ï¼Œæœ‰ç‚¹ç±»ä¼¼äºgotoè¯­å¥ï¼š\nBEGIN\nDECLARE a INT DEFAULT 0;\nlp1: LOOP\n  lp2: LOOP\n\tSET a &#x3D; a + 1;\n\tIF a &gt; 5 THEN\n\t\tLEAVE lp1; \n\tEND IF; \n\tEND LOOP lp2;\nEND LOOP lp1;\nRETURN a;\nEND\n\nç±»ä¼¼äºJavaä¸­çš„gotoå†™æ³•ï¼ˆåœ¨JavaSEé˜¶æ®µå·²ç»è®²è§£è¿‡ï¼‰ï¼š\npublic static void main(String[] args) &#123;\n    int a &#x3D; 0;\n    lp1: while (true)&#123;\n        lp2: while (true)&#123;\n            a++;\n            if(a &gt; 5) break lp1;\n        &#125;\n    &#125;\n    System.out.println(a);\n&#125;\n\nå®ƒçš„è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š\n\nå¾ªç¯åç§° loop â€¦(å¯ä»¥æ’å…¥leaveè¯­å¥ç»“æŸ) end loop å¾ªç¯åç§°;\n\næ¥ç€æˆ‘ä»¬æ¥çœ‹æœ€åä¸€ç§å¾ªç¯è¯­å¥ï¼Œrepeatè¯­å¥ï¼š\nBEGIN\nDECLARE a INT DEFAULT 0;\nREPEAT\n\tSET a &#x3D; a + 1;\nUNTIL a &gt; 0 END REPEAT;\nRETURN a;\nEND\n\nå®ƒç±»ä¼¼äºJavaä¸­çš„do-whileå¾ªç¯è¯­å¥ï¼Œå®ƒä¼šå…ˆå»æ‰§è¡Œé‡Œé¢çš„å†…å®¹ï¼Œå†è¿›è¡Œåˆ¤æ–­ï¼Œæ ¼å¼ä¸ºï¼š\n\nrepeat â€¦ until ç»“æŸå¾ªç¯æ¡ä»¶ end repeat;\n\nå…¨å±€å˜é‡æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨ä¸€æ¬¡ä¼šè¯ä¸­ç›´æ¥å®šä¹‰å˜é‡å¹¶ä½¿ç”¨ï¼Œè¿™æ—¶å®ƒå¹¶ä¸æ˜¯ä½äºå‡½æ•°å†…çš„ï¼Œè¿™å°±æ˜¯å…¨å±€å˜é‡ï¼Œå®ƒæ— éœ€é¢„å…ˆå®šä¹‰ï¼Œç›´æ¥ä½¿ç”¨å³å¯ï¼š\nset @x &#x3D; 10;\n\næˆ‘ä»¬å¯ä»¥å°†å…¨å±€å˜é‡ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ï¼š\nselect test(@x);\n\né™¤äº†æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„å…¨éƒ¨å˜é‡ä»¥å¤–ï¼Œç³»ç»Ÿé»˜è®¤ä¹Ÿæœ‰å¾ˆå¤šçš„å˜é‡ï¼Œå› æ­¤æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„å˜é‡ç§°ä¸ºç”¨æˆ·å˜é‡ï¼Œç³»ç»Ÿé»˜è®¤å˜é‡ç§°ä¸ºç³»ç»Ÿå˜é‡ã€‚æŸ¥çœ‹ç³»ç»Ÿå˜é‡çš„å‘½ä»¤ä¸ºï¼š\nshow GLOBAL VARIABLES\n\n\nå­˜å‚¨è¿‡ç¨‹å­˜å‚¨è¿‡ç¨‹æ˜¯ä¸€ä¸ªåŒ…æ‹¬å¤šæ¡SQLè¯­å¥çš„é›†åˆï¼Œä¸“ç”¨äºç‰¹å®šè¡¨çš„ç‰¹å®šæ“ä½œï¼Œæ¯”å¦‚æˆ‘ä»¬ä¹‹å‰å®æˆ˜é¡¹ç›®ä¸­çš„åˆ›å»ºç”¨æˆ·ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦ä¸€æ¬¡æ€§ä¸ºä¸¤å¼ è¡¨æ·»åŠ æ•°æ®ï¼Œä½†æ˜¯å¦‚æœä¸ä½¿ç”¨Javaï¼Œè€Œæ˜¯æ¯æ¬¡éƒ½å»ä½¿ç”¨SQLå‘½ä»¤æ¥å®Œæˆï¼Œå°±éœ€è¦æ‰‹åŠ¨æ•²ä¸¤æ¬¡å‘½ä»¤ï¼Œéå¸¸éº»çƒ¦ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥æå‰å°†è¿™äº›æ“ä½œå®šä¹‰å¥½ï¼Œé¢„ç•™å‡ºéœ€è¦å¡«å†™æ•°æ®çš„ä½ç½®ï¼Œä¸‹æ¬¡è¾“å…¥å‚æ•°ç›´æ¥è°ƒç”¨å³å¯ã€‚\nè¿™é‡Œå¾ˆå®¹æ˜“ä¸å‡½æ•°ææ··æ·†ï¼Œå­˜å‚¨è¿‡ç¨‹ä¹Ÿæ˜¯æ‰§è¡Œå¤šæ¡SQLè¯­å¥ï¼Œä½†æ˜¯å®ƒä»¬çš„å‡ºå‘ç‚¹ä¸ä¸€æ ·ï¼Œå‡½æ•°æ˜¯ä¸“ç”¨äºè¿›è¡Œæ•°æ®å¤„ç†ï¼Œå¹¶å°†ç»“æœè¿”å›ç»™è°ƒç”¨è€…ï¼Œå®ƒæ›´å¤šæƒ…å†µä¸‹æ˜¯ä¸€æ¡SQLè¯­å¥çš„å‚ä¸è€…ï¼Œæ— æ³•ç›´æ¥è¿è¡Œï¼Œå¹¶ä¸”ä¸æ¶‰åŠæŸä¸ªç‰¹å®šè¡¨ï¼š\nselect count(*) from student;\n\nè€Œå­˜å‚¨è¿‡ç¨‹æ˜¯å¤šæ¡SQLè¯­å¥çš„æ‰§è¡Œè€…ï¼Œè¿™æ˜¯å®ƒä»¬çš„æœ¬è´¨åŒºåˆ«ã€‚\nå®šä¹‰å­˜å‚¨è¿‡ç¨‹ä¸å®šä¹‰å‡½æ•°æä¸ºç›¸ä¼¼ï¼Œå®ƒä¹Ÿå¯ä»¥åŒ…å«å‚æ•°ï¼Œå‡½æ•°ä¸­ä½¿ç”¨çš„è¯­å¥è¿™é‡Œä¹Ÿèƒ½ä½¿ç”¨ï¼Œä½†æ˜¯å®ƒæ²¡æœ‰è¿”å›å€¼ï¼š\nCREATE PROCEDURE lbwnb(&#96;name&#96; VARCHAR(20), pwd VARCHAR(255))\nBEGIN\n  INSERT INTO users(username, &#96;password&#96;) VALUES(&#96;name&#96;, pwd);\nEND\n\næˆ‘ä»¬å¯ä»¥åœ¨å­˜å‚¨è¿‡ç¨‹ä¸­ç¼–å†™å¤šæ¡SQLè¯­å¥ï¼Œä½†æ˜¯æ³¨æ„ï¼ŒMySQLçš„å­˜å‚¨è¿‡ç¨‹ä¸å…·æœ‰åŸå­æ€§ï¼Œå½“å‡ºç°é”™è¯¯æ—¶ï¼Œå¹¶ä¸ä¼šå›æ»šä¹‹å‰çš„æ“ä½œï¼Œå› æ­¤éœ€è¦æˆ‘ä»¬è‡ªå·±æ¥ç¼–å†™äº‹åŠ¡ä¿è¯åŸå­æ€§ã€‚\næ¥ç€æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•æ‰§è¡Œå­˜å‚¨è¿‡ç¨‹ï¼š\nCALL lbwnb(&#39;111&#39;, &#39;2222&#39;)\n\né€šè¿‡ä½¿ç”¨callæ¥æ‰§è¡Œä¸€ä¸ªå­˜å‚¨è¿‡ç¨‹ï¼Œå¦‚æœå­˜å‚¨è¿‡ç¨‹æœ‰å‚æ•°ï¼Œé‚£ä¹ˆè¿˜éœ€è¦å¡«å†™å‚æ•°ã€‚\næ¯”å¦‚ç°åœ¨æˆ‘ä»¬æƒ³è¦å®ç°æŸ¥è¯¢ç”¨æˆ·è¡¨ï¼Œå¦‚æœåŒ…å«ç”¨æˆ·testé‚£ä¹ˆå°±åˆ é™¤ç”¨æˆ·ï¼Œå¦‚æœä¸åŒ…å«ï¼Œå°±æ·»åŠ ç”¨æˆ·ï¼š\nCREATE PROCEDURE &#96;lbwnb&#96;()\nBEGIN\n\tIF NOT EXISTS(SELECT * FROM users WHERE username &#x3D; &#39;test&#39;) THEN\n\t\tINSERT INTO users(username, &#96;password&#96;) VALUES(&#39;test&#39;, &#39;123456&#39;);\n\tELSE\n\t\tDELETE FROM users WHERE username &#x3D; &#39;test&#39;;\n\tEND IF;\nEND\n\nè¿™é‡Œå…¶å®åªéœ€è¦ä¸€ä¸ªç®€å•çš„IFåˆ¤æ–­å³å¯å®ç°ã€‚\né‚£ä¹ˆå¦‚æœæˆ‘ä»¬å¸Œæœ›éå†ä¸€ä¸ªSELECTè¯­å¥æŸ¥è¯¢çš„ç»“æœå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ¸¸æ ‡æ¥å®Œæˆï¼š\nBEGIN\n\tDECLARE id INT;\n\tDECLARE &#96;name&#96; VARCHAR(10);\n\tDECLARE sex VARCHAR(5);\n\tDECLARE cur CURSOR FOR SELECT * FROM student;\n\tOPEN cur;\n\tWHILE TRUE DO\n\t\tFETCH cur INTO id, &#96;name&#96;, sex;\n\t\tSELECT id, &#96;name&#96;, sex;\n\tEND WHILE;\n\tCLOSE cur;\nEND\n\næ¸¸æ ‡çš„ä½¿ç”¨åˆ†ä¸º4ä¸ªæ­¥éª¤ï¼š\n\nDECLARE æ¸¸æ ‡åç§° CURSOR FOR æŸ¥è¯¢ç»“æœ   -  å®šä¹‰æ¸¸æ ‡\nOPEN cur     -   å¼€å¯æ¸¸æ ‡\nFETCH æ¸¸æ ‡åç§° INTO å­˜å‚¨ç»“æœçš„å˜é‡    -    ä»é¡¶éƒ¨å¼€å§‹ï¼Œæ¯æ‰§è¡Œä¸€æ¬¡ï¼Œå‘ä¸‹ç§»åŠ¨ï¼Œå¦‚æœå·²ç»åœ¨æœ€åº•éƒ¨ï¼Œåˆ™è§¦å‘å¼‚å¸¸\nCLOSE cur    -   å…³é—­æ¸¸æ ‡\n\næˆ‘ä»¬è¿™é‡Œåˆ©ç”¨äº†ä¸€ä¸ªwhileå¾ªç¯æ¥å¤šæ¬¡é€šè¿‡æ¸¸æ ‡è·å–æŸ¥è¯¢ç»“æœï¼Œä½†æ˜¯æœ€åæ˜¯å› ä¸ºå‡ºç°å¼‚å¸¸æ‰é€€å‡ºçš„ï¼Œè¿™æ ·ä¼šå¯¼è‡´ä¹‹åçš„ä»£ç å°±æ— æ³•ç»§ç»­æ­£å¸¸è¿è¡Œäº†ã€‚\næˆ‘ä»¬æ¥ç€æ¥çœ‹å¦‚ä½•å¤„ç†å¼‚å¸¸ï¼š\nBEGIN\n\tDECLARE id INT;\n\tDECLARE &#96;name&#96; VARCHAR(10);\n\tDECLARE sex VARCHAR(5);\n\tDECLARE score INT;\n\tDECLARE a INT DEFAULT 0;\n\tDECLARE cur CURSOR FOR SELECT * FROM student;\n\t-- å¿…é¡»åœ¨æ¸¸æ ‡å®šä¹‰ä¹‹åç¼–å†™\n\tDECLARE CONTINUE HANDLER FOR 1329 SET a &#x3D; 1;\n\tOPEN cur;\n\tWHILE a &#x3D; 0 DO\n\t\tFETCH cur INTO id, &#96;name&#96;, sex, score;\n\t\tSELECT id, &#96;name&#96;, sex, score;\n\tEND WHILE;\n\tCLOSE cur;\n\tSELECT 1;\nEND\n\næˆ‘ä»¬å¯ä»¥å£°æ˜ä¸€ä¸ªå¼‚å¸¸å¤„ç†å™¨ï¼ˆå¥æŸ„ï¼‰ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š\n\ndeclear (continue&#x2F;exit) handler for å¼‚å¸¸åç§°(ID) åšç‚¹ä»€ä¹ˆ\n\næˆ‘ä»¬è¿˜å¯ä»¥é™å®šå­˜å‚¨è¿‡ç¨‹çš„å‚æ•°ä¼ é€’ï¼Œæ¯”å¦‚æˆ‘ä»¬åªå¸Œæœ›ç”¨æˆ·ç»™æˆ‘ä»¬ä¸€ä¸ªå‚æ•°ç”¨äºæ¥æ”¶æ•°æ®ï¼Œè€Œä¸æ˜¯å€¼ä¼ é€’ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶è®¾å®šä¸ºOUTç±»å‹ï¼š\nCREATE PROCEDURE &#96;lbwnb&#96;(OUT a INT)\nBEGIN\n\tSELECT a;\n\tSET a &#x3D; 100;\nEND\n\næ‰€æœ‰çš„å‚æ•°é»˜è®¤ä¸ºINç±»å‹ï¼Œä¹Ÿå°±æ˜¯åªèƒ½ä½œä¸ºä¼ å…¥å‚æ•°ï¼Œæ— æ³•ä¸ºå…¶èµ‹å€¼ï¼Œè€Œè¿™é‡Œè®²å‚æ•°è®¾å®šä¸ºOUTç±»å‹ï¼Œé‚£ä¹ˆå‚æ•°æ— æ³•å°†å€¼ä¼ å…¥ï¼Œè€Œåªèƒ½è¢«èµ‹å€¼ã€‚\nå¦‚æœæˆ‘ä»¬æ—¢å¸Œæœ›å‚æ•°å¯ä»¥ä¼ å…¥ä¹Ÿå¯ä»¥è¢«é‡æ–°èµ‹å€¼ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶ä¿®æ”¹ä¸ºINOUTç±»å‹ã€‚\n\nå­˜å‚¨å¼•æ“å­˜å‚¨å¼•æ“å°±åƒæˆ‘ä»¬ç”µè„‘ä¸­çš„CPUï¼Œå®ƒæ˜¯æ•´ä¸ªMySQLæœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œæ•°æ®åº“ä¸­çš„æ•°æ®å¦‚ä½•å­˜å‚¨ï¼Œæ•°æ®åº“èƒ½å¤Ÿæ”¯æŒå“ªäº›åŠŸèƒ½ï¼Œæˆ‘ä»¬çš„å¢åˆ æ”¹æŸ¥è¯·æ±‚å¦‚ä½•æ‰§è¡Œï¼Œéƒ½æ˜¯ç”±å­˜å‚¨å¼•æ“æ¥å†³å®šçš„ã€‚\næˆ‘ä»¬å¯ä»¥å¤§è‡´äº†è§£ä¸€ä¸‹ä»¥ä¸‹ä¸‰ç§å­˜å‚¨å¼•æ“ï¼š\n\nMyISAMï¼šMySQL5.5ä¹‹å‰çš„é»˜è®¤å­˜å‚¨å¼•æ“ï¼Œåœ¨æ’å…¥å’ŒæŸ¥è¯¢çš„æƒ…å†µä¸‹æ€§èƒ½å¾ˆé«˜ï¼Œä½†æ˜¯å®ƒä¸æ”¯æŒäº‹åŠ¡ï¼Œåªèƒ½æ·»åŠ è¡¨çº§é”ã€‚\nInnoDBï¼šMySQL5.5ä¹‹åçš„é»˜è®¤å­˜å‚¨å¼•æ“ï¼Œå®ƒæ”¯æŒACIDäº‹åŠ¡ã€è¡Œçº§é”ã€å¤–é”®ï¼Œä½†æ˜¯æ€§èƒ½æ¯”ä¸è¿‡MyISAMï¼Œæ›´åŠ æ¶ˆè€—èµ„æºã€‚\nMemoryï¼šæ•°æ®éƒ½å­˜æ”¾åœ¨å†…å­˜ä¸­ï¼Œæ•°æ®åº“é‡å¯æˆ–å‘ç”Ÿå´©æºƒï¼Œè¡¨ä¸­çš„æ•°æ®éƒ½å°†æ¶ˆå¤±ã€‚\n\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æ¥æŸ¥çœ‹MySQLæ”¯æŒçš„å­˜å‚¨å¼•æ“ï¼š\nshow engines;\n\nåœ¨åˆ›å»ºè¡¨æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸ºè¡¨æŒ‡å®šå…¶å­˜å‚¨å¼•æ“ã€‚\næˆ‘ä»¬è¿˜å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹é»˜è®¤çš„å­˜å‚¨å¼•æ“ï¼Œåœ¨Windows 11ç³»ç»Ÿä¸‹ï¼ŒMySQLçš„é…ç½®æ–‡ä»¶é»˜è®¤æ”¾åœ¨C:\\ProgramData\\MySQL\\MySQL Server 5.7ä¸­ï¼Œæ³¨æ„ProgramDataæ˜¯ä¸ªéšè—æ–‡ä»¶å¤¹ã€‚\n\nç´¢å¼•æ³¨æ„ï¼šæœ¬å°èŠ‚ä¼šæ¶‰åŠæ•°æ®ç»“æ„ä¸ç®—æ³•ç›¸å…³çŸ¥è¯†ã€‚\nç´¢å¼•å°±å¥½åƒæˆ‘ä»¬ä¹¦çš„ç›®å½•ï¼Œæ¯æœ¬ä¹¦éƒ½æœ‰ä¸€ä¸ªç›®å½•ç”¨äºæˆ‘ä»¬å¿«é€Ÿå®šä½æˆ‘ä»¬æƒ³è¦çš„å†…å®¹åœ¨å“ªä¸€é¡µï¼Œç´¢å¼•ä¹Ÿæ˜¯ï¼Œé€šè¿‡å»ºç«‹ç´¢å¼•ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ ¹æ®ç´¢å¼•æ¥å¿«é€Ÿæ‰¾åˆ°æƒ³è¦çš„ä¸€æ¡è®°å½•ï¼Œå¤§å¤§æé«˜æŸ¥è¯¢æ•ˆç‡ã€‚\næœ¬ç‰ˆå—æˆ‘ä»¬ä¼šè¯¦ç»†ä»‹ç»ç´¢å¼•çš„å‡ ç§ç±»å‹ï¼Œä»¥åŠç´¢å¼•çš„åº•å±‚å­˜å‚¨åŸç†ã€‚\nå•åˆ—ç´¢å¼•å•åˆ—ç´¢å¼•åªé’ˆå¯¹äºæŸä¸€åˆ—æ•°æ®åˆ›å»ºç´¢å¼•ï¼Œå•åˆ—ç´¢å¼•æœ‰ä»¥ä¸‹å‡ ç§ç±»å‹ï¼š\n\nNORMALï¼šæ™®é€šçš„ç´¢å¼•ç±»å‹ï¼Œå®Œå®Œå…¨å…¨ç›¸å½“äºä¸€æœ¬ä¹¦çš„ç›®å½•ã€‚\nUNIQUEï¼šå”¯ä¸€ç´¢å¼•ï¼Œæˆ‘ä»¬ä¹‹å‰å·²ç»ç”¨è¿‡äº†ï¼Œä¸€æ—¦å»ºç«‹å”¯ä¸€ç´¢å¼•ï¼Œé‚£ä¹ˆæ•´ä¸ªåˆ—ä¸­å°†ä¸å…è®¸å‡ºç°é‡å¤æ•°æ®ã€‚æ¯ä¸ªè¡¨çš„ä¸»é”®åˆ—ï¼Œéƒ½æœ‰ä¸€ä¸ªç‰¹æ®Šçš„å”¯ä¸€ç´¢å¼•ï¼Œå«åšPrimary Keyï¼Œå®ƒä¸ä»…ä»…è¦æ±‚ä¸å…è®¸å‡ºç°é‡å¤ï¼Œè¿˜è¦æ±‚ä¸èƒ½ä¸ºNULLï¼Œå®ƒè¿˜å¯ä»¥è‡ªåŠ¨é€’å¢ã€‚æ¯å¼ è¡¨å¯ä»¥æœ‰å¤šä¸ªå”¯ä¸€ç´¢å¼•ï¼Œä½†æ˜¯åªèƒ½æœ‰ä¸€ä¸ªPrimaryç´¢å¼•ã€‚\nSPATIALï¼šç©ºé—´ç´¢å¼•ï¼Œç©ºé—´ç´¢å¼•æ˜¯å¯¹ç©ºé—´æ•°æ®ç±»å‹çš„å­—æ®µå»ºç«‹çš„ç´¢å¼•ï¼ŒMYSQLä¸­çš„ç©ºé—´æ•°æ®ç±»å‹æœ‰4ç§ï¼Œåˆ†åˆ«æ˜¯GEOMETRYã€POINTã€LINESTRINGã€POLYGONï¼Œä¸æ˜¯å¾ˆå¸¸ç”¨ï¼Œè¿™é‡Œä¸åšä»‹ç»ã€‚\nFULLTEXTï¼šå…¨æ–‡ç´¢å¼•ï¼ˆMySQL 5.6 ä¹‹åInnoDBæ‰æ”¯æŒï¼‰ï¼Œå®ƒæ˜¯æ¨¡ç³ŠåŒ¹é…çš„ä¸€ç§æ›´å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œå®ƒçš„æ•ˆç‡è¦æ¯”ä½¿ç”¨like %æ›´é«˜ï¼Œå¹¶ä¸”å®ƒè¿˜æ”¯æŒå¤šç§åŒ¹é…æ–¹å¼ï¼Œçµæ´»æ€§ä¹Ÿæ›´åŠ å¼ºå¤§ã€‚åªæœ‰å­—æ®µçš„æ•°æ®ç±»å‹ä¸º charã€varcharã€text åŠå…¶ç³»åˆ—æ‰å¯ä»¥å»ºå…¨æ–‡ç´¢å¼•ã€‚\n\næˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•ä½¿ç”¨å…¨æ–‡ç´¢å¼•ï¼Œé¦–å…ˆåˆ›å»ºä¸€å¼ ç”¨äºæµ‹è¯•å…¨æ–‡ç´¢å¼•çš„è¡¨ï¼š\nCREATE TABLE articles (\n  id INT UNSIGNED AUTO_INCREMENT NOT NULL PRIMARY KEY,\n  title VARCHAR(200),\n  body TEXT,\n  FULLTEXT (body));\n\nINSERT INTO articles VALUES\n\t(NULL,&#39;MySQL Tutorial&#39;, &#39;DBMS stands for DataBase ...&#39;),\n\t(NULL,&#39;How To Use MySQL Efficiently&#39;, &#39;After you went through a ...&#39;),\n\t(NULL,&#39;Optimising MySQL&#39;,&#39;In this tutorial we will show ...&#39;),\n\t(NULL,&#39;1001 MySQL Tricks&#39;,&#39;1. Never run mysqld as root. 2. ...&#39;),\n\t(NULL,&#39;MySQL vs. YourSQL&#39;, &#39;In the following database comparison ...&#39;),\n\t(NULL,&#39;MySQL Security&#39;, &#39;When configured properly, MySQL ...&#39;);\n\næœ€åæˆ‘ä»¬ä½¿ç”¨å…¨æ–‡ç´¢å¼•è¿›è¡Œæ¨¡ç³ŠåŒ¹é…ï¼š\nSELECT * FROM articles WHERE MATCH (body) AGAINST (&#39;database&#39;);\n\næ³¨æ„å…¨æ–‡ç´¢å¼•å¦‚ä½•å®šä¹‰å­—æ®µçš„ï¼Œmatchä¸­å°±å¿…é¡»æ˜¯å“ªäº›å­—æ®µï¼Œagainstä¸­å®šä¹‰éœ€è¦æ¨¡ç³ŠåŒ¹é…çš„å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬ç”¨ä½œæŸ¥æ‰¾çš„å­—ç¬¦ä¸²å®é™…ä¸Šæ˜¯è¢«åˆ†è¯ä¹‹åçš„ç»“æœï¼Œå¦‚æœè¿›è¡Œæ¨¡ç³ŠåŒ¹é…çš„ä¸æ˜¯ä¸€ä¸ªè¯è¯­ï¼Œé‚£ä¹ˆä¼šæŸ¥æ‰¾å¤±è´¥ï¼Œä½†æ˜¯å®ƒçš„æ•ˆç‡è¿œé«˜äºä»¥ä¸‹è¿™ç§å†™æ³•ï¼š\nSELECT * FROM articles WHERE body like &#39;%database%&#39;;\n\nç»„åˆç´¢å¼•ç»„åˆç´¢å¼•å®é™…ä¸Šå°±æ˜¯å°†å¤šè¡Œæ†ç»‘åœ¨ä¸€èµ·ï¼Œä½œä¸ºä¸€ä¸ªç´¢å¼•ï¼Œå®ƒåŒæ ·æ”¯æŒä»¥ä¸Šå‡ ç§ç´¢å¼•ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨Navicatä¸­è¿›è¡Œæ¼”ç¤ºã€‚\næ³¨æ„ç»„åˆç´¢å¼•åœ¨è¿›è¡ŒåŒ¹é…æ—¶ï¼Œéµå¾ªæœ€å·¦åŸåˆ™ã€‚\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨explainè¯­å¥ï¼ˆå®ƒå¯ä»¥ç”¨äºåˆ†æselectè¯­å¥çš„æ‰§è¡Œè®¡åˆ’ï¼Œä¹Ÿå°±æ˜¯MySQLåˆ°åº•æ˜¯å¦‚ä½•åœ¨æ‰§è¡ŒæŸæ¡selectè¯­å¥çš„ï¼‰æ¥åˆ†ææŸ¥è¯¢è¯­å¥åˆ°åº•æœ‰æ²¡æœ‰é€šè¿‡ç´¢å¼•è¿›è¡ŒåŒ¹é…ã€‚\nexplain select * from student where name &#x3D; &#39;å°ç‹&#39;;\n\nå¾—åˆ°çš„ç»“æœå¦‚ä¸‹ï¼š\n\nselect_typeï¼šæŸ¥è¯¢ç±»å‹ï¼Œä¸Šé¢çš„å°±æ˜¯ç®€å•æŸ¥è¯¢ï¼ˆSIMPLEï¼‰\ntableï¼šæŸ¥è¯¢çš„è¡¨\ntypeï¼šMySQLå†³å®šå¦‚ä½•æŸ¥æ‰¾å¯¹åº”çš„è®°å½•ï¼Œæ•ˆç‡ä»é«˜åˆ°ä½ï¼šsystem &gt; const &gt; eq_ref &gt; ref &gt; range &gt; index &gt; all\npossible_keysï¼šæ‰§è¡ŒæŸ¥è¯¢æ—¶å¯èƒ½ä¼šç”¨åˆ°çš„ç´¢å¼•\nkeyï¼šå®é™…ä½¿ç”¨çš„ç´¢å¼•\nkey_lenï¼šMysqlåœ¨ç´¢å¼•é‡Œä½¿ç”¨çš„å­—èŠ‚æ•°ï¼Œå­—æ®µçš„æœ€å¤§å¯èƒ½é•¿åº¦\nrowsï¼šæ‰«æçš„è¡Œæ•°\nextraï¼šé™„åŠ è¯´æ˜\n\nç´¢å¼•åº•å±‚åŸç†åœ¨äº†è§£å®Œäº†ç´¢å¼•çš„ç±»å‹ä¹‹åï¼Œæˆ‘ä»¬æ¥ç€æ¥çœ‹çœ‹ç´¢å¼•æ˜¯å¦‚ä½•å®ç°çš„ã€‚\næ—¢ç„¶æˆ‘ä»¬è¦é€šè¿‡ç´¢å¼•æ¥å¿«é€ŸæŸ¥æ‰¾å†…å®¹ï¼Œé‚£ä¹ˆå¦‚ä½•è®¾è®¡ç´¢å¼•å°±æ˜¯æˆ‘ä»¬çš„é‡ç‚¹å†…å®¹ï¼Œå› ä¸ºç´¢å¼•æ˜¯å­˜å‚¨åœ¨ç¡¬ç›˜ä¸Šçš„ï¼Œè·Ÿæˆ‘ä»¬ä¹‹å‰ä½¿ç”¨çš„HashMapä¹‹ç±»çš„ä¸åŒï¼Œå®ƒä»¬éƒ½æ˜¯åœ¨å†…å­˜ä¸­çš„ï¼Œä½†æ˜¯ç¡¬ç›˜çš„è¯»å–é€Ÿåº¦è¿œå°äºå†…å­˜çš„é€Ÿåº¦ï¼Œæ¯ä¸€æ¬¡IOæ“ä½œéƒ½ä¼šè€—è´¹å¤§é‡çš„æ—¶é—´ï¼Œæˆ‘ä»¬ä¹Ÿä¸å¯èƒ½æŠŠæ•´ä¸ªç£ç›˜ä¸Šçš„ç´¢å¼•å…¨éƒ¨å¯¼å…¥å†…å­˜ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦è€ƒè™‘å°½å¯èƒ½å¤šçš„å‡å°‘IOæ¬¡æ•°ï¼Œç´¢å¼•çš„å®ç°å¯ä»¥ä¾é ä¸¤ç§æ•°æ®ç»“æ„ï¼Œä¸€ç§æ˜¯æˆ‘ä»¬åœ¨JavaSEé˜¶æ®µå·²ç»å­¦ä¹ è¿‡çš„Hashè¡¨ï¼Œè¿˜æœ‰ä¸€ç§å°±æ˜¯B-Treeã€‚\næˆ‘ä»¬é¦–å…ˆæ¥çœ‹çœ‹å“ˆå¸Œè¡¨ï¼Œå®é™…ä¸Šå°±æ˜¯è®¡ç®—Hashå€¼æ¥å¿«é€Ÿå®šä½ï¼š\n\né€šè¿‡å¯¹Keyè¿›è¡Œæ•£åˆ—å€¼è®¡ç®—ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å¾—åˆ°å¯¹åº”æ•°æ®çš„å­˜æ”¾ä½ç½®ï¼Œå®ƒçš„æŸ¥è¯¢æ•ˆç‡èƒ½å¤Ÿè¾¾åˆ°O(1)ï¼Œä½†æ˜¯å®ƒä¹Ÿå­˜åœ¨ä¸€å®šçš„ç¼ºé™·ï¼š\n\nHashç´¢å¼•ä»…ä»…èƒ½æ»¡è¶³â€œ&#x3D;â€ï¼Œâ€œinâ€æŸ¥è¯¢æ¡ä»¶ï¼Œä¸èƒ½ä½¿ç”¨èŒƒå›´æŸ¥è¯¢ã€‚ \nHashç¢°æ’é—®é¢˜ã€‚\nä¸èƒ½ç”¨éƒ¨åˆ†ç´¢å¼•é”®æ¥æœç´¢ï¼Œå› ä¸ºç»„åˆç´¢å¼•åœ¨è®¡ç®—å“ˆå¸Œå€¼çš„æ—¶å€™æ˜¯ä¸€èµ·è®¡ç®—çš„ã€‚\n\né‚£ä¹ˆï¼Œæ—¢ç„¶è¦è§£å†³è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬è¿˜æœ‰ä¸€ç§æ–¹æ¡ˆå°±æ˜¯ä½¿ç”¨ç±»ä¼¼äºäºŒå‰æ ‘é‚£æ ·çš„æ•°æ®ç»“æ„æ¥å­˜å‚¨ç´¢å¼•ï¼Œä½†æ˜¯è¿™æ ·ç›¸æ¯”ä½¿ç”¨Hashç´¢å¼•ï¼Œä¼šç‰ºç‰²ä¸€å®šçš„è¯»å–é€Ÿåº¦ã€‚\nä½†æ˜¯è¿™é‡Œå¹¶æ²¡æœ‰ä½¿ç”¨äºŒå‰æ ‘ï¼Œè€Œæ˜¯ä½¿ç”¨äº†BTreeï¼Œå®ƒæ˜¯ä¸“é—¨ä¸ºç£ç›˜æ•°æ®è¯»å–è®¾è®¡çš„ä¸€ç§åº¦ä¸ºnçš„æŸ¥æ‰¾æ ‘ï¼š\n\næ ‘ä¸­æ¯ä¸ªç»“ç‚¹æœ€å¤šå«æœ‰mä¸ªå­©å­ï¼ˆm &gt;&#x3D; 2ï¼‰\n\né™¤æ ¹ç»“ç‚¹å’Œå¶å­ç»“ç‚¹å¤–ï¼Œå…¶å®ƒæ¯ä¸ªç»“ç‚¹è‡³å°‘æœ‰[ceil(m &#x2F; 2)]ä¸ªå­©å­ã€‚\n\nè‹¥æ ¹ç»“ç‚¹ä¸æ˜¯å¶å­ç»“ç‚¹ï¼Œåˆ™è‡³å°‘æœ‰2ä¸ªå­©å­ã€‚\n\næ‰€æœ‰å¶å­ç»“ç‚¹éƒ½å‡ºç°åœ¨åŒä¸€å±‚ã€‚\n\næ¯ä¸ªéç»ˆç«¯ç»“ç‚¹ä¸­åŒ…å«æœ‰nä¸ªé”®å€¼ä¿¡æ¯ï¼š (P1ï¼ŒK1ï¼ŒP2ï¼ŒK2ï¼ŒP3ï¼Œâ€¦â€¦ï¼ŒKnï¼ŒPn+1)ã€‚å…¶ä¸­ï¼š \n\nKi (i&#x3D;1â€¦n)ä¸ºé”®å€¼ï¼Œä¸”é”®å€¼æŒ‰é¡ºåºå‡åºæ’åºK(i-1)&lt; Kiã€‚  \nPiä¸ºæŒ‡å‘å­æ ‘æ ¹çš„ç»“ç‚¹ï¼Œä¸”æŒ‡é’ˆP(i)æŒ‡å‘çš„å­æ ‘ä¸­æ‰€æœ‰ç»“ç‚¹çš„é”®å€¼å‡å°äºKiï¼Œä½†éƒ½å¤§äºK(i-1)ã€‚  \né”®å€¼çš„ä¸ªæ•°nå¿…é¡»æ»¡è¶³ï¼š [ceil(m &#x2F; 2)-1] &lt;&#x3D; n &lt;&#x3D; m-1ã€‚\n\n\n\n\næ¯”å¦‚ç°åœ¨æˆ‘ä»¬è¦å¯¹é”®å€¼ä¸º10çš„è®°å½•è¿›è¡ŒæŸ¥æ‰¾ï¼Œè¿‡ç¨‹å¦‚ä¸‹ï¼š\n\nè¯»å–æ ¹èŠ‚ç‚¹æ•°æ®ï¼ˆç›®å‰è¿›è¡Œäº†ä¸€æ¬¡IOæ“ä½œï¼‰\næ ¹æ®æ ¹èŠ‚ç‚¹æ•°æ®è¿›è¡Œåˆ¤æ–­å¾—åˆ°10&lt;17ï¼Œå› ä¸ºP1æŒ‡å‘çš„å­æ ‘ä¸­æ‰€æœ‰å€¼éƒ½æ˜¯å°äº17çš„ï¼Œæ‰€ä»¥è¿™æ—¶æˆ‘ä»¬å°†P1æŒ‡å‘çš„èŠ‚ç‚¹è¯»å–ï¼ˆç›®å‰è¿›è¡Œäº†ä¸¤æ¬¡IOæ“ä½œï¼‰\nå†æ¬¡è¿›è¡Œåˆ¤æ–­ï¼Œå¾—åˆ°8&lt;10&lt;12ï¼Œå› ä¸ºP2æŒ‡å‘çš„å­æ ‘ä¸­æ‰€æœ‰çš„å€¼éƒ½æ˜¯å°äº12å¤§äº8çš„ï¼Œæ‰€ä»¥è¿™æ—¶è¯»å–P2æŒ‡å‘çš„èŠ‚ç‚¹ï¼ˆç›®å‰è¿›è¡Œäº†ä¸‰æ¬¡IOæ“ä½œï¼‰\næˆåŠŸæ‰¾åˆ°ã€‚\n\næˆ‘ä»¬æ¥ç€æ¥çœ‹ï¼Œè™½ç„¶BTreeèƒ½å¤Ÿå¾ˆå¥½åœ°åˆ©ç”¨äºŒå‰æŸ¥æ‰¾æ ‘çš„æ€æƒ³å¤§å¹…åº¦å‡å°‘æŸ¥æ‰¾æ¬¡æ•°ï¼Œä½†æ˜¯å®ƒçš„æŸ¥æ‰¾æ•ˆç‡è¿˜æ˜¯å¾ˆä½ï¼Œå› æ­¤å®ƒçš„ä¼˜åŒ–ç‰ˆæœ¬B+Treeè¯ç”Ÿäº†ï¼Œå®ƒæ‹¥æœ‰æ›´ç¨³å®šçš„æŸ¥è¯¢æ•ˆç‡å’Œæ›´ä½çš„IOè¯»å–æ¬¡æ•°ï¼š\n\næˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œå®ƒå’ŒBTreeæœ‰ä¸€å®šçš„åŒºåˆ«ï¼š\n\næœ‰næ£µå­æ ‘çš„ç»“ç‚¹ä¸­å«æœ‰nä¸ªé”®å€¼ï¼ŒBTreeåªæœ‰n-1ä¸ªã€‚\næ‰€æœ‰çš„é”®å€¼ä¿¡æ¯åªåœ¨å¶å­èŠ‚ç‚¹ä¸­åŒ…å«ï¼Œéå¶å­èŠ‚ç‚¹ä»…ä»…ä¿å­˜å­èŠ‚ç‚¹çš„æœ€å°ï¼ˆæˆ–æœ€å¤§ï¼‰å€¼ï¼Œå’ŒæŒ‡å‘å¶å­èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œè¿™æ ·ç›¸æ¯”BTreeæ¯ä¸€ä¸ªèŠ‚ç‚¹åœ¨ç¡¬ç›˜ä¸­å­˜æ”¾äº†æ›´å°‘çš„å†…å®¹ï¼ˆæ²¡æœ‰é”®å€¼ä¿¡æ¯äº†ï¼‰\næ‰€æœ‰å¶å­èŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªæ ¹æ®å¤§å°é¡ºåºæŒ‡å‘ä¸‹ä¸€ä¸ªå¶å­èŠ‚ç‚¹çš„æŒ‡é’ˆQï¼Œæœ¬è´¨ä¸Šæ•°æ®å°±æ˜¯ä¸€ä¸ªé“¾è¡¨ã€‚\n\nè¿™æ ·ï¼Œè¯»å–IOçš„æ—¶é—´ç›¸æ¯”BTreeå°±å‡å°‘äº†å¾ˆå¤šï¼Œå¹¶ä¸”æŸ¥è¯¢ä»»ä½•é”®å€¼ä¿¡æ¯éƒ½éœ€è¦å®Œæ•´åœ°èµ°åˆ°å¶å­èŠ‚ç‚¹ï¼Œä¿è¯äº†æŸ¥è¯¢çš„IOè¯»å–æ¬¡æ•°ä¸€è‡´ã€‚å› æ­¤MySQLé»˜è®¤é€‰æ‹©B+Treeä½œä¸ºç´¢å¼•çš„å­˜å‚¨æ•°æ®ç»“æ„ã€‚\nè¿™æ˜¯MyISAMå­˜å‚¨å¼•æ“ä¸‹çš„B+Treeå®ç°ï¼š\n\nè¿™æ˜¯InnoDBå­˜å‚¨å¼•æ“ä¸‹çš„B+Treeå®ç°ï¼š\n\n\nInnoDBä¸MyISAMå®ç°çš„ä¸åŒä¹‹å¤„ï¼š\n\næ•°æ®æœ¬èº«å°±æ˜¯ç´¢å¼•çš„ä¸€éƒ¨åˆ†ï¼ˆæ‰€ä»¥è¿™é‡Œå»ºè®®ä¸»é”®ä½¿ç”¨è‡ªå¢ï¼‰\néä¸»é”®ç´¢å¼•çš„æ•°æ®å®é™…ä¸Šå­˜å‚¨çš„æ˜¯å¯¹åº”è®°å½•çš„ä¸»é”®å€¼ï¼ˆå› æ­¤InnoDBå¿…é¡»æœ‰ä¸»é”®ï¼Œè‹¥æ²¡æœ‰ä¹Ÿä¼šè‡ªåŠ¨æŸ¥æ‰¾æ›¿ä»£ï¼‰\n\n\né”æœºåˆ¶åœ¨JavaSEçš„å­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬åœ¨å¤šçº¿ç¨‹æ¿å—é¦–æ¬¡ç”¨åˆ°äº†é”æœºåˆ¶ï¼Œå½“æˆ‘ä»¬å¯¹æŸä¸ªæ–¹æ³•æˆ–æ˜¯æŸä¸ªä»£ç å—åŠ é”åï¼Œé™¤éé”çš„æŒæœ‰è€…é‡Šæ”¾å½“å‰çš„é”ï¼Œå¦åˆ™å…¶ä»–çº¿ç¨‹æ— æ³•è¿›å…¥æ­¤æ–¹æ³•æˆ–æ˜¯ä»£ç å—ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨é”æœºåˆ¶æ¥ä¿è¯å¤šçº¿ç¨‹ä¹‹é—´çš„å®‰å…¨æ€§ã€‚\nåœ¨MySQLä¸­ï¼Œå°±å¾ˆå®¹æ˜“å‡ºç°å¤šçº¿ç¨‹åŒæ—¶æ“ä½œè¡¨ä¸­æ•°æ®çš„æƒ…å†µï¼Œå¦‚æœè¦é¿å…æ½œåœ¨çš„å¹¶å‘é—®é¢˜ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¹‹å‰è®²è§£çš„äº‹åŠ¡éš”ç¦»çº§åˆ«æ¥å¤„ç†ï¼Œè€Œäº‹åŠ¡éš”ç¦»ä¸­åˆ©ç”¨äº†é”æœºåˆ¶ã€‚\n\nè¯»æœªæäº¤(Read Uncommitted)ï¼šèƒ½å¤Ÿè¯»å–åˆ°å…¶ä»–äº‹åŠ¡ä¸­æœªæäº¤çš„å†…å®¹ï¼Œå­˜åœ¨è„è¯»é—®é¢˜ã€‚\nè¯»å·²æäº¤(Read Committed RC)ï¼šåªèƒ½è¯»å–å…¶ä»–äº‹åŠ¡å·²ç»æäº¤çš„å†…å®¹ï¼Œå­˜åœ¨ä¸å¯é‡å¤è¯»é—®é¢˜ã€‚\nå¯é‡å¤è¯»(Repeated Read RR)ï¼šåœ¨è¯»å–æŸè¡Œåä¸å…è®¸å…¶ä»–äº‹åŠ¡æ“ä½œæ­¤è¡Œï¼Œç›´åˆ°äº‹åŠ¡ç»“æŸï¼Œä½†æ˜¯ä¾ç„¶å­˜åœ¨å¹»è¯»é—®é¢˜ã€‚\nä¸²è¡Œè¯»(Serializable)ï¼šä¸€ä¸ªäº‹åŠ¡çš„å¼€å§‹å¿…é¡»ç­‰å¾…å¦ä¸€ä¸ªäº‹åŠ¡çš„å®Œæˆã€‚\n\næˆ‘ä»¬å¯ä»¥åˆ‡æ¢éš”ç¦»çº§åˆ«åˆ†åˆ«æ¼”ç¤ºä¸€ä¸‹ï¼š\nset session transaction isolation level read uncommitted;\n\nåœ¨RRçº§åˆ«ä¸‹ï¼ŒMySQLåœ¨ä¸€å®šç¨‹åº¦ä¸Šè§£å†³äº†å¹»è¯»é—®é¢˜ï¼š\n\nåœ¨å¿«ç…§è¯»ï¼ˆä¸åŠ é”ï¼‰è¯»æƒ…å†µä¸‹ï¼Œmysqlé€šè¿‡mvccæ¥é¿å…å¹»è¯»ã€‚\nåœ¨å½“å‰è¯»ï¼ˆåŠ é”ï¼‰è¯»æƒ…å†µä¸‹ï¼Œmysqlé€šè¿‡next-keyæ¥é¿å…å¹»è¯»ã€‚\n\n\n\n\n\n\n\n\n\n\n**MVCC**ï¼Œå…¨ç§° Multi-Version Concurrency Control ï¼Œå³å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ã€‚MVCC æ˜¯ä¸€ç§å¹¶å‘æ§åˆ¶çš„æ–¹æ³•ï¼Œä¸€èˆ¬åœ¨æ•°æ®åº“ç®¡ç†ç³»ç»Ÿä¸­ï¼Œå®ç°å¯¹æ•°æ®åº“çš„å¹¶å‘è®¿é—®ï¼Œåœ¨ç¼–ç¨‹è¯­è¨€ä¸­å®ç°äº‹åŠ¡å†…å­˜ã€‚\nè¯»é”å’Œå†™é”ä»å¯¹æ•°æ®çš„æ“ä½œç±»å‹ä¸Šæ¥è¯´ï¼Œé”åˆ†ä¸ºè¯»é”å’Œå†™é”ï¼š\n\nè¯»é”ï¼šä¹Ÿå«å…±äº«é”ï¼Œå½“ä¸€ä¸ªäº‹åŠ¡æ·»åŠ äº†è¯»é”åï¼Œå…¶ä»–çš„äº‹åŠ¡ä¹Ÿå¯ä»¥æ·»åŠ è¯»é”æˆ–æ˜¯è¯»å–æ•°æ®ï¼Œä½†æ˜¯ä¸èƒ½è¿›è¡Œå†™æ“ä½œï¼Œåªèƒ½ç­‰åˆ°æ‰€æœ‰çš„è¯»é”å…¨éƒ¨é‡Šæ”¾ã€‚\nå†™é”ï¼šä¹Ÿå«æ’ä»–é”ï¼Œå½“ä¸€ä¸ªäº‹åŠ¡æ·»åŠ äº†å†™é”åï¼Œå…¶ä»–äº‹åŠ¡ä¸èƒ½è¯»ä¸èƒ½å†™ä¹Ÿä¸èƒ½æ·»åŠ ä»»ä½•é”ï¼Œåªèƒ½ç­‰å¾…å½“å‰äº‹åŠ¡é‡Šæ”¾é”ã€‚\n\nå…¨å±€é”ã€è¡¨é”å’Œè¡Œé”ä»é”çš„ä½œç”¨èŒƒå›´ä¸Šåˆ’åˆ†ï¼Œåˆ†ä¸ºå…¨å±€é”ã€è¡¨é”å’Œè¡Œé”ï¼š\n\nå…¨å±€é”ï¼šé”ä½œç”¨äºå…¨å±€ï¼Œæ•´ä¸ªæ•°æ®åº“çš„æ‰€æœ‰æ“ä½œå…¨éƒ¨å—åˆ°é”é™åˆ¶ã€‚\nè¡¨é”ï¼šé”ä½œç”¨äºæ•´ä¸ªè¡¨ï¼Œæ‰€æœ‰å¯¹è¡¨çš„æ“ä½œéƒ½ä¼šæ”¶åˆ°é”é™åˆ¶ã€‚\nè¡Œé”ï¼šé”ä½œç”¨äºè¡¨ä¸­çš„æŸä¸€è¡Œï¼Œåªä¼šé€šè¿‡é”é™åˆ¶å¯¹æŸä¸€è¡Œçš„æ“ä½œï¼ˆä»…InnoDBæ”¯æŒï¼‰\n\nå…¨å±€é”æˆ‘ä»¬é¦–å…ˆæ¥çœ‹å…¨å±€é”ï¼Œå®ƒä½œç”¨äºæ•´ä¸ªæ•°æ®åº“ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥å¼€å¯è¯»å…¨å±€é”ï¼š\nflush tables with read lock;\n\nå¼€å¯åï¼Œæ•´ä¸ªæ•°æ®åº“è¢«ä¸Šè¯»é”ï¼Œæˆ‘ä»¬åªèƒ½å»è¯»å–æ•°æ®ï¼Œä½†æ˜¯ä¸å…è®¸è¿›è¡Œå†™æ“ä½œï¼ˆåŒ…æ‹¬æ›´æ–°ã€æ’å…¥ã€åˆ é™¤ç­‰ï¼‰ä¸€æ—¦æ‰§è¡Œå†™æ“ä½œï¼Œä¼šè¢«é˜»å¡ï¼Œç›´åˆ°é”è¢«é‡Šæ”¾ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥è§£é”ï¼š\nunlock tables;\n\né™¤äº†æ‰‹åŠ¨é‡Šæ”¾é”ä¹‹å¤–ï¼Œå½“æˆ‘ä»¬çš„ä¼šè¯ç»“æŸåï¼Œé”ä¹Ÿä¼šè¢«è‡ªåŠ¨é‡Šæ”¾ã€‚\nè¡¨é”è¡¨é”ä½œç”¨äºæŸä¸€å¼ è¡¨ï¼Œä¹Ÿæ˜¯MyISAMå’ŒInnoDBå­˜å‚¨å¼•æ“æ”¯æŒçš„æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥ä¸ºè¡¨æ·»åŠ é”ï¼š\nlock table è¡¨åç§° read&#x2F;write;\n\nåœ¨æˆ‘ä»¬ä¸ºè¡¨æ·»åŠ å†™é”åï¼Œæˆ‘ä»¬å‘ç°å…¶ä»–åœ°æ–¹æ˜¯æ— æ³•è®¿é—®æ­¤è¡¨çš„ï¼Œä¸€å¾‹éƒ½è¢«é˜»å¡ã€‚\nè¡Œé”è¡¨é”çš„ä½œç”¨èŒƒå›´å¤ªå¹¿äº†ï¼Œå¦‚æœæˆ‘ä»¬ä»…ä»…åªæ˜¯å¯¹æŸä¸€è¡Œè¿›è¡Œæ“ä½œï¼Œé‚£ä¹ˆå¤§å¯ä¸å¿…å¯¹æ•´ä¸ªè¡¨è¿›è¡ŒåŠ é”ï¼Œå› æ­¤InnoDBæ”¯æŒäº†è¡Œé”ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥å¯¹æŸä¸€è¡Œè¿›è¡ŒåŠ é”ï¼š\n-- æ·»åŠ è¯»é”ï¼ˆå…±äº«é”ï¼‰\nselect * from ... lock in share mode;\n-- æ·»åŠ å†™é”ï¼ˆæ’ä»–é”ï¼‰\nselect * from ... for update;\n\nä½¿ç”¨InnoDBçš„æƒ…å†µä¸‹ï¼Œåœ¨æ‰§è¡Œæ›´æ–°ã€åˆ é™¤ã€æ’å…¥æ“ä½œæ—¶ï¼Œæ•°æ®åº“ä¹Ÿä¼šè‡ªåŠ¨ä¸ºæ‰€æ¶‰åŠçš„è¡Œæ·»åŠ å†™é”ï¼ˆæ’ä»–é”ï¼‰ï¼Œç›´åˆ°äº‹åŠ¡æäº¤æ—¶ï¼Œæ‰ä¼šé‡Šæ”¾é”ï¼Œæ‰§è¡Œæ™®é€šçš„æŸ¥è¯¢æ“ä½œæ—¶ï¼Œä¸ä¼šæ·»åŠ ä»»ä½•é”ã€‚ä½¿ç”¨MyISAMçš„æƒ…å†µä¸‹ï¼Œåœ¨æ‰§è¡Œæ›´æ–°ã€åˆ é™¤ã€æ’å…¥æ“ä½œæ—¶ï¼Œæ•°æ®åº“ä¼šå¯¹æ¶‰åŠçš„è¡¨æ·»åŠ å†™é”ï¼Œåœ¨æ‰§è¡ŒæŸ¥è¯¢æ“ä½œæ—¶ï¼Œæ•°æ®åº“ä¼šå¯¹æ¶‰åŠçš„è¡¨æ·»åŠ è¯»é”ã€‚\næé—®ï¼šå½“æˆ‘ä»¬ä¸ä½¿ç”¨idè¿›è¡Œé€‰æ‹©ï¼Œè¡Œé”ä¼šå‘ç”Ÿä»€ä¹ˆå˜åŒ–ï¼Ÿï¼ˆè¡Œé”å‡çº§ï¼‰\nè®°å½•é”ã€é—´éš™é”å’Œä¸´é”®é”æˆ‘ä»¬çŸ¥é“InnoDBæ”¯æŒä½¿ç”¨è¡Œé”ï¼Œä½†æ˜¯è¡Œé”æ¯”è¾ƒå¤æ‚ï¼Œå®ƒå¯ä»¥ç»§ç»­åˆ†ä¸ºå¤šä¸ªç±»å‹ã€‚\nè®°å½•é”ï¼ˆRecord Locksï¼‰è®°å½•é”, ä»…ä»…é”ä½ç´¢å¼•è®°å½•çš„ä¸€è¡Œï¼Œåœ¨å•æ¡ç´¢å¼•è®°å½•ä¸ŠåŠ é”ã€‚Record locké”ä½çš„æ°¸è¿œæ˜¯ç´¢å¼•ï¼Œè€Œéè®°å½•æœ¬èº«ï¼Œå³ä½¿è¯¥è¡¨ä¸Šæ²¡æœ‰ä»»ä½•ç´¢å¼•ï¼Œé‚£ä¹ˆinnodbä¼šåœ¨åå°åˆ›å»ºä¸€ä¸ªéšè—çš„èšé›†ä¸»é”®ç´¢å¼•ï¼Œé‚£ä¹ˆé”ä½çš„å°±æ˜¯è¿™ä¸ªéšè—çš„èšé›†ä¸»é”®ç´¢å¼•ã€‚æ‰€ä»¥è¯´å½“ä¸€æ¡sqlæ²¡æœ‰èµ°ä»»ä½•ç´¢å¼•æ—¶ï¼Œé‚£ä¹ˆå°†ä¼šåœ¨æ¯ä¸€æ¡èšåˆç´¢å¼•åé¢åŠ å†™é”ï¼Œè¿™ä¸ªç±»ä¼¼äºè¡¨é”ï¼Œä½†åŸç†ä¸Šå’Œè¡¨é”åº”è¯¥æ˜¯å®Œå…¨ä¸åŒçš„ã€‚\né—´éš™é”ï¼ˆGap Locksï¼‰ä»…ä»…é”ä½ä¸€ä¸ªç´¢å¼•åŒºé—´ï¼ˆå¼€åŒºé—´ï¼Œä¸åŒ…æ‹¬åŒç«¯ç«¯ç‚¹ï¼‰ã€‚åœ¨ç´¢å¼•è®°å½•ä¹‹é—´çš„é—´éš™ä¸­åŠ é”ï¼Œæˆ–è€…æ˜¯åœ¨æŸä¸€æ¡ç´¢å¼•è®°å½•ä¹‹å‰æˆ–è€…ä¹‹ååŠ é”ï¼Œå¹¶ä¸åŒ…æ‹¬è¯¥ç´¢å¼•è®°å½•æœ¬èº«ã€‚æ¯”å¦‚åœ¨ 1ã€2ä¸­ï¼Œé—´éš™é”çš„å¯èƒ½å€¼æœ‰ (-âˆ, 1)ï¼Œ(1, 2)ï¼Œ(2, +âˆ)ï¼Œé—´éš™é”å¯ç”¨äºé˜²æ­¢å¹»è¯»ï¼Œä¿è¯ç´¢å¼•é—´çš„ä¸ä¼šè¢«æ’å…¥æ•°æ®ã€‚\nä¸´é”®é”ï¼ˆNext-Key Locksï¼‰Record lock + Gap lockï¼Œå·¦å¼€å³é—­åŒºé—´ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒInnoDBæ­£æ˜¯ä½¿ç”¨Next-key Locksæ¥é”å®šè®°å½•ï¼ˆå¦‚select â€¦ for updateè¯­å¥ï¼‰å®ƒè¿˜ä¼šæ ¹æ®åœºæ™¯è¿›è¡Œçµæ´»å˜æ¢ï¼š\n\n\n\nåœºæ™¯\nè½¬æ¢\n\n\n\nä½¿ç”¨å”¯ä¸€ç´¢å¼•è¿›è¡Œç²¾ç¡®åŒ¹é…ï¼Œä½†è¡¨ä¸­ä¸å­˜åœ¨è®°å½•\nè‡ªåŠ¨è½¬æ¢ä¸º Gap Locks\n\n\nä½¿ç”¨å”¯ä¸€ç´¢å¼•è¿›è¡Œç²¾ç¡®åŒ¹é…ï¼Œä¸”è¡¨ä¸­å­˜åœ¨è®°å½•\nè‡ªåŠ¨è½¬æ¢ä¸º Record Locks\n\n\nä½¿ç”¨éå”¯ä¸€ç´¢å¼•è¿›è¡Œç²¾ç¡®åŒ¹é…\nä¸è½¬æ¢\n\n\nä½¿ç”¨å”¯ä¸€ç´¢å¼•è¿›è¡ŒèŒƒå›´åŒ¹é…\nä¸è½¬æ¢ï¼Œä½†æ˜¯åªé”ä¸Šç•Œï¼Œä¸é”ä¸‹ç•Œ\n\n\nhttps://zhuanlan.zhihu.com/p/48269420\n","slug":"JavaSSMç¬”è®°ï¼ˆå››ï¼‰","date":"2022-03-05T16:22:54.848Z","categories_index":"JavaSSMç¬”è®°","tags_index":"JavaSSMç¬”è®°","author_index":"YangChao"},{"id":"7706992de04d833db29722d37e1933b8","title":"JavaSSMç¬”è®°ï¼ˆä¸‰ï¼‰","content":"\nSpringSecurityæœ¬ç« æˆ‘ä»¬ä¼šä¸€è¾¹è®²è§£SpringSecurityæ¡†æ¶ï¼Œä¸€è¾¹ä»å¤´å¼€å§‹ç¼–å†™å›¾ä¹¦ç®¡ç†ç³»ç»Ÿã€‚\n  SpringSecurityæ˜¯ä¸€ä¸ªåŸºäºSpringå¼€å‘çš„éå¸¸å¼ºå¤§çš„æƒé™éªŒè¯æ¡†æ¶ï¼Œå…¶æ ¸å¿ƒåŠŸèƒ½åŒ…æ‹¬ï¼š\n\nè®¤è¯ ï¼ˆç”¨æˆ·ç™»å½•ï¼‰\næˆæƒ ï¼ˆæ­¤ç”¨æˆ·èƒ½å¤Ÿåšå“ªäº›äº‹æƒ…ï¼‰\næ”»å‡»é˜²æŠ¤ ï¼ˆé˜²æ­¢ä¼ªé€ èº«ä»½æ”»å‡»ï¼‰\n\næˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨æ›´åŠ ä¸“ä¸šçš„å…¨æ–°éªŒè¯æ¡†æ¶ï¼Œè¿˜è¦ä»CSRFè¯´èµ·ã€‚\nCSRFè·¨ç«™è¯·æ±‚ä¼ªé€ æ”»å‡»æˆ‘ä»¬æ—¶å¸¸ä¼šåœ¨QQä¸Šæ”¶åˆ°åˆ«äººå‘é€çš„é’“é±¼ç½‘ç«™é“¾æ¥ï¼Œåªè¦ä½ åœ¨ä¸Šé¢ç™»é™†äº†ä½ çš„QQè´¦å·ï¼Œé‚£ä¹ˆä¸å‡ºæ„å¤–ï¼Œä½ çš„å·å·²ç»åœ¨åˆ«äººæ‰‹ä¸­äº†ã€‚å®é™…ä¸Šè¿™ä¸€ç±»ç½‘ç«™éƒ½å±äºæ¶æ„ç½‘ç«™ï¼Œä¸“é—¨ç”¨äºç›—å–ä»–äººä¿¡æ¯ï¼Œæ‰§è¡Œéæ³•æ“ä½œï¼Œç”šè‡³è·å–ä»–äººè´¦æˆ·ä¸­çš„è´¢äº§ï¼Œéæ³•è½¬è´¦ç­‰ã€‚è€Œè¿™é‡Œï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ä¸€ç§æ¯”è¾ƒå®¹æ˜“å‘ç”Ÿçš„æ¶æ„æ“ä½œï¼Œä»ä¸æ³•åˆ†å­çš„è§’åº¦å»äº†è§£æ•´ä¸ªæµç¨‹ã€‚\næˆ‘ä»¬åœ¨JavaWebé˜¶æ®µå·²ç»äº†è§£äº†Sessionå’ŒCookieçš„æœºåˆ¶ï¼Œåœ¨ä¸€å¼€å§‹çš„æ—¶å€™ï¼ŒæœåŠ¡ç«¯ä¼šç»™æµè§ˆå™¨ä¸€ä¸ªåä¸ºJSESSIONçš„Cookieä¿¡æ¯ä½œä¸ºä¼šè¯çš„å”¯ä¸€å‡­æ®ï¼Œåªè¦ç”¨æˆ·æºå¸¦æ­¤Cookieè®¿é—®æˆ‘ä»¬çš„ç½‘ç«™ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥è®¤å®šæ­¤ä¼šè¯å±äºå“ªä¸ªæµè§ˆå™¨ã€‚å› æ­¤ï¼Œåªè¦æ­¤ä¼šè¯çš„ç”¨æˆ·æ‰§è¡Œäº†ç™»å½•æ“ä½œï¼Œé‚£ä¹ˆå°±å¯ä»¥éšæ„è®¿é—®ä¸ªäººä¿¡æ¯ç­‰å†…å®¹ã€‚\næ¯”å¦‚ç°åœ¨ï¼Œæˆ‘ä»¬çš„æœåŠ¡å™¨æ–°å¢äº†ä¸€ä¸ªè½¬è´¦çš„æ¥å£ï¼Œç”¨æˆ·ç™»å½•ä¹‹åï¼Œåªéœ€è¦ä½¿ç”¨POSTè¯·æ±‚æºå¸¦éœ€è¦è½¬è´¦çš„é‡‘é¢å’Œè½¬è´¦äººè®¿é—®æ­¤æ¥å£å°±å¯ä»¥è¿›è¡Œè½¬è´¦æ“ä½œï¼š\n@RequestMapping(&quot;&#x2F;index&quot;)\npublic String index(HttpSession session)&#123;\n    session.setAttribute(&quot;login&quot;, true);   &#x2F;&#x2F;è¿™é‡Œå°±æ­£å¸¸è®¿é—®ä¸€ä¸‹indexè¡¨ç¤ºç™»é™†\n    return &quot;index&quot;;\n&#125;\n\n@RequestMapping(value &#x3D; &quot;&#x2F;pay&quot;, method &#x3D; RequestMethod.POST, produces &#x3D; &quot;text&#x2F;html;charset&#x3D;utf-8&quot;) &#x2F;&#x2F;è¿™é‡Œè¦è®¾ç½®ä¸€ä¸‹producesä¸ç„¶ä¼šä¹±ç \n@ResponseBody\npublic String pay(String account,\n                  int amount,\n                  @SessionAttribute(&quot;login&quot;) Boolean isLogin)&#123;\n    if (isLogin) return &quot;æˆåŠŸè½¬è´¦ ï¿¥&quot;+amount+&quot; ç»™ï¼š&quot;+account;\n    else return &quot;è½¬è´¦å¤±è´¥ï¼Œæ‚¨æ²¡æœ‰ç™»é™†ï¼&quot;;\n&#125;\n\né‚£ä¹ˆï¼Œå¤§å®¶æœ‰æ²¡æœ‰æƒ³è¿‡è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ä¸ºäº†æœç´¢å­¦ä¹ èµ„æ–™æ—¶å¯èƒ½ä¸€ä¸å°å¿ƒè®¿é—®äº†ä¸€ä¸ªæ¶æ„ç½‘ç«™ï¼Œè€Œæ­¤ç½‘ç«™æºå¸¦äº†è¿™æ ·ä¸€æ®µå†…å®¹ï¼š\n&lt;!DOCTYPE html&gt;\n&lt;html lang&#x3D;&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;\n    &lt;title&gt;æˆ‘æ˜¯(æ¶)å­¦(æ„)ä¹ ç½‘ç«™&lt;&#x2F;title&gt;\n&lt;&#x2F;head&gt;\n&lt;body&gt;\n    &lt;div&gt;\n        &lt;div&gt;å¯¹ä¸èµ·ï¼Œæ‚¨è¿˜æ²¡æœ‰å……å€¼æœ¬ç«™çš„å­¦ä¹ ä¼šå‘˜ï¼Œè¯·å…ˆå……å€¼åå†è§‚çœ‹å­¦ä¹ è§†é¢‘&lt;&#x2F;div&gt;\n        &lt;form action&#x3D;&quot;http:&#x2F;&#x2F;localhost:8080&#x2F;mvc&#x2F;pay&quot; method&#x3D;&quot;post&quot;&gt;\n            &lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;account&quot; value&#x3D;&quot;hacker&quot; hidden&gt;\n            &lt;input type&#x3D;&quot;number&quot; name&#x3D;&quot;amount&quot; value&#x3D;&quot;666666&quot; hidden&gt;\n            &lt;input type&#x3D;&quot;submit&quot; value&#x3D;&quot;ç‚¹æˆ‘å……å€¼ä¼šå‘˜ï¼Œè§‚çœ‹å®Œæ•´è§†é¢‘&quot;&gt;\n        &lt;&#x2F;form&gt;\n    &lt;&#x2F;div&gt;\n&lt;&#x2F;body&gt;\n&lt;&#x2F;html&gt;\n\næ³¨æ„è¿™ä¸ªé¡µé¢å¹¶ä¸æ˜¯æˆ‘ä»¬å®˜æ–¹æä¾›çš„é¡µé¢ï¼Œè€Œæ˜¯ä¸æ³•åˆ†å­æ­å»ºçš„æ¶æ„ç½‘ç«™ã€‚æˆ‘ä»¬å‘ç°æ­¤é¡µé¢ä¸­æœ‰ä¸€ä¸ªè¡¨å•ï¼Œä½†æ˜¯è¡¨å•ä¸­çš„ä¸¤ä¸ªè¾“å…¥æ¡†è¢«éšè—äº†ï¼Œè€Œæˆ‘ä»¬çœ‹åˆ°çš„åªæœ‰ä¸€ä¸ªæŒ‰é’®ï¼Œæˆ‘ä»¬ä¸çŸ¥é“è¿™æ˜¯ä¸€ä¸ªè¡¨å•ï¼Œä¹Ÿä¸çŸ¥é“è¡¨å•ä¼šæäº¤ç»™é‚£ä¸ªåœ°å€ï¼Œè¿™æ—¶æ•´ä¸ªé¡µé¢å°±éå¸¸æœ‰è¿·æƒ‘æ€§äº†ã€‚å¦‚æœæˆ‘ä»¬ç‚¹å‡»æ­¤æŒ‰é’®ï¼Œé‚£ä¹ˆæ•´ä¸ªè¡¨å•çš„æ•°æ®ä¼šä»¥POSTçš„å½¢å¼å‘é€ç»™æˆ‘ä»¬çš„æœåŠ¡ç«¯ï¼ˆä¼šæºå¸¦ä¹‹å‰ç™»é™†æˆ‘ä»¬ç½‘ç«™çš„Cookieä¿¡æ¯ï¼‰ï¼Œä½†æ˜¯è¿™é‡Œå¾ˆæ˜æ˜¾æ˜¯å¦ä¸€ä¸ªç½‘ç«™è·³è½¬ï¼Œé€šè¿‡è¿™æ ·çš„æ–¹å¼ï¼Œæ¶æ„ç½‘ç«™å°±æˆåŠŸåœ°åœ¨æˆ‘ä»¬æ¯«ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹å¼•å¯¼æˆ‘ä»¬æ‰§è¡Œäº†è½¬è´¦æ“ä½œï¼Œå½“ä½ å‘ç°ä¸Šå½“å—éª—æ—¶ï¼Œé’±å·²ç»è¢«è½¬èµ°äº†ã€‚\nè€Œè¿™ç§æ„å»ºæ¶æ„é¡µé¢ï¼Œå¼•å¯¼ç”¨æˆ·è®¿é—®å¯¹åº”ç½‘ç«™æ‰§è¡Œæ“ä½œçš„æ–¹å¼ç§°ä¸ºï¼šè·¨ç«™è¯·æ±‚ä¼ªé€ ï¼ˆCSRFï¼ŒCross Site Request Forgeryï¼‰\næ˜¾ç„¶ï¼Œæˆ‘ä»¬ä¹‹å‰ç¼–å†™çš„å›¾ä¹¦ç®¡ç†ç³»ç»Ÿå°±å­˜åœ¨è¿™æ ·çš„å®‰å…¨æ¼æ´ï¼Œè€ŒSpringSecurityå°±å¾ˆå¥½åœ°è§£å†³äº†è¿™æ ·çš„é—®é¢˜ã€‚\n\nå¼€å‘ç¯å¢ƒæ­å»ºæˆ‘ä»¬ä¾ç„¶ä½¿ç”¨ä¹‹å‰çš„æ¨¡æ¿æ¥æ­å»ºå›¾ä¹¦ç®¡ç†ç³»ç»Ÿé¡¹ç›®ã€‚\nå¯¼å…¥ä»¥ä¸‹ä¾èµ–ï¼š\n&lt;!-- å»ºè®®ä¸ºå„ä¸ªä¾èµ–è¿›è¡Œåˆ†ç±»ï¼Œåˆ°åæœŸæˆ‘ä»¬çš„é¡¹ç›®å¯èƒ½ä¼šå¯¼å…¥å¾ˆå¤šä¾èµ–ï¼Œæ·»åŠ æ³¨é‡Šä¼šå¤§å¹…åº¦æé«˜é˜…è¯»æ•ˆç‡ --&gt;\n&lt;dependencies&gt;\n    &lt;!--  Springæ¡†æ¶ä¾èµ–  --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;&#x2F;groupId&gt;\n        &lt;artifactId&gt;spring-security-web&lt;&#x2F;artifactId&gt;\n        &lt;version&gt;5.5.3&lt;&#x2F;version&gt;\n    &lt;&#x2F;dependency&gt;\n  \t&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;&#x2F;groupId&gt;\n        &lt;artifactId&gt;spring-security-config&lt;&#x2F;artifactId&gt;\n        &lt;version&gt;5.5.3&lt;&#x2F;version&gt;\n    &lt;&#x2F;dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;&#x2F;artifactId&gt;\n        &lt;version&gt;5.3.14&lt;&#x2F;version&gt;\n    &lt;&#x2F;dependency&gt;\n\n    &lt;!--  æŒä¹…å±‚æ¡†æ¶ä¾èµ–  --&gt;\n\t\t&lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;&#x2F;groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;&#x2F;artifactId&gt;\n            &lt;version&gt;8.0.27&lt;&#x2F;version&gt;\n        &lt;&#x2F;dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mybatis&lt;&#x2F;groupId&gt;\n            &lt;artifactId&gt;mybatis-spring&lt;&#x2F;artifactId&gt;\n            &lt;version&gt;2.0.6&lt;&#x2F;version&gt;\n        &lt;&#x2F;dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mybatis&lt;&#x2F;groupId&gt;\n            &lt;artifactId&gt;mybatis&lt;&#x2F;artifactId&gt;\n            &lt;version&gt;3.5.7&lt;&#x2F;version&gt;\n        &lt;&#x2F;dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;&#x2F;artifactId&gt;\n            &lt;version&gt;5.3.14&lt;&#x2F;version&gt;\n        &lt;&#x2F;dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.zaxxer&lt;&#x2F;groupId&gt;\n            &lt;artifactId&gt;HikariCP&lt;&#x2F;artifactId&gt;\n            &lt;version&gt;3.4.5&lt;&#x2F;version&gt;\n        &lt;&#x2F;dependency&gt;\n\n    &lt;!--  å…¶ä»–å·¥å…·æ¡†æ¶ä¾èµ–ï¼šLombokã€Slf4j  --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;&#x2F;groupId&gt;\n        &lt;artifactId&gt;lombok&lt;&#x2F;artifactId&gt;\n        &lt;version&gt;1.18.22&lt;&#x2F;version&gt;\n    &lt;&#x2F;dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;&#x2F;groupId&gt;\n        &lt;artifactId&gt;slf4j-jdk14&lt;&#x2F;artifactId&gt;\n        &lt;version&gt;1.7.32&lt;&#x2F;version&gt;\n    &lt;&#x2F;dependency&gt;\n\n    &lt;!--  ServletAPI  --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;&#x2F;groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;&#x2F;artifactId&gt;\n        &lt;version&gt;4.0.1&lt;&#x2F;version&gt;\n        &lt;scope&gt;provided&lt;&#x2F;scope&gt;\n    &lt;&#x2F;dependency&gt;\n\n    &lt;!--  JUnitä¾èµ–  --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;&#x2F;groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;&#x2F;artifactId&gt;\n        &lt;version&gt;$&#123;junit.version&#125;&lt;&#x2F;version&gt;\n        &lt;scope&gt;test&lt;&#x2F;scope&gt;\n    &lt;&#x2F;dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;&#x2F;groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;&#x2F;artifactId&gt;\n        &lt;version&gt;$&#123;junit.version&#125;&lt;&#x2F;version&gt;\n        &lt;scope&gt;test&lt;&#x2F;scope&gt;\n    &lt;&#x2F;dependency&gt;\n&lt;&#x2F;dependencies&gt;\n\næ¥ç€åˆ›å»ºInitializeræ¥é…ç½®Webåº”ç”¨ç¨‹åºï¼š\npublic class MvcInitializer extends AbstractAnnotationConfigDispatcherServletInitializer &#123;\n\n    @Override\n    protected Class&lt;?&gt;[] getRootConfigClasses() &#123;\n        return new Class[]&#123;RootConfiguration.class&#125;;\n    &#125;\n\n    @Override\n    protected Class&lt;?&gt;[] getServletConfigClasses() &#123;\n        return new Class[]&#123;MvcConfiguration.class&#125;;\n    &#125;\n\n    @Override\n    protected String[] getServletMappings() &#123;\n        return new String[]&#123;&quot;&#x2F;&quot;&#125;;\n    &#125;\n&#125;\n\nåˆ›å»ºMvcé…ç½®ç±»ï¼š\n@ComponentScan(&quot;book.manager.controller&quot;)\n@Configuration\n@EnableWebMvc\npublic class MvcConfiguration implements WebMvcConfigurer &#123;\n\n    &#x2F;&#x2F;æˆ‘ä»¬éœ€è¦ä½¿ç”¨ThymeleafViewResolverä½œä¸ºè§†å›¾è§£æå™¨ï¼Œå¹¶è§£ææˆ‘ä»¬çš„HTMLé¡µé¢\n    @Bean\n    public ThymeleafViewResolver thymeleafViewResolver(@Autowired SpringTemplateEngine springTemplateEngine)&#123;\n        ThymeleafViewResolver resolver &#x3D; new ThymeleafViewResolver();\n        resolver.setOrder(1);\n        resolver.setCharacterEncoding(&quot;UTF-8&quot;);\n        resolver.setTemplateEngine(springTemplateEngine);\n        return resolver;\n    &#125;\n\n    &#x2F;&#x2F;é…ç½®æ¨¡æ¿è§£æå™¨\n    @Bean\n    public SpringResourceTemplateResolver templateResolver()&#123;\n        SpringResourceTemplateResolver resolver &#x3D; new SpringResourceTemplateResolver();\n        resolver.setSuffix(&quot;.html&quot;);\n        resolver.setPrefix(&quot;&#x2F;WEB-INF&#x2F;template&#x2F;&quot;);\n        return resolver;\n    &#125;\n\n    &#x2F;&#x2F;é…ç½®æ¨¡æ¿å¼•æ“Bean\n    @Bean\n    public SpringTemplateEngine springTemplateEngine(@Autowired ITemplateResolver resolver)&#123;\n        SpringTemplateEngine engine &#x3D; new SpringTemplateEngine();\n        engine.setTemplateResolver(resolver);\n        return engine;\n    &#125;\n\n    &#x2F;&#x2F;å¼€å¯é™æ€èµ„æºå¤„ç†\n    @Override\n    public void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) &#123;\n        configurer.enable();\n    &#125;\n\n    &#x2F;&#x2F;é™æ€èµ„æºè·¯å¾„é…ç½®\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) &#123;\n        registry.addResourceHandler(&quot;&#x2F;static&#x2F;**&quot;).addResourceLocations(&quot;&#x2F;WEB-INF&#x2F;static&#x2F;&quot;);\n    &#125;\n&#125;\n\nåˆ›å»ºRooté…ç½®ç±»ï¼š\n@Configuration\npublic class RootConfiguration &#123;\n\n&#125;\n\næœ€ååˆ›å»ºä¸€ä¸ªä¸“ç”¨äºå“åº”é¡µé¢çš„Controllerå³å¯ï¼š\n&#x2F;**\n * ä¸“ç”¨äºå¤„ç†é¡µé¢å“åº”çš„æ§åˆ¶å™¨\n *&#x2F;\n@Controller\npublic class PageController &#123;\n\n    @RequestMapping(&quot;&#x2F;index&quot;)\n    public String login()&#123;\n        return &quot;index&quot;;\n    &#125;\n&#125;\n\næ¥ç€æˆ‘ä»¬éœ€è¦å°†å‰ç«¯é¡µé¢æ”¾åˆ°å¯¹åº”çš„æ–‡ä»¶å¤¹ä¸­ï¼Œç„¶åå¼€å¯æœåŠ¡å™¨å¹¶é€šè¿‡æµè§ˆå™¨ï¼ŒæˆåŠŸè®¿é—®ã€‚\næ¥ç€æˆ‘ä»¬éœ€è¦é…ç½®SpringSecurityï¼Œä¸Mvcä¸€æ ·ï¼Œéœ€è¦ä¸€ä¸ªåˆå§‹åŒ–å™¨ï¼š\npublic class SecurityInitializer extends AbstractSecurityWebApplicationInitializer &#123;\n    &#x2F;&#x2F;ä¸ç”¨é‡å†™ä»»ä½•å†…å®¹\n  \t&#x2F;&#x2F;è¿™é‡Œå®é™…ä¸Šä¼šè‡ªåŠ¨æ³¨å†Œä¸€ä¸ªFilterï¼ŒSpringSecurityåº•å±‚å°±æ˜¯ä¾é Nä¸ªè¿‡æ»¤å™¨å®ç°çš„ï¼Œæˆ‘ä»¬ä¹‹åå†æ¢è®¨\n&#125;\n\næ¥ç€æˆ‘ä»¬éœ€è¦å†åˆ›å»ºä¸€ä¸ªé…ç½®ç±»ç”¨äºé…ç½®SpringSecurityï¼š\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter &#123;\n\t\t&#x2F;&#x2F;ç»§æ‰¿WebSecurityConfigurerAdapterï¼Œä¹‹åä¼šè¿›è¡Œé…ç½®\n&#125;\n\næ¥ç€åœ¨æ ¹å®¹å™¨ä¸­æ·»åŠ æ­¤é…ç½®æ–‡ä»¶å³å¯ï¼š\n@Override\nprotected Class&lt;?&gt;[] getRootConfigClasses() &#123;\n    return new Class[]&#123;RootConfiguration.class, SecurityConfiguration.class&#125;;\n&#125;\n\nè¿™æ ·ï¼ŒSpringSecurityçš„é…ç½®å°±å®Œæˆäº†ï¼Œæˆ‘ä»¬å†æ¬¡è¿è¡Œé¡¹ç›®ï¼Œä¼šå‘ç°æ— æ³•è¿›å…¥çš„æˆ‘ä»¬çš„é¡µé¢ä¸­ï¼Œæ— è®ºæˆ‘ä»¬è®¿é—®å“ªä¸ªé¡µé¢ï¼Œéƒ½ä¼šè¿›å…¥åˆ°SpringSecurityä¸ºæˆ‘ä»¬æä¾›çš„ä¸€ä¸ªé»˜è®¤ç™»å½•é¡µé¢ï¼Œä¹‹åæˆ‘ä»¬ä¼šè®²è§£å¦‚ä½•è¿›è¡Œé…ç½®ã€‚\nè‡³æ­¤ï¼Œé¡¹ç›®ç¯å¢ƒæ­å»ºå®Œæˆã€‚\n\nè®¤è¯ç›´æ¥è®¤è¯æ—¢ç„¶æˆ‘ä»¬çš„å›¾ä¹¦ç®¡ç†ç³»ç»Ÿè¦æ±‚ç”¨æˆ·ç™»å½•ä¹‹åæ‰èƒ½ä½¿ç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬é¦–å…ˆè¦åšçš„å°±æ˜¯å®ç°ç”¨æˆ·éªŒè¯ï¼Œè¦å®ç°ç”¨æˆ·éªŒè¯ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œä¸€äº›é…ç½®ï¼š\n@Override\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception &#123;\n    BCryptPasswordEncoder encoder &#x3D; new BCryptPasswordEncoder();  &#x2F;&#x2F;è¿™é‡Œä½¿ç”¨SpringSecurityæä¾›çš„BCryptPasswordEncoder\n    auth\n            .inMemoryAuthentication() &#x2F;&#x2F;ç›´æ¥éªŒè¯æ–¹å¼ï¼Œä¹‹åä¼šè®²è§£ä½¿ç”¨æ•°æ®åº“éªŒè¯\n            .passwordEncoder(encoder) &#x2F;&#x2F;å¯†ç åŠ å¯†å™¨\n            .withUser(&quot;test&quot;)   &#x2F;&#x2F;ç”¨æˆ·å\n            .password(encoder.encode(&quot;123456&quot;))   &#x2F;&#x2F;è¿™é‡Œéœ€è¦å¡«å†™åŠ å¯†åçš„å¯†ç \n            .roles(&quot;user&quot;);   &#x2F;&#x2F;ç”¨æˆ·çš„è§’è‰²ï¼ˆä¹‹åè®²è§£ï¼‰\n&#125;\n\nSpringSecurityçš„å¯†ç æ ¡éªŒå¹¶ä¸æ˜¯ç›´æ¥ä½¿ç”¨åŸæ–‡è¿›è¡Œæ¯”è¾ƒï¼Œè€Œæ˜¯ä½¿ç”¨åŠ å¯†ç®—æ³•å°†å¯†ç è¿›è¡ŒåŠ å¯†ï¼ˆæ›´å‡†ç¡®åœ°è¯´åº”è¯¥è¿›è¡ŒHashå¤„ç†ï¼Œæ­¤è¿‡ç¨‹æ˜¯ä¸å¯é€†çš„ï¼Œæ— æ³•è§£å¯†ï¼‰ï¼Œæœ€åå°†ç”¨æˆ·æä¾›çš„å¯†ç ä»¥åŒæ ·çš„æ–¹å¼åŠ å¯†åä¸å¯†æ–‡è¿›è¡Œæ¯”è¾ƒã€‚å¯¹äºæˆ‘ä»¬æ¥è¯´ï¼Œç”¨æˆ·æä¾›çš„å¯†ç å±äºéšç§ä¿¡æ¯ï¼Œç›´æ¥æ˜æ–‡å­˜å‚¨å¹¶ä¸å¥½ï¼Œè€Œä¸”å¦‚æœæ•°æ®åº“å†…å®¹è¢«çªƒå–ï¼Œé‚£ä¹ˆæ‰€æœ‰ç”¨æˆ·çš„å¯†ç å°†å…¨éƒ¨æ³„éœ²ï¼Œè¿™æ˜¯æˆ‘ä»¬ä¸å¸Œæœ›çœ‹åˆ°çš„ç»“æœï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æ—¢èƒ½éšè—ç”¨æˆ·å¯†ç ä¹Ÿèƒ½å®Œæˆè®¤è¯çš„æœºåˆ¶ï¼Œè€ŒHashå¤„ç†å°±æ˜¯ä¸€ç§å¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆï¼Œé€šè¿‡å°†ç”¨æˆ·çš„å¯†ç è¿›è¡ŒHashå€¼è®¡ç®—ï¼Œè®¡ç®—å‡ºæ¥çš„ç»“æœæ— æ³•è¿˜åŸä¸ºåŸæ–‡ï¼Œå¦‚æœéœ€è¦éªŒè¯æ˜¯å¦ä¸æ­¤å¯†ç ä¸€è‡´ï¼Œé‚£ä¹ˆéœ€è¦ä»¥åŒæ ·çš„æ–¹å¼åŠ å¯†å†æ¯”è¾ƒä¸¤ä¸ªHashå€¼æ˜¯å¦ä¸€è‡´ï¼Œè¿™æ ·å°±å¾ˆå¥½çš„ä¿è¯äº†ç”¨æˆ·å¯†ç çš„å®‰å…¨æ€§ã€‚\n\næˆ‘ä»¬è¿™é‡Œä½¿ç”¨çš„æ˜¯SpringSecurityæä¾›çš„BCryptPasswordEncoderï¼Œè‡³äºåŠ å¯†è¿‡ç¨‹ï¼Œè¿™é‡Œä¸åšæ·±å…¥è®²è§£ã€‚\nç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•ä½¿ç”¨æ­¤è´¦å·ç™»å½•ï¼Œåœ¨ç™»å½•åï¼Œå°±å¯ä»¥éšæ„è®¿é—®æˆ‘ä»¬çš„ç½‘ç«™å†…å®¹äº†ã€‚\nä½¿ç”¨æ•°æ®åº“è®¤è¯å‰é¢æˆ‘ä»¬å·²ç»å®ç°äº†ç›´æ¥è®¤è¯çš„æ–¹å¼ï¼Œé‚£ä¹ˆå¦‚ä½•å°†å…¶è¿æ¥åˆ°æ•°æ®åº“ï¼Œé€šè¿‡æŸ¥è¯¢æ•°æ®åº“ä¸­çš„å†…å®¹æ¥è¿›è¡Œç”¨æˆ·ç™»å½•å‘¢ï¼Ÿ\né¦–å…ˆæˆ‘ä»¬éœ€è¦å°†åŠ å¯†åçš„å¯†ç æ·»åŠ åˆ°æ•°æ®åº“ä¸­ä½œä¸ºç”¨æˆ·å¯†ç ï¼š\npublic class MainTest &#123;\n\n    @Test\n    public void test()&#123;\n        BCryptPasswordEncoder encoder &#x3D; new BCryptPasswordEncoder();\n        System.out.println(encoder.encode(&quot;123456&quot;));\n    &#125;\n&#125;\n\nè¿™é‡Œç¼–å†™ä¸€ä¸ªæµ‹è¯•æ¥å®Œæˆã€‚\nç„¶åæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªServiceå®ç°ï¼Œå®ç°çš„æ˜¯UserDetailsServiceï¼Œå®ƒæ”¯æŒæˆ‘ä»¬è‡ªå·±è¿”å›ä¸€ä¸ªUserDetailså¯¹è±¡ï¼Œæˆ‘ä»¬åªéœ€ç›´æ¥è¿”å›ä¸€ä¸ªåŒ…å«æ•°æ®åº“ä¸­çš„ç”¨æˆ·åã€å¯†ç ç­‰ä¿¡æ¯çš„UserDetailså³å¯ï¼ŒSpringSecurityä¼šè‡ªåŠ¨è¿›è¡Œæ¯”å¯¹ã€‚\n@Service\npublic class UserAuthService implements UserDetailsService &#123;\n\n    @Resource\n    UserMapper mapper;\n\n    @Override\n    public UserDetails loadUserByUsername(String s) throws UsernameNotFoundException &#123;\n        String password &#x3D; mapper.getPasswordByUsername(s);  &#x2F;&#x2F;ä»æ•°æ®åº“æ ¹æ®ç”¨æˆ·åè·å–å¯†ç \n        if(password &#x3D;&#x3D; null)\n            throw new UsernameNotFoundException(&quot;ç™»å½•å¤±è´¥ï¼Œç”¨æˆ·åæˆ–å¯†ç é”™è¯¯ï¼&quot;);\n        return User   &#x2F;&#x2F;è¿™é‡Œéœ€è¦è¿”å›UserDetailsï¼ŒSpringSecurityä¼šæ ¹æ®ç»™å®šçš„ä¿¡æ¯è¿›è¡Œæ¯”å¯¹\n                .withUsername(s)\n                .password(password)   &#x2F;&#x2F;ç›´æ¥ä»æ•°æ®åº“å–çš„å¯†ç \n                .roles(&quot;user&quot;)   &#x2F;&#x2F;ç”¨æˆ·è§’è‰²\n                .build();\n    &#125;\n&#125;\n\nåˆ«å¿˜äº†åœ¨é…ç½®ç±»ä¸­è¿›è¡Œæ‰«æï¼Œå°†å…¶æ³¨å†Œä¸ºBeanï¼Œæ¥ç€æˆ‘ä»¬éœ€è¦ç¼–å†™ä¸€ä¸ªMapperç”¨äºå’Œæ•°æ®åº“äº¤äº’ï¼š\n@Mapper\npublic interface UserMapper &#123;\n\n    @Select(&quot;select password from users where username &#x3D; #&#123;username&#125;&quot;)\n    String getPasswordByUsername(String username);\n&#125;\n\nå’Œä¹‹å‰ä¸€æ ·ï¼Œé…ç½®ä¸€ä¸‹Mybatiså’Œæ•°æ®æºï¼š\n@ComponentScans(&#123;\n        @ComponentScan(&quot;book.manager.service&quot;)\n&#125;)\n@MapperScan(&quot;book.manager.mapper&quot;)\n@Configuration\npublic class RootConfiguration &#123;\n    @Bean\n    public DataSource dataSource()&#123;\n        HikariDataSource dataSource &#x3D; new HikariDataSource();\n        dataSource.setJdbcUrl(&quot;jdbc:mysql:&#x2F;&#x2F;localhost:3306&#x2F;study&quot;);\n        dataSource.setDriverClassName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n        dataSource.setUsername(&quot;root&quot;);\n        dataSource.setPassword(&quot;123456&quot;);\n        return dataSource;\n    &#125;\n\n    @Bean\n    public SqlSessionFactoryBean sqlSessionFactoryBean(@Autowired DataSource dataSource)&#123;\n        SqlSessionFactoryBean bean &#x3D; new SqlSessionFactoryBean();\n        bean.setDataSource(dataSource);\n        return bean;\n    &#125;\n&#125;\n\næœ€åå†ä¿®æ”¹ä¸€ä¸‹Securityé…ç½®ï¼š\n@Override\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception &#123;\n    auth\n      .userDetailsService(service)   &#x2F;&#x2F;ä½¿ç”¨è‡ªå®šä¹‰çš„Serviceå®ç°ç±»è¿›è¡ŒéªŒè¯\n      .passwordEncoder(new BCryptPasswordEncoder());   &#x2F;&#x2F;ä¾ç„¶ä½¿ç”¨BCryptPasswordEncoder\n&#125;\n\nè¿™æ ·ï¼Œç™»é™†å°±ä¼šä»æ•°æ®åº“ä¸­è¿›è¡ŒæŸ¥è¯¢ã€‚\nè‡ªå®šä¹‰ç™»å½•ç•Œé¢å‰é¢æˆ‘ä»¬å·²ç»äº†è§£äº†å¦‚ä½•å®ç°æ•°æ®åº“æƒé™éªŒè¯ï¼Œé‚£ä¹ˆç°åœ¨æˆ‘ä»¬æ¥ç€æ¥çœ‹çœ‹ï¼Œå¦‚ä½•å°†ç™»é™†é¡µé¢ä¿®æ”¹ä¸ºæˆ‘ä»¬è‡ªå®šä¹‰çš„æ ·å¼ã€‚\né¦–å…ˆæˆ‘ä»¬è¦äº†è§£ä¸€ä¸‹SpringSecurityæ˜¯å¦‚ä½•è¿›è¡Œç™»é™†éªŒè¯çš„ï¼Œæˆ‘ä»¬å¯ä»¥è§‚å¯Ÿä¸€ä¸‹é»˜è®¤çš„ç™»é™†ç•Œé¢ä¸­ï¼Œè¡¨å•å†…æœ‰å“ªäº›å†…å®¹ï¼š\n&lt;div class&#x3D;&quot;container&quot;&gt;\n      &lt;form class&#x3D;&quot;form-signin&quot; method&#x3D;&quot;post&quot; action&#x3D;&quot;&#x2F;book_manager&#x2F;login&quot;&gt;\n        &lt;h2 class&#x3D;&quot;form-signin-heading&quot;&gt;Please sign in&lt;&#x2F;h2&gt;\n        &lt;p&gt;\n          &lt;label for&#x3D;&quot;username&quot; class&#x3D;&quot;sr-only&quot;&gt;Username&lt;&#x2F;label&gt;\n          &lt;input type&#x3D;&quot;text&quot; id&#x3D;&quot;username&quot; name&#x3D;&quot;username&quot; class&#x3D;&quot;form-control&quot; placeholder&#x3D;&quot;Username&quot; required&#x3D;&quot;&quot; autofocus&#x3D;&quot;&quot;&gt;\n        &lt;&#x2F;p&gt;\n        &lt;p&gt;\n          &lt;label for&#x3D;&quot;password&quot; class&#x3D;&quot;sr-only&quot;&gt;Password&lt;&#x2F;label&gt;\n          &lt;input type&#x3D;&quot;password&quot; id&#x3D;&quot;password&quot; name&#x3D;&quot;password&quot; class&#x3D;&quot;form-control&quot; placeholder&#x3D;&quot;Password&quot; required&#x3D;&quot;&quot;&gt;\n        &lt;&#x2F;p&gt;\n&lt;input name&#x3D;&quot;_csrf&quot; type&#x3D;&quot;hidden&quot; value&#x3D;&quot;83421936-b84b-44e3-be47-58bb2c14571a&quot;&gt;\n        &lt;button class&#x3D;&quot;btn btn-lg btn-primary btn-block&quot; type&#x3D;&quot;submit&quot;&gt;Sign in&lt;&#x2F;button&gt;\n      &lt;&#x2F;form&gt;\n&lt;&#x2F;div&gt;\n\næˆ‘ä»¬å‘ç°ï¼Œé¦–å…ˆæœ‰ä¸€ä¸ªç”¨æˆ·åçš„è¾“å…¥æ¡†å’Œä¸€ä¸ªå¯†ç çš„è¾“å…¥æ¡†ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å…¶ä¸­å¡«å†™ç”¨æˆ·åå’Œå¯†ç ï¼Œä½†æ˜¯æˆ‘ä»¬å‘ç°ï¼Œé™¤äº†è¿™ä¸¤ä¸ªè¾“å…¥æ¡†ä»¥å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªinputæ ‡ç­¾ï¼Œå®ƒæ˜¯éšè—çš„ï¼Œå¹¶ä¸”å®ƒå­˜å‚¨äº†ä¸€ä¸²ç±»ä¼¼äºHashå€¼çš„ä¸œè¥¿ï¼Œåç§°ä¸ºâ€_csrfâ€ï¼Œå…¶å®çœ‹åå­—å°±çŸ¥é“ï¼Œè¿™ç©æ„å…«æˆéƒ½æ˜¯ä¸ºäº†é˜²æ­¢CSRFæ”»å‡»è€Œå­˜åœ¨çš„ã€‚\nä»Spring Security 4.0å¼€å§‹ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¼šå¯ç”¨CSRFä¿æŠ¤ï¼Œä»¥é˜²æ­¢CSRFæ”»å‡»åº”ç”¨ç¨‹åºï¼ŒSpring Security CSRFä¼šé’ˆå¯¹PATCHï¼ŒPOSTï¼ŒPUTå’ŒDELETEæ–¹æ³•çš„è¯·æ±‚ï¼ˆä¸ä»…ä»…åªæ˜¯ç™»é™†è¯·æ±‚ï¼Œè¿™é‡ŒæŒ‡çš„æ˜¯ä»»ä½•è¯·æ±‚è·¯å¾„ï¼‰è¿›è¡Œé˜²æŠ¤ï¼Œè€Œè¿™é‡Œçš„ç™»é™†è¡¨å•æ­£å¥½æ˜¯ä¸€ä¸ªPOSTç±»å‹çš„è¯·æ±‚ã€‚åœ¨é»˜è®¤é…ç½®ä¸‹ï¼Œæ— è®ºæ˜¯å¦ç™»é™†ï¼Œé¡µé¢ä¸­åªè¦å‘èµ·äº†PATCHï¼ŒPOSTï¼ŒPUTå’ŒDELETEè¯·æ±‚ä¸€å®šä¼šè¢«æ‹’ç»ï¼Œå¹¶è¿”å›403é”™è¯¯ï¼ˆæ³¨æ„ï¼Œè¿™é‡Œæ˜¯ä¸ªç©¶æå¤§å‘ï¼‰ï¼Œéœ€è¦åœ¨è¯·æ±‚çš„æ—¶å€™åŠ å…¥csrfTokenæ‰è¡Œï¼Œä¹Ÿå°±æ˜¯â€83421936-b84b-44e3-be47-58bb2c14571aâ€ï¼Œæ­£æ˜¯csrfTokenï¼Œå¦‚æœæäº¤çš„æ˜¯è¡¨å•ç±»å‹çš„æ•°æ®ï¼Œé‚£ä¹ˆè¡¨å•ä¸­å¿…é¡»åŒ…å«æ­¤Tokenå­—ç¬¦ä¸²ï¼Œé”®åç§°ä¸ºâ€_csrfâ€ï¼›å¦‚æœæ˜¯JSONæ•°æ®æ ¼å¼å‘é€çš„ï¼Œé‚£ä¹ˆå°±éœ€è¦åœ¨è¯·æ±‚å¤´ä¸­åŒ…å«æ­¤Tokenå­—ç¬¦ä¸²ã€‚\nç»¼ä¸Šæ‰€è¿°ï¼Œæˆ‘ä»¬æœ€åæäº¤çš„ç™»é™†è¡¨å•ï¼Œé™¤äº†å¿…é¡»çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œè¿˜åŒ…å«äº†ä¸€ä¸ªcsrfTokenå­—ç¬¦ä¸²ç”¨äºéªŒè¯ï¼Œé˜²æ­¢æ”»å‡»ã€‚\nå› æ­¤ï¼Œæˆ‘ä»¬åœ¨ç¼–å†™è‡ªå·±çš„ç™»é™†é¡µé¢æ—¶ï¼Œéœ€è¦æ·»åŠ è¿™æ ·ä¸€ä¸ªè¾“å…¥æ¡†ï¼š\n&lt;input type&#x3D;&quot;text&quot; th:name&#x3D;&quot;$&#123;_csrf.getParameterName()&#125;&quot; th:value&#x3D;&quot;$&#123;_csrf.token&#125;&quot; hidden&gt;\n\néšè—å³å¯ï¼Œä½†æ˜¯å¿…é¡»è¦æœ‰ï¼Œè€ŒTokençš„é”®åç§°å’ŒTokenå­—ç¬¦ä¸²å¯ä»¥é€šè¿‡Thymeleafä»Modelä¸­è·å–ï¼ŒSpringSecurityä¼šè‡ªåŠ¨å°†Tokenä¿¡æ¯æ·»åŠ åˆ°Modelä¸­ã€‚\næ¥ç€æˆ‘ä»¬å°±å¯ä»¥å°†æˆ‘ä»¬è‡ªå·±çš„é¡µé¢æ›¿æ¢æ‰é»˜è®¤çš„é¡µé¢äº†ï¼Œæˆ‘ä»¬éœ€è¦é‡å†™å¦ä¸€ä¸ªæ–¹æ³•æ¥å®ç°ï¼š\n@Override\nprotected void configure(HttpSecurity http) throws Exception &#123;\n    http\n            .authorizeRequests()   &#x2F;&#x2F;é¦–å…ˆéœ€è¦é…ç½®å“ªäº›è¯·æ±‚ä¼šè¢«æ‹¦æˆªï¼Œå“ªäº›è¯·æ±‚å¿…é¡»å…·æœ‰ä»€ä¹ˆè§’è‰²æ‰èƒ½è®¿é—®\n            .antMatchers(&quot;&#x2F;static&#x2F;**&quot;).permitAll()    &#x2F;&#x2F;é™æ€èµ„æºï¼Œä½¿ç”¨permitAllæ¥è¿è¡Œä»»ä½•äººè®¿é—®ï¼ˆæ³¨æ„ä¸€å®šè¦æ”¾åœ¨å‰é¢ï¼‰\n            .antMatchers(&quot;&#x2F;**&quot;).hasRole(&quot;user&quot;)     &#x2F;&#x2F;æ‰€æœ‰è¯·æ±‚å¿…é¡»ç™»é™†å¹¶ä¸”æ˜¯userè§’è‰²æ‰å¯ä»¥è®¿é—®ï¼ˆä¸åŒ…å«ä¸Šé¢çš„é™æ€èµ„æºï¼‰\n&#125;\n\né¦–å…ˆæˆ‘ä»¬éœ€è¦é…ç½®æ‹¦æˆªè§„åˆ™ï¼Œä¹Ÿå°±æ˜¯å½“ç”¨æˆ·æœªç™»å½•æ—¶ï¼Œå“ªäº›è·¯å¾„å¯ä»¥è®¿é—®ï¼Œå“ªäº›è·¯å¾„ä¸å¯ä»¥è®¿é—®ï¼Œå¦‚æœä¸å¯ä»¥è®¿é—®ï¼Œé‚£ä¹ˆä¼šè¢«è‡ªåŠ¨é‡å®šå‘åˆ°ç™»é™†é¡µé¢ã€‚\næ¥ç€æˆ‘ä»¬éœ€è¦é…ç½®è¡¨å•ç™»é™†å’Œç™»å½•é¡µé¢ï¼š\n.formLogin()       &#x2F;&#x2F;é…ç½®Formè¡¨å•ç™»é™†\n.loginPage(&quot;&#x2F;login&quot;)       &#x2F;&#x2F;ç™»é™†é¡µé¢åœ°å€ï¼ˆGETï¼‰\n.loginProcessingUrl(&quot;&#x2F;doLogin&quot;)    &#x2F;&#x2F;formè¡¨å•æäº¤åœ°å€ï¼ˆPOSTï¼‰\n.defaultSuccessUrl(&quot;&#x2F;index&quot;)    &#x2F;&#x2F;ç™»é™†æˆåŠŸåè·³è½¬çš„é¡µé¢ï¼Œä¹Ÿå¯ä»¥é€šè¿‡Handlerå®ç°é«˜åº¦è‡ªå®šä¹‰\n.permitAll()    &#x2F;&#x2F;ç™»é™†é¡µé¢ä¹Ÿéœ€è¦å…è®¸æ‰€æœ‰äººè®¿é—®\n\néœ€è¦é…ç½®ç™»é™†é¡µé¢çš„åœ°å€å’Œç™»é™†è¯·æ±‚å‘é€çš„åœ°å€ï¼Œè¿™é‡Œç™»é™†é¡µé¢å¡«å†™ä¸º/loginï¼Œç™»é™†è¯·æ±‚åœ°å€ä¸º/doLoginï¼Œç™»é™†é¡µé¢éœ€è¦æˆ‘ä»¬è‡ªå·±å»ç¼–å†™Controlleræ¥å®ç°ï¼Œç™»é™†è¯·æ±‚æäº¤å¤„ç†ç”±SpringSecurityæä¾›ï¼Œåªéœ€è¦å†™è·¯å¾„å°±å¯ä»¥äº†ã€‚\n@RequestMapping(&quot;&#x2F;login&quot;)\npublic String login()&#123;\n    return &quot;login&quot;;\n&#125;\n\né…ç½®å¥½åï¼Œæˆ‘ä»¬è¿˜éœ€è¦é…ç½®ä¸€ä¸‹é€€å‡ºç™»é™†æ“ä½œï¼š\n.and()\n.logout()\n.logoutUrl(&quot;&#x2F;logout&quot;)    &#x2F;&#x2F;é€€å‡ºç™»é™†çš„è¯·æ±‚åœ°å€\n.logoutSuccessUrl(&quot;&#x2F;login&quot;);    &#x2F;&#x2F;é€€å‡ºåé‡å®šå‘çš„åœ°å€\n\næ³¨æ„è¿™é‡Œçš„é€€å‡ºç™»é™†è¯·æ±‚ä¹Ÿå¿…é¡»æ˜¯POSTè¯·æ±‚æ–¹å¼ï¼ˆå› ä¸ºå¼€å¯äº†CSFRé˜²æŠ¤ï¼Œéœ€è¦æ·»åŠ Tokenï¼‰ï¼Œå¦åˆ™æ— æ³•è®¿é—®ï¼Œè¿™é‡Œä¸»é¡µé¢å°±è¿™æ ·å†™ï¼š\n&lt;body&gt;\n    &lt;form action&#x3D;&quot;logout&quot; method&#x3D;&quot;post&quot;&gt;\n        &lt;input type&#x3D;&quot;text&quot; th:name&#x3D;&quot;$&#123;_csrf.getParameterName()&#125;&quot; th:value&#x3D;&quot;$&#123;_csrf.token&#125;&quot; hidden&gt;\n        &lt;button&gt;é€€å‡ºç™»é™†&lt;&#x2F;button&gt;\n    &lt;&#x2F;form&gt;\n&lt;&#x2F;body&gt;\n&lt;&#x2F;html&gt;\n\nç™»é™†æˆåŠŸåï¼Œç‚¹å‡»é€€å‡ºç™»é™†æŒ‰é’®ï¼Œå°±å¯ä»¥æˆåŠŸé€€å‡ºå¹¶å›åˆ°ç™»é™†ç•Œé¢äº†ã€‚\nç”±äºæˆ‘ä»¬åœ¨å­¦ä¹ çš„è¿‡ç¨‹ä¸­æš‚æ—¶ç”¨ä¸åˆ°CSFRé˜²æŠ¤ï¼Œå› æ­¤å¯ä»¥å°†å…¶å…³é—­ï¼Œè¿™æ ·ç›´æ¥ä½¿ç”¨getè¯·æ±‚ä¹Ÿå¯ä»¥é€€å‡ºç™»é™†ï¼Œå¹¶ä¸”ç™»é™†è¯·æ±‚ä¸­æ— éœ€å†æºå¸¦Tokenäº†ï¼Œæ¨èå…³é—­ï¼Œå› ä¸ºä¸å…³é—­åé¢å¯èƒ½ä¼šå› ä¸ºæ²¡è€ƒè™‘CSRFé˜²æŠ¤è€Œé‡åˆ°ä¸€è¿ä¸²çš„é—®é¢˜ï¼š\n.and()\n.csrf().disable();\n\nè¿™æ ·å°±å¯ä»¥ç›´æ¥å…³é—­æ­¤åŠŸèƒ½äº†ï¼Œä½†æ˜¯æ³¨æ„ï¼Œè¿™æ ·å°†ä¼šå¯¼è‡´æ‚¨çš„Webç½‘ç«™å­˜åœ¨å®‰å…¨æ¼æ´ã€‚ï¼ˆè¿™é‡Œä¸ºäº†ä¹‹åçœäº‹ï¼Œå°±å…³é—­ä¿æŠ¤äº†ï¼Œä½†æ˜¯ä¸€å®šè¦è®°å¾—åœ¨ä¸å…³é—­çš„æƒ…å†µä¸‹éœ€è¦æºå¸¦Tokenè®¿é—®ï¼‰\n\næˆæƒç”¨æˆ·ç™»å½•åï¼Œå¯èƒ½ä¼šæ ¹æ®ç”¨æˆ·å½“å‰æ˜¯èº«ä»½è¿›è¡Œè§’è‰²åˆ’åˆ†ï¼Œæ¯”å¦‚æˆ‘ä»¬æœ€å¸¸ç”¨çš„QQï¼Œä¸€ä¸ªQQç¾¤é‡Œé¢ï¼Œæœ‰ç¾¤ä¸»ã€ç®¡ç†å‘˜å’Œæ™®é€šç¾¤æˆå‘˜ä¸‰ç§è§’è‰²ï¼Œå…¶ä¸­ç¾¤ä¸»å…·æœ‰æœ€é«˜æƒé™ï¼Œç¾¤ä¸»å¯ä»¥ç®¡ç†æ•´ä¸ªç¾¤çš„ä»»ä½•æ¿å—ï¼Œå¹¶ä¸”å…·æœ‰è§£æ•£å’Œå‡çº§ç¾¤çš„èµ„æ ¼ï¼Œè€Œç®¡ç†å‘˜åªæœ‰ç¾¤ä¸»çš„ä¸€éƒ¨åˆ†æƒé™ï¼Œåªèƒ½ç”¨äºæ—¥å¸¸ç®¡ç†ï¼Œæ™®é€šç¾¤æˆå‘˜åˆ™åªèƒ½è¿›è¡Œæœ€åŸºæœ¬çš„èŠå¤©æ“ä½œã€‚\nå¯¹äºæˆ‘ä»¬æ¥è¯´ï¼Œç”¨æˆ·çš„ä¸€ä¸ªæ“ä½œå®é™…ä¸Šå°±æ˜¯åœ¨è®¿é—®æˆ‘ä»¬æä¾›çš„æ¥å£(ç¼–å†™çš„å¯¹åº”è®¿é—®è·¯å¾„çš„Servletï¼‰ï¼Œæ¯”å¦‚ç™»é™†ï¼Œå°±éœ€è¦è°ƒç”¨/loginæ¥å£ï¼Œé€€å‡ºç™»é™†å°±è¦è°ƒç”¨&#x2F;logoutæ¥å£ï¼Œè€Œæˆ‘ä»¬ä¹‹å‰çš„å›¾ä¹¦ç®¡ç†ç³»ç»Ÿä¸­ï¼Œæ–°å¢å›¾ä¹¦ã€åˆ é™¤å›¾ä¹¦ï¼Œæ‰€æœ‰çš„æ“ä½œéƒ½æœ‰ç€å¯¹åº”çš„Servletæ¥è¿›è¡Œå¤„ç†ã€‚å› æ­¤ï¼Œä»æˆ‘ä»¬å¼€å‘è€…çš„è§’åº¦æ¥è¯´ï¼Œå†³å®šç”¨æˆ·èƒ½å¦ä½¿ç”¨æŸä¸ªåŠŸèƒ½ï¼Œåªéœ€è¦å†³å®šç”¨æˆ·æ˜¯å¦èƒ½å¤Ÿè®¿é—®å¯¹åº”çš„Servletå³å¯ã€‚\næˆ‘ä»¬å¯ä»¥å¤§è‡´åƒä¸‹é¢è¿™æ ·è¿›è¡Œåˆ’åˆ†ï¼š\n\nç¾¤ä¸»ï¼š/loginã€/logoutã€/chatã€/editã€/deleteã€/upgrade\nç®¡ç†å‘˜ï¼š/loginã€/logoutã€/chatã€/edit\næ™®é€šç¾¤æˆå‘˜ï¼š/loginã€/logoutã€/chat\n\nä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯æŒ‡å®šå“ªäº›è¯·æ±‚å¯ä»¥ç”±å“ªäº›ç”¨æˆ·å‘èµ·ã€‚\nSpringSecurityä¸ºæˆ‘ä»¬æä¾›äº†ä¸¤ç§æˆæƒæ–¹å¼ï¼š\n\nåŸºäºæƒé™çš„æˆæƒï¼šåªè¦æ‹¥æœ‰æŸæƒé™çš„ç”¨æˆ·ï¼Œå°±å¯ä»¥è®¿é—®æŸä¸ªè·¯å¾„\nåŸºäºè§’è‰²çš„æˆæƒï¼šæ ¹æ®ç”¨æˆ·å±äºå“ªä¸ªè§’è‰²æ¥å†³å®šæ˜¯å¦å¯ä»¥è®¿é—®æŸä¸ªè·¯å¾„\n\nä¸¤è€…åªæ˜¯æ¦‚å¿µä¸Šçš„ä¸åŒï¼Œå®é™…ä¸Šä½¿ç”¨èµ·æ¥æ•ˆæœå·®ä¸å¤šã€‚è¿™é‡Œæˆ‘ä»¬å°±å…ˆæ¼”ç¤ºä»¥è§’è‰²æ–¹å¼æ¥è¿›è¡Œæˆæƒã€‚\nåŸºäºè§’è‰²çš„æˆæƒç°åœ¨æˆ‘ä»¬å¸Œæœ›åˆ›å»ºä¸¤ä¸ªè§’è‰²ï¼Œæ™®é€šç”¨æˆ·å’Œç®¡ç†å‘˜ï¼Œæ™®é€šç”¨æˆ·åªèƒ½è®¿é—®indexé¡µé¢ï¼Œè€Œç®¡ç†å‘˜å¯ä»¥è®¿é—®ä»»ä½•é¡µé¢ã€‚\né¦–å…ˆæˆ‘ä»¬éœ€è¦å¯¹æ•°æ®åº“ä¸­çš„è§’è‰²è¡¨è¿›è¡Œä¸€äº›ä¿®æ”¹ï¼Œæ·»åŠ ä¸€ä¸ªç”¨æˆ·è§’è‰²å­—æ®µï¼Œå¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„ç”¨æˆ·ï¼ŒTestç”¨æˆ·çš„è§’è‰²ä¸ºuserï¼Œè€ŒAdminç”¨æˆ·çš„è§’è‰²ä¸ºadminã€‚\næ¥ç€æˆ‘ä»¬éœ€è¦é…ç½®SpringSecurityï¼Œå†³å®šå“ªäº›è§’è‰²å¯ä»¥è®¿é—®å“ªäº›é¡µé¢ï¼š\nhttp\n        .authorizeRequests()\n        .antMatchers(&quot;&#x2F;static&#x2F;**&quot;).permitAll()\n  \t\t\t.antMatchers(&quot;&#x2F;index&quot;).hasAnyRole(&quot;user&quot;, &quot;admin&quot;)   &#x2F;&#x2F;indexé¡µé¢å¯ä»¥ç”±useræˆ–adminè®¿é—®\n        .anyRequest().hasRole(&quot;admin&quot;)   &#x2F;&#x2F;é™¤äº†ä¸Šé¢ä»¥å¤–çš„æ‰€æœ‰å†…å®¹ï¼Œåªèƒ½æ˜¯adminè®¿é—®\n\næ¥ç€æˆ‘ä»¬éœ€è¦ç¨å¾®ä¿®æ”¹ä¸€ä¸‹éªŒè¯é€»è¾‘ï¼Œé¦–å…ˆåˆ›å»ºä¸€ä¸ªå®ä½“ç±»ç”¨äºè¡¨ç¤ºæ•°æ®åº“ä¸­çš„ç”¨æˆ·åã€å¯†ç å’Œè§’è‰²ï¼š\n@Data\npublic class AuthUser &#123;\n    String username;\n    String password;\n    String role;\n&#125;\n\næ¥ç€ä¿®æ”¹ä¸€ä¸‹Mapperï¼š\n@Mapper\npublic interface UserMapper &#123;\n\n    @Select(&quot;select * from users where username &#x3D; #&#123;username&#125;&quot;)\n    AuthUser getPasswordByUsername(String username);\n&#125;\n\næœ€åå†ä¿®æ”¹ä¸€ä¸‹Serviceï¼š\n@Override\npublic UserDetails loadUserByUsername(String s) throws UsernameNotFoundException &#123;\n    AuthUser user &#x3D; mapper.getPasswordByUsername(s);\n    if(user &#x3D;&#x3D; null)\n        throw new UsernameNotFoundException(&quot;ç™»å½•å¤±è´¥ï¼Œç”¨æˆ·åæˆ–å¯†ç é”™è¯¯ï¼&quot;);\n    return User\n            .withUsername(user.getUsername())\n            .password(user.getPassword())\n            .roles(user.getRole())\n            .build();\n&#125;\n\nç°åœ¨æˆ‘ä»¬å¯ä»¥å°è¯•ç™»é™†ï¼Œæ¥ç€è®¿é—®ä¸€ä¸‹/indexå’Œ/adminä¸¤ä¸ªé¡µé¢ã€‚\nåŸºäºæƒé™çš„æˆæƒåŸºäºæƒé™çš„æˆæƒä¸è§’è‰²ç±»ä¼¼ï¼Œéœ€è¦ä»¥hasAnyAuthorityæˆ–hasAuthorityè¿›è¡Œåˆ¤æ–­ï¼š\n.anyRequest().hasAnyAuthority(&quot;page:index&quot;)\n\n@Override\npublic UserDetails loadUserByUsername(String s) throws UsernameNotFoundException &#123;\n    AuthUser user &#x3D; mapper.getPasswordByUsername(s);\n    if(user &#x3D;&#x3D; null)\n        throw new UsernameNotFoundException(&quot;ç™»å½•å¤±è´¥ï¼Œç”¨æˆ·åæˆ–å¯†ç é”™è¯¯ï¼&quot;);\n    return User\n            .withUsername(user.getUsername())\n            .password(user.getPassword())\n            .authorities(&quot;page:index&quot;)\n            .build();\n&#125;\n\nä½¿ç”¨æ³¨è§£åˆ¤æ–­æƒé™é™¤äº†ç›´æ¥é…ç½®ä»¥å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä»¥æ³¨è§£å½¢å¼ç›´æ¥é…ç½®ï¼Œé¦–å…ˆéœ€è¦åœ¨é…ç½®ç±»ï¼ˆæ³¨æ„è¿™é‡Œæ˜¯åœ¨Mvcçš„é…ç½®ç±»ä¸Šæ·»åŠ ï¼Œå› ä¸ºè¿™é‡Œåªé’ˆå¯¹Controllerè¿›è¡Œè¿‡æ»¤ï¼Œæ‰€æœ‰çš„Controlleræ˜¯ç”±Mvcé…ç½®ç±»è¿›è¡Œæ³¨å†Œçš„ï¼Œå¦‚æœéœ€è¦ä¸ºServiceæˆ–å…¶ä»–Beanä¹Ÿå¯ç”¨æƒé™åˆ¤æ–­ï¼Œåˆ™éœ€è¦åœ¨Securityçš„é…ç½®ç±»ä¸Šæ·»åŠ ï¼‰ä¸Šå¼€å¯ï¼š\n@EnableGlobalMethodSecurity(prePostEnabled &#x3D; true)\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter &#123;\n\næ¥ç€æˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨éœ€è¦æ·»åŠ æƒé™éªŒè¯çš„è¯·æ±‚æ˜ å°„ä¸Šæ·»åŠ æ³¨è§£ï¼š\n@PreAuthorize(&quot;hasRole(&#39;user&#39;)&quot;)   &#x2F;&#x2F;åˆ¤æ–­æ˜¯å¦ä¸ºuserè§’è‰²ï¼Œåªæœ‰æ­¤è§’è‰²æ‰å¯ä»¥è®¿é—®\n@RequestMapping(&quot;&#x2F;index&quot;)\npublic String index()&#123;\n    return &quot;index&quot;;\n&#125;\n\né€šè¿‡æ·»åŠ @PreAuthorizeæ³¨è§£ï¼Œåœ¨æ‰§è¡Œä¹‹å‰åˆ¤æ–­åˆ¤æ–­æƒé™ï¼Œå¦‚æœæ²¡æœ‰å¯¹åº”çš„æƒé™æˆ–æ˜¯å¯¹åº”çš„è§’è‰²ï¼Œå°†æ— æ³•è®¿é—®é¡µé¢ã€‚\nè¿™é‡Œå…¶å®æ˜¯ä½¿ç”¨äº†SpELè¡¨è¾¾å¼ï¼Œç›¸å½“äºå¯ä»¥æ‰§è¡Œä¸€äº›é€»è¾‘å†å¾—åˆ°ç»“æœï¼Œè€Œä¸æ˜¯ç›´æ¥ä¼ å€¼ï¼Œå®˜æ–¹æ–‡æ¡£åœ°å€ï¼šhttps://docs.spring.io/spring-framework/docs/5.2.13.RELEASE/spring-framework-reference/core.html#expressionsï¼Œå†…å®¹æ¯”è¾ƒå¤šï¼Œä¸æ˜¯é‡ç‚¹ï¼Œè¿™é‡Œå°±ä¸å†è¯¦ç»†ä»‹ç»äº†ã€‚\nåŒæ ·çš„è¿˜æœ‰@PostAuthorizeæ³¨è§£ï¼Œä½†æ˜¯å®ƒæ˜¯åœ¨æ–¹æ³•æ‰§è¡Œä¹‹åå†è¿›è¡Œæ‹¦æˆªï¼š\n@PostAuthorize(&quot;hasRole(&#39;user&#39;)&quot;)\n@RequestMapping(&quot;&#x2F;index&quot;)\npublic String index()&#123;\n    System.out.println(&quot;æ‰§è¡Œäº†&quot;);\n    return &quot;index&quot;;\n&#125;\n\né™¤äº†Controllerä»¥å¤–ï¼Œåªè¦æ˜¯ç”±Springç®¡ç†çš„Beanéƒ½å¯ä»¥ä½¿ç”¨æ³¨è§£å½¢å¼æ¥æ§åˆ¶æƒé™ï¼Œåªè¦ä¸å…·å¤‡è®¿é—®æƒé™ï¼Œé‚£ä¹ˆå°±æ— æ³•æ‰§è¡Œæ–¹æ³•å¹¶ä¸”ä¼šè¿”å›403é¡µé¢ã€‚\n@Service\npublic class UserService &#123;\n\n    @PreAuthorize(&quot;hasAnyRole(&#39;user&#39;)&quot;)\n    public void test()&#123;\n        System.out.println(&quot;æˆåŠŸæ‰§è¡Œ&quot;);\n    &#125;\n&#125;\n\næ³¨æ„Serviceæ˜¯ç”±æ ¹å®¹å™¨è¿›è¡Œæ³¨å†Œï¼Œéœ€è¦åœ¨Securityé…ç½®ç±»ä¸Šæ·»åŠ @EnableGlobalMethodSecurityæ³¨è§£æ‰å¯ä»¥ç”Ÿæ•ˆã€‚ä¸å…·æœ‰ç›¸åŒåŠŸèƒ½çš„è¿˜æœ‰@Secureä½†æ˜¯å®ƒä¸æ”¯æŒSpELè¡¨è¾¾å¼çš„æƒé™è¡¨ç¤ºå½¢å¼ï¼Œå¹¶ä¸”éœ€è¦æ·»åŠ â€ROLE_â€å‰ç¼€ï¼Œè¿™é‡Œå°±ä¸åšæ¼”ç¤ºäº†ã€‚\næˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨@PreFilterå’Œ@PostFilterå¯¹é›†åˆç±»å‹çš„å‚æ•°æˆ–è¿”å›å€¼è¿›è¡Œè¿‡æ»¤ã€‚\næ¯”å¦‚ï¼š\n@PreFilter(&quot;filterObject.equals(&#39;lbwnb&#39;)&quot;)   &#x2F;&#x2F;filterObjectä»£è¡¨é›†åˆä¸­æ¯ä¸ªå…ƒç´ ï¼Œåªè¦æ»¡è¶³æ¡ä»¶çš„å…ƒç´ æ‰ä¼šç•™ä¸‹\npublic void test(List&lt;String&gt; list)&#123;\n    System.out.println(&quot;æˆåŠŸæ‰§è¡Œ&quot;+list);\n&#125;\n\n@RequestMapping(&quot;&#x2F;index&quot;)\npublic String index()&#123;\n    List&lt;String&gt; list &#x3D; new LinkedList&lt;&gt;();\n    list.add(&quot;lbwnb&quot;);\n    list.add(&quot;yyds&quot;);\n    service.test(list);\n    return &quot;index&quot;;\n&#125;\n\nä¸@PreFilterç±»ä¼¼çš„@PostFilterè¿™é‡Œå°±ä¸åšæ¼”ç¤ºäº†ï¼Œå®ƒç”¨äºå¤„ç†è¿”å›å€¼ï¼Œä½¿ç”¨æ–¹æ³•æ˜¯ä¸€æ ·çš„ã€‚\nå½“æœ‰å¤šä¸ªé›†åˆæ—¶ï¼Œéœ€è¦ä½¿ç”¨filterTargetè¿›è¡ŒæŒ‡å®šï¼š\n@PreFilter(value &#x3D; &quot;filterObject.equals(&#39;lbwnb&#39;)&quot;, filterTarget &#x3D; &quot;list2&quot;)\npublic void test(List&lt;String&gt; list, List&lt;String&gt; list2)&#123;\n    System.out.println(&quot;æˆåŠŸæ‰§è¡Œ&quot;+list);\n&#125;\n\n\nè®°ä½æˆ‘æˆ‘ä»¬çš„ç½‘ç«™è¿˜æœ‰ä¸€ä¸ªé‡è¦çš„åŠŸèƒ½ï¼Œå°±æ˜¯è®°ä½æˆ‘ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥åœ¨ç™»é™†ä¹‹åçš„ä¸€æ®µæ—¶é—´å†…ï¼Œæ— éœ€å†æ¬¡è¾“å…¥è´¦å·å’Œå¯†ç è¿›è¡Œç™»é™†ï¼Œç›¸å½“äºæœåŠ¡ç«¯å·²ç»è®°ä½å½“å‰ç”¨æˆ·ï¼Œå†æ¬¡è®¿é—®æ—¶å°±å¯ä»¥å…ç™»é™†è¿›å…¥ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸å¸¸ç”¨çš„åŠŸèƒ½ã€‚\næˆ‘ä»¬ä¹‹å‰åœ¨JavaWebé˜¶æ®µï¼Œä½¿ç”¨æœ¬åœ°Cookieå­˜å‚¨çš„æ–¹å¼å®ç°äº†è®°ä½æˆ‘åŠŸèƒ½ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼å¹¶ä¸å®‰å…¨ï¼ŒåŒæ—¶åœ¨ä»£ç ç¼–å†™ä¸Šä¹Ÿæ¯”è¾ƒéº»çƒ¦ï¼Œé‚£ä¹ˆèƒ½å¦æœ‰ä¸€ç§æ›´åŠ é«˜æ•ˆçš„è®°ä½æˆ‘åŠŸèƒ½å®ç°å‘¢ï¼Ÿ\nSpringSecurityä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ç§ä¼˜ç§€çš„å®ç°ï¼Œå®ƒä¸ºæ¯ä¸ªå·²ç»ç™»é™†çš„æµè§ˆå™¨åˆ†é…ä¸€ä¸ªæºå¸¦Tokençš„Cookieï¼Œå¹¶ä¸”æ­¤Cookieé»˜è®¤ä¼šè¢«ä¿ç•™14å¤©ï¼Œåªè¦æˆ‘ä»¬ä¸æ¸…ç†æµè§ˆå™¨çš„Cookieï¼Œé‚£ä¹ˆä¸‹æ¬¡æºå¸¦æ­¤Cookieè®¿é—®æœåŠ¡å™¨å°†æ— éœ€ç™»é™†ï¼Œç›´æ¥ç»§ç»­ä½¿ç”¨ä¹‹å‰ç™»é™†çš„èº«ä»½ï¼Œè¿™æ ·æ˜¾ç„¶æ¯”æˆ‘ä»¬ä¹‹å‰çš„å†™æ³•æ›´åŠ ç®€ä¾¿ã€‚å¹¶ä¸”æˆ‘ä»¬éœ€è¦è¿›è¡Œç®€å•é…ç½®ï¼Œå³å¯å¼€å¯è®°ä½æˆ‘åŠŸèƒ½ï¼š\n.and()\n.rememberMe()   &#x2F;&#x2F;å¼€å¯è®°ä½æˆ‘åŠŸèƒ½\n.rememberMeParameter(&quot;remember&quot;)  &#x2F;&#x2F;ç™»é™†è¯·æ±‚è¡¨å•ä¸­éœ€è¦æºå¸¦çš„å‚æ•°ï¼Œå¦‚æœæºå¸¦ï¼Œé‚£ä¹ˆæœ¬æ¬¡ç™»é™†ä¼šè¢«è®°ä½\n.tokenRepository(new InMemoryTokenRepositoryImpl())  &#x2F;&#x2F;è¿™é‡Œä½¿ç”¨çš„æ˜¯ç›´æ¥åœ¨å†…å­˜ä¸­ä¿å­˜çš„TokenRepositoryå®ç°\n  &#x2F;&#x2F;TokenRepositoryæœ‰å¾ˆå¤šç§å®ç°ï¼ŒInMemoryTokenRepositoryImplç›´æ¥åŸºäºMapå®ç°çš„ï¼Œç¼ºç‚¹å°±æ˜¯å å†…å­˜ã€æœåŠ¡å™¨é‡å¯åè®°ä½æˆ‘åŠŸèƒ½å°†å¤±æ•ˆ\n  &#x2F;&#x2F;åé¢æˆ‘ä»¬è¿˜ä¼šè®²è§£å¦‚ä½•ä½¿ç”¨æ•°æ®åº“æ¥æŒä¹…åŒ–ä¿å­˜Tokenä¿¡æ¯\n\næ¥ç€æˆ‘ä»¬éœ€è¦åœ¨å‰ç«¯ä¿®æ”¹ä¸€ä¸‹è®°ä½æˆ‘å‹¾é€‰æ¡†çš„åç§°ï¼Œå°†åç§°ä¿®æ”¹ä¸ä¸Šé¢ä¸€è‡´ï¼Œå¦‚æœä¸Šé¢æ²¡æœ‰é…ç½®åç§°ï¼Œé‚£ä¹ˆé»˜è®¤ä½¿ç”¨â€remember-meâ€ä½œä¸ºåç§°ï¼š\n&lt;input type&#x3D;&quot;checkbox&quot; name&#x3D;&quot;remember&quot; class&#x3D;&quot;ad-checkbox&quot;&gt;\n\nç°åœ¨æˆ‘ä»¬å¯åŠ¨æœåŠ¡å™¨ï¼Œåœ¨ç™»é™†æ—¶å‹¾é€‰è®°ä½æˆ‘å‹¾é€‰æ¡†ï¼Œè§‚å¯ŸCookieçš„å˜åŒ–ã€‚\nè™½ç„¶ç°åœ¨å·²ç»å¯ä»¥å®ç°è®°ä½æˆ‘åŠŸèƒ½äº†ï¼Œä½†æ˜¯è¿˜æœ‰ä¸€å®šçš„ç¼ºé™·ï¼Œå¦‚æœæœåŠ¡å™¨é‡æ–°å¯åŠ¨ï¼ˆå› ä¸ºTokenä¿¡æ¯å…¨éƒ¨å­˜åœ¨HashMapä¸­ï¼Œä¹Ÿå°±æ˜¯å­˜åœ¨å†…å­˜ä¸­ï¼‰ï¼Œé‚£ä¹ˆæ‰€æœ‰è®°å½•çš„Tokenä¿¡æ¯å°†å…¨éƒ¨ä¸¢å¤±ï¼Œè¿™æ—¶å³ä½¿æµè§ˆå™¨æºå¸¦äº†ä¹‹å‰çš„Tokenä¹Ÿæ— æ³•æ¢å¤ä¹‹å‰ç™»é™†çš„èº«ä»½ã€‚\næˆ‘ä»¬å¯ä»¥å°†Tokenä¿¡æ¯è®°å½•å…¨éƒ¨å­˜æ”¾åˆ°æ•°æ®åº“ä¸­ï¼ˆå­¦ä¹ äº†Redisä¹‹åè¿˜å¯ä»¥æ”¾åˆ°RedisæœåŠ¡å™¨ä¸­ï¼‰åˆ©ç”¨æ•°æ®åº“çš„æŒä¹…åŒ–å­˜å‚¨æœºåˆ¶ï¼Œå³ä½¿æœåŠ¡å™¨é‡æ–°å¯åŠ¨ï¼Œæ‰€æœ‰çš„Tokenä¿¡æ¯ä¹Ÿä¸ä¼šä¸¢å¤±ï¼Œé…ç½®æ•°æ®åº“å­˜å‚¨ä¹Ÿå¾ˆç®€å•ï¼š\n@Resource\nPersistentTokenRepository repository;\n\n@Bean\npublic PersistentTokenRepository jdbcRepository(@Autowired DataSource dataSource)&#123;\n    JdbcTokenRepositoryImpl repository &#x3D; new JdbcTokenRepositoryImpl();  &#x2F;&#x2F;ä½¿ç”¨åŸºäºJDBCçš„å®ç°\n    repository.setDataSource(dataSource);   &#x2F;&#x2F;é…ç½®æ•°æ®æº\n  \trepository.setCreateTableOnStartup(true);   &#x2F;&#x2F;å¯åŠ¨æ—¶è‡ªåŠ¨åˆ›å»ºç”¨äºå­˜å‚¨Tokençš„è¡¨ï¼ˆå»ºè®®ç¬¬ä¸€æ¬¡å¯åŠ¨ä¹‹ååˆ é™¤è¯¥è¡Œï¼‰\n    return repository;\n&#125;\n\n.and()\n.rememberMe()\n.rememberMeParameter(&quot;remember&quot;)\n.tokenRepository(repository)\n.tokenValiditySeconds(60 * 60 * 24 * 7)  &#x2F;&#x2F;Tokençš„æœ‰æ•ˆæ—¶é—´ï¼ˆç§’ï¼‰é»˜è®¤ä¸º14å¤©\n\nç¨åæœåŠ¡å™¨å¯åŠ¨æˆ‘ä»¬å¯ä»¥è§‚å¯Ÿä¸€ä¸‹æ•°æ®åº“ï¼Œå¦‚æœå‡ºç°åä¸ºpersistent_loginsçš„è¡¨ï¼Œé‚£ä¹ˆè¯æ˜é…ç½®æ²¡æœ‰é—®é¢˜ã€‚\nå½“æˆ‘ä»¬ç™»é™†å¹¶å‹¾é€‰äº†è®°ä½æˆ‘ä¹‹åï¼Œé‚£ä¹ˆæ•°æ®åº“ä¸­ä¼šæ–°å¢ä¸€æ¡Tokenè®°å½•ã€‚\n\nSecurityContextç”¨æˆ·ç™»å½•ä¹‹åï¼Œæ€ä¹ˆè·å–å½“å‰å·²ç»ç™»å½•ç”¨æˆ·çš„ä¿¡æ¯å‘¢ï¼Ÿé€šè¿‡ä½¿ç”¨SecurityContextHolderå°±å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å¾—åˆ°SecurityContextå¯¹è±¡äº†ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨SecurityContextå¯¹è±¡æ¥è·å–å½“å‰çš„è®¤è¯ä¿¡æ¯ï¼š\n@RequestMapping(&quot;&#x2F;index&quot;)\n    public String index()&#123;\n        SecurityContext context &#x3D; SecurityContextHolder.getContext();\n        Authentication authentication &#x3D; context.getAuthentication();\n        User user &#x3D; (User) authentication.getPrincipal();\n        System.out.println(user.getUsername());\n        System.out.println(user.getAuthorities());\n        return &quot;index&quot;;\n    &#125;\n\né€šè¿‡SecurityContextæˆ‘ä»¬å°±å¯ä»¥å¿«é€Ÿè·å–å½“å‰ç”¨æˆ·çš„åç§°å’Œæˆæƒä¿¡æ¯ç­‰ã€‚\né™¤äº†è¿™ç§æ–¹å¼ä»¥å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç›´æ¥ä»Sessionä¸­è·å–ï¼š\n@RequestMapping(&quot;&#x2F;index&quot;)\npublic String index(@SessionAttribute(&quot;SPRING_SECURITY_CONTEXT&quot;) SecurityContext context)&#123;\n    Authentication authentication &#x3D; context.getAuthentication();\n    User user &#x3D; (User) authentication.getPrincipal();\n    System.out.println(user.getUsername());\n    System.out.println(user.getAuthorities());\n    return &quot;index&quot;;\n&#125;\n\næ³¨æ„SecurityContextHolderæ˜¯æœ‰ä¸€å®šçš„å­˜å‚¨ç­–ç•¥çš„ï¼ŒSecurityContextHolderä¸­çš„SecurityContextå¯¹è±¡ä¼šåœ¨ä¸€å¼€å§‹è¯·æ±‚åˆ°æ¥æ—¶è¢«è®¾å®šï¼Œè‡³äºå­˜å‚¨æ–¹å¼å…¶å®æ˜¯ç”±å­˜å‚¨ç­–ç•¥å†³å®šçš„ï¼Œå¦‚æœæˆ‘ä»¬è¿™æ ·ç¼–å†™ï¼Œé‚£ä¹ˆåœ¨é»˜è®¤æƒ…å†µä¸‹æ˜¯æ— æ³•è·å–åˆ°è®¤è¯ä¿¡æ¯çš„ï¼š\n@RequestMapping(&quot;&#x2F;index&quot;)\npublic String index()&#123;\n    new Thread(() -&gt; &#123;   &#x2F;&#x2F;åˆ›å»ºä¸€ä¸ªå­çº¿ç¨‹å»è·å–\n        SecurityContext context &#x3D; SecurityContextHolder.getContext();\n        Authentication authentication &#x3D; context.getAuthentication();\n        User user &#x3D; (User) authentication.getPrincipal();   &#x2F;&#x2F;NPE\n        System.out.println(user.getUsername());\n        System.out.println(user.getAuthorities()); \n    &#125;);\n    return &quot;index&quot;;\n&#125;\n\nè¿™æ˜¯å› ä¸ºSecurityContextHolderçš„å­˜å‚¨ç­–ç•¥é»˜è®¤æ˜¯MODE_THREADLOCALï¼Œå®ƒæ˜¯åŸºäºThreadLocalå®ç°çš„ï¼ŒgetContext()æ–¹æ³•æœ¬è´¨ä¸Šè°ƒç”¨çš„æ˜¯å¯¹åº”çš„å­˜å‚¨ç­–ç•¥å®ç°çš„æ–¹æ³•ï¼š\npublic static SecurityContext getContext() &#123;\n    return strategy.getContext();\n&#125;\n\nSecurityContextHolderStrategyæœ‰ä¸‰ä¸ªå®ç°ç±»ï¼š\n\nGlobalSecurityContextHolderStrategyï¼šå…¨å±€æ¨¡å¼ï¼Œä¸å¸¸ç”¨\nThreadLocalSecurityContextHolderStrategyï¼šåŸºäºThreadLocalå®ç°ï¼Œçº¿ç¨‹å†…å¯è§\nInheritableThreadLocalSecurityContextHolderStrategyï¼šåŸºäºInheritableThreadLocalå®ç°ï¼Œçº¿ç¨‹å’Œå­çº¿ç¨‹å¯è§\n\nå› æ­¤ï¼Œå¦‚æœä¸Šè¿°æƒ…å†µéœ€è¦åœ¨å­çº¿ç¨‹ä¸­è·å–ï¼Œé‚£ä¹ˆéœ€è¦ä¿®æ”¹SecurityContextHolderçš„å­˜å‚¨ç­–ç•¥ï¼Œåœ¨åˆå§‹åŒ–çš„æ—¶å€™è®¾ç½®ï¼š\n@PostConstruct\npublic void init()&#123;\n    SecurityContextHolder.setStrategyName(SecurityContextHolder.MODE_INHERITABLETHREADLOCAL);\n&#125;\n\nè¿™æ ·åœ¨å­çº¿ç¨‹ä¸­ä¹Ÿå¯ä»¥è·å–è®¤è¯ä¿¡æ¯äº†ã€‚\nå› ä¸ºç”¨æˆ·çš„éªŒè¯ä¿¡æ¯æ˜¯åŸºäºSecurityContextè¿›è¡Œåˆ¤æ–­çš„ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä¿®æ”¹SecurityContextçš„å†…å®¹ï¼Œæ¥æ‰‹åŠ¨ä¸ºç”¨æˆ·è¿›è¡Œç™»é™†ï¼š\n@RequestMapping(&quot;&#x2F;auth&quot;)\n@ResponseBody\npublic String auth()&#123;\n    SecurityContext context &#x3D; SecurityContextHolder.getContext();  &#x2F;&#x2F;è·å–SecurityContextå¯¹è±¡ï¼ˆå½“å‰ä¼šè¯è‚¯å®šæ˜¯æ²¡æœ‰ç™»é™†çš„ï¼‰\n    UsernamePasswordAuthenticationToken token &#x3D; new UsernamePasswordAuthenticationToken(&quot;Test&quot;, null,\n            AuthorityUtils.commaSeparatedStringToAuthorityList(&quot;ROLE_user&quot;));  &#x2F;&#x2F;æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ªUsernamePasswordAuthenticationTokenå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯ç”¨æˆ·çš„è®¤è¯ä¿¡æ¯ï¼Œè§’è‰²éœ€è¦æ·»åŠ ROLE_å‰ç¼€ï¼Œæƒé™ç›´æ¥å†™\n    context.setAuthentication(token);  &#x2F;&#x2F;æ‰‹åŠ¨ä¸ºSecurityContextè®¾å®šè®¤è¯ä¿¡æ¯\n    return &quot;Login successï¼&quot;;\n&#125;\n\nåœ¨æœªç™»é™†çš„æƒ…å†µä¸‹ï¼Œè®¿é—®æ­¤åœ°å€å°†ç›´æ¥è¿›è¡Œæ‰‹åŠ¨ç™»é™†ï¼Œå†æ¬¡è®¿é—®/indexé¡µé¢ï¼Œå¯ä»¥ç›´æ¥è®¿é—®ï¼Œè¯´æ˜æ‰‹åŠ¨è®¾ç½®è®¤è¯ä¿¡æ¯æˆåŠŸã€‚\nç–‘æƒ‘ï¼šSecurityContextè¿™ç©æ„ä¸æ˜¯é»˜è®¤çº¿ç¨‹ç‹¬å å—ï¼Œé‚£æ¯æ¬¡è¯·æ±‚éƒ½æ˜¯ä¸€ä¸ªæ–°çš„çº¿ç¨‹ï¼ŒæŒ‰ç†è¯´ä¸Šä¸€æ¬¡çš„SecurityContextå¯¹è±¡åº”è¯¥æ²¡äº†æ‰å¯¹å•Šï¼Œä¸ºä»€ä¹ˆå†æ¬¡è¯·æ±‚ä¾ç„¶èƒ½å¤Ÿç»§ç»­ä½¿ç”¨ä¸Šä¸€æ¬¡SecurityContextä¸­çš„è®¤è¯ä¿¡æ¯å‘¢ï¼Ÿ\nSecurityContextçš„ç”Ÿå‘½å‘¨æœŸï¼šè¯·æ±‚åˆ°æ¥æ—¶ä»Sessionä¸­å–å‡ºï¼Œæ”¾å…¥SecurityContextHolderä¸­ï¼Œè¯·æ±‚ç»“æŸæ—¶ä»SecurityContextHolderå–å‡ºï¼Œå¹¶æ”¾åˆ°Sessionä¸­ï¼Œå®é™…ä¸Šå°±æ˜¯ä¾é Sessionæ¥å­˜å‚¨çš„ï¼Œä¸€æ—¦ä¼šè¯è¿‡æœŸéªŒè¯ä¿¡æ¯ä¹Ÿè·Ÿç€æ¶ˆå¤±ã€‚\n\nSpringSecurityåŸç†æ³¨æ„ï¼šæœ¬å°èŠ‚å†…å®¹ä½œä¸ºé€‰å­¦å†…å®¹ï¼Œä½†æ˜¯éš¾åº¦æ¯”å‰ä¸¤ç« çš„æºç éƒ¨åˆ†ç®€å•å¾—å¤šã€‚\næœ€åæˆ‘ä»¬å†æ¥èŠä¸€ä¸‹SpringSecurityçš„å®ç°åŸç†ï¼Œå®ƒæœ¬è´¨ä¸Šæ˜¯ä¾é Nä¸ªFilterå®ç°çš„ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå®Œæ•´çš„è¿‡æ»¤é“¾ï¼ˆæ³¨æ„è¿™é‡Œæ˜¯è¿‡æ»¤å™¨ï¼Œä¸æ˜¯æ‹¦æˆªå™¨ï¼‰\næˆ‘ä»¬å°±ä»AbstractSecurityWebApplicationInitializerå¼€å§‹ä¸‹æ‰‹ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å®ƒé…ç½®äº†ä»€ä¹ˆï¼š\n&#x2F;&#x2F;æ­¤æ–¹æ³•ä¼šåœ¨å¯åŠ¨æ—¶è¢«è°ƒç”¨\npublic final void onStartup(ServletContext servletContext) &#123;\n    this.beforeSpringSecurityFilterChain(servletContext);\n    if (this.configurationClasses !&#x3D; null) &#123;\n        AnnotationConfigWebApplicationContext rootAppContext &#x3D; new AnnotationConfigWebApplicationContext();\n        rootAppContext.register(this.configurationClasses);\n        servletContext.addListener(new ContextLoaderListener(rootAppContext));\n    &#125;\n\n    if (this.enableHttpSessionEventPublisher()) &#123;\n        servletContext.addListener(&quot;org.springframework.security.web.session.HttpSessionEventPublisher&quot;);\n    &#125;\n\n    servletContext.setSessionTrackingModes(this.getSessionTrackingModes());\n  \t&#x2F;&#x2F;é‡ç‚¹åœ¨è¿™é‡Œï¼Œè¿™é‡Œæ’å…¥äº†å…³é”®çš„FilterChain\n    this.insertSpringSecurityFilterChain(servletContext);\n    this.afterSpringSecurityFilterChain(servletContext);\n&#125;\n\nprivate void insertSpringSecurityFilterChain(ServletContext servletContext) &#123;\n    String filterName &#x3D; &quot;springSecurityFilterChain&quot;;\n  \t&#x2F;&#x2F;åˆ›å»ºäº†ä¸€ä¸ªDelegatingFilterProxyå¯¹è±¡ï¼Œå®ƒæœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªFilter\n    DelegatingFilterProxy springSecurityFilterChain &#x3D; new DelegatingFilterProxy(filterName);\n    String contextAttribute &#x3D; this.getWebApplicationContextAttribute();\n    if (contextAttribute !&#x3D; null) &#123;\n        springSecurityFilterChain.setContextAttribute(contextAttribute);\n    &#125;\n\t\t&#x2F;&#x2F;é€šè¿‡ServletContextæ³¨å†ŒDelegatingFilterProxyè¿™ä¸ªFilter\n    this.registerFilter(servletContext, true, filterName, springSecurityFilterChain);\n&#125;\n\næˆ‘ä»¬æ¥ç€æ¥çœ‹çœ‹ï¼ŒDelegatingFilterProxyåœ¨åšä»€ä¹ˆï¼š\n&#x2F;&#x2F;è¿™ä¸ªæ˜¯åˆå§‹åŒ–æ–¹æ³•ï¼Œå®ƒç”±GenericFilterBeanï¼ˆçˆ¶ç±»ï¼‰å®šä¹‰ï¼Œåœ¨afterPropertiesSetæ–¹æ³•ä¸­è¢«è°ƒç”¨\nprotected void initFilterBean() throws ServletException &#123;\n    synchronized(this.delegateMonitor) &#123;\n        if (this.delegate &#x3D;&#x3D; null) &#123;\n            if (this.targetBeanName &#x3D;&#x3D; null) &#123;\n                this.targetBeanName &#x3D; this.getFilterName();\n            &#125;\n\n            WebApplicationContext wac &#x3D; this.findWebApplicationContext();\n            if (wac !&#x3D; null) &#123;\n              \t&#x2F;&#x2F;è€å¿ƒç‚¹ï¼Œå¥—å¨ƒå¾ˆæ­£å¸¸\n                this.delegate &#x3D; this.initDelegate(wac);\n            &#125;\n        &#125;\n\n    &#125;\n&#125;\n\nprotected Filter initDelegate(WebApplicationContext wac) throws ServletException &#123;\n    String targetBeanName &#x3D; this.getTargetBeanName();\n    Assert.state(targetBeanName !&#x3D; null, &quot;No target bean name set&quot;);\n  \t&#x2F;&#x2F;è¿™é‡Œé€šè¿‡WebApplicationContextè·å–äº†ä¸€ä¸ªBean\n    Filter delegate &#x3D; (Filter)wac.getBean(targetBeanName, Filter.class);\n    if (this.isTargetFilterLifecycle()) &#123;\n        delegate.init(this.getFilterConfig());\n    &#125;\n\n  \t&#x2F;&#x2F;è¿”å›Filter\n    return delegate;\n&#125;\n\nè¿™é‡Œæˆ‘ä»¬éœ€è¦æ·»åŠ ä¸€ä¸ªæ–­ç‚¹æ¥æŸ¥çœ‹åˆ°åº•è·å–åˆ°äº†ä»€ä¹ˆBeanã€‚\né€šè¿‡æ–­ç‚¹è°ƒè¯•ï¼Œæˆ‘ä»¬å‘ç°è¿™é‡Œæ”¾å›çš„å¯¹è±¡æ˜¯ä¸€ä¸ªFilterChainProxyç±»å‹çš„ï¼Œå¹¶ä¸”è°ƒç”¨äº†å®ƒçš„åˆå§‹åŒ–æ–¹æ³•ï¼Œä½†æ˜¯FilterChainProxyç±»ä¸­å¹¶æ²¡æœ‰é‡å†™initæ–¹æ³•æˆ–æ˜¯initFilterBeanæ–¹æ³•ã€‚\næˆ‘ä»¬å€’å›å»çœ‹ï¼Œå½“Filterè¿”å›ä¹‹åï¼ŒDelegatingFilterProxyçš„ä¸€ä¸ªæˆå‘˜å˜é‡delegateè¢«èµ‹å€¼ä¸ºå¾—åˆ°çš„Filterï¼Œä¹Ÿå°±æ˜¯FilterChainProxyå¯¹è±¡ï¼Œæ¥ç€æˆ‘ä»¬æ¥çœ‹çœ‹ï¼ŒDelegatingFilterProxyæ˜¯å¦‚ä½•æ‰§è¡ŒdoFilteræ–¹æ³•çš„ã€‚\npublic void doFilter(ServletRequest request, ServletResponse response, FilterChain filterChain) throws ServletException, IOException &#123;\n    Filter delegateToUse &#x3D; this.delegate;\n    if (delegateToUse &#x3D;&#x3D; null) &#123;\n        &#x2F;&#x2F;éæ­£å¸¸æƒ…å†µï¼Œè¿™é‡Œçœç•¥...\n    &#125;\n\t\t&#x2F;&#x2F;è¿™é‡Œæ‰æ˜¯çœŸæ­£çš„è°ƒç”¨ï¼Œåˆ«å¿˜äº†delegateToUseå°±æ˜¯åˆå§‹åŒ–çš„FilterChainProxyå¯¹è±¡\n    this.invokeDelegate(delegateToUse, request, response, filterChain);\n&#125;\n\nprotected void invokeDelegate(Filter delegate, ServletRequest request, ServletResponse response, FilterChain filterChain) throws ServletException, IOException &#123;\n  &#x2F;&#x2F;æœ€åå®é™…ä¸Šè°ƒç”¨çš„æ˜¯FilterChainProxyçš„doFilteræ–¹æ³•\n    delegate.doFilter(request, response, filterChain);\n&#125;\n\næ‰€ä»¥æˆ‘ä»¬æ¥ç€æ¥çœ‹ï¼ŒFilterChainProxyçš„doFilteræ–¹æ³•åˆåœ¨å¹²ä»€ä¹ˆï¼š\npublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException &#123;\n    boolean clearContext &#x3D; request.getAttribute(FILTER_APPLIED) &#x3D;&#x3D; null;\n    if (!clearContext) &#123;\n      \t&#x2F;&#x2F;çœŸæ­£çš„è¿‡æ»¤åœ¨è¿™é‡Œæ‰§è¡Œ\n        this.doFilterInternal(request, response, chain);\n    &#125; else &#123;\n        &#x2F;&#x2F;...\n    &#125;\n&#125;\n\nprivate void doFilterInternal(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException &#123;\n    FirewalledRequest firewallRequest &#x3D; this.firewall.getFirewalledRequest((HttpServletRequest)request);\n    HttpServletResponse firewallResponse &#x3D; this.firewall.getFirewalledResponse((HttpServletResponse)response);\n  \t&#x2F;&#x2F;è¿™é‡Œè·å–äº†ä¸€ä¸ªFilteråˆ—è¡¨ï¼Œå®é™…ä¸ŠSpringSecurityå°±æ˜¯ç”±Nä¸ªè¿‡æ»¤å™¨å®ç°çš„ï¼Œè¿™é‡Œè·å–çš„éƒ½æ˜¯SpringSecurityæä¾›çš„è¿‡æ»¤å™¨\n  \t&#x2F;&#x2F;ä½†æ˜¯è¯·æ³¨æ„ï¼Œç»è¿‡æˆ‘ä»¬ä¹‹å‰çš„åˆ†æï¼Œå®é™…ä¸ŠçœŸæ­£æ³¨å†Œçš„Filteråªæœ‰DelegatingFilterProxy\n  \t&#x2F;&#x2F;è€Œè¿™é‡Œçš„Filteråˆ—è¡¨ä¸­çš„æ‰€æœ‰Filterå¹¶æ²¡æœ‰è¢«æ³¨å†Œï¼Œè€Œæ˜¯åœ¨è¿™é‡Œè¿›è¡Œå†…éƒ¨è°ƒç”¨\n    List&lt;Filter&gt; filters &#x3D; this.getFilters((HttpServletRequest)firewallRequest);\n  \t&#x2F;&#x2F;åªè¦Filteråˆ—è¡¨ä¸æ˜¯ç©ºï¼Œå°±ä¾æ¬¡æ‰§è¡Œå†…ç½®çš„Filter\n    if (filters !&#x3D; null &amp;&amp; filters.size() !&#x3D; 0) &#123;\n        if (logger.isDebugEnabled()) &#123;\n            logger.debug(LogMessage.of(() -&gt; &#123;\n                return &quot;Securing &quot; + requestLine(firewallRequest);\n            &#125;));\n        &#125;\n\t\t\t\t&#x2F;&#x2F;è¿™é‡Œåˆ›å»ºä¸€ä¸ªè™šæ‹Ÿçš„è¿‡æ»¤é“¾ï¼Œè¿‡æ»¤æµç¨‹æ˜¯ç”±SpringSecurityè‡ªå·±å®ç°çš„\n        FilterChainProxy.VirtualFilterChain virtualFilterChain &#x3D; new FilterChainProxy.VirtualFilterChain(firewallRequest, chain, filters);\n      \t&#x2F;&#x2F;è°ƒç”¨è™šæ‹Ÿè¿‡æ»¤é“¾çš„doFilter\n        virtualFilterChain.doFilter(firewallRequest, firewallResponse);\n    &#125; else &#123;\n        if (logger.isTraceEnabled()) &#123;\n            logger.trace(LogMessage.of(() -&gt; &#123;\n                return &quot;No security for &quot; + requestLine(firewallRequest);\n            &#125;));\n        &#125;\n\n        firewallRequest.reset();\n        chain.doFilter(firewallRequest, firewallResponse);\n    &#125;\n&#125;\n\næˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è™šæ‹Ÿè¿‡æ»¤é“¾çš„doFilteræ˜¯æ€ä¹ˆå¤„ç†çš„ï¼š\n&#x2F;&#x2F;çœ‹ä¼¼æ²¡æœ‰ä»»ä½•å¾ªç¯ï¼Œå®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªå¾ªç¯ï¼Œæ˜¯ä¸€ä¸ªé€’å½’è°ƒç”¨\npublic void doFilter(ServletRequest request, ServletResponse response) throws IOException, ServletException &#123;\n  \t&#x2F;&#x2F;åˆ¤æ–­æ˜¯å¦å·²ç»é€šè¿‡å…¨éƒ¨çš„å†…ç½®è¿‡æ»¤å™¨ï¼Œå®šä½æ˜¯å¦ç­‰äºå½“å‰å¤§å°\n    if (this.currentPosition &#x3D;&#x3D; this.size) &#123;\n        if (FilterChainProxy.logger.isDebugEnabled()) &#123;\n            FilterChainProxy.logger.debug(LogMessage.of(() -&gt; &#123;\n                return &quot;Secured &quot; + FilterChainProxy.requestLine(this.firewalledRequest);\n            &#125;));\n        &#125;\n\n        this.firewalledRequest.reset();\n      \t&#x2F;&#x2F;æ‰€æœ‰çš„å†…ç½®è¿‡æ»¤å™¨å·²ç»å®Œæˆï¼ŒæŒ‰ç…§æ­£å¸¸æµç¨‹èµ°DelegatingFilterProxyçš„ä¸‹ä¸€ä¸ªFilter\n      \t&#x2F;&#x2F;ä¹Ÿå°±æ˜¯è¯´è¿™é‡Œä¹‹åå°±ä¸DelegatingFilterProxyæ²¡æœ‰ä»»ä½•å…³ç³»äº†ï¼Œè¯¥èµ°å…¶ä»–è¿‡æ»¤å™¨å°±èµ°å…¶ä»–åœ°æ–¹é…ç½®çš„è¿‡æ»¤å™¨ï¼ŒSpringSecurityçš„è¿‡æ»¤æ“ä½œå·²ç»ç»“æŸ\n        this.originalChain.doFilter(request, response);\n    &#125; else &#123;\n      \t&#x2F;&#x2F;å®šä½è‡ªå¢\n        ++this.currentPosition;\n      \t&#x2F;&#x2F;è·å–å½“å‰å®šä½çš„Filter\n        Filter nextFilter &#x3D; (Filter)this.additionalFilters.get(this.currentPosition - 1);\n        if (FilterChainProxy.logger.isTraceEnabled()) &#123;\n            FilterChainProxy.logger.trace(LogMessage.format(&quot;Invoking %s (%d&#x2F;%d)&quot;, nextFilter.getClass().getSimpleName(), this.currentPosition, this.size));\n        &#125;\n\t\t\t\t&#x2F;&#x2F;æ‰§è¡Œå†…éƒ¨è¿‡æ»¤å™¨çš„doFilteræ–¹æ³•ï¼Œä¼ å…¥å½“å‰å¯¹è±¡æœ¬èº«ä½œä¸ºFilterï¼Œæ‰§è¡Œå¦‚æœæˆåŠŸï¼Œé‚£ä¹ˆä¸€å®šä¼šå†æ¬¡è°ƒç”¨å½“å‰å¯¹è±¡çš„doFilteræ–¹æ³•\n      \t&#x2F;&#x2F;å¯èƒ½æœ€ä¸ç†è§£çš„å°±æ˜¯è¿™é‡Œï¼Œæ‰§è¡Œçš„éš¾é“ä¸æ˜¯å†…éƒ¨å…¶ä»–Filterçš„doFilteræ–¹æ³•å—ï¼Œæ€ä¹ˆä¼šè®©å½“å‰å¯¹è±¡çš„doFilteræ–¹æ³•é€’å½’è°ƒç”¨å‘¢ï¼Ÿ\n      \t&#x2F;&#x2F;æ²¡å…³ç³»ï¼Œäº†è§£äº†å…¶ä¸­ä¸€ä¸ªå†…éƒ¨è¿‡æ»¤å™¨å°±æ˜ç™½äº†\n        nextFilter.doFilter(request, response, this);\n    &#125;\n&#125;\n\nå› æ­¤ï¼Œæˆ‘ä»¬å·®ä¸å¤šå·²ç»äº†è§£äº†æ•´ä¸ªSpringSecurityçš„å®ç°æœºåˆ¶äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥çœ‹å‡ ä¸ªå†…éƒ¨çš„è¿‡æ»¤å™¨åˆ†åˆ«åœ¨åšä»€ä¹ˆã€‚\næ¯”å¦‚ç”¨äºå¤„ç†ç™»é™†çš„è¿‡æ»¤å™¨UsernamePasswordAuthenticationFilterï¼Œå®ƒç»§æ‰¿è‡ªAbstractAuthenticationProcessingFilterï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å®ƒæ˜¯æ€ä¹ˆè¿›è¡Œè¿‡æ»¤çš„ï¼š\npublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException &#123;\n    this.doFilter((HttpServletRequest)request, (HttpServletResponse)response, chain);\n&#125;\n\nprivate void doFilter(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws IOException, ServletException &#123;\n  \t&#x2F;&#x2F;å¦‚æœä¸æ˜¯ç™»é™†è¯·æ±‚ï¼Œé‚£ä¹ˆæ ¹æœ¬ä¸ä¼šç†è¿™ä¸ªè¯·æ±‚\n    if (!this.requiresAuthentication(request, response)) &#123;\n      \t&#x2F;&#x2F;ç›´æ¥è°ƒç”¨ä¼ å…¥çš„FilterChainçš„doFilteræ–¹æ³•\n      \t&#x2F;&#x2F;è€Œè¿™é‡Œä¼ å…¥çš„æ­£å¥½æ˜¯VirtualFilterChainå¯¹è±¡\n      \t&#x2F;&#x2F;è¿™ä¸‹çŸ¥é“ä¸ºä»€ä¹ˆä¸Šé¢è¯´æ˜¯é€’å½’äº†å§\n        chain.doFilter(request, response);\n    &#125; else &#123;\n      \t&#x2F;&#x2F;å¦‚æœæ˜¯ç™»é™†è¯·æ±‚ï¼Œé‚£ä¹ˆä¼šæ‰§è¡Œç™»é™†è¯·æ±‚çš„ç›¸å…³é€»è¾‘ï¼Œæ³¨æ„æ‰§è¡Œè¿‡ç¨‹ä¸­å‡ºç°ä»»ä½•é—®é¢˜éƒ½ä¼šæŠ›å‡ºå¼‚å¸¸\n      \t&#x2F;&#x2F;æ¯”å¦‚ç”¨æˆ·åå’Œå¯†ç é”™è¯¯ï¼Œæˆ‘ä»¬ä¹‹å‰ä¹Ÿå·²ç»æµ‹è¯•è¿‡äº†ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªBadCredentialsException\n        try &#123;\n          \t&#x2F;&#x2F;è¿›è¡Œè®¤è¯\n            Authentication authenticationResult &#x3D; this.attemptAuthentication(request, response);\n            if (authenticationResult &#x3D;&#x3D; null) &#123;\n                return;\n            &#125;\n\n            this.sessionStrategy.onAuthentication(authenticationResult, request, response);\n            if (this.continueChainBeforeSuccessfulAuthentication) &#123;\n                chain.doFilter(request, response);\n            &#125;\n\n          \t&#x2F;&#x2F;å¦‚æœä¸€è·¯ç»¿ç¯ï¼Œæ²¡æœ‰æŠ¥é”™ï¼Œé‚£ä¹ˆéªŒè¯æˆåŠŸï¼Œæ‰§è¡ŒsuccessfulAuthentication\n            this.successfulAuthentication(request, response, chain, authenticationResult);\n        &#125; catch (InternalAuthenticationServiceException var5) &#123;\n            this.logger.error(&quot;An internal error occurred while trying to authenticate the user.&quot;, var5);\n          \t&#x2F;&#x2F;éªŒè¯å¤±è´¥ï¼Œä¼šæ‰§è¡ŒunsuccessfulAuthentication\n            this.unsuccessfulAuthentication(request, response, var5);\n        &#125; catch (AuthenticationException var6) &#123;\n            this.unsuccessfulAuthentication(request, response, var6);\n        &#125;\n\n    &#125;\n&#125;\n\né‚£ä¹ˆæˆ‘ä»¬æ¥çœ‹çœ‹successfulAuthenticationå’ŒunsuccessfulAuthenticationåˆ†åˆ«åšäº†ä»€ä¹ˆï¼š\nprotected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain, Authentication authResult) throws IOException, ServletException &#123;\n  \t&#x2F;&#x2F;å‘SecurityContextHolderæ·»åŠ è®¤è¯ä¿¡æ¯ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡SecurityContextHolderå¯¹è±¡è·å–å½“å‰ç™»é™†çš„ç”¨æˆ·\n    SecurityContextHolder.getContext().setAuthentication(authResult);\n    if (this.logger.isDebugEnabled()) &#123;\n        this.logger.debug(LogMessage.format(&quot;Set SecurityContextHolder to %s&quot;, authResult));\n    &#125;\n\n  \t&#x2F;&#x2F;è®°ä½æˆ‘å®ç°\n    this.rememberMeServices.loginSuccess(request, response, authResult);\n    if (this.eventPublisher !&#x3D; null) &#123;\n        this.eventPublisher.publishEvent(new InteractiveAuthenticationSuccessEvent(authResult, this.getClass()));\n    &#125;\n\t\t\n  \t&#x2F;&#x2F;è°ƒç”¨é»˜è®¤çš„æˆ–æ˜¯æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„AuthenticationSuccessHandlerçš„onAuthenticationSuccessæ–¹æ³•\n  \t&#x2F;&#x2F;è¿™ä¸ªæ ¹æ®æˆ‘ä»¬é…ç½®æ–‡ä»¶å†³å®š\n  \t&#x2F;&#x2F;åˆ°è¿™é‡Œå…¶å®é¡µé¢å°±å·²ç»ç›´æ¥è·³è½¬äº†\n    this.successHandler.onAuthenticationSuccess(request, response, authResult);\n&#125;\n\nprotected void unsuccessfulAuthentication(HttpServletRequest request, HttpServletResponse response, AuthenticationException failed) throws IOException, ServletException &#123;\n  \t&#x2F;&#x2F;ç™»é™†å¤±è´¥ä¼šç›´æ¥æ¸…ç†æ‰SecurityContextHolderä¸­çš„è®¤è¯ä¿¡æ¯\n    SecurityContextHolder.clearContext();\n    this.logger.trace(&quot;Failed to process authentication request&quot;, failed);\n    this.logger.trace(&quot;Cleared SecurityContextHolder&quot;);\n    this.logger.trace(&quot;Handling authentication failure&quot;);\n  \t&#x2F;&#x2F;ç™»é™†å¤±è´¥çš„è®°ä½æˆ‘å¤„ç†\n    this.rememberMeServices.loginFail(request, response);\n  \t&#x2F;&#x2F;åŒä¸Šï¼Œè°ƒç”¨é»˜è®¤æˆ–æ˜¯æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„AuthenticationFailureHandler\n    this.failureHandler.onAuthenticationFailure(request, response, failed);\n&#125;\n\näº†è§£äº†æ•´ä¸ªç”¨æˆ·éªŒè¯å®ç°æµç¨‹ï¼Œå…¶å®å…¶å®ƒçš„è¿‡æ»¤å™¨æ˜¯å¦‚ä½•å®ç°çš„ä¹Ÿå°±å¾ˆå®¹æ˜“è”æƒ³åˆ°äº†ï¼ŒSpringSecurityçš„è¿‡æ»¤å™¨ä»æŸç§æ„ä¹‰ä¸Šæ¥è¯´ï¼Œæ›´åƒæ˜¯ä¸€ä¸ªå¤„ç†ä¸šåŠ¡çš„Servletï¼Œå®ƒåšçš„äº‹æƒ…ä¸åƒæ˜¯æ‹¦æˆªï¼Œæ›´åƒæ˜¯å®Œæˆè‡ªå·±å¯¹åº”çš„èŒè´£ï¼Œåªä¸è¿‡æ˜¯ä½¿ç”¨äº†è¿‡æ»¤å™¨æœºåˆ¶è¿›è¡Œå®ç°ç½¢äº†ã€‚\nSecurityContextPersistenceFilterä¹Ÿæ˜¯å†…ç½®çš„Filterï¼Œå¯ä»¥å°è¯•é˜…è¯»ä¸€ä¸‹å…¶æºç ï¼Œäº†è§£æ•´ä¸ªSecurityContextHolderçš„è¿ä½œåŸç†ï¼Œè¿™é‡Œå…ˆè¯´ä¸€ä¸‹å¤§è‡´æµç¨‹ï¼Œå„ä½å¯ä»¥ä¾ç…§æ•´ä¸ªæµç¨‹æŒ‰ç…§æºç è¿›è¡Œæ¨å¯¼ï¼š\nå½“è¿‡æ»¤å™¨é“¾æ‰§è¡Œåˆ°SecurityContextPersistenceFilteræ—¶ï¼Œå®ƒä¼šä»HttpSessionä¸­æŠŠSecurityContextå¯¹è±¡å–å‡ºæ¥ï¼ˆæ˜¯å­˜åœ¨Sessionä¸­çš„ï¼Œè·Ÿéšä¼šè¯çš„æ¶ˆå¤±è€Œæ¶ˆå¤±ï¼‰ï¼Œç„¶åæ”¾å…¥SecurityContextHolderå¯¹è±¡ä¸­ã€‚è¯·æ±‚ç»“æŸåï¼Œå†æŠŠSecurityContextå­˜å…¥HttpSessionä¸­ï¼Œå¹¶æ¸…é™¤SecurityContextHolderå†…çš„SecurityContextå¯¹è±¡ã€‚\n\nå®Œå–„åŠŸèƒ½åœ¨äº†è§£äº†SpringSecurityçš„å¤§éƒ¨åˆ†åŠŸèƒ½åï¼Œæˆ‘ä»¬å°±æ¥å°†æ•´ä¸ªç½‘ç«™çš„å†…å®¹è¿›è¡Œå®Œå–„ï¼Œç™»é™†ç›®å‰å·²ç»å®ç°äº†ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å®ç°ä»¥ä¸‹åŠŸèƒ½ï¼š\n\næ³¨å†ŒåŠŸèƒ½ï¼ˆä»…é’ˆå¯¹äºå­¦ç”Ÿï¼‰\nè§’è‰²åˆ†ä¸ºåŒå­¦å’Œç®¡ç†å‘˜\nç®¡ç†å‘˜è´Ÿè´£ä¸Šæ¶ã€åˆ é™¤ã€æ›´æ–°ä¹¦ç±ï¼ŒæŸ¥çœ‹æ‰€æœ‰åŒå­¦çš„å€Ÿé˜…åˆ—è¡¨\nåŒå­¦å¯ä»¥å€Ÿé˜…å’Œå½’è¿˜ä¹¦ç±ï¼Œä»¥åŠæŸ¥çœ‹è‡ªå·±çš„å€Ÿé˜…åˆ—è¡¨\n\n\n\nå¼€å§‹ä¹‹å‰æˆ‘ä»¬éœ€è¦å…ˆé…ç½®ä¸€ä¸‹Thymeleafçš„SpringSecurityæ‰©å±•ï¼Œå®ƒé’ˆå¯¹SpringSecurityæä¾›äº†æ›´å¤šé¢å¤–çš„è§£æï¼š\n&lt;dependency&gt;\n    &lt;groupId&gt;org.thymeleaf.extras&lt;&#x2F;groupId&gt;\n    &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;&#x2F;artifactId&gt;\n    &lt;version&gt;3.0.4.RELEASE&lt;&#x2F;version&gt;\n&lt;&#x2F;dependency&gt;\n\n&#x2F;&#x2F;é…ç½®æ¨¡æ¿å¼•æ“Bean\n@Bean\npublic SpringTemplateEngine springTemplateEngine(@Autowired ITemplateResolver resolver)&#123;\n    SpringTemplateEngine engine &#x3D; new SpringTemplateEngine();\n    engine.setTemplateResolver(resolver);\n    engine.addDialect(new SpringSecurityDialect());   &#x2F;&#x2F;æ·»åŠ é’ˆå¯¹äºSpringSecurityçš„æ–¹è¨€\n    return engine;\n&#125;\n\n&lt;html lang&#x3D;&quot;en&quot; xmlns:th&#x3D;&quot;http:&#x2F;&#x2F;www.thymeleaf.org&quot;\n      xmlns:sec&#x3D;&quot;http:&#x2F;&#x2F;www.thymeleaf.org&#x2F;extras&#x2F;spring-security&quot;&gt;\n\nä¸‹ä¸€ç« å°±æ˜¯æœ€åä¸€ç« äº†ï¼Œæˆ‘ä»¬ä¼šæ·±å…¥è®²è§£MySQLçš„é«˜çº§éƒ¨åˆ†ï¼ŒåŒ…æ‹¬å‡½æ•°ã€å­˜å‚¨è¿‡ç¨‹ã€é”æœºåˆ¶ã€ç´¢å¼•ä»¥åŠå­˜å‚¨å¼•æ“ã€‚\n","slug":"JavaSSMç¬”è®°ï¼ˆä¸‰ï¼‰","date":"2022-03-05T16:22:50.343Z","categories_index":"JavaSSMç¬”è®°","tags_index":"JavaSSMç¬”è®°","author_index":"YangChao"},{"id":"cb5396739d768c57aa162224d7506a32","title":"JavaSSMç¬”è®°ï¼ˆäºŒï¼‰","content":"\nSpringMVCåœ¨å‰é¢å­¦ä¹ å®ŒSpringæ¡†æ¶æŠ€æœ¯ä¹‹åï¼Œå·®ä¸å¤šä¼šå‡ºç°ä¸¤æ‰¹äººï¼šä¸€æ‰¹æ˜¯å¬å¾—äº‘é‡Œé›¾é‡Œï¼Œä¾ç„¶ä¸æ˜ç™½è¿™ä¸ªä¸œè¥¿æ˜¯å¹²å˜›çš„ï¼›è¿˜æœ‰ä¸€æ‰¹å°±æ˜¯å·®ä¸å¤šç†è§£äº†æ ¸å¿ƒæ€æƒ³ï¼Œä½†æ˜¯ä¸çŸ¥é“è¿™äº›ä¸œè¥¿è¯¥å¦‚ä½•å»å‘æŒ¥å®ƒçš„ä½œç”¨ã€‚åœ¨SpringMVCé˜¶æ®µï¼Œä½ å°±èƒ½é€æ¸å¤Ÿä½“ä¼šåˆ°Springæ¡†æ¶ä¸ºæˆ‘ä»¬å¸¦æ¥çš„ä¾¿æ·ä¹‹å¤„äº†ã€‚\næ­¤é˜¶æ®µï¼Œæˆ‘ä»¬å°†å†æ¬¡å›åˆ°Tomcatçš„Webåº”ç”¨ç¨‹åºå¼€å‘ä¸­ï¼Œå»æ„Ÿå—SpringMVCä¸ºæˆ‘ä»¬å¸¦æ¥çš„å·¨å¤§ä¾¿æ·ã€‚\nMVCç†è®ºåŸºç¡€åœ¨ä¹‹å‰ï¼Œæˆ‘ä»¬ç»™å¤§å®¶è®²è§£äº†ä¸‰å±‚æ¶æ„ï¼ŒåŒ…æ‹¬ï¼š\n\næ¯ä¸€å±‚éƒ½æœ‰ç€å„è‡ªçš„èŒè´£ï¼Œå…¶ä¸­æœ€å…³é”®çš„å½“å±è¡¨ç¤ºå±‚ï¼Œå› ä¸ºå®ƒç›¸å½“äºå°±æ˜¯ç›´æ¥ä¸ç”¨æˆ·çš„æµè§ˆå™¨æ‰“äº¤é“çš„ä¸€å±‚ï¼Œå¹¶ä¸”æ‰€æœ‰çš„è¯·æ±‚éƒ½ä¼šç»è¿‡å®ƒè¿›è¡Œè§£æï¼Œç„¶åå†å‘ŠçŸ¥ä¸šåŠ¡å±‚è¿›è¡Œå¤„ç†ï¼Œä»»ä½•é¡µé¢çš„è¿”å›å’Œæ•°æ®å¡«å……ä¹Ÿå…¨é è¡¨ç¤ºå±‚æ¥å®Œæˆï¼Œå› æ­¤å®ƒå®é™…ä¸Šæ˜¯æ•´ä¸ªä¸‰å±‚æ¶æ„ä¸­æœ€å…³é”®çš„ä¸€å±‚ï¼Œè€Œåœ¨ä¹‹å‰çš„å®æˆ˜å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç¼–å†™äº†å¤§é‡çš„Servletï¼ˆä¹Ÿå°±æ˜¯è¡¨ç¤ºå±‚å®ç°ï¼‰æ¥å¤„ç†æ¥è‡ªæµè§ˆå™¨çš„å„ç§è¯·æ±‚ï¼Œä½†æ˜¯æˆ‘ä»¬å‘ç°ï¼Œä»…ä»…æ˜¯å‡ ä¸ªå¾ˆå°çš„åŠŸèƒ½ï¼Œä»¥åŠå‡ ä¸ªå¾ˆåŸºæœ¬çš„é¡µé¢ï¼Œæˆ‘ä»¬éƒ½è¦ç¼–å†™å°†è¿‘åä¸ªServletï¼Œå¦‚æœæ˜¯æ›´åŠ å¤§å‹çš„ç½‘ç«™ç³»ç»Ÿï¼Œæ¯”å¦‚æ·˜å®ã€Bç«™ï¼Œå…‰æ˜¯ä¸€ä¸ªé¡µé¢ä¸­å¯èƒ½å°±åŒ…å«äº†å‡ åç”šè‡³ä¸Šç™¾ä¸ªåŠŸèƒ½ï¼Œæƒ³æƒ³é‚£æ ·çš„è¯å†™èµ·æ¥å¾—å¤šææ€–ã€‚\nå› æ­¤ï¼ŒSpringMVCæ­£æ˜¯ä¸ºäº†è§£å†³è¿™ç§é—®é¢˜è€Œç”Ÿçš„ï¼Œå®ƒæ˜¯ä¸€ä¸ªéå¸¸ä¼˜ç§€çš„è¡¨ç¤ºå±‚æ¡†æ¶ï¼ˆåœ¨æ­¤ä¹‹å‰è¿˜æœ‰ä¸€ä¸ªå«åšStruts2çš„æ¡†æ¶ï¼Œä½†æ˜¯ç°é˜¶æ®µè²Œä¼¼å¿«å‡‰é€äº†ï¼‰ï¼Œé‡‡ç”¨MVCæ€æƒ³è®¾è®¡å®ç°ã€‚\nMVCè§£é‡Šå¦‚ä¸‹ï¼š\n\nMæ˜¯æŒ‡ä¸šåŠ¡æ¨¡å‹ï¼ˆModelï¼‰ï¼šé€šä¿—çš„è®²å°±æ˜¯æˆ‘ä»¬ä¹‹å‰ç”¨äºå°è£…æ•°æ®ä¼ é€’çš„å®ä½“ç±»ã€‚\nVæ˜¯æŒ‡ç”¨æˆ·ç•Œé¢ï¼ˆViewï¼‰ï¼šä¸€èˆ¬æŒ‡çš„æ˜¯å‰ç«¯é¡µé¢ã€‚\nCåˆ™æ˜¯æ§åˆ¶å™¨ï¼ˆControllerï¼‰ï¼šæ§åˆ¶å™¨å°±ç›¸å½“äºServletçš„åŸºæœ¬åŠŸèƒ½ï¼Œå¤„ç†è¯·æ±‚ï¼Œè¿”å›å“åº”ã€‚\n\n\nSpringMVCæ­£æ˜¯å¸Œæœ›è¿™ä¸‰è€…ä¹‹é—´è¿›è¡Œè§£è€¦ï¼Œå®ç°å„å¹²å„çš„ï¼Œæ›´åŠ ç²¾ç»†åœ°åˆ’åˆ†å¯¹åº”çš„èŒè´£ã€‚æœ€åå†å°†Viewå’ŒModelè¿›è¡Œæ¸²æŸ“ï¼Œå¾—åˆ°æœ€ç»ˆçš„é¡µé¢å¹¶è¿”å›ç»™å‰ç«¯ï¼ˆå°±åƒä¹‹å‰ä½¿ç”¨Thymeleafé‚£æ ·ï¼ŒæŠŠå®ä½“æ•°æ®å¯¹è±¡å’Œå‰ç«¯é¡µé¢éƒ½ç»™åˆ°Thymeleafï¼Œç„¶åå®ƒä¼šå°†å…¶è¿›è¡Œæ•´åˆæ¸²æŸ“å¾—åˆ°æœ€ç»ˆæœ‰æ•°æ®çš„é¡µé¢ï¼Œè€Œæœ¬æ•™ç¨‹ä¹Ÿä¼šä½¿ç”¨Thymeleafä½œä¸ºè§†å›¾è§£æå™¨è¿›è¡Œè®²è§£ï¼‰\n\né…ç½®ç¯å¢ƒå¹¶æ­å»ºé¡¹ç›®ç”±äºSpringMVCè¿˜æ²¡æœ‰æ”¯æŒæœ€æ–°çš„Tomcat10ï¼ˆä¸»è¦æ˜¯ä¹‹å‰æåˆ°çš„åŒ…åé—®é¢˜ï¼Œç¥ä»™æ‰“æ¶ç™¾å§“é­æ®ƒï¼‰æ‰€ä»¥æˆ‘ä»¬å¹²è„†å°±å†æ¥é…ç½®ä¸€ä¸‹Tomcat9ç¯å¢ƒï¼Œç›¸å½“äºå›é¡¾ä¸€ä¸‹ã€‚\nä¸‹è½½åœ°å€ï¼šhttps://tomcat.apache.org/download-90.cgi\næ·»åŠ SpringMVCçš„ä¾èµ–ï¼š\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;\n    &lt;artifactId&gt;spring-webmvc&lt;&#x2F;artifactId&gt;\n    &lt;version&gt;5.3.13&lt;&#x2F;version&gt;\n&lt;&#x2F;dependency&gt;\n\næ¥ç€æˆ‘ä»¬éœ€è¦é…ç½®ä¸€ä¸‹web.xmlï¼Œå°†DispatcherServletæ›¿æ¢æ‰Tomcatè‡ªå¸¦çš„Servletï¼Œè¿™é‡Œurl-patternéœ€è¦å†™ä¸º/ï¼Œå³å¯å®Œæˆæ›¿æ¢ï¼š\n&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns&#x3D;&quot;http:&#x2F;&#x2F;xmlns.jcp.org&#x2F;xml&#x2F;ns&#x2F;javaee&quot;\n         xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;\n         xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;xmlns.jcp.org&#x2F;xml&#x2F;ns&#x2F;javaee http:&#x2F;&#x2F;xmlns.jcp.org&#x2F;xml&#x2F;ns&#x2F;javaee&#x2F;web-app_4_0.xsd&quot;\n         version&#x3D;&quot;4.0&quot;&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;mvc&lt;&#x2F;servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;&#x2F;servlet-class&gt;\n    &lt;&#x2F;servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;mvc&lt;&#x2F;servlet-name&gt;\n        &lt;url-pattern&gt;&#x2F;&lt;&#x2F;url-pattern&gt;\n    &lt;&#x2F;servlet-mapping&gt;\n&lt;&#x2F;web-app&gt;\n\næ¥ç€éœ€è¦ä¸ºæ•´ä¸ªWebåº”ç”¨ç¨‹åºé…ç½®ä¸€ä¸ªSpringä¸Šä¸‹æ–‡ç¯å¢ƒï¼ˆä¹Ÿå°±æ˜¯å®¹å™¨ï¼‰ï¼Œå› ä¸ºSpringMVCæ˜¯åŸºäºSpringå¼€å‘çš„ï¼Œå®ƒç›´æ¥åˆ©ç”¨Springæä¾›çš„å®¹å™¨æ¥å®ç°å„ç§åŠŸèƒ½ï¼Œè¿™é‡Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨æ³¨è§£æ–¹å¼è¿›è¡Œé…ç½®ï¼Œä¸å†ä½¿ç”¨XMLé…ç½®æ–‡ä»¶ï¼š\n&lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;&#x2F;param-name&gt;\n            &lt;param-value&gt;com.example.config.MvcConfiguration&lt;&#x2F;param-value&gt;\n        &lt;&#x2F;init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextClass&lt;&#x2F;param-name&gt;\n            &lt;param-value&gt;org.springframework.web.context.support.AnnotationConfigWebApplicationContext&lt;&#x2F;param-value&gt;\n        &lt;&#x2F;init-param&gt;\n\nå¦‚æœè¿˜æ˜¯æƒ³ä½¿ç”¨XMLé…ç½®æ–‡ä»¶è¿›è¡Œé…ç½®ï¼Œé‚£ä¹ˆå¯ä»¥ç›´æ¥è¿™æ ·å†™ï¼š\n&lt;init-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;&#x2F;param-name&gt;\n    &lt;param-value&gt;é…ç½®æ–‡ä»¶åç§°&lt;&#x2F;param-value&gt;\n&lt;&#x2F;init-param&gt;\n\nå¦‚æœä½ å¸Œæœ›å®Œå®Œå…¨å…¨ä¸¢å¼ƒé…ç½®æ–‡ä»¶ï¼Œå¯ä»¥ç›´æ¥æ·»åŠ ä¸€ä¸ªç±»ï¼ŒTomcatä¼šåœ¨ç±»è·¯å¾„ä¸­æŸ¥æ‰¾å®ç°ServletContainerInitializer æ¥å£çš„ç±»ï¼Œå¦‚æœå‘ç°çš„è¯ï¼Œå°±ç”¨å®ƒæ¥é…ç½®Servletå®¹å™¨ï¼ŒSpringæä¾›äº†è¿™ä¸ªæ¥å£çš„å®ç°ç±» SpringServletContainerInitializer , é€šè¿‡@HandlesTypes(WebApplicationInitializer.class)è®¾ç½®ï¼Œè¿™ä¸ªç±»åè¿‡æ¥ä¼šæŸ¥æ‰¾å®ç°WebApplicationInitializer çš„ç±»ï¼Œå¹¶å°†é…ç½®çš„ä»»åŠ¡äº¤ç»™ä»–ä»¬æ¥å®Œæˆï¼Œå› æ­¤ç›´æ¥å®ç°æ¥å£å³å¯ï¼š\npublic class MainInitializer extends AbstractAnnotationConfigDispatcherServletInitializer &#123;\n    @Override\n    protected Class&lt;?&gt;[] getRootConfigClasses() &#123;\n        return new Class[]&#123;MainConfiguration.class&#125;;   &#x2F;&#x2F;åŸºæœ¬çš„Springé…ç½®ç±»ï¼Œä¸€èˆ¬ç”¨äºä¸šåŠ¡å±‚é…ç½®\n    &#125;\n\n    @Override\n    protected Class&lt;?&gt;[] getServletConfigClasses() &#123;\n        return new Class[0];  &#x2F;&#x2F;é…ç½®DispatcherServletçš„é…ç½®ç±»ã€ä¸»è¦ç”¨äºControllerç­‰é…ç½®\n    &#125;\n\n    @Override\n    protected String[] getServletMappings() &#123;\n        return new String[]&#123;&quot;&#x2F;&quot;&#125;;    &#x2F;&#x2F;åŒ¹é…è·¯å¾„ï¼Œä¸ä¸Šé¢ä¸€è‡´\n    &#125;\n&#125;\n\né¡ºä¾¿ç¼–å†™ä¸€ä¸‹æœ€åŸºæœ¬çš„é…ç½®ç±»ï¼š\n@Configuration\npublic class MainConfiguration &#123;\n\n&#125;\n\nåé¢æˆ‘ä»¬éƒ½é‡‡ç”¨æ— XMLé…ç½®æ–¹å¼è¿›è¡Œè®²è§£ã€‚\n\nè¿™æ ·ï¼Œå°±å®Œæˆæœ€åŸºæœ¬çš„é…ç½®äº†ï¼Œç°åœ¨ä»»ä½•è¯·æ±‚éƒ½ä¼šä¼˜å…ˆç»è¿‡DispatcherServletè¿›è¡Œé›†ä¸­å¤„ç†ï¼Œä¸‹é¢æˆ‘ä»¬ä¼šè¯¦ç»†è®²è§£å¦‚ä½•ä½¿ç”¨å®ƒã€‚\n\nControlleræ§åˆ¶å™¨æœ‰äº†SpringMVCä¹‹åï¼Œæˆ‘ä»¬ä¸å¿…å†åƒä¹‹å‰é‚£æ ·ä¸€ä¸ªè¯·æ±‚åœ°å€åˆ›å»ºä¸€ä¸ªServletäº†ï¼Œå®ƒä½¿ç”¨DispatcherServletæ›¿ä»£Tomcatä¸ºæˆ‘ä»¬æä¾›çš„é»˜è®¤çš„é™æ€èµ„æºServletï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç°åœ¨æ‰€æœ‰çš„è¯·æ±‚ï¼ˆé™¤äº†jspï¼Œå› ä¸ºTomcatè¿˜æä¾›äº†ä¸€ä¸ªjspçš„Servletï¼‰éƒ½ä¼šç»è¿‡DispatcherServletè¿›è¡Œå¤„ç†ã€‚\né‚£ä¹ˆDispatcherServletä¼šå¸®åŠ©æˆ‘ä»¬åšä»€ä¹ˆå‘¢ï¼Ÿ\n\næ ¹æ®å›¾ç‰‡æˆ‘ä»¬å¯ä»¥äº†è§£ï¼Œæˆ‘ä»¬çš„è¯·æ±‚åˆ°è¾¾TomcatæœåŠ¡å™¨ä¹‹åï¼Œä¼šäº¤ç»™å½“å‰çš„Webåº”ç”¨ç¨‹åºè¿›è¡Œå¤„ç†ï¼Œè€ŒSpringMVCä½¿ç”¨DispatcherServletæ¥å¤„ç†æ‰€æœ‰çš„è¯·æ±‚ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒè¢«ä½œä¸ºä¸€ä¸ªç»Ÿä¸€çš„è®¿é—®ç‚¹ï¼Œæ‰€æœ‰çš„è¯·æ±‚å…¨éƒ¨ç”±å®ƒæ¥è¿›è¡Œè°ƒåº¦ã€‚\nå½“ä¸€ä¸ªè¯·æ±‚ç»è¿‡DispatcherServletä¹‹åï¼Œä¼šå…ˆèµ°HandlerMappingï¼Œå®ƒä¼šå°†è¯·æ±‚æ˜ å°„ä¸ºHandlerExecutionChainï¼Œä¾æ¬¡ç»è¿‡HandlerInterceptoræœ‰ç‚¹ç±»ä¼¼äºä¹‹å‰æˆ‘ä»¬æ‰€å­¦çš„è¿‡æ»¤å™¨ï¼Œä¸è¿‡åœ¨SpringMVCä¸­æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯æ‹¦æˆªå™¨ï¼Œç„¶åå†äº¤ç»™HandlerAdapterï¼Œæ ¹æ®è¯·æ±‚çš„è·¯å¾„é€‰æ‹©åˆé€‚çš„æ§åˆ¶å™¨è¿›è¡Œå¤„ç†ï¼Œæ§åˆ¶å™¨å¤„ç†å®Œæˆä¹‹åï¼Œä¼šè¿”å›ä¸€ä¸ªModelAndViewå¯¹è±¡ï¼ŒåŒ…æ‹¬æ•°æ®æ¨¡å‹å’Œè§†å›¾ï¼Œé€šä¿—çš„è®²å°±æ˜¯é¡µé¢ä¸­æ•°æ®å’Œé¡µé¢æœ¬èº«ï¼ˆåªåŒ…å«è§†å›¾åç§°å³å¯ï¼‰ã€‚\nè¿”å›ModelAndViewä¹‹åï¼Œä¼šäº¤ç»™ViewResolverï¼ˆè§†å›¾è§£æå™¨ï¼‰è¿›è¡Œå¤„ç†ï¼Œè§†å›¾è§£æå™¨ä¼šå¯¹æ•´ä¸ªè§†å›¾é¡µé¢è¿›è¡Œè§£æï¼ŒSpringMVCè‡ªå¸¦äº†ä¸€äº›è§†å›¾è§£æå™¨ï¼Œä½†æ˜¯åªé€‚ç”¨äºJSPé¡µé¢ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åƒä¹‹å‰ä¸€æ ·ä½¿ç”¨Thymeleafä½œä¸ºè§†å›¾è§£æå™¨ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ ¹æ®ç»™å®šçš„è§†å›¾åç§°ï¼Œç›´æ¥è¯»å–HTMLç¼–å†™çš„é¡µé¢ï¼Œè§£æä¸ºä¸€ä¸ªçœŸæ­£çš„Viewã€‚\nè§£æå®Œæˆåï¼Œå°±éœ€è¦å°†é¡µé¢ä¸­çš„æ•°æ®å…¨éƒ¨æ¸²æŸ“åˆ°Viewä¸­ï¼Œæœ€åè¿”å›ç»™DispatcherServletä¸€ä¸ªåŒ…å«æ‰€æœ‰æ•°æ®çš„æˆå½¢é¡µé¢ï¼Œå†å“åº”ç»™æµè§ˆå™¨ï¼Œå®Œæˆæ•´ä¸ªè¿‡ç¨‹ã€‚\nå› æ­¤ï¼Œå®é™…ä¸Šæ•´ä¸ªè¿‡ç¨‹æˆ‘ä»¬åªéœ€è¦ç¼–å†™å¯¹åº”è¯·æ±‚è·¯å¾„çš„çš„Controllerä»¥åŠé…ç½®å¥½æˆ‘ä»¬éœ€è¦çš„ViewResolverå³å¯ï¼Œä¹‹åè¿˜å¯ä»¥ç»§ç»­è¡¥å……æ·»åŠ æ‹¦æˆªå™¨ï¼Œè€Œå…¶ä»–çš„æµç¨‹å·²ç»ç”±SpringMVCå¸®åŠ©æˆ‘ä»¬å®Œæˆäº†ã€‚\né…ç½®è§†å›¾è§£æå™¨å’Œæ§åˆ¶å™¨é¦–å…ˆæˆ‘ä»¬éœ€è¦å®ç°æœ€åŸºæœ¬çš„é¡µé¢è§£æå¹¶è¿”å›ï¼Œç¬¬ä¸€æ­¥å°±æ˜¯é…ç½®è§†å›¾è§£æå™¨ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨Thymeleafä¸ºæˆ‘ä»¬æä¾›çš„è§†å›¾è§£æå™¨ï¼Œå¯¼å…¥éœ€è¦çš„ä¾èµ–ï¼š\n&lt;dependency&gt;\n    &lt;groupId&gt;org.thymeleaf&lt;&#x2F;groupId&gt;\n    &lt;artifactId&gt;thymeleaf-spring5&lt;&#x2F;artifactId&gt;\n    &lt;version&gt;3.0.12.RELEASE&lt;&#x2F;version&gt;\n&lt;&#x2F;dependency&gt;\n\né…ç½®è§†å›¾è§£æå™¨éå¸¸ç®€å•ï¼Œæˆ‘ä»¬åªéœ€è¦å°†å¯¹åº”çš„ViewResolveræ³¨å†Œä¸ºBeanå³å¯ï¼Œè¿™é‡Œæˆ‘ä»¬ç›´æ¥åœ¨é…ç½®ç±»ä¸­ç¼–å†™ï¼š\n@ComponentScan(&quot;com.example.controller&quot;)\n@Configuration\n@EnableWebMvc\npublic class WebConfiguration &#123;\n\n  &#x2F;&#x2F;æˆ‘ä»¬éœ€è¦ä½¿ç”¨ThymeleafViewResolverä½œä¸ºè§†å›¾è§£æå™¨ï¼Œå¹¶è§£ææˆ‘ä»¬çš„HTMLé¡µé¢\n    @Bean\n    public ThymeleafViewResolver thymeleafViewResolver(@Autowired SpringTemplateEngine springTemplateEngine)&#123;\n        ThymeleafViewResolver resolver &#x3D; new ThymeleafViewResolver();\n        resolver.setOrder(1);   &#x2F;&#x2F;å¯ä»¥å­˜åœ¨å¤šä¸ªè§†å›¾è§£æå™¨ï¼Œå¹¶ä¸”å¯ä»¥ä¸ºä»–ä»¬è®¾å®šè§£æé¡ºåº\n        resolver.setCharacterEncoding(&quot;UTF-8&quot;);   &#x2F;&#x2F;ç¼–ç æ ¼å¼æ˜¯é‡ä¸­ä¹‹é‡\n        resolver.setTemplateEngine(springTemplateEngine);   &#x2F;&#x2F;å’Œä¹‹å‰JavaWebé˜¶æ®µä¸€æ ·ï¼Œéœ€è¦ä½¿ç”¨æ¨¡æ¿å¼•æ“è¿›è¡Œè§£æï¼Œæ‰€ä»¥è¿™é‡Œä¹Ÿéœ€è¦è®¾å®šä¸€ä¸‹æ¨¡æ¿å¼•æ“\n        return resolver;\n    &#125;\n  \n  \t&#x2F;&#x2F;é…ç½®æ¨¡æ¿è§£æå™¨\n  \t@Bean\n    public SpringResourceTemplateResolver templateResolver()&#123;\n        SpringResourceTemplateResolver resolver &#x3D; new SpringResourceTemplateResolver();\n        resolver.setSuffix(&quot;.html&quot;);   &#x2F;&#x2F;éœ€è¦è§£æçš„åç¼€åç§°\n        resolver.setPrefix(&quot;&#x2F;&quot;);   &#x2F;&#x2F;éœ€è¦è§£æçš„HTMLé¡µé¢æ–‡ä»¶å­˜æ”¾çš„ä½ç½®\n        return resolver;\n    &#125;\n  \t\n  \t&#x2F;&#x2F;é…ç½®æ¨¡æ¿å¼•æ“Bean\n  \t@Bean\n    public SpringTemplateEngine springTemplateEngine(@Autowired ITemplateResolver resolver)&#123;\n        SpringTemplateEngine engine &#x3D; new SpringTemplateEngine();\n        engine.setTemplateResolver(resolver);   &#x2F;&#x2F;æ¨¡æ¿è§£æå™¨ï¼Œé»˜è®¤å³å¯\n        return engine;\n    &#125;\n&#125;\n\nåˆ«å¿˜äº†åœ¨Initializerä¸­æ·»åŠ æ­¤ç±»ä½œä¸ºé…ç½®ï¼š\n@Override\nprotected Class&lt;?&gt;[] getServletConfigClasses() &#123;\n    return new Class[]&#123;MvcConfiguration.class&#125;;\n&#125;\n\nç°åœ¨æˆ‘ä»¬å°±å®Œæˆäº†è§†å›¾è§£æå™¨çš„é…ç½®ï¼Œæˆ‘ä»¬æ¥ç€æ¥åˆ›å»ºä¸€ä¸ªControllerï¼Œåˆ›å»ºControllerä¹Ÿéå¸¸ç®€å•ï¼Œåªéœ€åœ¨ä¸€ä¸ªç±»ä¸Šæ·»åŠ ä¸€ä¸ª@Controlleræ³¨è§£å³å¯ï¼Œå®ƒä¼šè¢«Springæ‰«æå¹¶è‡ªåŠ¨æ³¨å†Œä¸ºControllerç±»å‹çš„Beanï¼Œç„¶åæˆ‘ä»¬åªéœ€è¦åœ¨ç±»ä¸­ç¼–å†™æ–¹æ³•ç”¨äºå¤„ç†å¯¹åº”åœ°å€çš„è¯·æ±‚å³å¯ï¼š\n@Controller   &#x2F;&#x2F;ç›´æ¥æ·»åŠ æ³¨è§£å³å¯\npublic class MainController &#123;\n\n    @RequestMapping(&quot;&#x2F;index&quot;)   &#x2F;&#x2F;ç›´æ¥å¡«å†™è®¿é—®è·¯å¾„\n    public ModelAndView index()&#123;\n        return new ModelAndView(&quot;index&quot;);  &#x2F;&#x2F;è¿”å›ModelAndViewå¯¹è±¡ï¼Œè¿™é‡Œå¡«å…¥äº†è§†å›¾çš„åç§°\n      \t&#x2F;&#x2F;è¿”å›åä¼šç»è¿‡è§†å›¾è§£æå™¨è¿›è¡Œå¤„ç†\n    &#125;\n&#125;\n\næˆ‘ä»¬ä¼šå‘ç°ï¼Œæ‰“å¼€æµè§ˆå™¨ä¹‹åå°±å¯ä»¥ç›´æ¥è®¿é—®æˆ‘ä»¬çš„HTMLé¡µé¢äº†ã€‚\nè€Œé¡µé¢ä¸­çš„æ•°æ®æˆ‘ä»¬å¯ä»¥ç›´æ¥å‘Modelè¿›è¡Œæä¾›ï¼š\n@RequestMapping(value &#x3D; &quot;&#x2F;index&quot;)\npublic ModelAndView index()&#123;\n    ModelAndView modelAndView &#x3D; new ModelAndView(&quot;index&quot;);\n    modelAndView.getModel().put(&quot;name&quot;, &quot;å•Šè¿™&quot;);\n    return modelAndView;\n&#125;\n\nè¿™æ ·Thymeleafå°±èƒ½æ”¶åˆ°æˆ‘ä»¬ä¼ é€’çš„æ•°æ®è¿›è¡Œè§£æï¼š\n&lt;!DOCTYPE html&gt;\n&lt;html lang&#x3D;&quot;en&quot; xmlns:th&#x3D;&quot;http:&#x2F;&#x2F;www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Title&lt;&#x2F;title&gt;\n    &lt;script src&#x3D;&quot;static&#x2F;test.js&quot;&gt;&lt;&#x2F;script&gt;\n&lt;&#x2F;head&gt;\n&lt;body&gt;\n    HelloWorldï¼\n    &lt;div th:text&#x3D;&quot;$&#123;name&#125;&quot;&gt;&lt;&#x2F;div&gt;\n&lt;&#x2F;body&gt;\n&lt;&#x2F;html&gt;\n\nå½“ç„¶ï¼Œå¦‚æœä»…ä»…æ˜¯ä¼ é€’ä¸€ä¸ªé¡µé¢ä¸éœ€è¦ä»»ä½•çš„é™„åŠ å±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è¿”å›Viewåç§°ï¼ŒSpringMVCä¼šå°†å…¶è‡ªåŠ¨åŒ…è£…ä¸ºModelAndViewå¯¹è±¡ï¼š\n@RequestMapping(value &#x3D; &quot;&#x2F;index&quot;)\npublic String index()&#123;\n    return &quot;index&quot;;\n&#125;\n\nè¿˜å¯ä»¥å•ç‹¬æ·»åŠ ä¸€ä¸ªModelä½œä¸ºå½¢å‚è¿›è¡Œè®¾ç½®ï¼ŒSpringMVCä¼šè‡ªåŠ¨å¸®åŠ©æˆ‘ä»¬ä¼ é€’å®ä¾‹å¯¹è±¡ï¼š\n@RequestMapping(value &#x3D; &quot;&#x2F;index&quot;)\npublic String index(Model model)&#123;  &#x2F;&#x2F;è¿™é‡Œä¸ä»…ä»…å¯ä»¥æ˜¯Modelï¼Œè¿˜å¯ä»¥æ˜¯Mapã€ModelMap\n    model.addAttribute(&quot;name&quot;, &quot;yyds&quot;);\n    return &quot;index&quot;;\n&#125;\n\nè¿™ä¹ˆæ–¹ä¾¿çš„å†™æ³•ï¼Œä½ å°±è¯´ä½ çˆ±ä¸çˆ±å§ï¼Œä½ çˆ±ä¸çˆ±ã€‚\næ³¨æ„ï¼Œä¸€å®šè¦ä¿è¯è§†å›¾åç§°ä¸‹é¢å‡ºç°æ¨ªçº¿å¹¶ä¸”æŒ‰ä½Ctrlå¯ä»¥è·³è½¬ï¼Œé…ç½®æ‰æ˜¯æ­£ç¡®çš„ï¼ˆæœ€æ–°ç‰ˆIDEAï¼‰\næˆ‘ä»¬çš„é¡µé¢ä¸­å¯èƒ½è¿˜ä¼šåŒ…å«ä¸€äº›é™æ€èµ„æºï¼Œæ¯”å¦‚jsã€cssï¼Œå› æ­¤è¿™é‡Œæˆ‘ä»¬è¿˜éœ€è¦é…ç½®ä¸€ä¸‹ï¼Œè®©é™æ€èµ„æºé€šè¿‡Tomcatæä¾›çš„é»˜è®¤Servletè¿›è¡Œè§£æï¼Œæˆ‘ä»¬éœ€è¦è®©é…ç½®ç±»å®ç°ä¸€ä¸‹WebMvcConfigureræ¥å£ï¼Œè¿™æ ·åœ¨Webåº”ç”¨ç¨‹åºå¯åŠ¨æ—¶ï¼Œä¼šæ ¹æ®æˆ‘ä»¬é‡å†™æ–¹æ³•é‡Œé¢çš„å†…å®¹è¿›è¡Œè¿›ä¸€æ­¥çš„é…ç½®ï¼š\n@Override\npublic void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) &#123;\n    configurer.enable();   &#x2F;&#x2F;å¼€å¯é»˜è®¤çš„Servlet\n&#125;\n\n@Override\npublic void addResourceHandlers(ResourceHandlerRegistry registry) &#123;\n    registry.addResourceHandler(&quot;&#x2F;static&#x2F;**&quot;).addResourceLocations(&quot;&#x2F;WEB-INF&#x2F;static&#x2F;&quot;);   \n  \t&#x2F;&#x2F;é…ç½®é™æ€èµ„æºçš„è®¿é—®è·¯å¾„\n&#125;\n\næˆ‘ä»¬ç¼–å†™ä¸€ä¸‹å‰ç«¯å†…å®¹ï¼š\n&lt;!DOCTYPE html&gt;\n&lt;html lang&#x3D;&quot;en&quot; xmlns:th&#x3D;&quot;http:&#x2F;&#x2F;www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Title&lt;&#x2F;title&gt;\n      &lt;!-- å¼•ç”¨é™æ€èµ„æºï¼Œè¿™é‡Œä½¿ç”¨Thymeleafçš„ç½‘å€é“¾æ¥è¡¨è¾¾å¼ï¼ŒThymeleafä¼šè‡ªåŠ¨æ·»åŠ webåº”ç”¨ç¨‹åºçš„åç§°åˆ°é“¾æ¥å‰é¢ --&gt;\n    &lt;script th:src&#x3D;&quot;@&#123;&#x2F;static&#x2F;test.js&#125;&quot;&gt;&lt;&#x2F;script&gt;\n&lt;&#x2F;head&gt;\n&lt;body&gt;\n    HelloWorldï¼\n&lt;&#x2F;body&gt;\n&lt;&#x2F;html&gt;\n\nåˆ›å»ºtest.jså¹¶ç¼–å†™å¦‚ä¸‹å†…å®¹ï¼š\nwindow.alert(&quot;æ¬¢è¿æ¥åˆ°GayHubå…¨çƒæœ€å¤§åŒæ€§äº¤å‹ç½‘ç«™&quot;)\n\næœ€åè®¿é—®é¡µé¢ï¼Œé¡µé¢åœ¨åŠ è½½æ—¶å°±ä¼šæ˜¾ç¤ºä¸€ä¸ªå¼¹çª—ï¼Œè¿™æ ·æˆ‘ä»¬å°±å®Œæˆäº†æœ€åŸºæœ¬çš„é¡µé¢é…ç½®ã€‚ç›¸æ¯”ä¹‹å‰çš„æ–¹å¼ï¼Œè¿™æ ·å°±ç®€å•å¾ˆå¤šäº†ï¼Œç›´æ¥é¿å…äº†ç¼–å†™å¤§é‡çš„Servletæ¥å¤„ç†è¯·æ±‚ã€‚\n@RequestMappingè¯¦è§£å‰é¢æˆ‘ä»¬å·²ç»äº†è§£äº†å¦‚ä½•åˆ›å»ºä¸€ä¸ªæ§åˆ¶å™¨æ¥å¤„ç†æˆ‘ä»¬çš„è¯·æ±‚ï¼Œæ¥ç€æˆ‘ä»¬åªéœ€è¦åœ¨æ§åˆ¶å™¨æ·»åŠ ä¸€ä¸ªæ–¹æ³•ç”¨äºå¤„ç†å¯¹åº”çš„è¯·æ±‚å³å¯ï¼Œä¹‹å‰æˆ‘ä»¬éœ€è¦å®Œæ•´åœ°ç¼–å†™ä¸€ä¸ªServletæ¥å®ç°ï¼Œè€Œç°åœ¨æˆ‘ä»¬åªéœ€è¦æ·»åŠ ä¸€ä¸ª@RequestMappingå³å¯å®ç°ï¼Œå…¶å®ä»å®ƒçš„åå­—æˆ‘ä»¬ä¹Ÿèƒ½å¾—çŸ¥ï¼Œæ­¤æ³¨è§£å°±æ˜¯å°†è¯·æ±‚å’Œå¤„ç†è¯·æ±‚çš„æ–¹æ³•å»ºç«‹ä¸€ä¸ªæ˜ å°„å…³ç³»ï¼Œå½“æ”¶åˆ°è¯·æ±‚æ—¶å°±å¯ä»¥æ ¹æ®æ˜ å°„å…³ç³»è°ƒç”¨å¯¹åº”çš„è¯·æ±‚å¤„ç†æ–¹æ³•ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ¥å…ˆèŠèŠ@RequestMappingå§ï¼Œæ³¨è§£å®šä¹‰å¦‚ä¸‹ï¼š\n@Mapping\npublic @interface RequestMapping &#123;\n    String name() default &quot;&quot;;\n\n    @AliasFor(&quot;path&quot;)\n    String[] value() default &#123;&#125;;\n\n    @AliasFor(&quot;value&quot;)\n    String[] path() default &#123;&#125;;\n\n    RequestMethod[] method() default &#123;&#125;;\n\n    String[] params() default &#123;&#125;;\n\n    String[] headers() default &#123;&#125;;\n\n    String[] consumes() default &#123;&#125;;\n\n    String[] produces() default &#123;&#125;;\n&#125;\n\nå…¶ä¸­æœ€å…³é”®çš„æ˜¯pathå±æ€§ï¼ˆç­‰ä»·äºvalueï¼‰ï¼Œå®ƒå†³å®šäº†å½“å‰æ–¹æ³•å¤„ç†çš„è¯·æ±‚è·¯å¾„ï¼Œæ³¨æ„è·¯å¾„å¿…é¡»å…¨å±€å”¯ä¸€ï¼Œä»»ä½•è·¯å¾„åªèƒ½æœ‰ä¸€ä¸ªæ–¹æ³•è¿›è¡Œå¤„ç†ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œä¹Ÿå°±æ˜¯è¯´æ­¤æ–¹æ³•ä¸ä»…ä»…å¯ä»¥åªç”¨äºå¤„ç†æŸä¸€ä¸ªè¯·æ±‚è·¯å¾„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ­¤æ–¹æ³•å¤„ç†å¤šä¸ªè¯·æ±‚è·¯å¾„ï¼š\n@RequestMapping(&#123;&quot;&#x2F;index&quot;, &quot;&#x2F;test&quot;&#125;)\npublic ModelAndView index()&#123;\n    return new ModelAndView(&quot;index&quot;);\n&#125;\n\nç°åœ¨æˆ‘ä»¬è®¿é—®&#x2F;indexæˆ–æ˜¯&#x2F;testéƒ½ä¼šç»è¿‡æ­¤æ–¹æ³•è¿›è¡Œå¤„ç†ã€‚\næˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥å°†@RequestMappingæ·»åŠ åˆ°ç±»åä¸Šï¼Œè¡¨ç¤ºä¸ºæ­¤ç±»ä¸­çš„æ‰€æœ‰è¯·æ±‚æ˜ å°„æ·»åŠ ä¸€ä¸ªè·¯å¾„å‰ç¼€ï¼Œæ¯”å¦‚ï¼š\n@Controller\n@RequestMapping(&quot;&#x2F;yyds&quot;)\npublic class MainController &#123;\n\n    @RequestMapping(&#123;&quot;&#x2F;index&quot;, &quot;&#x2F;test&quot;&#125;)\n    public ModelAndView index()&#123;\n        return new ModelAndView(&quot;index&quot;);\n    &#125;\n&#125;\n\né‚£ä¹ˆç°åœ¨æˆ‘ä»¬éœ€è¦è®¿é—®/yyds/indexæˆ–æ˜¯/yyds/testæ‰å¯ä»¥å¾—åˆ°æ­¤é¡µé¢ã€‚æˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨IDEAä¸‹æ–¹çš„ç«¯ç‚¹æ¿å—ä¸­æŸ¥çœ‹å½“å‰Webåº”ç”¨ç¨‹åºå®šä¹‰çš„æ‰€æœ‰è¯·æ±‚æ˜ å°„ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡IDEAä¸ºæˆ‘ä»¬æä¾›çš„å†…ç½®Webå®¢æˆ·ç«¯ç›´æ¥è®¿é—®æŸä¸ªè·¯å¾„ã€‚\nè·¯å¾„è¿˜æ”¯æŒä½¿ç”¨é€šé…ç¬¦è¿›è¡ŒåŒ¹é…ï¼š\n\n?ï¼šè¡¨ç¤ºä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼Œæ¯”å¦‚@RequestMapping(&quot;/index/x?&quot;)å¯ä»¥åŒ¹é…&#x2F;index&#x2F;xaã€&#x2F;index&#x2F;xbç­‰ç­‰ã€‚\n*ï¼šè¡¨ç¤ºä»»æ„0-nä¸ªå­—ç¬¦ï¼Œæ¯”å¦‚@RequestMapping(&quot;/index/*&quot;)å¯ä»¥åŒ¹é…&#x2F;index&#x2F;lbwnbã€&#x2F;index&#x2F;yydsç­‰ã€‚\n**ï¼šè¡¨ç¤ºå½“å‰ç›®å½•æˆ–åŸºäºå½“å‰ç›®å½•çš„å¤šçº§ç›®å½•ï¼Œæ¯”å¦‚@RequestMapping(&quot;/index/**&quot;)å¯ä»¥åŒ¹é…&#x2F;indexã€&#x2F;index&#x2F;xxxç­‰ã€‚\n\næˆ‘ä»¬æ¥ç€æ¥çœ‹ä¸‹ä¸€ä¸ªmethodå±æ€§ï¼Œé¡¾åæ€ä¹‰ï¼Œå®ƒå°±æ˜¯è¯·æ±‚çš„æ–¹æ³•ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥é™å®šè¯·æ±‚æ–¹å¼ï¼Œæ¯”å¦‚ï¼š\n@RequestMapping(value &#x3D; &quot;&#x2F;index&quot;, method &#x3D; RequestMethod.POST)\npublic ModelAndView index()&#123;\n    return new ModelAndView(&quot;index&quot;);\n&#125;\n\nç°åœ¨æˆ‘ä»¬å¦‚æœç›´æ¥ä½¿ç”¨æµè§ˆå™¨è®¿é—®æ­¤é¡µé¢ï¼Œä¼šæ˜¾ç¤º405æ–¹æ³•ä¸æ”¯æŒï¼Œå› ä¸ºæµè§ˆå™¨é»˜è®¤æ˜¯ç›´æ¥ä½¿ç”¨GETæ–¹æ³•è·å–é¡µé¢ï¼Œè€Œæˆ‘ä»¬è¿™é‡ŒæŒ‡å®šä¸ºPOSTæ–¹æ³•è®¿é—®æ­¤åœ°å€ï¼Œæ‰€ä»¥è®¿é—®å¤±è´¥ï¼Œæˆ‘ä»¬ç°åœ¨å†å»ç«¯ç‚¹ä¸­ç”¨POSTæ–¹å¼å»è®¿é—®ï¼ŒæˆåŠŸå¾—åˆ°é¡µé¢ã€‚\næˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨è¡ç”Ÿæ³¨è§£ç›´æ¥è®¾å®šä¸ºæŒ‡å®šç±»å‹çš„è¯·æ±‚æ˜ å°„ï¼š\n@PostMapping(value &#x3D; &quot;&#x2F;index&quot;)\npublic ModelAndView index()&#123;\n    return new ModelAndView(&quot;index&quot;);\n&#125;\n\nè¿™é‡Œä½¿ç”¨äº†@PostMappingç›´æ¥æŒ‡å®šä¸ºPOSTè¯·æ±‚ç±»å‹çš„è¯·æ±‚æ˜ å°„ï¼ŒåŒæ ·çš„ï¼Œè¿˜æœ‰@GetMappingå¯ä»¥ç›´æ¥æŒ‡å®šä¸ºGETè¯·æ±‚æ–¹å¼ï¼Œè¿™é‡Œå°±ä¸ä¸€ä¸€åˆ—ä¸¾äº†ã€‚\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨paramså±æ€§æ¥æŒ‡å®šè¯·æ±‚å¿…é¡»æºå¸¦å“ªäº›è¯·æ±‚å‚æ•°ï¼Œæ¯”å¦‚ï¼š\n@RequestMapping(value &#x3D; &quot;&#x2F;index&quot;, params &#x3D; &#123;&quot;username&quot;, &quot;password&quot;&#125;)\npublic ModelAndView index()&#123;\n    return new ModelAndView(&quot;index&quot;);\n&#125;\n\næ¯”å¦‚è¿™é‡Œæˆ‘ä»¬è¦æ±‚è¯·æ±‚ä¸­å¿…é¡»æºå¸¦usernameå’Œpasswordå±æ€§ï¼Œå¦åˆ™æ— æ³•è®¿é—®ã€‚å®ƒè¿˜æ”¯æŒè¡¨è¾¾å¼ï¼Œæ¯”å¦‚æˆ‘ä»¬å¯ä»¥è¿™æ ·ç¼–å†™ï¼š\n@RequestMapping(value &#x3D; &quot;&#x2F;index&quot;, params &#x3D; &#123;&quot;!username&quot;, &quot;password&quot;&#125;)\npublic ModelAndView index()&#123;\n    return new ModelAndView(&quot;index&quot;);\n&#125;\n\nåœ¨usernameä¹‹å‰æ·»åŠ ä¸€ä¸ªæ„Ÿå¹å·è¡¨ç¤ºè¯·æ±‚çš„ä¸å…è®¸æºå¸¦æ­¤å‚æ•°ï¼Œå¦åˆ™æ— æ³•è®¿é—®ï¼Œæˆ‘ä»¬ç”šè‡³å¯ä»¥ç›´æ¥è®¾å®šä¸€ä¸ªå›ºå®šå€¼ï¼š\n@RequestMapping(value &#x3D; &quot;&#x2F;index&quot;, params &#x3D; &#123;&quot;username!&#x3D;test&quot;, &quot;password&#x3D;123&quot;&#125;)\npublic ModelAndView index()&#123;\n    return new ModelAndView(&quot;index&quot;);\n&#125;\n\nè¿™æ ·ï¼Œè¯·æ±‚å‚æ•°usernameä¸å…è®¸ä¸ºtestï¼Œå¹¶ä¸”passwordå¿…é¡»ä¸º123ï¼Œå¦åˆ™æ— æ³•è®¿é—®ã€‚\nheaderå±æ€§ç”¨æ³•ä¸paramsä¸€è‡´ï¼Œä½†æ˜¯å®ƒè¦æ±‚çš„æ˜¯è¯·æ±‚å¤´ä¸­éœ€è¦æºå¸¦ä»€ä¹ˆå†…å®¹ï¼Œæ¯”å¦‚ï¼š\n@RequestMapping(value &#x3D; &quot;&#x2F;index&quot;, headers &#x3D; &quot;!Connection&quot;)\npublic ModelAndView index()&#123;\n    return new ModelAndView(&quot;index&quot;);\n&#125;\n\né‚£ä¹ˆï¼Œå¦‚æœè¯·æ±‚å¤´ä¸­æºå¸¦äº†Connectionå±æ€§ï¼Œå°†æ— æ³•è®¿é—®ã€‚å…¶ä»–ä¸¤ä¸ªå±æ€§ï¼š\n\nconsumesï¼š æŒ‡å®šå¤„ç†è¯·æ±‚çš„æäº¤å†…å®¹ç±»å‹ï¼ˆContent-Typeï¼‰ï¼Œä¾‹å¦‚application&#x2F;json, text&#x2F;html;\nproduces:  æŒ‡å®šè¿”å›çš„å†…å®¹ç±»å‹ï¼Œä»…å½“requestè¯·æ±‚å¤´ä¸­çš„(Accept)ç±»å‹ä¸­åŒ…å«è¯¥æŒ‡å®šç±»å‹æ‰è¿”å›ï¼›\n\n@RequestParamå’Œ@RequestHeaderè¯¦è§£æˆ‘ä»¬æ¥ç€æ¥çœ‹ï¼Œå¦‚ä½•è·å–åˆ°è¯·æ±‚ä¸­çš„å‚æ•°ã€‚\næˆ‘ä»¬åªéœ€è¦ä¸ºæ–¹æ³•æ·»åŠ ä¸€ä¸ªå½¢å¼å‚æ•°ï¼Œå¹¶åœ¨å½¢å¼å‚æ•°å‰é¢æ·»åŠ @RequestParamæ³¨è§£å³å¯ï¼š\n@RequestMapping(value &#x3D; &quot;&#x2F;index&quot;)\npublic ModelAndView index(@RequestParam(&quot;username&quot;) String username)&#123;\n    System.out.println(&quot;æ¥å—åˆ°è¯·æ±‚å‚æ•°ï¼š&quot;+username);\n    return new ModelAndView(&quot;index&quot;);\n&#125;\n\næˆ‘ä»¬éœ€è¦åœ¨@RequestParamä¸­å¡«å†™å‚æ•°åç§°ï¼Œå‚æ•°çš„å€¼ä¼šè‡ªåŠ¨ä¼ é€’ç»™å½¢å¼å‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨æ–¹æ³•ä¸­ä½¿ç”¨ï¼Œæ³¨æ„ï¼Œå¦‚æœå‚æ•°åç§°ä¸å½¢å¼å‚æ•°åç§°ç›¸åŒï¼Œå³ä½¿ä¸æ·»åŠ @RequestParamä¹Ÿèƒ½è·å–åˆ°å‚æ•°å€¼ã€‚\nä¸€æ—¦æ·»åŠ @RequestParamï¼Œé‚£ä¹ˆæ­¤è¯·æ±‚å¿…é¡»æºå¸¦æŒ‡å®šå‚æ•°ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å°†requireå±æ€§è®¾å®šä¸ºfalseæ¥å°†å±æ€§è®¾å®šä¸ºéå¿…é¡»ï¼š\n@RequestMapping(value &#x3D; &quot;&#x2F;index&quot;)\npublic ModelAndView index(@RequestParam(value &#x3D; &quot;username&quot;, required &#x3D; false) String username)&#123;\n    System.out.println(&quot;æ¥å—åˆ°è¯·æ±‚å‚æ•°ï¼š&quot;+username);\n    return new ModelAndView(&quot;index&quot;);\n&#125;\n\næˆ‘ä»¬è¿˜å¯ä»¥ç›´æ¥è®¾å®šä¸€ä¸ªé»˜è®¤å€¼ï¼Œå½“è¯·æ±‚å‚æ•°ç¼ºå¤±æ—¶ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨é»˜è®¤å€¼ï¼š\n@RequestMapping(value &#x3D; &quot;&#x2F;index&quot;)\npublic ModelAndView index(@RequestParam(value &#x3D; &quot;username&quot;, required &#x3D; false, defaultValue &#x3D; &quot;ä¼å…µä¸€å·&quot;) String username)&#123;\n    System.out.println(&quot;æ¥å—åˆ°è¯·æ±‚å‚æ•°ï¼š&quot;+username);\n    return new ModelAndView(&quot;index&quot;);\n&#125;\n\nå¦‚æœéœ€è¦ä½¿ç”¨ServletåŸæœ¬çš„ä¸€äº›ç±»ï¼Œæ¯”å¦‚ï¼š\n@RequestMapping(value &#x3D; &quot;&#x2F;index&quot;)\npublic ModelAndView index(HttpServletRequest request)&#123;\n    System.out.println(&quot;æ¥å—åˆ°è¯·æ±‚å‚æ•°ï¼š&quot;+request.getParameterMap().keySet());\n    return new ModelAndView(&quot;index&quot;);\n&#125;\n\nç›´æ¥æ·»åŠ HttpServletRequestä¸ºå½¢å¼å‚æ•°å³å¯ï¼ŒSpringMVCä¼šè‡ªåŠ¨ä¼ é€’è¯¥è¯·æ±‚åŸæœ¬çš„HttpServletRequestå¯¹è±¡ï¼ŒåŒç†ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ·»åŠ HttpServletResponseä½œä¸ºå½¢å¼å‚æ•°ï¼Œç”šè‡³å¯ä»¥ç›´æ¥å°†HttpSessionä¹Ÿä½œä¸ºå‚æ•°ä¼ é€’ï¼š\n@RequestMapping(value &#x3D; &quot;&#x2F;index&quot;)\npublic ModelAndView index(HttpSession session)&#123;\n    System.out.println(session.getAttribute(&quot;test&quot;));\n    session.setAttribute(&quot;test&quot;, &quot;é¸¡ä½ å¤ªç¾&quot;);\n    return new ModelAndView(&quot;index&quot;);\n&#125;\n\næˆ‘ä»¬è¿˜å¯ä»¥ç›´æ¥å°†è¯·æ±‚å‚æ•°ä¼ é€’ç»™ä¸€ä¸ªå®ä½“ç±»ï¼š\n@Data\npublic class User &#123;\n    String username;\n    String password;\n&#125;\n\næ³¨æ„å¿…é¡»æºå¸¦setæ–¹æ³•æˆ–æ˜¯æ„é€ æ–¹æ³•ä¸­åŒ…å«æ‰€æœ‰å‚æ•°ï¼Œè¯·æ±‚å‚æ•°ä¼šè‡ªåŠ¨æ ¹æ®ç±»ä¸­çš„å­—æ®µåç§°è¿›è¡ŒåŒ¹é…ï¼š\n@RequestMapping(value &#x3D; &quot;&#x2F;index&quot;)\npublic ModelAndView index(User user)&#123;\n    System.out.println(&quot;è·å–åˆ°cookieå€¼ä¸ºï¼š&quot;+user);\n    return new ModelAndView(&quot;index&quot;);\n&#125;\n\n@RequestHeaderä¸@RequestParamç”¨æ³•ä¸€è‡´ï¼Œä¸è¿‡å®ƒæ˜¯ç”¨äºè·å–è¯·æ±‚å¤´å‚æ•°çš„ï¼Œè¿™é‡Œå°±ä¸å†æ¼”ç¤ºäº†ã€‚\n@CookieValueå’Œ@SessionAttrbutieé€šè¿‡ä½¿ç”¨@CookieValueæ³¨è§£ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å¿«é€Ÿè·å–è¯·æ±‚æºå¸¦çš„Cookieä¿¡æ¯ï¼š\n@RequestMapping(value &#x3D; &quot;&#x2F;index&quot;)\npublic ModelAndView index(HttpServletResponse response,\n                          @CookieValue(value &#x3D; &quot;test&quot;, required &#x3D; false) String test)&#123;\n    System.out.println(&quot;è·å–åˆ°cookieå€¼ä¸ºï¼š&quot;+test);\n    response.addCookie(new Cookie(&quot;test&quot;, &quot;lbwnb&quot;));\n    return new ModelAndView(&quot;index&quot;);\n&#125;\n\nåŒæ ·çš„ï¼ŒSessionä¹Ÿèƒ½ä½¿ç”¨æ³¨è§£å¿«é€Ÿè·å–ï¼š\n@RequestMapping(value &#x3D; &quot;&#x2F;index&quot;)\npublic ModelAndView index(@SessionAttribute(value &#x3D; &quot;test&quot;, required &#x3D; false) String test,\n                          HttpSession session)&#123;\n    session.setAttribute(&quot;test&quot;, &quot;xxxx&quot;);\n    System.out.println(test);\n    return new ModelAndView(&quot;index&quot;);\n&#125;\n\nå¯ä»¥å‘ç°ï¼Œé€šè¿‡ä½¿ç”¨SpringMVCæ¡†æ¶ï¼Œæ•´ä¸ªWebåº”ç”¨ç¨‹åºçš„å¼€å‘å˜å¾—éå¸¸ç®€å•ï¼Œå¤§éƒ¨åˆ†åŠŸèƒ½åªéœ€è¦ä¸€ä¸ªæ³¨è§£å°±å¯ä»¥æå®šäº†ï¼Œæ­£æ˜¯å¾—ç›ŠäºSpringæ¡†æ¶ï¼ŒSpringMVCæ‰èƒ½å¤§æ˜¾èº«æ‰‹ã€‚\né‡å®šå‘å’Œè¯·æ±‚è½¬å‘é‡å®šå‘å’Œè¯·æ±‚è½¬å‘ä¹Ÿéå¸¸ç®€å•ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨è§†å›¾åç§°å‰é¢æ·»åŠ ä¸€ä¸ªå‰ç¼€å³å¯ï¼Œæ¯”å¦‚é‡å®šå‘ï¼š\n@RequestMapping(&quot;&#x2F;index&quot;)\npublic String index()&#123;\n    return &quot;redirect:home&quot;;\n&#125;\n\n@RequestMapping(&quot;&#x2F;home&quot;)\npublic String home()&#123;\n    return &quot;home&quot;;\n&#125;\n\né€šè¿‡æ·»åŠ redirect:å‰ç¼€ï¼Œå°±å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å®ç°é‡å®šå‘ï¼Œé‚£ä¹ˆè¯·æ±‚è½¬å‘å‘¢ï¼Œå…¶å®ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œä½¿ç”¨forward:å‰ç¼€è¡¨ç¤ºè½¬å‘ç»™å…¶ä»–è¯·æ±‚æ˜ å°„ï¼š\n@RequestMapping(&quot;&#x2F;index&quot;)\npublic String index()&#123;\n    return &quot;forward:home&quot;;\n&#125;\n\n@RequestMapping(&quot;&#x2F;home&quot;)\npublic String home()&#123;\n    return &quot;home&quot;;\n&#125;\n\nä½¿ç”¨SpringMVCï¼Œåªéœ€è¦ä¸€ä¸ªå‰ç¼€å°±å¯ä»¥å®ç°é‡å®šå‘å’Œè¯·æ±‚è½¬å‘ï¼Œéå¸¸æ–¹ä¾¿ã€‚\nBeançš„Webä½œç”¨åŸŸåœ¨å­¦ä¹ Springæ—¶æˆ‘ä»¬è®²è§£äº†Beançš„ä½œç”¨åŸŸï¼ŒåŒ…æ‹¬singletonå’Œprototypeï¼ŒBeanåˆ†åˆ«ä¼šä»¥å•ä¾‹å’Œå¤šä¾‹æ¨¡å¼è¿›è¡Œåˆ›å»ºï¼Œè€Œåœ¨SpringMVCä¸­ï¼Œå®ƒçš„ä½œç”¨åŸŸè¢«ç»§ç»­ç»†åˆ†ï¼š\n\nrequestï¼šå¯¹äºæ¯æ¬¡HTTPè¯·æ±‚ï¼Œä½¿ç”¨requestä½œç”¨åŸŸå®šä¹‰çš„Beanéƒ½å°†äº§ç”Ÿä¸€ä¸ªæ–°å®ä¾‹ï¼Œè¯·æ±‚ç»“æŸåBeanä¹Ÿæ¶ˆå¤±ã€‚\nsessionï¼šå¯¹äºæ¯ä¸€ä¸ªä¼šè¯ï¼Œä½¿ç”¨sessionä½œç”¨åŸŸå®šä¹‰çš„Beanéƒ½å°†äº§ç”Ÿä¸€ä¸ªæ–°å®ä¾‹ï¼Œä¼šè¯è¿‡æœŸåBeanä¹Ÿæ¶ˆå¤±ã€‚\nglobal sessionï¼šä¸å¸¸ç”¨ï¼Œä¸åšè®²è§£ã€‚\n\nè¿™é‡Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæµ‹è¯•ç±»æ¥è¯•è¯•çœ‹ï¼š\npublic class TestBean &#123;\n\n&#125;\n\næ¥ç€å°†å…¶æ³¨å†Œä¸ºBeanï¼Œæ³¨æ„è¿™é‡Œéœ€è¦æ·»åŠ @RequestScopeæˆ–æ˜¯@SessionScopeè¡¨ç¤ºæ­¤Beançš„Webä½œç”¨åŸŸï¼š\n@Bean\n@RequestScope\npublic TestBean testBean()&#123;\n    return new TestBean();\n&#125;\n\næ¥ç€æˆ‘ä»¬å°†å…¶è‡ªåŠ¨æ³¨å…¥åˆ°Controllerä¸­ï¼š\n@Controller\npublic class MainController &#123;\n\n    @Resource\n    TestBean bean;\n\n    @RequestMapping(value &#x3D; &quot;&#x2F;index&quot;)\n    public ModelAndView index()&#123;\n        System.out.println(bean);\n        return new ModelAndView(&quot;index&quot;);\n    &#125;\n&#125;\n\næˆ‘ä»¬å‘ç°ï¼Œæ¯æ¬¡å‘èµ·å¾—åˆ°çš„Beanå®ä¾‹éƒ½ä¸åŒï¼Œæ¥ç€æˆ‘ä»¬å°†å…¶ä½œç”¨åŸŸä¿®æ”¹ä¸º@SessionScopeï¼Œè¿™æ ·ä½œç”¨åŸŸå°±ä¸Šå‡åˆ°Sessionï¼Œåªè¦æ¸…ç†æµè§ˆå™¨çš„Cookieï¼Œé‚£ä¹ˆéƒ½ä¼šè¢«è®¤ä¸ºæ˜¯åŒä¸€ä¸ªä¼šè¯ï¼Œåªè¦æ˜¯åŒä¸€ä¸ªä¼šè¯ï¼Œé‚£ä¹ˆBeanå®ä¾‹å§‹ç»ˆä¸å˜ã€‚\nå®é™…ä¸Šï¼Œå®ƒä¹Ÿæ˜¯é€šè¿‡ä»£ç†å®ç°çš„ï¼Œæˆ‘ä»¬è°ƒç”¨Beanä¸­çš„æ–¹æ³•ä¼šè¢«è½¬å‘åˆ°çœŸæ­£çš„Beanå¯¹è±¡å»æ‰§è¡Œã€‚\n\nRestFulé£æ ¼ä¸­æ–‡é‡Šä¹‰ä¸ºâ€œè¡¨ç°å±‚çŠ¶æ€è½¬æ¢â€ï¼ˆåå­—æŒºé«˜å¤§ä¸Šçš„ï¼‰ï¼Œå®ƒä¸æ˜¯ä¸€ç§æ ‡å‡†ï¼Œè€Œæ˜¯ä¸€ç§è®¾è®¡é£æ ¼ã€‚å®ƒçš„ä¸»è¦ä½œç”¨æ˜¯å……åˆ†å¹¶æ­£ç¡®åˆ©ç”¨HTTPåè®®çš„ç‰¹æ€§ï¼Œè§„èŒƒèµ„æºè·å–çš„URIè·¯å¾„ã€‚é€šä¿—çš„è®²ï¼ŒRESTfulé£æ ¼çš„è®¾è®¡å…è®¸å°†å‚æ•°é€šè¿‡URLæ‹¼æ¥ä¼ åˆ°æœåŠ¡ç«¯ï¼Œç›®çš„æ˜¯è®©URLçœ‹èµ·æ¥æ›´ç®€æ´å®ç”¨ï¼Œå¹¶ä¸”æˆ‘ä»¬å¯ä»¥å……åˆ†ä½¿ç”¨å¤šç§HTTPè¯·æ±‚æ–¹å¼ï¼ˆPOST&#x2F;GET&#x2F;PUT&#x2F;DELETEï¼‰ï¼Œæ¥æ‰§è¡Œç›¸åŒè¯·æ±‚åœ°å€çš„ä¸åŒç±»å‹æ“ä½œã€‚\nå› æ­¤ï¼Œè¿™ç§é£æ ¼çš„è¿æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥ä»è¯·æ±‚è·¯å¾„ä¸­è¯»å–å‚æ•°ï¼Œæ¯”å¦‚ï¼š\nhttp://localhost:8080/mvc/index/123456\næˆ‘ä»¬å¯ä»¥ç›´æ¥å°†indexçš„ä¸‹ä¸€çº§è·¯å¾„ä½œä¸ºè¯·æ±‚å‚æ•°è¿›è¡Œå¤„ç†ï¼Œä¹Ÿå°±æ˜¯è¯´ç°åœ¨çš„è¯·æ±‚å‚æ•°åŒ…å«åœ¨äº†è¯·æ±‚è·¯å¾„ä¸­ï¼š\n@RequestMapping(&quot;&#x2F;index&#x2F;&#123;str&#125;&quot;)\npublic String index(@PathVariable String str) &#123;\n    System.out.println(str);\n    return &quot;index&quot;;\n&#125;\n\næ³¨æ„è¯·æ±‚è·¯å¾„æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨æ·»åŠ ç±»ä¼¼å ä½ç¬¦ä¸€æ ·çš„ä¿¡æ¯ï¼Œè¿™æ ·å ä½ç¬¦ä½ç½®çš„æ‰€æœ‰å†…å®¹éƒ½ä¼šè¢«ä½œä¸ºè¯·æ±‚å‚æ•°ï¼Œè€Œæ–¹æ³•çš„å½¢å‚åˆ—è¡¨ä¸­å¿…é¡»åŒ…æ‹¬ä¸€ä¸ªä¸å ä½ç¬¦åŒåçš„å¹¶ä¸”æ·»åŠ äº†@PathVariableæ³¨è§£çš„å‚æ•°ï¼Œæˆ–æ˜¯ç”±@PathVariableæ³¨è§£æŒ‡å®šä¸ºå ä½ç¬¦åç§°ï¼š\n@RequestMapping(&quot;&#x2F;index&#x2F;&#123;str&#125;&quot;)\npublic String index(@PathVariable(&quot;str&quot;) String text)&#123;\n    System.out.println(text);\n    return &quot;index&quot;;\n&#125;\n\nå¦‚æœæ²¡æœ‰é…ç½®æ­£ç¡®ï¼Œæ–¹æ³•åç§°ä¸Šä¼šå‡ºç°é»„çº¿ã€‚\næˆ‘ä»¬å¯ä»¥æŒ‰ç…§ä¸åŒåŠŸèƒ½è¿›è¡Œåˆ’åˆ†ï¼š\n\nPOST http://localhost:8080/mvc/index  -  æ·»åŠ ç”¨æˆ·ä¿¡æ¯ï¼Œæºå¸¦è¡¨å•æ•°æ®\nGET http://localhost:8080/mvc/index/{id}  -  è·å–ç”¨æˆ·ä¿¡æ¯ï¼Œidç›´æ¥æ”¾åœ¨è¯·æ±‚è·¯å¾„ä¸­\nPUT http://localhost:8080/mvc/index  -  ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯ï¼Œæºå¸¦è¡¨å•æ•°æ®\nDELETE http://localhost:8080/mvc/index/{id}  -  åˆ é™¤ç”¨æˆ·ä¿¡æ¯ï¼Œidç›´æ¥æ”¾åœ¨è¯·æ±‚è·¯å¾„ä¸­\n\næˆ‘ä»¬åˆ†åˆ«ç¼–å†™å››ä¸ªè¯·æ±‚æ˜ å°„ï¼š\n@Controller\npublic class MainController &#123;\n\n    @RequestMapping(value &#x3D; &quot;&#x2F;index&#x2F;&#123;id&#125;&quot;, method &#x3D; RequestMethod.GET)\n    public String get(@PathVariable(&quot;id&quot;) String text)&#123;\n        System.out.println(&quot;è·å–ç”¨æˆ·ï¼š&quot;+text);\n        return &quot;index&quot;;\n    &#125;\n\n    @RequestMapping(value &#x3D; &quot;&#x2F;index&quot;, method &#x3D; RequestMethod.POST)\n    public String post(String username)&#123;\n        System.out.println(&quot;æ·»åŠ ç”¨æˆ·ï¼š&quot;+username);\n        return &quot;index&quot;;\n    &#125;\n\n    @RequestMapping(value &#x3D; &quot;&#x2F;index&#x2F;&#123;id&#125;&quot;, method &#x3D; RequestMethod.DELETE)\n    public String delete(@PathVariable(&quot;id&quot;) String text)&#123;\n        System.out.println(&quot;åˆ é™¤ç”¨æˆ·ï¼š&quot;+text);\n        return &quot;index&quot;;\n    &#125;\n\n    @RequestMapping(value &#x3D; &quot;&#x2F;index&quot;, method &#x3D; RequestMethod.PUT)\n    public String put(String username)&#123;\n        System.out.println(&quot;ä¿®æ”¹ç”¨æˆ·ï¼š&quot;+username);\n        return &quot;index&quot;;\n    &#125;\n&#125;\n\nè¿™åªæ˜¯ä¸€ç§è®¾è®¡é£æ ¼è€Œå·²ï¼Œå„ä½å°ä¼™ä¼´äº†è§£å³å¯ã€‚\n\nInterceptoræ‹¦æˆªå™¨æ‹¦æˆªå™¨æ˜¯æ•´ä¸ªSpringMVCçš„ä¸€ä¸ªé‡è¦å†…å®¹ï¼Œæ‹¦æˆªå™¨ä¸è¿‡æ»¤å™¨ç±»ä¼¼ï¼Œéƒ½æ˜¯ç”¨äºæ‹¦æˆªä¸€äº›éæ³•è¯·æ±‚ï¼Œä½†æ˜¯æˆ‘ä»¬ä¹‹å‰è®²è§£çš„è¿‡æ»¤å™¨æ˜¯ä½œç”¨äºServletä¹‹å‰ï¼Œåªæœ‰ç»è¿‡å±‚å±‚çš„æ‹¦æˆªå™¨æ‰å¯ä»¥æˆåŠŸåˆ°è¾¾Servletï¼Œè€Œæ‹¦æˆªå™¨å¹¶ä¸æ˜¯åœ¨Servletä¹‹å‰ï¼Œå®ƒåœ¨Servletä¸RequestMappingä¹‹é—´ï¼Œç›¸å½“äºDispatcherServletåœ¨å°†è¯·æ±‚äº¤ç»™å¯¹åº”Controllerä¸­çš„æ–¹æ³•ä¹‹å‰è¿›è¡Œæ‹¦æˆªå¤„ç†ï¼Œå®ƒåªä¼šæ‹¦æˆªæ‰€æœ‰Controllerä¸­å®šä¹‰çš„è¯·æ±‚æ˜ å°„å¯¹åº”çš„è¯·æ±‚ï¼ˆä¸ä¼šæ‹¦æˆªé™æ€èµ„æºï¼‰ï¼Œè¿™é‡Œä¸€å®šè¦åŒºåˆ†ä¸¤è€…çš„ä¸åŒã€‚\n\nåˆ›å»ºæ‹¦æˆªå™¨åˆ›å»ºä¸€ä¸ªæ‹¦æˆªå™¨æˆ‘ä»¬éœ€è¦å®ç°ä¸€ä¸ªHandlerInterceptoræ¥å£ï¼š\npublic class MainInterceptor implements HandlerInterceptor &#123;\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception &#123;\n        System.out.println(&quot;æˆ‘æ˜¯å¤„ç†ä¹‹å‰ï¼&quot;);\n        return true;   &#x2F;&#x2F;åªæœ‰è¿”å›trueæ‰ä¼šç»§ç»­ï¼Œå¦åˆ™ç›´æ¥ç»“æŸ\n    &#125;\n\n    @Override\n    public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception &#123;\n        System.out.println(&quot;æˆ‘æ˜¯å¤„ç†ä¹‹åï¼&quot;);\n    &#125;\n\n    @Override\n    public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception &#123;\n        System.out.println(&quot;æˆ‘æ˜¯å®Œæˆä¹‹åï¼&quot;);\n    &#125;\n&#125;\n\næ¥ç€æˆ‘ä»¬éœ€è¦åœ¨é…ç½®ç±»ä¸­è¿›è¡Œæ³¨å†Œï¼š\n@Override\npublic void addInterceptors(InterceptorRegistry registry) &#123;\n    registry.addInterceptor(new MainInterceptor())\n      .addPathPatterns(&quot;&#x2F;**&quot;)    &#x2F;&#x2F;æ·»åŠ æ‹¦æˆªå™¨çš„åŒ¹é…è·¯å¾„ï¼Œåªè¦åŒ¹é…ä¸€å¾‹æ‹¦æˆª\n      .excludePathPatterns(&quot;&#x2F;home&quot;);   &#x2F;&#x2F;æ‹¦æˆªå™¨ä¸è¿›è¡Œæ‹¦æˆªçš„è·¯å¾„\n&#125;\n\nç°åœ¨æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­è®¿é—®indexé¡µé¢ï¼Œæ‹¦æˆªå™¨å·²ç»ç”Ÿæ•ˆã€‚\nå¾—åˆ°æ•´ç†æ‹¦æˆªå™¨çš„æ‰§è¡Œé¡ºåºï¼š\n\n\n\n\n\n\n\n\n\næˆ‘æ˜¯å¤„ç†ä¹‹å‰ï¼\næˆ‘æ˜¯å¤„ç†ï¼\næˆ‘æ˜¯å¤„ç†ä¹‹åï¼\næˆ‘æ˜¯å®Œæˆä¹‹åï¼\nä¹Ÿå°±æ˜¯è¯´ï¼Œå¤„ç†å‰å’Œå¤„ç†åï¼ŒåŒ…å«äº†çœŸæ­£çš„è¯·æ±‚æ˜ å°„çš„å¤„ç†ï¼Œåœ¨æ•´ä¸ªæµç¨‹ç»“æŸåè¿˜æ‰§è¡Œäº†ä¸€æ¬¡afterCompletionæ–¹æ³•ï¼Œå…¶å®æ•´ä¸ªè¿‡ç¨‹ä¸æˆ‘ä»¬ä¹‹å‰æ‰€è®¤è¯†çš„Filterç±»ä¼¼ï¼Œä¸è¿‡åœ¨å¤„ç†å‰ï¼Œæˆ‘ä»¬åªéœ€è¦è¿”å›trueæˆ–æ˜¯falseè¡¨ç¤ºæ˜¯å¦è¢«æ‹¦æˆªå³å¯ï¼Œè€Œä¸æ˜¯å†å»ä½¿ç”¨FilterChainè¿›è¡Œå‘ä¸‹ä¼ é€’ã€‚\né‚£ä¹ˆæˆ‘ä»¬å°±æ¥çœ‹çœ‹ï¼Œå¦‚æœå¤„ç†å‰è¿”å›falseï¼Œä¼šæ€ä¹ˆæ ·ï¼š\n\n\n\n\n\n\n\n\n\næˆ‘æ˜¯å¤„ç†ä¹‹å‰ï¼\né€šè¿‡ç»“æœå‘ç°ä¸€æ—¦è¿”å›falseï¼Œä¹‹åçš„æ‰€æœ‰æµç¨‹å…¨éƒ¨å–æ¶ˆï¼Œé‚£ä¹ˆå¦‚æœæ˜¯åœ¨å¤„ç†ä¸­å‘ç”Ÿå¼‚å¸¸äº†å‘¢ï¼Ÿ\n@RequestMapping(&quot;&#x2F;index&quot;)\npublic String index()&#123;\n    System.out.println(&quot;æˆ‘æ˜¯å¤„ç†ï¼&quot;);\n    if(true) throw new RuntimeException(&quot;&quot;);\n    return &quot;index&quot;;\n&#125;\n\nç»“æœä¸ºï¼š\n\n\n\n\n\n\n\n\n\næˆ‘æ˜¯å¤„ç†ä¹‹å‰ï¼æˆ‘æ˜¯å¤„ç†ï¼æˆ‘æ˜¯å®Œæˆä¹‹åï¼\næˆ‘ä»¬å‘ç°å¦‚æœå¤„ç†è¿‡ç¨‹ä¸­æŠ›å‡ºå¼‚å¸¸ï¼Œé‚£ä¹ˆä¹…ä¸ä¼šæ‰§è¡Œå¤„ç†åpostHandleæ–¹æ³•ï¼Œä½†æ˜¯ä¼šæ‰§è¡ŒafterCompletionæ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ­¤æ–¹æ³•ä¸­è·å–åˆ°æŠ›å‡ºçš„å¼‚å¸¸ã€‚\nå¤šçº§æ‹¦æˆªå™¨å‰é¢ä»‹ç»äº†ä»…ä»…åªæœ‰ä¸€ä¸ªæ‹¦æˆªå™¨çš„æƒ…å†µï¼Œæˆ‘ä»¬æ¥ç€æ¥çœ‹å¦‚æœå­˜åœ¨å¤šä¸ªæ‹¦æˆªå™¨ä¼šå¦‚ä½•æ‰§è¡Œï¼Œæˆ‘ä»¬ä»¥åŒæ ·çš„æ–¹å¼åˆ›å»ºäºŒå·æ‹¦æˆªå™¨ï¼š\npublic class SubInterceptor implements HandlerInterceptor &#123;\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception &#123;\n        System.out.println(&quot;äºŒå·æ‹¦æˆªå™¨ï¼šæˆ‘æ˜¯å¤„ç†ä¹‹å‰ï¼&quot;);\n        return true;\n    &#125;\n\n    @Override\n    public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception &#123;\n        System.out.println(&quot;äºŒå·æ‹¦æˆªå™¨ï¼šæˆ‘æ˜¯å¤„ç†ä¹‹åï¼&quot;);\n    &#125;\n\n    @Override\n    public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception &#123;\n        System.out.println(&quot;äºŒå·æ‹¦æˆªå™¨ï¼šæˆ‘æ˜¯å®Œæˆä¹‹åï¼&quot;);\n    &#125;\n&#125;\n\næ³¨å†ŒäºŒå·æ‹¦æˆªå™¨ï¼š\n@Override\npublic void addInterceptors(InterceptorRegistry registry) &#123;\n  \t&#x2F;&#x2F;ä¸€å·æ‹¦æˆªå™¨\n    registry.addInterceptor(new MainInterceptor()).addPathPatterns(&quot;&#x2F;**&quot;).excludePathPatterns(&quot;&#x2F;home&quot;);\n  \t&#x2F;&#x2F;äºŒå·æ‹¦æˆªå™¨\n    registry.addInterceptor(new SubInterceptor()).addPathPatterns(&quot;&#x2F;**&quot;);\n&#125;\n\næ³¨æ„æ‹¦æˆªé¡ºåºå°±æ˜¯æ³¨å†Œçš„é¡ºåºï¼Œå› æ­¤æ‹¦æˆªå™¨ä¼šæ ¹æ®æ³¨å†Œé¡ºåºä¾æ¬¡æ‰§è¡Œï¼Œæˆ‘ä»¬å¯ä»¥æ‰“å¼€æµè§ˆå™¨è¿è¡Œä¸€æ¬¡ï¼š\n\n\n\n\n\n\n\n\n\nä¸€å·æ‹¦æˆªå™¨ï¼šæˆ‘æ˜¯å¤„ç†ä¹‹å‰ï¼äºŒå·æ‹¦æˆªå™¨ï¼šæˆ‘æ˜¯å¤„ç†ä¹‹å‰ï¼æˆ‘æ˜¯å¤„ç†ï¼äºŒå·æ‹¦æˆªå™¨ï¼šæˆ‘æ˜¯å¤„ç†ä¹‹åï¼ä¸€å·æ‹¦æˆªå™¨ï¼šæˆ‘æ˜¯å¤„ç†ä¹‹åï¼äºŒå·æ‹¦æˆªå™¨ï¼šæˆ‘æ˜¯å®Œæˆä¹‹åï¼ä¸€å·æ‹¦æˆªå™¨ï¼šæˆ‘æ˜¯å®Œæˆä¹‹åï¼\nå’Œå¤šçº§Filterç›¸åŒï¼Œåœ¨å¤„ç†ä¹‹å‰ï¼Œæ˜¯æŒ‰ç…§é¡ºåºä»å‰å‘åè¿›è¡Œæ‹¦æˆªçš„ï¼Œä½†æ˜¯å¤„ç†å®Œæˆä¹‹åï¼Œå°±æŒ‰ç…§å€’åºæ‰§è¡Œå¤„ç†åæ–¹æ³•ï¼Œè€Œå®Œæˆåæ˜¯åœ¨æ‰€æœ‰çš„postHandleæ‰§è¡Œä¹‹åå†åŒæ ·çš„ä»¥å€’åºæ–¹å¼æ‰§è¡Œã€‚\né‚£ä¹ˆå¦‚æœè¿™æ—¶ä¸€å·æ‹¦æˆªå™¨åœ¨å¤„ç†å‰å°±è¿”å›äº†falseå‘¢ï¼Ÿ\n@Override\npublic boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception &#123;\n    System.out.println(&quot;ä¸€å·æ‹¦æˆªå™¨ï¼šæˆ‘æ˜¯å¤„ç†ä¹‹å‰ï¼&quot;);\n    return false;\n&#125;\n\nå¾—åˆ°ç»“æœå¦‚ä¸‹ï¼š\n\n\n\n\n\n\n\n\n\nä¸€å·æ‹¦æˆªå™¨ï¼šæˆ‘æ˜¯å¤„ç†ä¹‹å‰ï¼\næˆ‘ä»¬å‘ç°ï¼Œä¸å•ä¸ªæ‹¦æˆªå™¨çš„æƒ…å†µä¸€æ ·ï¼Œä¸€æ—¦æ‹¦æˆªå™¨è¿”å›falseï¼Œé‚£ä¹ˆä¹‹åæ— è®ºæœ‰æ— æ‹¦æˆªå™¨ï¼Œéƒ½ä¸å†ç»§ç»­ã€‚\nå¼‚å¸¸å¤„ç†å½“æˆ‘ä»¬çš„è¯·æ±‚æ˜ å°„æ–¹æ³•ä¸­å‡ºç°å¼‚å¸¸æ—¶ï¼Œä¼šç›´æ¥å±•ç¤ºåœ¨å‰ç«¯é¡µé¢ï¼Œè¿™æ˜¯å› ä¸ºSpringMVCä¸ºæˆ‘ä»¬æä¾›äº†é»˜è®¤çš„å¼‚å¸¸å¤„ç†é¡µé¢ï¼Œå½“å‡ºç°å¼‚å¸¸æ—¶ï¼Œæˆ‘ä»¬çš„è¯·æ±‚ä¼šè¢«ç›´æ¥è½¬äº¤ç»™ä¸“é—¨ç”¨äºå¼‚å¸¸å¤„ç†çš„æ§åˆ¶å™¨è¿›è¡Œå¤„ç†ã€‚\næˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªå¼‚å¸¸å¤„ç†æ§åˆ¶å™¨ï¼Œä¸€æ—¦å‡ºç°æŒ‡å®šå¼‚å¸¸ï¼Œå°±ä¼šè½¬æ¥åˆ°æ­¤æ§åˆ¶å™¨æ‰§è¡Œï¼š\n@ControllerAdvice\npublic class ErrorController &#123;\n\n    @ExceptionHandler(Exception.class)\n    public String error(Exception e, Model model)&#123;  &#x2F;&#x2F;å¯ä»¥ç›´æ¥æ·»åŠ å½¢å‚æ¥è·å–å¼‚å¸¸\n        e.printStackTrace();\n        model.addAttribute(&quot;e&quot;, e);\n        return &quot;500&quot;;\n    &#125;\n&#125;\n\næ¥ç€æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªä¸“é—¨æ˜¾ç¤ºå¼‚å¸¸çš„é¡µé¢ï¼š\n&lt;!DOCTYPE html&gt;\n&lt;html lang&#x3D;&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Title&lt;&#x2F;title&gt;\n&lt;&#x2F;head&gt;\n&lt;body&gt;\n  500 - æœåŠ¡å™¨å‡ºç°äº†ä¸€ä¸ªå†…éƒ¨é”™è¯¯QAQ\n  &lt;div th:text&#x3D;&quot;$&#123;e&#125;&quot;&gt;&lt;&#x2F;div&gt;\n&lt;&#x2F;body&gt;\n&lt;&#x2F;html&gt;\n\næ¥ç€ä¿®æ”¹ï¼š\n@RequestMapping(&quot;&#x2F;index&quot;)\npublic String index()&#123;\n    System.out.println(&quot;æˆ‘æ˜¯å¤„ç†ï¼&quot;);\n    if(true) throw new RuntimeException(&quot;æ‚¨çš„æ°ªé‡‘åŠ›åº¦ä¸è¶³ï¼Œæ— æ³•è®¿é—®ï¼&quot;);\n    return &quot;index&quot;;\n&#125;\n\nè®¿é—®åï¼Œæˆ‘ä»¬å‘ç°æ§åˆ¶å°ä¼šè¾“å‡ºå¼‚å¸¸ä¿¡æ¯ï¼ŒåŒæ—¶é¡µé¢ä¹Ÿæ˜¯æˆ‘ä»¬è‡ªå®šä¹‰çš„ä¸€ä¸ªé¡µé¢ã€‚\nJSONæ•°æ®æ ¼å¼ä¸AJAXè¯·æ±‚JSON (JavaScript Object Notation, JS å¯¹è±¡ç®€è°±) æ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼ã€‚\næˆ‘ä»¬ç°åœ¨æ¨å´‡çš„æ˜¯å‰åç«¯åˆ†ç¦»çš„å¼€å‘æ¨¡å¼ï¼Œè€Œä¸æ˜¯æ‰€æœ‰çš„å†…å®¹å…¨éƒ¨äº¤ç»™åç«¯æ¸²æŸ“å†å‘é€ç»™æµè§ˆå™¨ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ•´ä¸ªWebé¡µé¢çš„å†…å®¹åœ¨ä¸€å¼€å§‹å°±ç¼–å†™å®Œæˆäº†ï¼Œè€Œå…¶ä¸­çš„æ•°æ®ç”±å‰ç«¯æ‰§è¡ŒJSä»£ç æ¥å‘æœåŠ¡å™¨åŠ¨æ€è·å–ï¼Œå†åˆ°å‰ç«¯è¿›è¡Œæ¸²æŸ“ï¼ˆå¡«å……ï¼‰ï¼Œè¿™æ ·å¯ä»¥å¤§å¹…åº¦å‡å°‘åç«¯çš„å‹åŠ›ï¼Œå¹¶ä¸”åç«¯åªéœ€è¦ä¼ è¾“å…³é”®æ•°æ®å³å¯ï¼ˆåœ¨å³å°†åˆ°æ¥çš„SpringBooté˜¶æ®µï¼Œæˆ‘ä»¬å°†å®Œå…¨é‡‡ç”¨å‰åç«¯åˆ†ç¦»çš„å¼€å‘æ¨¡å¼ï¼‰\nJSONæ•°æ®æ ¼å¼æ—¢ç„¶è¦å®ç°å‰åç«¯åˆ†ç¦»ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¿…é¡»çº¦å®šä¸€ç§æ›´åŠ é«˜æ•ˆçš„æ•°æ®ä¼ è¾“æ¨¡å¼ï¼Œæ¥å‘å‰ç«¯é¡µé¢ä¼ è¾“åç«¯æä¾›çš„æ•°æ®ã€‚å› æ­¤JSONæ¨ªç©ºå‡ºä¸–ï¼Œå®ƒéå¸¸å®¹æ˜“ç†è§£ï¼Œå¹¶ä¸”ä¸å‰ç«¯çš„å…¼å®¹æ€§æå¥½ï¼Œå› æ­¤ç°åœ¨æ¯”è¾ƒä¸»æµçš„æ•°æ®ä¼ è¾“æ–¹å¼åˆ™æ˜¯é€šè¿‡JSONæ ¼å¼æ‰¿è½½çš„ã€‚\nä¸€ä¸ªJSONæ ¼å¼çš„æ•°æ®é•¿è¿™æ ·ï¼Œä»¥å­¦ç”Ÿå¯¹è±¡ä¸ºä¾‹ï¼š\n&#123;&quot;name&quot;: &quot;æ°å“¥&quot;, &quot;age&quot;: 18&#125;\n\nå¤šä¸ªå­¦ç”Ÿå¯ä»¥ä»¥æ•°ç»„çš„å½¢å¼è¡¨ç¤ºï¼š\n[&#123;&quot;name&quot;: &quot;æ°å“¥&quot;, &quot;age&quot;: 18&#125;, &#123;&quot;name&quot;: &quot;é˜¿ä¼Ÿ&quot;, &quot;age&quot;: 18&#125;]\n\nåµŒå¥—å…³ç³»å¯ä»¥è¡¨ç¤ºä¸ºï¼š\n&#123;&quot;studentList&quot;: [&#123;&quot;name&quot;: &quot;æ°å“¥&quot;, &quot;age&quot;: 18&#125;, &#123;&quot;name&quot;: &quot;é˜¿ä¼Ÿ&quot;, &quot;age&quot;: 18&#125;], &quot;count&quot;: 2&#125;\n\nå®ƒç›´æ¥åŒ…æ‹¬äº†å±æ€§çš„åç§°å’Œå±æ€§çš„å€¼ï¼Œä¸JavaScriptçš„å¯¹è±¡æä¸ºç›¸ä¼¼ï¼Œå®ƒåˆ°è¾¾å‰ç«¯åï¼Œå¯ä»¥ç›´æ¥è½¬æ¢ä¸ºå¯¹è±¡ï¼Œä»¥å¯¹è±¡çš„å½¢å¼è¿›è¡Œæ“ä½œå’Œå†…å®¹çš„è¯»å–ï¼Œç›¸å½“äºä»¥å­—ç¬¦ä¸²å½¢å¼è¡¨ç¤ºäº†ä¸€ä¸ªJSå¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨æ§åˆ¶å°çª—å£ä¸­æµ‹è¯•ï¼š\nlet obj &#x3D; JSON.parse(&#39;&#123;&quot;studentList&quot;: [&#123;&quot;name&quot;: &quot;æ°å“¥&quot;, &quot;age&quot;: 18&#125;, &#123;&quot;name&quot;: &quot;é˜¿ä¼Ÿ&quot;, &quot;age&quot;: 18&#125;], &quot;count&quot;: 2&#125;&#39;)\n&#x2F;&#x2F;å°†JSONæ ¼å¼å­—ç¬¦ä¸²è½¬æ¢ä¸ºJSå¯¹è±¡\nobj.studentList[0].name   &#x2F;&#x2F;ç›´æ¥è®¿é—®ç¬¬ä¸€ä¸ªå­¦ç”Ÿçš„åç§°\n\næˆ‘ä»¬ä¹Ÿå¯ä»¥å°†JSå¯¹è±¡è½¬æ¢ä¸ºJSONå­—ç¬¦ä¸²ï¼š\nJSON.stringify(obj)\n\næˆ‘ä»¬åç«¯å°±å¯ä»¥ä»¥JSONå­—ç¬¦ä¸²çš„å½¢å¼å‘å‰ç«¯è¿”å›æ•°æ®ï¼Œè¿™æ ·å‰ç«¯åœ¨æ‹¿åˆ°æ•°æ®ä¹‹åï¼Œå°±å¯ä»¥å¿«é€Ÿè·å–ï¼Œéå¸¸æ–¹ä¾¿ã€‚\né‚£ä¹ˆåç«¯å¦‚ä½•å¿«é€Ÿåˆ›å»ºä¸€ä¸ªJSONæ ¼å¼çš„æ•°æ®å‘¢ï¼Ÿæˆ‘ä»¬é¦–å…ˆéœ€è¦å¯¼å…¥ä»¥ä¸‹ä¾èµ–ï¼š\n&lt;dependency&gt;\n    &lt;groupId&gt;com.alibaba&lt;&#x2F;groupId&gt;\n    &lt;artifactId&gt;fastjson&lt;&#x2F;artifactId&gt;\n    &lt;version&gt;1.2.78&lt;&#x2F;version&gt;\n&lt;&#x2F;dependency&gt;\n\nJSONè§£ææ¡†æ¶æœ‰å¾ˆå¤šç§ï¼Œæ¯”è¾ƒå¸¸ç”¨çš„æ˜¯Jacksonå’ŒFastJSONï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨é˜¿é‡Œå·´å·´çš„FastJSONè¿›è¡Œè§£æã€‚\né¦–å…ˆè¦ä»‹ç»çš„æ˜¯JSONObjectï¼Œå®ƒå’ŒMapçš„ä½¿ç”¨æ–¹æ³•ä¸€æ ·ï¼ˆå®ç°äº†Mapæ¥å£ï¼‰ï¼Œæ¯”å¦‚æˆ‘ä»¬å‘å…¶ä¸­å­˜æ”¾å‡ ä¸ªæ•°æ®ï¼š\n@RequestMapping(value &#x3D; &quot;&#x2F;index&quot;)\npublic String index()&#123;\n    JSONObject object &#x3D; new JSONObject();\n    object.put(&quot;name&quot;, &quot;æ°å“¥&quot;);\n    object.put(&quot;age&quot;, 18);\n    System.out.println(object.toJSONString());   &#x2F;&#x2F;ä»¥JSONæ ¼å¼è¾“å‡ºJSONObjectå­—ç¬¦ä¸²\n    return &quot;index&quot;;\n&#125;\n\næœ€åæˆ‘ä»¬å¾—åˆ°çš„ç»“æœä¸ºï¼š\n&#123;&quot;name&quot;: &quot;æ°å“¥&quot;, &quot;age&quot;: 18&#125;\n\nå®é™…ä¸ŠJSONObjectå°±æ˜¯å¯¹JSONæ•°æ®çš„ä¸€ç§å¯¹è±¡è¡¨ç¤ºã€‚åŒæ ·çš„è¿˜æœ‰JSONArrayï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªæ•°ç»„ï¼Œç”¨æ³•å’ŒListä¸€æ ·ï¼Œæ•°ç»„ä¸­å¯ä»¥åµŒå¥—å…¶ä»–çš„JSONObjectæˆ–æ˜¯JSONArrayï¼š\n@RequestMapping(value &#x3D; &quot;&#x2F;index&quot;)\npublic String index()&#123;\n    JSONObject object &#x3D; new JSONObject();\n    object.put(&quot;name&quot;, &quot;æ°å“¥&quot;);\n    object.put(&quot;age&quot;, 18);\n    JSONArray array &#x3D; new JSONArray();\n    array.add(object);\n    System.out.println(array.toJSONString());\n    return &quot;index&quot;;\n&#125;\n\nå¾—åˆ°çš„ç»“æœä¸ºï¼š\n[&#123;&quot;name&quot;: &quot;æ°å“¥&quot;, &quot;age&quot;: 18&#125;]\n\nå½“å‡ºç°å¾ªç¯å¼•ç”¨æ—¶ï¼Œä¼šæŒ‰ç…§ä»¥ä¸‹è¯­æ³•æ¥è§£æï¼š\næˆ‘ä»¬å¯ä»¥ä¹Ÿç›´æ¥åˆ›å»ºä¸€ä¸ªå®ä½“ç±»ï¼Œå°†å®ä½“ç±»è½¬æ¢ä¸ºJSONæ ¼å¼çš„æ•°æ®ï¼š\n@RequestMapping(value &#x3D; &quot;&#x2F;index&quot;, produces &#x3D; &quot;application&#x2F;json&quot;)\n@ResponseBody\npublic String data()&#123;\n    Student student &#x3D; new Student();\n    student.setName(&quot;æ°å“¥&quot;);\n    student.setAge(18);\n    return JSON.toJSONString(student);\n&#125;\n\nè¿™é‡Œæˆ‘ä»¬ä¿®æ”¹äº†producesçš„å€¼ï¼Œå°†è¿”å›çš„å†…å®¹ç±»å‹è®¾å®šä¸ºapplication/jsonï¼Œè¡¨ç¤ºæœåŠ¡å™¨ç«¯è¿”å›äº†ä¸€ä¸ªJSONæ ¼å¼çš„æ•°æ®ï¼ˆå½“ç„¶ä¸è®¾ç½®ä¹Ÿè¡Œï¼Œä¹Ÿèƒ½å±•ç¤ºï¼Œè¿™æ ·æ˜¯ä¸ºäº†è§„èŒƒï¼‰ç„¶åæˆ‘ä»¬åœ¨æ–¹æ³•ä¸Šæ·»åŠ ä¸€ä¸ª@ResponseBodyè¡¨ç¤ºæ–¹æ³•è¿”å›ï¼ˆä¹Ÿå¯ä»¥åœ¨ç±»ä¸Šæ·»åŠ @RestControllerè¡¨ç¤ºæ­¤Controlleré»˜è®¤è¿”å›çš„æ˜¯å­—ç¬¦ä¸²æ•°æ®ï¼‰çš„ç»“æœä¸æ˜¯è§†å›¾åç§°è€Œæ˜¯ç›´æ¥éœ€è¦è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºé¡µé¢æ•°æ®ï¼Œè¿™æ ·ï¼Œè¿”å›ç»™æµè§ˆå™¨çš„å°±æ˜¯æˆ‘ä»¬ç›´æ¥è¿”å›çš„å­—ç¬¦ä¸²å†…å®¹ã€‚\næ¥ç€æˆ‘ä»¬ä½¿ç”¨JSONå·¥å…·ç±»å°†å…¶è½¬æ¢ä¸ºJSONæ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œå¾—åˆ°JSONæ ¼å¼æ•°æ®ã€‚\nSpringMVCéå¸¸æ™ºèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è¿”å›ä¸€ä¸ªå¯¹è±¡ç±»å‹ï¼Œå®ƒä¼šè¢«è‡ªåŠ¨è½¬æ¢ä¸ºJSONå­—ç¬¦ä¸²æ ¼å¼ï¼š\n@RequestMapping(value &#x3D; &quot;&#x2F;data&quot;, produces &#x3D; &quot;application&#x2F;json&quot;)\n@ResponseBody\npublic Student data()&#123;\n    Student student &#x3D; new Student();\n    student.setName(&quot;æ°å“¥&quot;);\n    student.setAge(18);\n    return student;\n&#125;\n\næ³¨æ„éœ€è¦åœ¨é…ç½®ç±»ä¸­æ·»åŠ ä¸€ä¸‹FastJSONè½¬æ¢å™¨ï¼ˆé»˜è®¤åªæ”¯æŒJackSonï¼‰ï¼š\n@Override\npublic void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) &#123;\n    converters.add(new FastJsonHttpMessageConverter());\n&#125;\n\nAJAXè¯·æ±‚å‰é¢æˆ‘ä»¬è®²è§£äº†å¦‚ä½•å‘æµè§ˆå™¨å‘é€ä¸€ä¸ªJSONæ ¼å¼çš„æ•°æ®ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç°åœ¨æ¥çœ‹çœ‹å¦‚ä½•å‘æœåŠ¡å™¨è¯·æ±‚æ•°æ®ã€‚\n\nAjaxå³Asynchronous Javascript And XMLï¼ˆå¼‚æ­¥JavaScriptå’ŒXMLï¼‰ï¼Œå®ƒçš„ç›®æ ‡å°±æ˜¯å®ç°é¡µé¢ä¸­çš„æ•°æ®åŠ¨æ€æ›´æ–°ï¼Œè€Œä¸æ˜¯ç›´æ¥åˆ·æ–°æ•´ä¸ªé¡µé¢ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ¦‚å¿µã€‚\nå®ƒåœ¨JQueryæ¡†æ¶ä¸­æœ‰å®ç°ï¼Œå› æ­¤æˆ‘ä»¬ç›´æ¥å¯¼å…¥JQueryï¼ˆJQueryæå¤§åœ°ç®€åŒ–äº†JSçš„å¼€å‘ï¼Œå°è£…äº†å¾ˆå¤šå†…å®¹ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥äº†è§£ä¸€ä¸‹ï¼‰ï¼š\n&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;code.jquery.com&#x2F;jquery-3.1.1.min.js&quot;&gt;&lt;&#x2F;script&gt;\n\næ¥ç€æˆ‘ä»¬å°±å¯ä»¥ç›´æ¥ä½¿ç”¨äº†ï¼Œé¦–å…ˆä¿®æ”¹ä¸€ä¸‹å‰ç«¯é¡µé¢ï¼š\n&lt;!DOCTYPE html&gt;\n&lt;html lang&#x3D;&quot;en&quot; xmlns:th&#x3D;&quot;http:&#x2F;&#x2F;www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Title&lt;&#x2F;title&gt;\n    &lt;script src&#x3D;&quot;https:&#x2F;&#x2F;code.jquery.com&#x2F;jquery-3.1.1.min.js&quot;&gt;&lt;&#x2F;script&gt;\n    &lt;script th:src&#x3D;&quot;@&#123;&#x2F;static&#x2F;test.js&#125;&quot;&gt;&lt;&#x2F;script&gt;\n&lt;&#x2F;head&gt;\n&lt;body&gt;\n    ä½ å¥½ï¼Œ\n    &lt;span id&#x3D;&quot;username&quot;&gt;&lt;&#x2F;span&gt;\n    æ‚¨çš„å¹´é¾„æ˜¯ï¼š\n    &lt;span id&#x3D;&quot;age&quot;&gt;&lt;&#x2F;span&gt;\n    &lt;button onclick&#x3D;&quot;updateData()&quot;&gt;ç‚¹æˆ‘æ›´æ–°é¡µé¢æ•°æ®&lt;&#x2F;button&gt;\n&lt;&#x2F;body&gt;\n&lt;&#x2F;html&gt;\n\nç°åœ¨æˆ‘ä»¬å¸Œæœ›ç”¨æˆ·åç§°å’Œå¹´é¾„éœ€è¦åœ¨æˆ‘ä»¬ç‚¹å‡»æŒ‰é’®ä¹‹åæ‰ä¼šæ›´æ–°ï¼Œæˆ‘ä»¬æ¥ç€æ¥ç¼–å†™ä¸€ä¸‹JSï¼š\nfunction updateData() &#123;\n    &#x2F;&#x2F;ç¾å…ƒç¬¦.çš„æ–¹å¼æ¥ä½¿ç”¨Ajaxè¯·æ±‚ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯getæ–¹å¼ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºè¯·æ±‚çš„åœ°å€ï¼ˆæ³¨æ„éœ€è¦å¸¦ä¸ŠWebåº”ç”¨ç¨‹åºåç§°ï¼‰ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºæˆåŠŸè·å–åˆ°æ•°æ®çš„æ–¹æ³•ï¼Œdataå°±æ˜¯è¿”å›çš„æ•°æ®å†…å®¹\n  \t$.get(&quot;&#x2F;mvc&#x2F;data&quot;, function (data) &#123;   &#x2F;&#x2F;è·å–æˆåŠŸæ‰§è¡Œçš„æ–¹æ³•\n        window.alert(&#39;æ¥å—åˆ°å¼‚æ­¥è¯·æ±‚æ•°æ®ï¼š&#39;+JSON.stringify(data))  &#x2F;&#x2F;å¼¹çª—å±•ç¤ºæ•°æ®\n        $(&quot;#username&quot;).text(data.name)   &#x2F;&#x2F;è¿™é‡Œä½¿ç”¨äº†JQueryæä¾›çš„é€‰æ‹©å™¨ï¼Œç›´æ¥é€‰æ‹©idä¸ºusernameçš„å…ƒç´ ï¼Œæ›´æ–°æ•°æ®\n        $(&quot;#age&quot;).text(data.age)\n    &#125;)\n&#125;\n\nä½¿ç”¨JQueryéå¸¸æ–¹ä¾¿ï¼Œæˆ‘ä»¬ç›´æ¥é€šè¿‡JQueryçš„é€‰æ‹©å™¨å°±å¯ä»¥å¿«é€Ÿè·å–é¡µé¢ä¸­çš„å…ƒç´ ï¼Œæ³¨æ„è¿™é‡Œè·å–çš„å…ƒç´ æ˜¯è¢«JQueryå°è£…è¿‡çš„å…ƒç´ ï¼Œéœ€è¦ä½¿ç”¨JQueryæä¾›çš„æ–¹æ³•æ¥è¿›è¡Œæ“ä½œã€‚\nè¿™æ ·ï¼Œæˆ‘ä»¬å°±å®ç°äº†ä»æœåŠ¡ç«¯è·å–æ•°æ®å¹¶æ›´æ–°åˆ°é¡µé¢ä¸­ï¼ˆå®é™…ä¸Šä¹‹å‰ï¼Œæˆ‘ä»¬åœ¨JavaWebé˜¶æ®µä½¿ç”¨XHRè¯·æ±‚ä¹Ÿæ¼”ç¤ºè¿‡ï¼Œä¸è¿‡å½“æ—¶æ˜¯çº¯ç²¹çš„æ•°æ®ï¼‰\né‚£ä¹ˆæˆ‘ä»¬æ¥ç€æ¥çœ‹ï¼Œå¦‚ä½•å‘æœåŠ¡ç«¯å‘é€ä¸€ä¸ªJSå¯¹è±¡æ•°æ®å¹¶è¿›è¡Œè§£æï¼š\nfunction submitData() &#123;\n    $.post(&quot;&#x2F;mvc&#x2F;submit&quot;, &#123;   &#x2F;&#x2F;è¿™é‡Œä½¿ç”¨POSTæ–¹æ³•å‘é€è¯·æ±‚\n        name: &quot;æµ‹è¯•&quot;,     &#x2F;&#x2F;ç¬¬äºŒä¸ªå‚æ•°æ˜¯è¦ä¼ é€’çš„å¯¹è±¡ï¼Œä¼šä»¥è¡¨å•æ•°æ®çš„æ–¹å¼å‘é€\n      \tage: 18   \n    &#125;, function (data) &#123;\n        window.alert(JSON.stringify(data))   &#x2F;&#x2F;å‘é€æˆåŠŸæ‰§è¡Œçš„æ–¹æ³•\n    &#125;)\n&#125;\n\næœåŠ¡å™¨ç«¯åªéœ€è¦åœ¨è¯·æ±‚å‚æ•°ä½ç½®æ·»åŠ ä¸€ä¸ªå¯¹è±¡æ¥æ”¶å³å¯ï¼ˆå’Œå‰é¢æ˜¯ä¸€æ ·çš„ï¼Œå› ä¸ºè¿™é‡Œä¹Ÿæ˜¯æäº¤çš„è¡¨å•æ•°æ®ï¼‰ï¼š\n@RequestMapping(&quot;&#x2F;submit&quot;)\n@ResponseBody\npublic String submit(Student student)&#123;\n    System.out.println(&quot;æ¥æ”¶åˆ°å‰ç«¯æ•°æ®ï¼š&quot;+student);\n    return &quot;&#123;\\&quot;success\\&quot;: true&#125;&quot;;\n&#125;\n\næˆ‘ä»¬ä¹Ÿå¯ä»¥å°†jså¯¹è±¡è½¬æ¢ä¸ºJSONå­—ç¬¦ä¸²çš„å½¢å¼è¿›è¡Œä¼ è¾“ï¼Œè¿™é‡Œéœ€è¦ä½¿ç”¨ajaxæ–¹æ³•æ¥å¤„ç†ï¼š\nfunction submitData() &#123;\n    $.ajax(&#123;   &#x2F;&#x2F;æœ€åŸºæœ¬çš„è¯·æ±‚æ–¹å¼ï¼Œéœ€è¦è‡ªå·±è®¾å®šä¸€äº›å‚æ•°\n        type: &#39;POST&#39;,   &#x2F;&#x2F;è®¾å®šè¯·æ±‚æ–¹æ³•\n        url: &quot;&#x2F;mvc&#x2F;submit&quot;,   &#x2F;&#x2F;è¯·æ±‚åœ°å€\n        data: JSON.stringify(&#123;name: &quot;æµ‹è¯•&quot;, age: 18&#125;),  &#x2F;&#x2F;è½¬æ¢ä¸ºJSONå­—ç¬¦ä¸²è¿›è¡Œå‘é€\n        success: function (data) &#123;\n            window.alert(JSON.stringify(data))\n        &#125;,\n        contentType: &quot;application&#x2F;json&quot;  &#x2F;&#x2F;è¯·æ±‚å¤´Content-Typeä¸€å®šè¦è®¾å®šä¸ºJSONæ ¼å¼\n    &#125;)\n&#125;\n\nå¦‚æœæˆ‘ä»¬éœ€è¦è¯»å–å‰ç«¯å‘é€ç»™æˆ‘ä»¬çš„JSONæ ¼å¼æ•°æ®ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™å°±éœ€è¦æ·»åŠ @RequestBodyæ³¨è§£ï¼š\n@RequestMapping(&quot;&#x2F;submit&quot;)\n@ResponseBody\npublic String submit(@RequestBody JSONObject object)&#123;\n    System.out.println(&quot;æ¥æ”¶åˆ°å‰ç«¯æ•°æ®ï¼š&quot;+object);\n    return &quot;&#123;\\&quot;success\\&quot;: true&#125;&quot;;\n&#125;\n\nè¿™æ ·ï¼Œæˆ‘ä»¬å°±å®ç°äº†å‰åç«¯ä½¿ç”¨JSONå­—ç¬¦ä¸²è¿›è¡Œé€šä¿¡ã€‚\nå®ç°æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½åˆ©ç”¨SpringMVCï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆè½»æ¾åœ°å®ç°æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½ï¼ŒåŒæ ·çš„ï¼Œæˆ‘ä»¬åªéœ€è¦é…ç½®ä¸€ä¸ªResolverï¼š\n@Bean(&quot;multipartResolver&quot;)   &#x2F;&#x2F;æ³¨æ„è¿™é‡ŒBeançš„åç§°æ˜¯å›ºå®šçš„ï¼Œå¿…é¡»æ˜¯multipartResolver\npublic CommonsMultipartResolver commonsMultipartResolver()&#123;\n    CommonsMultipartResolver resolver &#x3D; new CommonsMultipartResolver();\n    resolver.setMaxUploadSize(1024 * 1024 * 10);   &#x2F;&#x2F;æœ€å¤§10MBå¤§å°\n    resolver.setDefaultEncoding(&quot;UTF-8&quot;);   &#x2F;&#x2F;é»˜è®¤ç¼–ç æ ¼å¼\n    return resolver;\n&#125;\n\næ¥ç€æˆ‘ä»¬ç›´æ¥ç¼–å†™Controllerå³å¯ï¼š\n@RequestMapping(value &#x3D; &quot;&#x2F;upload&quot;, method &#x3D; RequestMethod.POST)\n@ResponseBody\npublic String upload(@RequestParam CommonsMultipartFile file) throws IOException &#123;\n    File fileObj &#x3D; new File(&quot;test.html&quot;);\n    file.transferTo(fileObj);\n    System.out.println(&quot;ç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶å·²ä¿å­˜åˆ°ï¼š&quot;+fileObj.getAbsolutePath());\n    return &quot;æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼&quot;;\n&#125;\n\nä½¿ç”¨CommonsMultipartFileå¯¹è±¡æ¥æ¥æ”¶ç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶ã€‚å®ƒæ˜¯åŸºäºApacheçš„Commons-fileuploadæ¡†æ¶å®ç°çš„ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å¯¼å…¥ä¸€ä¸ªä¾èµ–ï¼š\n&lt;dependency&gt;\n    &lt;groupId&gt;commons-fileupload&lt;&#x2F;groupId&gt;\n    &lt;artifactId&gt;commons-fileupload&lt;&#x2F;artifactId&gt;\n    &lt;version&gt;1.4&lt;&#x2F;version&gt;\n&lt;&#x2F;dependency&gt;\n\næœ€ååœ¨å‰ç«¯æ·»åŠ ä¸€ä¸ªæ–‡ä»¶çš„ä¸Šä¼ ç‚¹ï¼š\n&lt;div&gt;\n    &lt;form action&#x3D;&quot;upload&quot; method&#x3D;&quot;post&quot; enctype&#x3D;&quot;multipart&#x2F;form-data&quot;&gt;\n        &lt;input type&#x3D;&quot;file&quot; name&#x3D;&quot;file&quot;&gt;\n        &lt;input type&#x3D;&quot;submit&quot;&gt;\n    &lt;&#x2F;form&gt;\n&lt;&#x2F;div&gt;\n\nè¿™æ ·ï¼Œç‚¹å‡»æäº¤ä¹‹åï¼Œæ–‡ä»¶å°±ä¼šä¸Šä¼ åˆ°æœåŠ¡å™¨äº†ã€‚\nä¸‹è½½å…¶å®å’Œæˆ‘ä»¬ä¹‹å‰çš„å†™æ³•å¤§è‡´ä¸€æ ·ï¼Œç›´æ¥ä½¿ç”¨HttpServletResponseï¼Œå¹¶å‘è¾“å‡ºæµä¸­ä¼ è¾“æ•°æ®å³å¯ã€‚\n@RequestMapping(value &#x3D; &quot;&#x2F;download&quot;, method &#x3D; RequestMethod.GET)\n@ResponseBody\npublic void download(HttpServletResponse response)&#123;\n    response.setContentType(&quot;multipart&#x2F;form-data&quot;);\n    try(OutputStream stream &#x3D; response.getOutputStream();\n        InputStream inputStream &#x3D; new FileInputStream(&quot;test.html&quot;))&#123;\n        IOUtils.copy(inputStream, stream);\n    &#125;catch (IOException e)&#123;\n        e.printStackTrace();\n    &#125;\n&#125;\n\nåœ¨å‰ç«¯é¡µé¢ä¸­æ·»åŠ ä¸€ä¸ªä¸‹è½½ç‚¹ï¼š\n&lt;a href&#x3D;&quot;download&quot; download&#x3D;&quot;test.html&quot;&gt;ä¸‹è½½æœ€æ–°èµ„æº&lt;&#x2F;a&gt;\n\nè§£è¯»DispatcherServletæºç æ³¨æ„ï¼šæœ¬éƒ¨åˆ†ä½œä¸ºé€‰å­¦å†…å®¹ï¼\nåˆ°ç›®å‰ä¸ºæ­¢ï¼Œå…³äºSpringMVCçš„ç›¸å…³å†…å®¹å°±å­¦ä¹ å¾—å·®ä¸å¤šäº†ï¼Œä½†æ˜¯æˆ‘ä»¬åœ¨æœ€åè¿˜æ˜¯éœ€è¦æ·±å…¥äº†è§£ä¸€ä¸‹DispatcherServletåº•å±‚æ˜¯å¦‚ä½•è¿›è¡Œè°ƒåº¦çš„ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬ä¼šä»æºç è§’åº¦è¿›è¡Œè®²è§£ã€‚\né¦–å…ˆæˆ‘ä»¬éœ€è¦æ‰¾åˆ°DispatcherServletçš„æœ€é¡¶å±‚HttpServletBeanï¼Œåœ¨è¿™é‡Œç›´æ¥ç»§æ‰¿çš„HttpServletï¼Œé‚£ä¹ˆæˆ‘ä»¬é¦–å…ˆæ¥çœ‹ä¸€ä¸‹ï¼Œå®ƒåœ¨åˆå§‹åŒ–æ–¹æ³•ä¸­åšäº†ä»€ä¹ˆï¼š\npublic final void init() throws ServletException &#123;\n  \t&#x2F;&#x2F;è¯»å–é…ç½®å‚æ•°ï¼Œå¹¶è¿›è¡Œé…ç½®\n    PropertyValues pvs &#x3D; new HttpServletBean.ServletConfigPropertyValues(this.getServletConfig(), this.requiredProperties);\n    if (!pvs.isEmpty()) &#123;\n        try &#123;\n            BeanWrapper bw &#x3D; PropertyAccessorFactory.forBeanPropertyAccess(this);\n            ResourceLoader resourceLoader &#x3D; new ServletContextResourceLoader(this.getServletContext());\n            bw.registerCustomEditor(Resource.class, new ResourceEditor(resourceLoader, this.getEnvironment()));\n            this.initBeanWrapper(bw);\n            bw.setPropertyValues(pvs, true);\n        &#125; catch (BeansException var4) &#123;\n            if (this.logger.isErrorEnabled()) &#123;\n                this.logger.error(&quot;Failed to set bean properties on servlet &#39;&quot; + this.getServletName() + &quot;&#39;&quot;, var4);\n            &#125;\n\n            throw var4;\n        &#125;\n    &#125;\n\t\t&#x2F;&#x2F;æ­¤åˆå§‹åŒ–é˜¶æ®µç”±å­ç±»å®ç°ï¼Œ\n    this.initServletBean();\n&#125;\n\næˆ‘ä»¬æ¥ç€æ¥çœ‹initServletBean()æ–¹æ³•æ˜¯å¦‚ä½•å®ç°çš„ï¼Œå®ƒæ˜¯åœ¨å­ç±»FrameworkServletä¸­å®šä¹‰çš„ï¼š\nprotected final void initServletBean() throws ServletException &#123;\n    this.getServletContext().log(&quot;Initializing Spring &quot; + this.getClass().getSimpleName() + &quot; &#39;&quot; + this.getServletName() + &quot;&#39;&quot;);\n    if (this.logger.isInfoEnabled()) &#123;\n        this.logger.info(&quot;Initializing Servlet &#39;&quot; + this.getServletName() + &quot;&#39;&quot;);\n    &#125;\n\n    long startTime &#x3D; System.currentTimeMillis();\n\n    try &#123;\n      \t&#x2F;&#x2F;æ³¨æ„ï¼šæˆ‘ä»¬åœ¨ä¸€å¼€å§‹è¯´äº†SpringMVCæœ‰ä¸¤ä¸ªå®¹å™¨ï¼Œä¸€ä¸ªæ˜¯Webå®¹å™¨ä¸€ä¸ªæ˜¯æ ¹å®¹å™¨\n      \t&#x2F;&#x2F;Webå®¹å™¨åªè´Ÿè´£Controllerç­‰è¡¨ç°å±‚å†…å®¹\n      \t&#x2F;&#x2F;æ ¹å®¹å™¨å°±æ˜¯Springå®¹å™¨ï¼Œå®ƒè´Ÿè´£Serviceã€Daoç­‰ï¼Œå¹¶ä¸”å®ƒæ˜¯Webå®¹å™¨çš„çˆ¶å®¹å™¨ã€‚\n      \t&#x2F;&#x2F;åˆå§‹åŒ–WebApplicationContextï¼Œè¿™ä¸ªé˜¶æ®µä¼šä¸ºæ ¹å®¹å™¨å’ŒWebå®¹å™¨è¿›è¡Œçˆ¶å­å…³ç³»å»ºç«‹\n        this.webApplicationContext &#x3D; this.initWebApplicationContext();\n        this.initFrameworkServlet();\n    &#125; catch (RuntimeException | ServletException var4) &#123;\n      &#x2F;&#x2F;...ä»¥ä¸‹å†…å®¹å…¨æ˜¯æ‰“å°æ—¥å¿—\n&#125;\n\n\næˆ‘ä»¬æ¥çœ‹çœ‹initWebApplicationContextæ˜¯å¦‚ä½•è¿›è¡Œåˆå§‹åŒ–çš„ï¼š\nprotected WebApplicationContext initWebApplicationContext() &#123;\n  \t&#x2F;&#x2F;è¿™é‡Œè·å–çš„æ˜¯æ ¹å®¹å™¨ï¼Œä¸€èˆ¬ç”¨äºé…ç½®Serviceã€æ•°æ®æºç­‰\n    WebApplicationContext rootContext &#x3D; WebApplicationContextUtils.getWebApplicationContext(this.getServletContext());\n    WebApplicationContext wac &#x3D; null;\n    if (this.webApplicationContext !&#x3D; null) &#123;\n      \t&#x2F;&#x2F;å¦‚æœwebApplicationContextåœ¨ä¹‹å‰å·²ç»å­˜åœ¨ï¼Œåˆ™ç›´æ¥ç»™åˆ°wac\n        wac &#x3D; this.webApplicationContext;\n        if (wac instanceof ConfigurableWebApplicationContext) &#123;\n            ConfigurableWebApplicationContext cwac &#x3D; (ConfigurableWebApplicationContext)wac;\n            if (!cwac.isActive()) &#123;\n                if (cwac.getParent() &#x3D;&#x3D; null) &#123;\n                  \t&#x2F;&#x2F;è®¾å®šæ ¹å®¹å™¨ä¸ºWebå®¹å™¨çš„çˆ¶å®¹å™¨\n                    cwac.setParent(rootContext);\n                &#125;\n\n                this.configureAndRefreshWebApplicationContext(cwac);\n            &#125;\n        &#125;\n    &#125;\n\n    if (wac &#x3D;&#x3D; null) &#123;\n      \t&#x2F;&#x2F;å¦‚æœwebApplicationContextæ˜¯ç©ºï¼Œé‚£ä¹ˆå°±ä»ServletContextæ‰¾ä¸€ä¸‹æœ‰æ²¡æœ‰åˆå§‹åŒ–ä¸Šä¸‹æ–‡\n        wac &#x3D; this.findWebApplicationContext();\n    &#125;\n\n    if (wac &#x3D;&#x3D; null) &#123;\n      \t&#x2F;&#x2F;å¦‚æœè¿˜æ˜¯æ‰¾ä¸åˆ°ï¼Œç›´æ¥åˆ›ä¸ªæ–°çš„ï¼Œå¹¶ç›´æ¥å°†æ ¹å®¹å™¨ä½œä¸ºçˆ¶å®¹å™¨\n        wac &#x3D; this.createWebApplicationContext(rootContext);\n    &#125;\n\n    if (!this.refreshEventReceived) &#123;\n        synchronized(this.onRefreshMonitor) &#123;\n          \t&#x2F;&#x2F;æ­¤æ–¹æ³•ç”±DispatcherServletå®ç°\n            this.onRefresh(wac);\n        &#125;\n    &#125;\n\n    if (this.publishContext) &#123;\n        String attrName &#x3D; this.getServletContextAttributeName();\n      \t&#x2F;&#x2F;æŠŠWebå®¹å™¨ä¸¢è¿›ServletContext\n        this.getServletContext().setAttribute(attrName, wac);\n    &#125;\n\n    return wac;\n&#125;\n\næˆ‘ä»¬æ¥ç€æ¥çœ‹DispatcherServletä¸­å®ç°çš„onRefresh()æ–¹æ³•ï¼š\n@Override\nprotected void onRefresh(ApplicationContext context) &#123;\n    initStrategies(context);\n&#125;\n    \nprotected void initStrategies(ApplicationContext context) &#123;\n  \t&#x2F;&#x2F;åˆå§‹åŒ–å„ç§è§£æå™¨\n    initMultipartResolver(context);\n    initLocaleResolver(context);\n    initThemeResolver(context);\n  \t&#x2F;&#x2F;åœ¨å®¹å™¨ä¸­æŸ¥æ‰¾æ‰€æœ‰çš„HandlerMappingï¼Œæ”¾å…¥é›†åˆä¸­\n  \t&#x2F;&#x2F;HandlerMappingä¿å­˜äº†æ‰€æœ‰çš„è¯·æ±‚æ˜ å°„ä¿¡æ¯ï¼ˆControllerä¸­å®šä¹‰çš„ï¼‰ï¼Œå®ƒå¯ä»¥æ ¹æ®è¯·æ±‚æ‰¾åˆ°å¤„ç†å™¨Handlerï¼Œä½†å¹¶ä¸æ˜¯ç®€å•çš„è¿”å›å¤„ç†å™¨ï¼Œè€Œæ˜¯å°†å¤„ç†å™¨å’Œæ‹¦æˆªå™¨å°è£…ï¼Œå½¢æˆä¸€ä¸ªå¤„ç†å™¨æ‰§è¡Œé“¾ï¼ˆç±»ä¼¼äºä¹‹å‰çš„Filterï¼‰\n    initHandlerMappings(context);\n  \t&#x2F;&#x2F;åœ¨å®¹å™¨ä¸­æŸ¥æ‰¾æ‰€æœ‰çš„HandlerAdapterï¼Œå®ƒç”¨äºå¤„ç†è¯·æ±‚å¹¶è¿”å›ModelAndViewå¯¹è±¡\n  \t&#x2F;&#x2F;é»˜è®¤æœ‰ä¸‰ç§å®ç°HttpRequestHandlerAdapterï¼ŒSimpleControllerHandlerAdapterå’ŒAnnotationMethodHandlerAdapter\n  \t&#x2F;&#x2F;å½“HandlerMappingæ‰¾åˆ°å¤„ç†è¯·æ±‚çš„Controllerä¹‹åï¼Œä¼šé€‰æ‹©ä¸€ä¸ªåˆé€‚çš„HandlerAdapterå¤„ç†è¯·æ±‚\n  \t&#x2F;&#x2F;æ¯”å¦‚æˆ‘ä»¬ä¹‹å‰ä½¿ç”¨çš„æ˜¯æ³¨è§£æ–¹å¼é…ç½®Controllerï¼Œç°åœ¨æœ‰ä¸€ä¸ªè¯·æ±‚æºå¸¦äº†ä¸€ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆHandlerAdapterä¼šå¯¹è¯·æ±‚çš„æ•°æ®è¿›è¡Œè§£æï¼Œå¹¶ä¼ å…¥æ–¹æ³•ä½œä¸ºå®å‚ï¼Œæœ€åæ ¹æ®æ–¹æ³•çš„è¿”å›å€¼å°†å…¶å°è£…ä¸ºModelAndViewå¯¹è±¡\n    initHandlerAdapters(context);\n  \t&#x2F;&#x2F;å…¶ä»–çš„å†…å®¹\n    initHandlerExceptionResolvers(context);\n    initRequestToViewNameTranslator(context);\n    initViewResolvers(context);\n    initFlashMapManager(context);\n&#125;\n\nDispatcherServletåˆå§‹åŒ–è¿‡ç¨‹æˆ‘ä»¬å·²ç»äº†è§£äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥ç€æ¥çœ‹DispatcherServletæ˜¯å¦‚ä½•è¿›è¡Œè°ƒåº¦çš„ï¼Œé¦–å…ˆæˆ‘ä»¬çš„è¯·æ±‚è‚¯å®šä¼šç»è¿‡HttpServletï¼Œç„¶åå…¶äº¤ç»™å¯¹åº”çš„doGetã€doPostç­‰æ–¹æ³•è¿›è¡Œå¤„ç†ï¼Œè€Œåœ¨FrameworkServletä¸­ï¼Œè¿™äº›æ–¹æ³•éƒ½è¢«é‡å†™ï¼Œå¹¶ä¸”ä½¿ç”¨processRequestæ¥è¿›è¡Œå¤„ç†ï¼š\nprotected final void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;\n    this.processRequest(request, response);\n&#125;\n\nprotected final void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;\n    this.processRequest(request, response);\n&#125;\n\næˆ‘ä»¬æ¥çœ‹çœ‹processRequeståšäº†ä»€ä¹ˆï¼š\nprotected final void processRequest(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;\n  \t&#x2F;&#x2F;å‰æœŸå‡†å¤‡å·¥ä½œ\n    long startTime &#x3D; System.currentTimeMillis();\n    Throwable failureCause &#x3D; null;\n    LocaleContext previousLocaleContext &#x3D; LocaleContextHolder.getLocaleContext();\n    LocaleContext localeContext &#x3D; this.buildLocaleContext(request);\n    RequestAttributes previousAttributes &#x3D; RequestContextHolder.getRequestAttributes();\n    ServletRequestAttributes requestAttributes &#x3D; this.buildRequestAttributes(request, response, previousAttributes);\n    WebAsyncManager asyncManager &#x3D; WebAsyncUtils.getAsyncManager(request);\n    asyncManager.registerCallableInterceptor(FrameworkServlet.class.getName(), new FrameworkServlet.RequestBindingInterceptor());\n    this.initContextHolders(request, localeContext, requestAttributes);\n\n    try &#123;\n      \t&#x2F;&#x2F;é‡ç‚¹åœ¨è¿™é‡Œï¼Œè¿™é‡Œè¿›è¡Œäº†Serviceçš„æ‰§è¡Œï¼Œä¸è¿‡æ˜¯åœ¨DispatcherServletä¸­å®šä¹‰çš„\n        this.doService(request, response);\n    &#125; catch (IOException | ServletException var16) &#123;\n        &#x2F;&#x2F;...\n&#125;\n\nè¯·å„ä½ä¸€å®šè¦è€å¿ƒï¼Œè¿™äº›å¤§å‹æ¡†æ¶çš„åº•å±‚ä¸€èˆ¬éƒ½æ˜¯å±‚å±‚å¥—å¨ƒï¼Œå› ä¸ºè¿™æ ·å†™èµ·æ¥å±‚æ¬¡ä¼šæ›´åŠ æ¸…æ™°ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥çœ‹çœ‹DispatcherServletä¸­æ˜¯å¦‚ä½•å®ç°çš„ï¼š\nprotected void doService(HttpServletRequest request, HttpServletResponse response) throws Exception &#123;\n   &#x2F;&#x2F;...\n    try &#123;\n      \t&#x2F;&#x2F;é‡ç‚¹åœ¨è¿™é‡Œï¼Œè¿™æ‰æ˜¯æ•´ä¸ªå¤„ç†è¿‡ç¨‹ä¸­æœ€æ ¸å¿ƒçš„éƒ¨åˆ†\n        this.doDispatch(request, response);\n    &#125; finally &#123;\n        &#x2F;&#x2F;...\n&#125;\n\nç»ˆäºæ‰¾åˆ°æœ€æ ¸å¿ƒçš„éƒ¨åˆ†äº†ï¼š\nprotected void doDispatch(HttpServletRequest request, HttpServletResponse response) throws Exception &#123;\n    HttpServletRequest processedRequest &#x3D; request;\n    HandlerExecutionChain mappedHandler &#x3D; null;\n    boolean multipartRequestParsed &#x3D; false;\n    WebAsyncManager asyncManager &#x3D; WebAsyncUtils.getAsyncManager(request);\n\n    try &#123;\n        try &#123;\n            ModelAndView mv &#x3D; null;\n            Object dispatchException &#x3D; null;\n\n            try &#123;\n                processedRequest &#x3D; this.checkMultipart(request);\n                multipartRequestParsed &#x3D; processedRequest !&#x3D; request;\n              \t&#x2F;&#x2F;åœ¨HandlerMappingé›†åˆä¸­å¯»æ‰¾å¯ä»¥å¤„ç†å½“å‰è¯·æ±‚çš„HandlerMapping\n                mappedHandler &#x3D; this.getHandler(processedRequest);\n                if (mappedHandler &#x3D;&#x3D; null) &#123;\n                    this.noHandlerFound(processedRequest, response);\n                  \t&#x2F;&#x2F;æ‰¾ä¸åˆ°HandlerMappingåˆ™æ— æ³•è¿›è¡Œå¤„ç†\n                    return;\n                &#125;\n\n              \t&#x2F;&#x2F;æ ¹æ®HandlerMappingæä¾›çš„ä¿¡æ¯ï¼Œæ‰¾åˆ°å¯ä»¥å¤„ç†çš„HandlerAdapter\n                HandlerAdapter ha &#x3D; this.getHandlerAdapter(mappedHandler.getHandler());\n                String method &#x3D; request.getMethod();\n                boolean isGet &#x3D; HttpMethod.GET.matches(method);\n                if (isGet || HttpMethod.HEAD.matches(method)) &#123;\n                    long lastModified &#x3D; ha.getLastModified(request, mappedHandler.getHandler());\n                    if ((new ServletWebRequest(request, response)).checkNotModified(lastModified) &amp;&amp; isGet) &#123;\n                        return;\n                    &#125;\n                &#125;\n\n              \t&#x2F;&#x2F;æ‰§è¡Œæ‰€æœ‰æ‹¦æˆªå™¨çš„preHandle()æ–¹æ³•\n                if (!mappedHandler.applyPreHandle(processedRequest, response)) &#123;\n                    return;\n                &#125;\n\n              \t&#x2F;&#x2F;ä½¿ç”¨HandlerAdapterè¿›è¡Œå¤„ç†ï¼ˆæˆ‘ä»¬ç¼–å†™çš„è¯·æ±‚æ˜ å°„æ–¹æ³•åœ¨è¿™ä¸ªä½ç½®æ‰çœŸæ­£åœ°æ‰§è¡Œäº†ï¼‰\n              \t&#x2F;&#x2F;HandlerAdapterä¼šå¸®åŠ©æˆ‘ä»¬å°†è¯·æ±‚çš„æ•°æ®è¿›è¡Œå¤„ç†ï¼Œå†æ¥è°ƒç”¨æˆ‘ä»¬ç¼–å†™çš„è¯·æ±‚æ˜ å°„æ–¹æ³•\n              \t&#x2F;&#x2F;æœ€åHandlerAdapterä¼šå°†ç»“æœå°è£…ä¸ºModelAndViewè¿”å›ç»™mv\n                mv &#x3D; ha.handle(processedRequest, response, mappedHandler.getHandler());\n                if (asyncManager.isConcurrentHandlingStarted()) &#123;\n                    return;\n                &#125;\n\n                this.applyDefaultViewName(processedRequest, mv);\n              \t&#x2F;&#x2F;æ‰§è¡Œæ‰€æœ‰æ‹¦æˆªå™¨çš„postHandle()æ–¹æ³•\n                mappedHandler.applyPostHandle(processedRequest, response, mv);\n            &#125; catch (Exception var20) &#123;\n                dispatchException &#x3D; var20;\n            &#125; catch (Throwable var21) &#123;\n                dispatchException &#x3D; new NestedServletException(&quot;Handler dispatch failed&quot;, var21);\n            &#125;\n\n          \t&#x2F;&#x2F;æœ€åå¤„ç†ç»“æœï¼Œå¯¹è§†å›¾è¿›è¡Œæ¸²æŸ“ç­‰ï¼Œå¦‚æœæŠ›å‡ºå¼‚å¸¸ä¼šå‡ºç°é”™è¯¯é¡µé¢\n            this.processDispatchResult(processedRequest, response, mappedHandler, mv, (Exception)dispatchException);\n        &#125; catch (Exception var22) &#123;\n            this.triggerAfterCompletion(processedRequest, response, mappedHandler, var22);\n        &#125; catch (Throwable var23) &#123;\n            this.triggerAfterCompletion(processedRequest, response, mappedHandler, new NestedServletException(&quot;Handler processing failed&quot;, var23));\n        &#125;\n\n    &#125; finally &#123;\n        if (asyncManager.isConcurrentHandlingStarted()) &#123;\n            if (mappedHandler !&#x3D; null) &#123;\n                mappedHandler.applyAfterConcurrentHandlingStarted(processedRequest, response);\n            &#125;\n        &#125; else if (multipartRequestParsed) &#123;\n            this.cleanupMultipart(processedRequest);\n        &#125;\n\n    &#125;\n&#125;\n\næ‰€ä»¥ï¼Œæ ¹æ®ä»¥ä¸Šæºç åˆ†æå¾—å‡ºæœ€ç»ˆçš„æµç¨‹å›¾ï¼š\n\nè™½ç„¶å®Œæˆæœ¬ç« å­¦ä¹ åï¼Œæˆ‘ä»¬å·²ç»åŸºæœ¬èƒ½å¤ŸåŸºäºSpringå»é‡æ–°ç¼–å†™ä¸€ä¸ªæ›´åŠ é«˜çº§çš„å›¾ä¹¦ç®¡ç†ç³»ç»Ÿäº†ï¼Œä½†æ˜¯ç™»é™†éªŒè¯å¤æ‚çš„é—®é¢˜ä¾ç„¶æ²¡æœ‰è§£å†³ï¼Œå¦‚æœæˆ‘ä»¬ä¾ç„¶æŒ‰ç…§ä¹‹å‰çš„æ–¹å¼ç¼–å†™ç™»é™†éªŒè¯ï¼Œæ˜¾ç„¶å¤ªè¿‡ç®€å•ï¼Œå®ƒä»…ä»…åªæ˜¯ä¸€ä¸ªç™»é™†ï¼Œä½†æ˜¯æ²¡æœ‰ä»»ä½•çš„æƒé™åˆ’åˆ†æˆ–æ˜¯åŠ å¯†å¤„ç†ï¼Œæˆ‘ä»¬éœ€è¦æ›´åŠ é«˜çº§çš„æƒé™æ ¡éªŒæ¡†æ¶æ¥å¸®åŠ©æˆ‘ä»¬å®ç°ç™»é™†æ“ä½œï¼Œä¸‹ä¸€ç« ï¼Œæˆ‘ä»¬ä¼šè¯¦ç»†è®²è§£å¦‚ä½•ä½¿ç”¨æ›´åŠ é«˜çº§çš„SpringSecurityæ¡†æ¶æ¥è¿›è¡Œæƒé™éªŒè¯ï¼Œå¹¶åœ¨å­¦ä¹ çš„è¿‡ç¨‹ä¸­ï¼Œé‡å†™æˆ‘ä»¬çš„å›¾ä¹¦ç®¡ç†ç³»ç»Ÿã€‚\n","slug":"JavaSSMç¬”è®°ï¼ˆäºŒï¼‰","date":"2022-03-05T16:22:45.742Z","categories_index":"JavaSSMç¬”è®°","tags_index":"JavaSSMç¬”è®°","author_index":"YangChao"},{"id":"9c23c4d0502f19daa98fa35771fc4957","title":"JavaSSMç¬”è®°ï¼ˆä¸€ï¼‰","content":"\nå»ºè®®ï¼šå¯¹Javaå¼€å‘è¿˜ä¸æ˜¯å¾ˆç†Ÿæ‚‰çš„åŒå­¦ï¼Œæœ€å¥½å…ˆèŠ±è´¹åŠä¸ªæœˆåˆ°ä¸€ä¸ªæœˆæ—¶é—´å¤§é‡åœ°å»ç¼–å†™å°é¡¹ç›®ï¼Œä¸æ¨èä¸€å£æ°”å­¦å®Œï¼Œåé¢çš„å†…å®¹ç›¸æ¯”å‰é¢çš„å†…å®¹å‡ ä¹æ˜¯é™ç»´æ‰“å‡»ï¼Œä¸€å£æ°”å­¦å®Œå¾ˆå®¹æ˜“å¿˜è®°ä¹‹å‰æ‰€å­¦çš„åŸºç¡€çŸ¥è¯†ï¼Œå°¤å…¶æ˜¯JavaSEé˜¶æ®µçš„å†…å®¹ã€‚\nSpringæ¡†æ¶æŠ€æœ¯æ­å–œå„ä½é¡ºåˆ©è¿›å…¥åˆ°SSMï¼ˆSpring+SpringMVC+Mybatisï¼‰é˜¶æ®µçš„å­¦ä¹ ï¼Œä¹Ÿç®—æ˜¯æˆåŠŸå‡ºäº†Javaæ–°æ‰‹æ‘ï¼Œç”±äºå‰é¢æˆ‘ä»¬å·²ç»å­¦ä¹ è¿‡Mybatisäº†ï¼Œå› æ­¤ï¼Œæœ¬æœŸæ•™ç¨‹çš„æ—¶é—´å®‰æ’ç›¸æ¯”ä¹‹å‰ä¼šæ›´çŸ­ä¸€äº›ã€‚ä»è¿™é‡Œå¼€å§‹ï¼Œå¾ˆå¤šçš„æ¦‚å¿µç†è§£èµ·æ¥å°±ç¨å¾®æœ‰ä¸€ç‚¹éš¾åº¦äº†ï¼Œå› ä¸ºä½ ä»¬æ²¡æœ‰æ¥è§¦è¿‡ä¼ä¸šå¼€å‘åœºæ™¯ï¼Œå¾ˆéš¾ä½“ä¼šåˆ°é‚£ç§æ€æƒ³å¸¦æ¥çš„å¥½å¤„ï¼Œç”šè‡³åˆ°åæœŸæ¥è§¦åˆ°çš„å‡ ä¹éƒ½æ˜¯åŸºäºäº‘è®¡ç®—å’Œå¤§æ•°æ®ç†è®ºå®ç°çš„æ¡†æ¶ï¼ˆå½“ä¸‹æœ€çƒ­é—¨æœ€å‰æ²¿çš„æŠ€æœ¯ï¼‰é€æ¸ä¸å†æ˜¯å’Œè®¡ç®—æœºåŸºç¡€ç›¸å…³è”ï¼Œè€Œæ˜¯å’Œæ€ä¹ˆé«˜æ•ˆå¹²æ´»ç›¸å…³äº†ã€‚\nåœ¨JavaWebé˜¶æ®µï¼Œæˆ‘ä»¬å·²ç»å­¦ä¹ äº†å¦‚ä½•ä½¿ç”¨Javaè¿›è¡ŒWebåº”ç”¨ç¨‹åºå¼€å‘ï¼Œæˆ‘ä»¬ç°åœ¨å·²ç»å…·æœ‰æ­å»ºWebç½‘ç«™çš„èƒ½åŠ›ï¼Œä½†æ˜¯ï¼Œæˆ‘ä»¬åœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°å­˜åœ¨è¯¸å¤šçš„ä¸ä¾¿ï¼Œåœ¨æœ€åçš„å›¾ä¹¦ç®¡ç†ç³»ç»Ÿç¼–ç¨‹å®æˆ˜ä¸­ï¼Œæˆ‘ä»¬å‘ç°è™½ç„¶æˆ‘ä»¬æ€è·¯å¾ˆæ¸…æ™°ï¼ŒçŸ¥é“å¦‚ä½•ç¼–å†™å¯¹åº”çš„æ¥å£ï¼Œä½†æ˜¯è¿™æ ·çš„å¼€å‘æ•ˆç‡ï¼Œå®åœ¨æ˜¯å¤ªæ…¢äº†ï¼Œå¹¶ä¸”å¯¹äºå¯¹è±¡åˆ›å»ºçš„ç®¡ç†ï¼Œå­˜åœ¨è¯¸å¤šçš„ä¸å¦¥ä¹‹å¤„ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬è¦å»ç»§ç»­å­¦ä¹ æ›´å¤šçš„æ¡†æ¶æŠ€æœ¯ï¼Œæ¥ç®€åŒ–å’Œè§„èŒƒæˆ‘ä»¬çš„Javaå¼€å‘ã€‚\nSpringå°±æ˜¯è¿™æ ·çš„ä¸€ä¸ªæ¡†æ¶ï¼ˆæ–‡æ¡£ï¼šhttps://docs.spring.io/spring-framework/docs/5.2.13.RELEASE/spring-framework-reference/ï¼‰ï¼Œå®ƒå°±æ˜¯ä¸ºäº†ç®€åŒ–å¼€å‘è€Œç”Ÿï¼Œå®ƒæ˜¯è½»é‡çº§çš„**IoC**å’Œ**AOP**çš„å®¹å™¨æ¡†æ¶ï¼Œä¸»è¦æ˜¯é’ˆå¯¹**JavaBean**çš„ç”Ÿå‘½å‘¨æœŸè¿›è¡Œç®¡ç†çš„è½»é‡çº§å®¹å™¨ï¼Œå¹¶ä¸”å®ƒçš„ç”Ÿæ€å·²ç»å‘å±•å¾—æä¸ºåºå¤§ã€‚é‚£ä¹ˆï¼Œé¦–å…ˆä¸€é—®ï¼Œä»€ä¹ˆæ˜¯**IoC**å’Œ**AOP**ï¼Œä»€ä¹ˆåˆæ˜¯**JavaBean**å‘¢ï¼Ÿåªæ˜¯å¬èµ·æ¥æ»¡æ»¡çš„é«˜çº§æ„Ÿï¼Œå®é™…ä¸Šæ²¡æœ‰å¤šé«˜çº§ï¼ˆå¾ˆå¤šä¸œè¥¿éƒ½æ˜¯è¿™æ ·ï¼Œåå­—å¬èµ·æ¥å¾ˆç‰›ï¼Œå®é™…ä¸Šåªæ˜¯ä¸€ä¸ªå¾ˆå®¹æ˜“ç†è§£çš„ä¸œè¥¿ï¼‰\nå› æ­¤ï¼Œä¸€åˆ‡çš„ä¸€åˆ‡ï¼Œæˆ‘ä»¬è¿˜è¦ä»JavaBeanè¯´èµ·ï¼Œä»è¿™é¢—è±†å­ç”Ÿæ ¹å‘èŠ½å¼€å§‹ã€‚\nä»€ä¹ˆæ˜¯JavaBeanJavaBeanå°±æ˜¯æœ‰ä¸€å®šè§„èŒƒçš„Javaå®ä½“ç±»ï¼Œè·Ÿæ™®é€šç±»å·®ä¸å¤šï¼Œä¸åŒçš„æ˜¯ç±»å†…éƒ¨æä¾›äº†ä¸€äº›å…¬å…±çš„æ–¹æ³•ä»¥ä¾¿å¤–ç•Œå¯¹è¯¥å¯¹è±¡å†…éƒ¨å±æ€§è¿›è¡Œæ“ä½œï¼Œæ¯”å¦‚setã€getæ“ä½œï¼Œå®é™…ä¸Šï¼Œå°±æ˜¯æˆ‘ä»¬ä¹‹å‰ä¸€ç›´åœ¨ç”¨çš„ï¼š\npublic class User&#123;\n\tprivate String name;\n\tprivate int age;\n\tpublic String getName()&#123;\n\t\treturn name;\n\t&#125;\n\tpublic String getAge()&#123;\n\t\treturn age;\n\t&#125;\n\tpublic void setName(String name)&#123;\n\t\tthis.name &#x3D; name;\n\t&#125;\n\tpublic void setAge(int age)&#123;\n\t\tthis.age &#x3D; age;\n\t&#125;\n&#125;\n\nå®ƒçš„æ‰€æœ‰å±æ€§éƒ½æ˜¯privateï¼Œæ‰€æœ‰çš„å±æ€§éƒ½å¯ä»¥é€šè¿‡get&#x2F;setæ–¹æ³•è¿›è¡Œè®¿é—®ï¼ŒåŒæ—¶è¿˜éœ€è¦æœ‰ä¸€ä¸ªæ— å‚æ„é€ ï¼ˆé»˜è®¤å°±æœ‰ï¼‰\nå› æ­¤æˆ‘ä»¬ä¹‹å‰ç¼–å†™çš„å¾ˆå¤šç±»ï¼Œå…¶å®éƒ½å¯ä»¥æ˜¯ä¸€ä¸ªJavaBeanã€‚\nIoCç†è®ºåŸºç¡€åœ¨æˆ‘ä»¬ä¹‹å‰çš„å›¾ä¹¦ç®¡ç†ç³»ç»ŸWebåº”ç”¨ç¨‹åºä¸­ï¼Œæˆ‘ä»¬å‘ç°ï¼Œæ•´ä¸ªç¨‹åºå…¶å®æ˜¯ä¾é å„ä¸ªéƒ¨åˆ†ç›¸äº’åä½œï¼Œå…±åŒå®Œæˆä¸€ä¸ªæ“ä½œï¼Œæ¯”å¦‚è¦å±•ç¤ºå€Ÿé˜…ä¿¡æ¯åˆ—è¡¨ï¼Œé‚£ä¹ˆé¦–å…ˆéœ€è¦ä½¿ç”¨Servletè¿›è¡Œè¯·æ±‚å’Œå“åº”çš„æ•°æ®å¤„ç†ï¼Œç„¶åè¯·æ±‚çš„æ•°æ®å…¨éƒ¨äº¤ç»™å¯¹åº”çš„Serviceï¼ˆä¸šåŠ¡å±‚ï¼‰æ¥å¤„ç†ï¼Œå½“Serviceå‘ç°è¦ä»æ•°æ®åº“ä¸­è·å–æ•°æ®æ—¶ï¼Œå†å‘å¯¹åº”çš„Mapperå‘èµ·è¯·æ±‚ã€‚\nå®ƒä»¬ä¹‹é—´å°±åƒè¿æ¥åœ¨ä¸€èµ·çš„é½¿è½®ï¼Œè°ä¹Ÿç¦»ä¸å¼€è°ï¼š\n\nå°±åƒä¸€ä¸ªå›¢é˜Ÿï¼Œæ¯ä¸ªäººçš„åˆ†å·¥éƒ½å¾ˆæ˜ç¡®ï¼Œæµæ°´çº¿ä¸Šçš„ä¸€å¥—æ“ä½œå¿…é¡»ç¯ç¯ç›¸æ‰£ï¼Œè¿™æ˜¯ä¸€ç§é«˜åº¦è€¦åˆçš„ä½“ç³»ã€‚\nè™½ç„¶è¿™æ ·çš„ä½“ç³»é€»è¾‘éå¸¸æ¸…æ™°ï¼Œæ•´ä¸ªæµç¨‹ä¹Ÿèƒ½å¤Ÿè®©äººå¿«é€Ÿäº†è§£ï¼Œä½†æ˜¯è¿™æ ·å­˜åœ¨ä¸€ä¸ªå¾ˆä¸¥é‡çš„é—®é¢˜ï¼Œæˆ‘ä»¬ç°åœ¨çš„æ—¶ä»£å®é™…ä¸Šæ˜¯ä¸€ä¸ªè½¯ä»¶é¡¹ç›®é«˜é€Ÿè¿­ä»£çš„æ—¶ä»£ï¼Œæˆ‘ä»¬å‘ç°å¾ˆå¤šAppä¸‰å¤©ä¸¤å¤´éš”ä¸‰å·®äº”åœ°å°±æ›´æ–°ï¼Œè€Œä¸”æ˜¯ä»€ä¹ˆåŠŸèƒ½å½“ä¸‹æœ€ç«ï¼Œå°±é©¬ä¸åœè¹„åœ°è¿›è¡Œè·Ÿè¿›å¼€å‘ï¼Œå› æ­¤ï¼Œå°±å¾ˆå®¹æ˜“å‡ºç°ï¼Œä¹‹å‰å†™å¥½çš„ä»£ç ï¼Œå®ç°çš„åŠŸèƒ½ï¼Œéœ€è¦å…¨éƒ¨æ¨ç¿»ï¼Œæ”¹æˆæ–°çš„åŠŸèƒ½ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ä¸å¾—ä¸å»ä¿®æ”¹æŸäº›æµæ°´çº¿ä¸Šçš„æ¨¡å—ï¼Œä½†æ˜¯è¿™æ ·ä¸€ä¿®æ”¹ï¼Œä¼šç›´æ¥å¯¼è‡´æ•´ä¸ªæµæ°´çº¿çš„å¼•ç”¨å…³ç³»å¤§é¢ç§¯æ›´æ–°ã€‚\nå°±åƒæˆ‘ä¸æƒ³ç”¨è¿™ä¸ªServiceå®ç°ç±»äº†ï¼Œæˆ‘æƒ³ä½¿ç”¨å…¶ä»–çš„å®ç°ç±»ç”¨ä¸åŒçš„é€»è¾‘åšè¿™äº›åŠŸèƒ½ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬åªèƒ½æ¯ä¸ªç±»éƒ½å»æŒ¨ä¸ªè¿›è¡Œä¿®æ”¹ï¼Œå½“é¡¹ç›®ç‰¹åˆ«åºå¤§æ—¶ï¼Œå…‰æ˜¯æ”¹ä¸ªç±»åå°±å¤Ÿä½ æ”¹ä¸€å¤©ã€‚\nå› æ­¤ï¼Œé«˜è€¦åˆåº¦å¸¦æ¥çš„ç¼ºç‚¹æ˜¯å¾ˆæ˜æ˜¾çš„ï¼Œä¹Ÿæ˜¯ç°ä»£è½¯ä»¶å¼€å‘ä¸­å¾ˆè‡´å‘½çš„é—®é¢˜ã€‚å¦‚æœè¦æ”¹å–„è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬åªèƒ½å°†å„ä¸ªæ¨¡å—è¿›è¡Œè§£è€¦ï¼Œè®©å„ä¸ªæ¨¡å—ä¹‹é—´çš„ä¾èµ–æ€§ä¸å†é‚£ä¹ˆåœ°å¼ºã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒServiceçš„å®ç°ç±»ï¼Œä¸å†ç”±æˆ‘ä»¬å†³å®šï¼Œè€Œæ˜¯è®©ç¨‹åºè‡ªå·±å†³å®šï¼Œæ‰€æœ‰çš„å®ç°ç±»å¯¹è±¡ï¼Œå…¨éƒ¨äº¤ç»™ç¨‹åºæ¥ç®¡ç†ï¼Œæ‰€æœ‰å¯¹è±¡ä¹‹é—´çš„å…³ç³»ï¼Œä¹Ÿç”±ç¨‹åºæ¥åŠ¨æ€å†³å®šï¼Œè¿™æ ·å°±å¼•å…¥äº†IoCç†è®ºã€‚\nIOCæ˜¯Inversion of Controlçš„ç¼©å†™ï¼Œç¿»è¯‘ä¸ºï¼šâ€œæ§åˆ¶åè½¬â€ï¼ŒæŠŠå¤æ‚ç³»ç»Ÿåˆ†è§£æˆç›¸äº’åˆä½œçš„å¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡ç±»é€šè¿‡å°è£…ä»¥åï¼Œå†…éƒ¨å®ç°å¯¹å¤–éƒ¨æ˜¯é€æ˜çš„ï¼Œä»è€Œé™ä½äº†è§£å†³é—®é¢˜çš„å¤æ‚åº¦ï¼Œè€Œä¸”å¯ä»¥çµæ´»åœ°è¢«é‡ç”¨å’Œæ‰©å±•ã€‚\n\næˆ‘ä»¬å¯ä»¥å°†å¯¹è±¡äº¤ç»™IoCå®¹å™¨è¿›è¡Œç®¡ç†ï¼Œæ¯”å¦‚å½“æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ¥å£çš„å®ç°æ—¶ï¼Œç”±å®ƒæ ¹æ®é…ç½®æ–‡ä»¶æ¥å†³å®šåˆ°åº•ç»™æˆ‘ä»¬å“ªä¸€ä¸ªå®ç°ç±»ï¼Œè¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä¸ç”¨å†å…³å¿ƒæˆ‘ä»¬è¦å»ä½¿ç”¨å“ªä¸€ä¸ªå®ç°ç±»äº†ï¼Œæˆ‘ä»¬åªéœ€è¦å…³å¿ƒï¼Œç»™åˆ°æˆ‘çš„ä¸€å®šæ˜¯ä¸€ä¸ªå¯ä»¥æ­£å¸¸ä½¿ç”¨çš„å®ç°ç±»ï¼Œèƒ½ç”¨å°±å®Œäº‹äº†ï¼Œåæ­£æ¥å£å®šä¹‰äº†å•¥ï¼Œæˆ‘åªç®¡è°ƒï¼Œè¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ”¾å¿ƒåœ°è®©ä¸€ä¸ªäººå»å†™è§†å›¾å±‚çš„ä»£ç ï¼Œä¸€ä¸ªäººå»å†™ä¸šåŠ¡å±‚çš„ä»£ç ï¼Œå¼€å‘æ•ˆç‡é‚£æ˜¯é«˜çš„ä¸€åŒ¹å•Šã€‚\né«˜å†…èšï¼Œä½è€¦åˆï¼Œæ˜¯ç°ä»£è½¯ä»¶çš„å¼€å‘çš„è®¾è®¡ç›®æ ‡ï¼Œè€ŒSpringæ¡†æ¶å°±ç»™æˆ‘ä»¬æä¾›äº†è¿™æ ·çš„ä¸€ä¸ªIoCå®¹å™¨è¿›è¡Œå¯¹è±¡çš„ç®¡ç†ã€‚\nä½¿ç”¨IoCå®¹å™¨é¦–å…ˆä¸€å®šè¦æ˜ç¡®ï¼Œä½¿ç”¨Springé¦–è¦ç›®çš„æ˜¯ä¸ºäº†ä½¿å¾—è½¯ä»¶é¡¹ç›®è¿›è¡Œè§£è€¦ï¼Œè€Œä¸æ˜¯ä¸ºäº†å»ç®€åŒ–ä»£ç ï¼\nSpringå¹¶ä¸æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ¡†æ¶ï¼Œå®ƒå®é™…ä¸ŠåŒ…å«äº†å¾ˆå¤šçš„æ¨¡å—ï¼š\n\nè€Œæˆ‘ä»¬é¦–å…ˆè¦å»å­¦ä¹ çš„å°±æ˜¯Core Containerï¼Œä¹Ÿå°±æ˜¯æ ¸å¿ƒå®¹å™¨æ¨¡å—ã€‚\nSpringæ˜¯ä¸€ä¸ªéå…¥ä¾µå¼çš„æ¡†æ¶ï¼Œå°±åƒä¸€ä¸ªå·¥å…·åº“ä¸€æ ·ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬åªéœ€è¦ç›´æ¥å¯¼å…¥å…¶ä¾èµ–å°±å¯ä»¥ä½¿ç”¨äº†ã€‚\nç¬¬ä¸€ä¸ªSpringé¡¹ç›®æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°çš„Mavené¡¹ç›®ï¼Œå¹¶å¯¼å…¥Springæ¡†æ¶çš„ä¾èµ–ï¼ŒSpringæ¡†æ¶çš„åæ ‡ï¼š\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;\n    &lt;artifactId&gt;spring-context&lt;&#x2F;artifactId&gt;\n    &lt;version&gt;5.3.13&lt;&#x2F;version&gt;\n&lt;&#x2F;dependency&gt;\n\næ¥ç€åœ¨resourceä¸­åˆ›å»ºä¸€ä¸ªSpringé…ç½®æ–‡ä»¶ï¼Œå‘½åä¸ºtest.xmlï¼Œç›´æ¥å³é”®ç‚¹å‡»å³å¯åˆ›å»ºï¼š\n&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;\n       xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;\n       xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans\n        https:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd&quot;&gt;\n\n&lt;&#x2F;beans&gt;\n\næœ€åï¼Œåœ¨ä¸»æ–¹æ³•ä¸­ç¼–å†™ï¼š\npublic static void main(String[] args) &#123;\n    ClassPathXmlApplicationContext context &#x3D; new ClassPathXmlApplicationContext(&quot;text&quot;);\n    \n&#125;\n\nè¿™æ ·ï¼Œä¸€ä¸ªæœ€åŸºæœ¬çš„Springé¡¹ç›®å°±åˆ›å»ºå®Œæˆäº†ï¼Œæ¥ç€æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•å‘IoCå®¹å™¨ä¸­æ³¨å†ŒJavaBeanï¼Œé¦–å…ˆåˆ›å»ºä¸€ä¸ªStudentç±»ï¼š\n&#x2F;&#x2F;æ³¨æ„ï¼Œè¿™é‡Œè¿˜ç”¨ä¸åˆ°å€¼æ³¨å…¥ï¼Œåªéœ€è¦åŒ…å«æˆå‘˜å±æ€§å³å¯ï¼Œä¸ç”¨Getter&#x2F;Setterã€‚\npublic class Student &#123;\n    String name;\n    int age;\n&#125;\n\nç„¶ååœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ è¿™ä¸ªbeanï¼š\n&lt;bean name&#x3D;&quot;student&quot; class&#x3D;&quot;com.test.bean.Student&quot;&#x2F;&gt;\n\nç°åœ¨ï¼Œè¿™ä¸ªå¯¹è±¡ä¸éœ€è¦æˆ‘ä»¬å†å»ç”Ÿæˆäº†ï¼Œè€Œæ˜¯ç”±IoCå®¹å™¨æ¥æä¾›ï¼š\npublic static void main(String[] args) &#123;\n    ClassPathXmlApplicationContext context &#x3D; new ClassPathXmlApplicationContext(&quot;test.xml&quot;);\n    Student student &#x3D; (Student) context.getBean(&quot;student&quot;);\n    System.out.println(student);\n&#125;\n\nå®é™…ä¸Šï¼Œè¿™é‡Œå¾—åˆ°çš„Studentå¯¹è±¡æ˜¯ç”±Springé€šè¿‡åå°„æœºåˆ¶å¸®åŠ©æˆ‘ä»¬åˆ›å»ºçš„ï¼Œåˆå­¦è€…ä¼šéå¸¸ç–‘æƒ‘ï¼Œä¸ºä»€ä¹ˆè¦è¿™æ ·æ¥åˆ›å»ºå¯¹è±¡ï¼Œæˆ‘ä»¬ç›´æ¥newä¸€ä¸ªå®ƒä¸é¦™å—ï¼Ÿä¸ºä»€ä¹ˆè¦äº¤ç»™IoCå®¹å™¨ç®¡ç†å‘¢ï¼Ÿåœ¨åé¢çš„å­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬å†æ…¢æ…¢è¿›è¡Œä½“ä¼šã€‚\nå°†JavaBeanäº¤ç»™IoCå®¹å™¨ç®¡ç†é€šè¿‡å‰é¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬å‘ç°åªè¦å°†æˆ‘ä»¬åˆ›å»ºå¥½çš„JavaBeané€šè¿‡é…ç½®æ–‡ä»¶ç¼–å†™ï¼Œå³å¯å°†å…¶äº¤ç»™IoCå®¹å™¨è¿›è¡Œç®¡ç†ï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ï¼Œä¸€ä¸ªJavaBeançš„è¯¦ç»†é…ç½®ï¼š\n&lt;bean name&#x3D;&quot;student&quot; class&#x3D;&quot;com.test.bean.Student&quot;&#x2F;&gt;\n\nå…¶ä¸­nameå±æ€§ï¼ˆä¹Ÿå¯ä»¥æ˜¯idå±æ€§ï¼‰ï¼Œå…¨å±€å”¯ä¸€ï¼Œä¸å¯å‡ºç°é‡å¤çš„åç§°ï¼Œæˆ‘ä»¬å‘ç°ï¼Œä¹‹å‰å…¶å®å°±æ˜¯é€šè¿‡Beançš„åç§°æ¥å‘IoCå®¹å™¨ç´¢è¦å¯¹åº”çš„å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å…¶ä»–æ–¹å¼è·å–ã€‚\næˆ‘ä»¬ç°åœ¨åœ¨ä¸»æ–¹æ³•ä¸­è¿ç»­è·å–ä¸¤ä¸ªå¯¹è±¡ï¼š\nClassPathXmlApplicationContext context &#x3D; new ClassPathXmlApplicationContext(&quot;test.xml&quot;);\nStudent student &#x3D; (Student) context.getBean(&quot;student&quot;);\nStudent student2 &#x3D; (Student) context.getBean(&quot;student&quot;);\nSystem.out.println(student);\nSystem.out.println(student2);\n\næˆ‘ä»¬å‘ç°ä¸¤æ¬¡è·å–åˆ°çš„å®é™…ä¸Šæ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œé€šè¿‡IoCå®¹å™¨è¿›è¡Œç®¡ç†çš„JavaBeanæ˜¯å•ä¾‹æ¨¡å¼çš„ï¼Œæ— è®ºæ€ä¹ˆè·å–å§‹ç»ˆä¸ºé‚£ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆå¦‚ä½•è¿›è¡Œä¿®æ”¹å‘¢ï¼Ÿåªéœ€è¦ä¿®æ”¹å…¶ä½œç”¨åŸŸå³å¯ï¼Œæ·»åŠ scopeå±æ€§ï¼š\n&lt;bean name&#x3D;&quot;student&quot; class&#x3D;&quot;com.test.bean.Student&quot; scope&#x3D;&quot;prototype&quot;&#x2F;&gt;\n\né€šè¿‡å°†å…¶è®¾å®šä¸ºprototypeï¼ˆåŸå‹æ¨¡å¼ï¼‰æ¥ä½¿å¾—å…¶æ¯æ¬¡éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚æˆ‘ä»¬æ¥ç€æ¥è§‚å¯Ÿä¸€ä¸‹ï¼Œè¿™ä¸¤ç§æ¨¡å¼ä¸‹Beançš„ç”Ÿå‘½å‘¨æœŸï¼Œæˆ‘ä»¬ç»™æ„é€ æ–¹æ³•æ·»åŠ ä¸€ä¸ªè¾“å‡ºï¼š\npublic class Student &#123;\n    String name;\n    int age;\n\n    public Student()&#123;\n        System.out.println(&quot;æˆ‘è¢«æ„é€ äº†ï¼&quot;);\n    &#125;\n&#125;\n\næ¥ç€æˆ‘ä»¬åœ¨mianæ–¹æ³•ä¸­æ‰“ä¸Šæ–­ç‚¹æ¥æŸ¥çœ‹å¯¹è±¡åˆ†åˆ«æ˜¯åœ¨ä»€ä¹ˆæ—¶å€™è¢«æ„é€ çš„ã€‚\næˆ‘ä»¬å‘ç°ï¼Œå½“Beançš„ä½œç”¨åŸŸä¸ºå•ä¾‹æ¨¡å¼ï¼Œé‚£ä¹ˆå®ƒä¼šåœ¨ä¸€å¼€å§‹å°±è¢«åˆ›å»ºï¼Œè€Œå¤„äºåŸå‹æ¨¡å¼ä¸‹ï¼Œåªæœ‰åœ¨è·å–æ—¶æ‰ä¼šè¢«åˆ›å»ºï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå•ä¾‹æ¨¡å¼ä¸‹ï¼ŒBeanä¼šè¢«IoCå®¹å™¨å­˜å‚¨ï¼Œåªè¦å®¹å™¨æ²¡æœ‰è¢«é”€æ¯ï¼Œé‚£ä¹ˆæ­¤å¯¹è±¡å°†ä¸€ç›´å­˜åœ¨ï¼Œè€ŒåŸå‹æ¨¡å¼æ‰æ˜¯ç›¸å½“äºç›´æ¥newäº†ä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶ä¸ä¼šè¢«ä¿å­˜ã€‚\næˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶ï¼Œå‘Šè¯‰åˆ›å»ºä¸€ä¸ªå¯¹è±¡éœ€è¦æ‰§è¡Œæ­¤åˆå§‹åŒ–æ–¹æ³•ï¼Œä»¥åŠé”€æ¯ä¸€ä¸ªå¯¹è±¡çš„é”€æ¯æ–¹æ³•ï¼š\npublic class Student &#123;\n    String name;\n    int age;\n\n    private void init()&#123;\n        System.out.println(&quot;æˆ‘æ˜¯åˆå§‹åŒ–æ–¹æ³•ï¼&quot;);\n    &#125;\n\n    private void destroy()&#123;\n        System.out.println(&quot;æˆ‘æ˜¯é”€æ¯æ–¹æ³•ï¼&quot;);\n    &#125;\n\n    public Student()&#123;\n        System.out.println(&quot;æˆ‘è¢«æ„é€ äº†ï¼&quot;);\n    &#125;\n&#125;\n\npublic static void main(String[] args) &#123;\n    ClassPathXmlApplicationContext context &#x3D; new ClassPathXmlApplicationContext(&quot;test.xml&quot;);\n    Student student &#x3D; (Student) context.getBean(&quot;student&quot;);\n    System.out.println(student);\n    context.close();  &#x2F;&#x2F;æ‰‹åŠ¨é”€æ¯å®¹å™¨\n&#125;\n\næœ€ååœ¨XMLæ–‡ä»¶ä¸­ç¼–å†™é…ç½®ï¼š\n&lt;bean name&#x3D;&quot;student&quot; class&#x3D;&quot;com.test.bean.Student&quot; init-method&#x3D;&quot;init&quot; destroy-method&#x3D;&quot;destroy&quot;&#x2F;&gt;\n\næ¥ä¸‹æ¥æµ‹è¯•ä¸€ä¸‹å³å¯ã€‚\næˆ‘ä»¬è¿˜å¯ä»¥æ‰‹åŠ¨æŒ‡å®šBeançš„åŠ è½½é¡ºåºï¼Œè‹¥æŸä¸ªBeanéœ€è¦ä¿è¯ä¸€å®šåœ¨å¦ä¸€ä¸ªBeanåŠ è½½ä¹‹å‰åŠ è½½ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨depend-onå±æ€§ã€‚\nä¾èµ–æ³¨å…¥DIç°åœ¨æˆ‘ä»¬å·²ç»äº†è§£äº†å¦‚ä½•æ³¨å†Œå’Œä½¿ç”¨ä¸€ä¸ªBeanï¼Œé‚£ä¹ˆï¼Œå¦‚ä½•å‘Beançš„æˆå‘˜å±æ€§è¿›è¡Œèµ‹å€¼å‘¢ï¼Ÿä¹Ÿå°±æ˜¯è¯´ï¼ŒIoCåœ¨åˆ›å»ºå¯¹è±¡æ—¶ï¼Œéœ€è¦å°†æˆ‘ä»¬é¢„å…ˆç»™å®šçš„å±æ€§æ³¨å…¥åˆ°å¯¹è±¡ä¸­ï¼Œéå¸¸ç®€å•ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨propertyæ ‡ç­¾æ¥å®ç°ï¼Œä½†æ˜¯ä¸€å®šæ³¨æ„ï¼Œæ­¤å±æ€§å¿…é¡»å­˜åœ¨ä¸€ä¸ªsetæ–¹æ³•ï¼Œå¦åˆ™æ— æ³•èµ‹å€¼ï¼š\n&lt;bean name&#x3D;&quot;student&quot; class&#x3D;&quot;com.test.bean.Student&quot;&gt;\n    &lt;property name&#x3D;&quot;name&quot; value&#x3D;&quot;å°æ˜&quot;&#x2F;&gt;\n&lt;&#x2F;bean&gt;\n\npublic class Student &#123;\n    String name;\n    int age;\n\n    public void setName(String name) &#123;\n        this.name &#x3D; name;\n    &#125;\n\n    public void say()&#123;\n        System.out.println(&quot;æˆ‘æ˜¯ï¼š&quot;+name);\n    &#125;\n&#125;\n\næœ€åæµ‹è¯•æ˜¯å¦èƒ½å¤ŸæˆåŠŸå°†å±æ€§æ³¨å…¥åˆ°æˆ‘ä»¬çš„å¯¹è±¡ä¸­ï¼š\npublic static void main(String[] args) &#123;\n    ClassPathXmlApplicationContext context &#x3D; new ClassPathXmlApplicationContext(&quot;test.xml&quot;);\n    Student student &#x3D; (Student) context.getBean(&quot;student&quot;);\n    student.say();\n&#125;\n\né‚£ä¹ˆï¼Œå¦‚æœæˆå‘˜å±æ€§æ˜¯ä¸€ä¸ªéåŸºæœ¬ç±»å‹éStringçš„å¯¹è±¡ç±»å‹ï¼Œæˆ‘ä»¬è¯¥æ€ä¹ˆæ³¨å…¥å‘¢ï¼Ÿ\npublic class Card &#123;\n&#125;\n\npublic class Student &#123;\n    String name;\n    int age;\n    Card card;\n\n    public void setCard(Card card) &#123;\n        this.card &#x3D; card;\n    &#125;\n  \n  \tpublic void setName(String name) &#123;\n        this.name &#x3D; name;\n    &#125;\n\n    public void say()&#123;\n        System.out.println(&quot;æˆ‘æ˜¯ï¼š&quot;+name+&quot;ï¼Œæˆ‘éƒ½å­¦ç”Ÿè¯ï¼š&quot;+card);\n    &#125;\n&#125;\n\næˆ‘ä»¬åªéœ€è¦å°†å¯¹åº”çš„ç±»å‹ä¹Ÿæ³¨å†Œä¸ºbeanå³å¯ï¼Œç„¶åç›´æ¥ä½¿ç”¨refå±æ€§æ¥è¿›è¡Œå¼•ç”¨ï¼š\n&lt;bean name&#x3D;&quot;card&quot; class&#x3D;&quot;com.test.bean.Card&quot;&#x2F;&gt;\n&lt;bean name&#x3D;&quot;student&quot; class&#x3D;&quot;com.test.bean.Student&quot;&gt;\n    &lt;property name&#x3D;&quot;name&quot; value&#x3D;&quot;å°æ˜&quot;&#x2F;&gt;\n    &lt;property name&#x3D;&quot;card&quot; ref&#x3D;&quot;card&quot;&#x2F;&gt;\n&lt;&#x2F;bean&gt;\n\né‚£ä¹ˆï¼Œé›†åˆå¦‚ä½•å®ç°æ³¨å…¥å‘¢ï¼Ÿæˆ‘ä»¬éœ€è¦åœ¨propertyå†…éƒ¨è¿›è¡Œç¼–å†™ï¼š\n&lt;bean name&#x3D;&quot;student&quot; class&#x3D;&quot;com.test.bean.Student&quot;&gt;\n    &lt;property name&#x3D;&quot;list&quot;&gt;\n        &lt;list&gt;\n            &lt;value type&#x3D;&quot;double&quot;&gt;100.0&lt;&#x2F;value&gt;\n            &lt;value type&#x3D;&quot;double&quot;&gt;95.0&lt;&#x2F;value&gt;\n            &lt;value type&#x3D;&quot;double&quot;&gt;92.5&lt;&#x2F;value&gt;\n        &lt;&#x2F;list&gt;\n    &lt;&#x2F;property&gt;\n&lt;&#x2F;bean&gt;\n\nç°åœ¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥ä»¥ä¸€ä¸ªæ•°ç»„çš„æ–¹å¼å°†å±æ€§æ³¨å…¥ï¼Œæ³¨æ„å¦‚æœæ˜¯Listç±»å‹çš„è¯ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨arrayæ•°ç»„ã€‚åŒæ ·çš„ï¼Œå¦‚æœæ˜¯ä¸€ä¸ªMapç±»å‹ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨entryæ¥æ³¨å…¥ï¼š\npublic class Student &#123;\n    String name;\n    int age;\n    Map&lt;String, Double&gt; map;\n\n    public void setMap(Map&lt;String, Double&gt; map) &#123;\n        this.map &#x3D; map;\n    &#125;\n\n    public void say()&#123;\n        System.out.println(&quot;æˆ‘çš„æˆç»©ï¼š&quot;+ map);\n    &#125;\n&#125;\n\n&lt;bean name&#x3D;&quot;student&quot; class&#x3D;&quot;com.test.bean.Student&quot;&gt;\n    &lt;property name&#x3D;&quot;map&quot;&gt;\n        &lt;map&gt;\n            &lt;entry key&#x3D;&quot;è¯­æ–‡&quot; value&#x3D;&quot;100.0&quot;&#x2F;&gt;\n            &lt;entry key&#x3D;&quot;æ•°å­¦&quot; value&#x3D;&quot;80.0&quot;&#x2F;&gt;\n            &lt;entry key&#x3D;&quot;è‹±è¯­&quot; value&#x3D;&quot;92.5&quot;&#x2F;&gt;\n        &lt;&#x2F;map&gt;\n    &lt;&#x2F;property&gt;\n&lt;&#x2F;bean&gt;\n\næˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨è‡ªåŠ¨è£…é…æ¥å®ç°å±æ€§å€¼çš„æ³¨å…¥ï¼š\n&lt;bean name&#x3D;&quot;card&quot; class&#x3D;&quot;com.test.bean.Card&quot;&#x2F;&gt;\n&lt;bean name&#x3D;&quot;student&quot; class&#x3D;&quot;com.test.bean.Student&quot; autowire&#x3D;&quot;byType&quot;&#x2F;&gt;\n\nè‡ªåŠ¨è£…é…ä¼šæ ¹æ®setæ–¹æ³•ä¸­éœ€è¦çš„ç±»å‹ï¼Œè‡ªåŠ¨åœ¨å®¹å™¨ä¸­æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨å¯¹åº”ç±»å‹æˆ–æ˜¯å¯¹åº”åç§°ä»¥åŠå¯¹åº”æ„é€ æ–¹æ³•çš„Beanï¼Œæ¯”å¦‚æˆ‘ä»¬ä¸Šé¢æŒ‡å®šçš„ä¸ºbyTypeï¼Œé‚£ä¹ˆå…¶ä¸­çš„cardå±æ€§å°±ä¼šè¢«è‡ªåŠ¨æ³¨å…¥ç±»å‹ä¸ºCardçš„Bean\næˆ‘ä»¬å·²ç»äº†è§£äº†å¦‚ä½•ä½¿ç”¨setæ–¹æ³•æ¥åˆ›å»ºå¯¹è±¡ï¼Œé‚£ä¹ˆèƒ½å¦ä¸ä½¿ç”¨é»˜è®¤çš„æ— å‚æ„é€ æ–¹æ³•ï¼Œè€Œæ˜¯æŒ‡å®šä¸€ä¸ªæœ‰å‚æ„é€ è¿›è¡Œå¯¹è±¡çš„åˆ›å»ºå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥æŒ‡å®šæ„é€ æ–¹æ³•ï¼š\n&lt;bean name&#x3D;&quot;student&quot; class&#x3D;&quot;com.test.bean.Student&quot;&gt;\n        &lt;constructor-arg name&#x3D;&quot;name&quot; value&#x3D;&quot;å°æ˜&quot;&#x2F;&gt;\n        &lt;constructor-arg index&#x3D;&quot;1&quot; value&#x3D;&quot;18&quot;&#x2F;&gt;\n    &lt;&#x2F;bean&gt;\n\npublic class Student &#123;\n    String name;\n    int age;\n\n    public Student(String name, int age)&#123;\n        this.name &#x3D; name;\n        this.age &#x3D; age;\n    &#125;\n\n    public void say()&#123;\n        System.out.println(&quot;æˆ‘æ˜¯ï¼š&quot;+name+&quot;ä»Šå¹´&quot;+age+&quot;å²äº†ï¼&quot;);\n    &#125;\n&#125;\n\né€šè¿‡æ‰‹åŠ¨æŒ‡å®šæ„é€ æ–¹æ³•å‚æ•°ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥å‘Šè¯‰å®¹å™¨ä½¿ç”¨å“ªä¸€ä¸ªæ„é€ æ–¹æ³•æ¥åˆ›å»ºå¯¹è±¡ã€‚\n\né¢å‘åˆ‡é¢AOPåˆæ˜¯ä¸€ä¸ªå¬èµ·æ¥å¾ˆé«˜å¤§ä¸Šçš„åè¯ï¼ŒAOPæ€æƒ³å®é™…ä¸Šå°±æ˜¯ï¼šåœ¨è¿è¡Œæ—¶ï¼ŒåŠ¨æ€åœ°å°†ä»£ç åˆ‡å…¥åˆ°ç±»çš„æŒ‡å®šæ–¹æ³•ã€æŒ‡å®šä½ç½®ä¸Šçš„ç¼–ç¨‹æ€æƒ³å°±æ˜¯é¢å‘åˆ‡é¢çš„ç¼–ç¨‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨AOPæ¥å¸®åŠ©æˆ‘ä»¬åœ¨æ–¹æ³•æ‰§è¡Œå‰æˆ–æ‰§è¡Œä¹‹åï¼Œåšä¸€äº›é¢å¤–çš„æ“ä½œï¼Œå®é™…ä¸Šï¼Œå°±æ˜¯ä»£ç†ï¼\né€šè¿‡AOPæˆ‘ä»¬å¯ä»¥åœ¨ä¿è¯åŸæœ‰ä¸šåŠ¡ä¸å˜çš„æƒ…å†µä¸‹ï¼Œæ·»åŠ é¢å¤–çš„åŠ¨ä½œï¼Œæ¯”å¦‚æˆ‘ä»¬çš„æŸäº›æ–¹æ³•æ‰§è¡Œå®Œæˆä¹‹åï¼Œéœ€è¦æ‰“å°æ—¥å¿—ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨AOPæ¥å¸®åŠ©æˆ‘ä»¬å®Œæˆï¼Œå®ƒå¯ä»¥æ‰¹é‡åœ°ä¸ºè¿™äº›æ–¹æ³•æ·»åŠ åŠ¨ä½œã€‚å¯ä»¥è¯´ï¼Œå®ƒç›¸å½“äºå°†æˆ‘ä»¬åŸæœ‰çš„æ–¹æ³•ï¼Œåœ¨ä¸æ”¹å˜æºä»£ç çš„åŸºç¡€ä¸Šè¿›è¡Œäº†å¢å¼ºå¤„ç†ã€‚\n\nç›¸å½“äºæˆ‘ä»¬çš„æ•´ä¸ªä¸šåŠ¡æµç¨‹ï¼Œè¢«ç›´æ¥æ–©æ–­ï¼Œå¹¶åœ¨æ–­æ‰çš„ä½ç½®æ·»åŠ äº†ä¸€ä¸ªé¢å¤–çš„æ“ä½œï¼Œå†è¿æ¥èµ·æ¥ï¼Œä¹Ÿå°±æ˜¯åœ¨ä¸€ä¸ªåˆ‡ç‚¹ä½ç½®æ’å…¥å†…å®¹ã€‚å®ƒçš„åŸç†å®é™…ä¸Šå°±æ˜¯é€šè¿‡åŠ¨æ€ä»£ç†æœºåˆ¶å®ç°çš„ï¼Œæˆ‘ä»¬åœ¨JavaWebé˜¶æ®µå·²ç»ç»™å¤§å®¶è®²è§£è¿‡åŠ¨æ€ä»£ç†äº†ã€‚ä¸è¿‡Springåº•å±‚å¹¶ä¸æ˜¯ä½¿ç”¨çš„JDKæä¾›çš„åŠ¨æ€ä»£ç†ï¼Œè€Œæ˜¯ä½¿ç”¨çš„ç¬¬ä¸‰æ–¹åº“å®ç°ï¼Œå®ƒèƒ½å¤Ÿä»¥çˆ¶ç±»çš„å½¢å¼ä»£ç†ï¼Œè€Œä¸æ˜¯æ¥å£ã€‚\nä½¿ç”¨SpringAOPSpringæ˜¯æ”¯æŒAOPç¼–ç¨‹çš„æ¡†æ¶ä¹‹ä¸€ï¼ˆå®é™…ä¸Šå®ƒæ•´åˆäº†AspectJæ¡†æ¶çš„ä¸€éƒ¨åˆ†ï¼‰ï¼Œè¦ä½¿ç”¨AOPæˆ‘ä»¬éœ€è¦å…ˆå¯¼å…¥ä¸€ä¸ªä¾èµ–ï¼š\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;\n    &lt;artifactId&gt;spring-aspects&lt;&#x2F;artifactId&gt;\n    &lt;version&gt;5.3.13&lt;&#x2F;version&gt;\n&lt;&#x2F;dependency&gt;\n\né‚£ä¹ˆï¼Œå¦‚ä½•ä½¿ç”¨AOPå‘¢ï¼Ÿé¦–å…ˆæˆ‘ä»¬è¦æ˜ç¡®ï¼Œè¦å®ç°AOPæ“ä½œï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“è¿™äº›å†…å®¹ï¼š\n\néœ€è¦åˆ‡å…¥çš„ç±»ï¼Œç±»çš„å“ªä¸ªæ–¹æ³•éœ€è¦è¢«åˆ‡å…¥\nåˆ‡å…¥ä¹‹åéœ€è¦æ‰§è¡Œä»€ä¹ˆåŠ¨ä½œ\næ˜¯åœ¨æ–¹æ³•æ‰§è¡Œå‰åˆ‡å…¥è¿˜æ˜¯åœ¨æ–¹æ³•æ‰§è¡Œååˆ‡å…¥\nå¦‚ä½•å‘Šè¯‰Springéœ€è¦è¿›è¡Œåˆ‡å…¥\n\né‚£ä¹ˆæˆ‘ä»¬ä¾æ¬¡æ¥çœ‹ï¼Œé¦–å…ˆéœ€è¦è§£å†³çš„é—®é¢˜æ˜¯ï¼Œæ‰¾åˆ°éœ€è¦åˆ‡å…¥çš„ç±»ï¼š\npublic class Student &#123;\n    String name;\n    int age;\n\n\t\t&#x2F;&#x2F;åˆ†åˆ«åœ¨testæ–¹æ³•æ‰§è¡Œå‰ååˆ‡å…¥\n    public int test(String str) &#123;\n        System.out.println(&quot;æˆ‘æ˜¯ä¸€ä¸ªæµ‹è¯•æ–¹æ³•ï¼š&quot;+str);\n        return str.length();\n    &#125;\n&#125;\n\nç°åœ¨æˆ‘ä»¬å¸Œæœ›åœ¨testæ–¹æ³•æ‰§è¡Œå‰åæ·»åŠ æˆ‘ä»¬çš„é¢å¤–æ‰§è¡Œçš„å†…å®¹ï¼Œæ¥ç€ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•ä¸ºæ–¹æ³•æ‰§è¡Œå‰å’Œæ‰§è¡Œåæ·»åŠ åˆ‡å…¥åŠ¨ä½œã€‚æ¯”å¦‚ç°åœ¨æˆ‘ä»¬æƒ³åœ¨æ–¹æ³•è¿”å›ä¹‹åï¼Œå†æ‰§è¡Œæˆ‘ä»¬çš„åŠ¨ä½œï¼Œé¦–å…ˆå®šä¹‰æˆ‘ä»¬è¦æ‰§è¡Œçš„æ“ä½œï¼š\npublic class AopTest &#123;\n\n    &#x2F;&#x2F;æ‰§è¡Œä¹‹åçš„æ–¹æ³•\n    public void after()&#123;\n        System.out.println(&quot;æˆ‘æ˜¯æ‰§è¡Œä¹‹å&quot;);\n    &#125;\n\n    &#x2F;&#x2F;æ‰§è¡Œä¹‹å‰çš„æ–¹æ³•\n    public void before()&#123;\n        System.out.println(&quot;æˆ‘æ˜¯æ‰§è¡Œä¹‹å‰&quot;);\n    &#125;\n&#125;\n\né‚£ä¹ˆï¼Œç°åœ¨å¦‚ä½•å‘Šè¯‰Springæˆ‘ä»¬éœ€è¦åœ¨æ–¹æ³•æ‰§è¡Œä¹‹å‰å’Œä¹‹åæ’å…¥å…¶ä»–é€»è¾‘å‘¢ï¼Ÿé¦–å…ˆæˆ‘ä»¬å°†è¦è¿›è¡ŒAOPæ“ä½œçš„ç±»æ³¨å†Œä¸ºBeanï¼š\n&lt;bean name&#x3D;&quot;student&quot; class&#x3D;&quot;com.test.bean.Student&quot;&#x2F;&gt;\n&lt;bean name&#x3D;&quot;aopTest&quot; class&#x3D;&quot;com.test.aop.AopTest&quot;&#x2F;&gt;\n\nä¸€ä¸ªæ˜¯Studentç±»ï¼Œè¿˜æœ‰ä¸€ä¸ªå°±æ˜¯åŒ…å«æˆ‘ä»¬è¦åˆ‡å…¥æ–¹æ³•çš„AopTestç±»ï¼Œæ³¨å†Œä¸ºBeanåï¼Œä»–ä»¬å°±äº¤ç»™Springè¿›è¡Œç®¡ç†ï¼Œè¿™æ ·Springæ‰èƒ½å¸®åŠ©æˆ‘ä»¬å®ŒæˆAOPæ“ä½œã€‚\næ¥ç€ï¼Œæˆ‘ä»¬éœ€è¦å‘Šè¯‰Springï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ åˆ‡å…¥ç‚¹ï¼Œé¦–å…ˆå°†é¡¶éƒ¨ä¿®æ”¹ä¸ºï¼Œå¼•å…¥aopç›¸å…³æ ‡ç­¾ï¼š\n&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;\n       xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;\n       xmlns:aop&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop&quot;\n       xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd\n       http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop&#x2F;spring-aop.xsd&quot;&gt;\n\né€šè¿‡ä½¿ç”¨aop:configæ¥æ·»åŠ ä¸€ä¸ªæ–°çš„AOPé…ç½®ï¼š\n&lt;aop:config&gt;\n    \n&lt;&#x2F;aop:config&gt;\n\né¦–å…ˆç¬¬ä¸€è¡Œï¼Œæˆ‘ä»¬éœ€è¦å‘Šè¯‰Springï¼Œæˆ‘ä»¬è¦åˆ‡å…¥çš„æ˜¯å“ªä¸€ä¸ªç±»çš„å“ªä¸ªæˆ–æ˜¯å“ªäº›æ–¹æ³•ï¼š\n&lt;aop:pointcut id&#x3D;&quot;test&quot; expression&#x3D;&quot;execution(* com.test.bean.Student.test(String))&quot;&#x2F;&gt;\n\nå…¶ä¸­ï¼Œexpressionå±æ€§çš„executionå¡«å†™æ ¼å¼å¦‚ä¸‹ï¼š\nä¿®é¥°ç¬¦ åŒ…å.ç±»å.æ–¹æ³•åç§°(æ–¹æ³•å‚æ•°)\n\n\nä¿®é¥°ç¬¦ï¼špublicã€protectedã€privateã€åŒ…æ‹¬è¿”å›å€¼ç±»å‹ã€staticç­‰ç­‰ï¼ˆä½¿ç”¨*ä»£è¡¨ä»»æ„ä¿®é¥°ç¬¦ï¼‰\nåŒ…åï¼šå¦‚com.testï¼ˆ*ä»£è¡¨å…¨éƒ¨ï¼Œæ¯”å¦‚com.*ä»£è¡¨comåŒ…ä¸‹çš„å…¨éƒ¨åŒ…ï¼‰\nç±»åï¼šä½¿ç”¨*ä¹Ÿå¯ä»¥ä»£è¡¨åŒ…ä¸‹çš„æ‰€æœ‰ç±»\næ–¹æ³•åç§°ï¼šå¯ä»¥ä½¿ç”¨*ä»£è¡¨å…¨éƒ¨æ–¹æ³•\næ–¹æ³•å‚æ•°ï¼šå¡«å†™å¯¹åº”çš„å‚æ•°å³å¯ï¼Œæ¯”å¦‚(String, String)ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨*æ¥ä»£è¡¨ä»»æ„ä¸€ä¸ªå‚æ•°ï¼Œä½¿ç”¨..ä»£è¡¨æ‰€æœ‰å‚æ•°ã€‚\n\nä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–å±æ€§æ¥è¿›è¡ŒåŒ¹é…ï¼Œæ¯”å¦‚@annotationå¯ä»¥ç”¨äºè¡¨ç¤ºæ ‡è®°äº†å“ªäº›æ³¨è§£çš„æ–¹æ³•è¢«åˆ‡å…¥ã€‚\næ¥ç€ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºæ­¤æ–¹æ³•æ·»åŠ ä¸€ä¸ªæ‰§è¡Œå‰åŠ¨ä½œå’Œä¸€ä¸ªæ‰§è¡ŒååŠ¨ä½œï¼š\n&lt;aop:aspect ref&#x3D;&quot;aopTest&quot;&gt;\n    &lt;aop:before method&#x3D;&quot;before&quot; pointcut-ref&#x3D;&quot;test&quot;&#x2F;&gt;\n    &lt;aop:after-returning method&#x3D;&quot;after&quot; pointcut-ref&#x3D;&quot;test&quot;&#x2F;&gt;\n&lt;&#x2F;aop:aspect&gt;\n\nè¿™æ ·ï¼Œæˆ‘ä»¬å°±å®Œæˆäº†å…¨éƒ¨çš„é…ç½®ï¼Œç°åœ¨æ¥å®éªŒä¸€ä¸‹å§ï¼š\npublic static void main(String[] args) &#123;\n    ClassPathXmlApplicationContext context &#x3D; new ClassPathXmlApplicationContext(&quot;test.xml&quot;);\n    Student student &#x3D; context.getBean(Student.class);\n    student.test(&quot;lbwnb&quot;);\n&#125;\n\næˆ‘ä»¬å‘ç°ï¼Œæ–¹æ³•æ‰§è¡Œå‰åï¼Œåˆ†åˆ«è°ƒç”¨äº†æˆ‘ä»¬å¯¹åº”çš„æ–¹æ³•ã€‚ä½†æ˜¯ä»…ä»…è¿™æ ·è¿˜æ˜¯ä¸èƒ½æ»¡è¶³ä¸€äº›éœ€æ±‚ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥éœ€æ±‚æ–¹æ³•æ‰§è¡Œçš„ä¸€äº›å‚æ•°ï¼Œæ¯”å¦‚æ–¹æ³•æ‰§è¡Œä¹‹åè¿”å›äº†ä»€ä¹ˆï¼Œæˆ–æ˜¯æ–¹æ³•å¼€å§‹ä¹‹å‰ä¼ å…¥äº†ä»€ä¹ˆå‚æ•°ç­‰ç­‰ã€‚\nè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºæˆ‘ä»¬åˆ‡å…¥çš„æ–¹æ³•æ·»åŠ ä¸€ä¸ªå‚æ•°ï¼Œé€šè¿‡æ­¤å‚æ•°å°±å¯ä»¥å¿«é€Ÿè·å–åˆ‡ç‚¹ä½ç½®çš„ä¸€äº›ä¿¡æ¯ï¼š\n&#x2F;&#x2F;æ‰§è¡Œä¹‹å‰çš„æ–¹æ³•\npublic void before(JoinPoint point)&#123;\n    System.out.println(&quot;æˆ‘æ˜¯æ‰§è¡Œä¹‹å‰&quot;);\n    System.out.println(point.getTarget());  &#x2F;&#x2F;è·å–æ‰§è¡Œæ–¹æ³•çš„å¯¹è±¡\n    System.out.println(Arrays.toString(point.getArgs()));  &#x2F;&#x2F;è·å–ä¼ å…¥æ–¹æ³•çš„å®å‚\n&#125;\n\né€šè¿‡æ·»åŠ JoinPointä½œä¸ºå½¢å‚ï¼ŒSpringä¼šè‡ªåŠ¨ç»™æˆ‘ä»¬ä¸€ä¸ªå®ç°ç±»å¯¹è±¡ï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½è·å–æ–¹æ³•çš„ä¸€äº›ä¿¡æ¯äº†ã€‚\næœ€åæˆ‘ä»¬å†æ¥çœ‹ç¯ç»•æ–¹æ³•ï¼Œç¯ç»•æ–¹æ³•ç›¸å½“äºå®Œå…¨ä»£ç†äº†æ­¤æ–¹æ³•ï¼Œå®ƒå®Œå…¨å°†æ­¤æ–¹æ³•åŒ…å«åœ¨ä¸­é—´ï¼Œéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨è°ƒç”¨æ‰å¯ä»¥æ‰§è¡Œæ­¤æ–¹æ³•ï¼Œå¹¶ä¸”æˆ‘ä»¬å¯ä»¥ç›´æ¥è·å–æ›´å¤šçš„å‚æ•°ï¼š\npublic Object around(ProceedingJoinPoint joinPoint) throws Throwable &#123;\n    System.out.println(&quot;æ–¹æ³•å¼€å§‹ä¹‹å‰&quot;);\n    Object value &#x3D; joinPoint.proceed();\n    System.out.println(&quot;æ–¹æ³•æ‰§è¡Œå®Œæˆï¼Œç»“æœä¸ºï¼š&quot;+value);\n    return value;\n&#125;\n\næ³¨æ„ï¼Œå¦‚æœä»£ç†æ–¹æ³•å­˜åœ¨è¿”å›å€¼ï¼Œé‚£ä¹ˆç¯ç»•æ–¹æ³•ä¹Ÿéœ€è¦æœ‰ä¸€ä¸ªè¿”å›å€¼ï¼Œé€šè¿‡proceedæ–¹æ³•æ¥æ‰§è¡Œä»£ç†çš„æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ä¿®æ”¹å‚æ•°ä¹‹åè°ƒç”¨proceed(Object[])ï¼Œä½¿ç”¨æˆ‘ä»¬ç»™å®šçš„å‚æ•°å†å»æ‰§è¡Œï¼š\npublic Object around(ProceedingJoinPoint joinPoint) throws Throwable &#123;\n    System.out.println(&quot;æ–¹æ³•å¼€å§‹ä¹‹å‰&quot;);\n    String arg &#x3D; joinPoint.getArgs()[0] + &quot;ä¼å…µä¸€å·&quot;;\n    Object value &#x3D; joinPoint.proceed(new Object[]&#123;arg&#125;);\n    System.out.println(&quot;æ–¹æ³•æ‰§è¡Œå®Œæˆï¼Œç»“æœä¸ºï¼š&quot;+value);\n    return value;\n&#125;\n\nä½¿ç”¨æ¥å£å®ç°AOPå‰é¢æˆ‘ä»¬ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨xmlé…ç½®ä¸€ä¸ªAOPæ“ä½œï¼Œè¿™èŠ‚è¯¾æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•ä½¿ç”¨Adviceå®ç°AOPã€‚\nå®ƒä¸æˆ‘ä»¬ä¹‹å‰å­¦ä¹ çš„åŠ¨æ€ä»£ç†æ›´æ¥è¿‘ä¸€äº›ï¼Œæ¯”å¦‚åœ¨æ–¹æ³•å¼€å§‹æ‰§è¡Œä¹‹å‰æˆ–æ˜¯æ‰§è¡Œä¹‹åä¼šå»è°ƒç”¨æˆ‘ä»¬å®ç°çš„æ¥å£ï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦å°†ä¸€ä¸ªç±»å®ç°Adviceæ¥å£ï¼Œåªæœ‰å®ç°æ­¤æ¥å£ï¼Œæ‰å¯ä»¥è¢«é€šçŸ¥ï¼Œæ¯”å¦‚æˆ‘ä»¬è¿™é‡Œä½¿ç”¨MethodBeforeAdviceè¡¨ç¤ºæ˜¯ä¸€ä¸ªåœ¨æ–¹æ³•æ‰§è¡Œä¹‹å‰çš„åŠ¨ä½œï¼š\npublic class AopTest implements MethodBeforeAdvice &#123;\n    @Override\n    public void before(Method method, Object[] args, Object target) throws Throwable &#123;\n        System.out.println(&quot;é€šè¿‡Adviceå®ç°AOP&quot;);\n    &#125;\n&#125;\n\næˆ‘ä»¬å‘ç°ï¼Œæ–¹æ³•ä¸­åŒ…æ‹¬äº†å¾ˆå¤šçš„å‚æ•°ï¼Œå…¶ä¸­argsä»£è¡¨çš„æ˜¯æ–¹æ³•æ‰§è¡Œå‰å¾—åˆ°çš„å®å‚åˆ—è¡¨ï¼Œè¿˜æœ‰targetè¡¨ç¤ºæ‰§è¡Œæ­¤æ–¹æ³•çš„å®ä¾‹å¯¹è±¡ã€‚è¿è¡Œä¹‹åï¼Œæ•ˆæœå’Œä¹‹å‰æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯åœ¨è¿™é‡Œæˆ‘ä»¬å°±å¯ä»¥å¿«é€Ÿè·å–åˆ°æ›´å¤šä¿¡æ¯ã€‚\n&lt;aop:config&gt;\n    &lt;aop:pointcut id&#x3D;&quot;stu&quot; expression&#x3D;&quot;execution(* com.test.bean.Student.say(String))&quot;&#x2F;&gt;\n    &lt;aop:advisor advice-ref&#x3D;&quot;before&quot; pointcut-ref&#x3D;&quot;stu&quot;&#x2F;&gt;\n&lt;&#x2F;aop:config&gt;\n\né™¤äº†æ­¤æ¥å£ä»¥å¤–ï¼Œè¿˜æœ‰å…¶ä»–çš„æ¥å£ï¼Œæ¯”å¦‚AfterReturningAdviceå°±éœ€è¦å®ç°ä¸€ä¸ªæ–¹æ³•æ‰§è¡Œä¹‹åçš„æ“ä½œï¼š\npublic class AopTest implements MethodBeforeAdvice, AfterReturningAdvice &#123;\n    @Override\n    public void before(Method method, Object[] args, Object target) throws Throwable &#123;\n        System.out.println(&quot;æˆ‘æ˜¯æ–¹æ³•æ‰§è¡Œä¹‹å‰ï¼&quot;);\n    &#125;\n\n    @Override\n    public void afterReturning(Object returnValue, Method method, Object[] args, Object target) throws Throwable &#123;\n        System.out.println(&quot;æˆ‘æ˜¯æ–¹æ³•æ‰§è¡Œä¹‹åï¼&quot;);\n    &#125;\n&#125;\n\nå…¶å®ï¼Œæˆ‘ä»¬ä¹‹å‰å­¦ä¹ çš„æ“ä½œæ­£å¥½å¯¹åº”äº†AOP é¢†åŸŸä¸­çš„ç‰¹æ€§æœ¯è¯­ï¼š\n\né€šçŸ¥ï¼ˆAdviceï¼‰: AOP æ¡†æ¶ä¸­çš„å¢å¼ºå¤„ç†ï¼Œé€šçŸ¥æè¿°äº†åˆ‡é¢ä½•æ—¶æ‰§è¡Œä»¥åŠå¦‚ä½•æ‰§è¡Œå¢å¼ºå¤„ç†ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¸Šé¢ç¼–å†™çš„æ–¹æ³•å®ç°ã€‚\nè¿æ¥ç‚¹ï¼ˆjoin pointï¼‰: è¿æ¥ç‚¹è¡¨ç¤ºåº”ç”¨æ‰§è¡Œè¿‡ç¨‹ä¸­èƒ½å¤Ÿæ’å…¥åˆ‡é¢çš„ä¸€ä¸ªç‚¹ï¼Œè¿™ä¸ªç‚¹å¯ä»¥æ˜¯æ–¹æ³•çš„è°ƒç”¨ã€å¼‚å¸¸çš„æŠ›å‡ºï¼Œå®é™…ä¸Šå°±æ˜¯æˆ‘ä»¬åœ¨æ–¹æ³•æ‰§è¡Œå‰æˆ–æ˜¯æ‰§è¡Œåéœ€è¦åšçš„å†…å®¹ã€‚\nåˆ‡ç‚¹ï¼ˆPointCutï¼‰: å¯ä»¥æ’å…¥å¢å¼ºå¤„ç†çš„è¿æ¥ç‚¹ï¼Œå¯ä»¥æ˜¯æ–¹æ³•æ‰§è¡Œä¹‹å‰ä¹Ÿå¯ä»¥æ–¹æ³•æ‰§è¡Œä¹‹åï¼Œè¿˜å¯ä»¥æ˜¯æŠ›å‡ºå¼‚å¸¸ä¹‹ç±»çš„ã€‚\nåˆ‡é¢ï¼ˆAspectï¼‰: åˆ‡é¢æ˜¯é€šçŸ¥å’Œåˆ‡ç‚¹çš„ç»“åˆï¼Œæˆ‘ä»¬ä¹‹å‰åœ¨xmlä¸­å®šä¹‰çš„å°±æ˜¯åˆ‡é¢ï¼ŒåŒ…æ‹¬å¾ˆå¤šä¿¡æ¯ã€‚\nå¼•å…¥ï¼ˆIntroductionï¼‰ï¼šå¼•å…¥å…è®¸æˆ‘ä»¬å‘ç°æœ‰çš„ç±»æ·»åŠ æ–°çš„æ–¹æ³•æˆ–è€…å±æ€§ã€‚\nç»‡å…¥ï¼ˆWeavingï¼‰: å°†å¢å¼ºå¤„ç†æ·»åŠ åˆ°ç›®æ ‡å¯¹è±¡ä¸­ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªè¢«å¢å¼ºçš„å¯¹è±¡ï¼Œæˆ‘ä»¬ä¹‹å‰éƒ½æ˜¯åœ¨å°†æˆ‘ä»¬çš„å¢å¼ºå¤„ç†æ·»åŠ åˆ°ç›®æ ‡å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯ç»‡å…¥ï¼ˆè¿™åå­—æŒºæœ‰æ–‡è‰ºèŒƒçš„ï¼‰\n\n\nä½¿ç”¨æ³¨è§£å¼€å‘å‰é¢æˆ‘ä»¬å·²ç»äº†è§£äº†IoCå®¹å™¨å’ŒAOPå®ç°ï¼Œä½†æ˜¯æˆ‘ä»¬å‘ç°ï¼Œè¦ä½¿ç”¨è¿™äº›åŠŸèƒ½ï¼Œæˆ‘ä»¬å°±ä¸å¾—ä¸ç¼–å†™å¤§é‡çš„é…ç½®ï¼Œè¿™æ˜¯éå¸¸æµªè´¹æ—¶é—´å’Œç²¾åŠ›çš„ï¼Œå¹¶ä¸”æˆ‘ä»¬è¿˜åªæ˜¯æ¼”ç¤ºäº†å‡ ä¸ªå°çš„ä¾‹å­ï¼Œå¦‚æœæ˜¯åƒä¹‹å‰ä¸€æ ·å»ç¼–å†™ä¸€ä¸ªå®Œæ•´çš„Webåº”ç”¨ç¨‹åºï¼Œé‚£ä¹ˆäº§ç”Ÿçš„é…ç½®å¯èƒ½ä¼šéå¸¸å¤šã€‚èƒ½å¦æœ‰ä¸€ç§æ›´åŠ é«˜æ•ˆçš„æ–¹æ³•èƒ½å¤Ÿçœå»é…ç½®å‘¢ï¼Ÿå½“ç„¶è¿˜æ˜¯æ³¨è§£äº†ã€‚\næ‰€ä»¥è¯´ï¼Œç¬¬ä¸€æ­¥å…ˆæŠŠä½ çš„xmlé…ç½®æ–‡ä»¶åˆ äº†å§ï¼Œç°åœ¨æˆ‘ä»¬å…¨éƒ¨ä½¿ç”¨æ³¨è§£è¿›è¡Œå¼€å‘ï¼ˆå“ˆå“ˆï¼Œæ˜¯ä¸æ˜¯æ„Ÿè§‰XMLé…ç½®ç™½å­¦äº†ï¼‰\næ³¨è§£å®ç°é…ç½®æ–‡ä»¶é‚£ä¹ˆï¼Œç°åœ¨æ—¢ç„¶ä¸ä½¿ç”¨XMLæ–‡ä»¶äº†ï¼Œé‚£é€šè¿‡æ³¨è§£çš„æ–¹å¼å°±åªèƒ½ä»¥å®ä½“ç±»çš„å½¢å¼è¿›è¡Œé…ç½®äº†ï¼Œæˆ‘ä»¬åœ¨è¦ä½œä¸ºé…ç½®çš„ç±»ä¸Šæ·»åŠ @Configurationæ³¨è§£ï¼Œæˆ‘ä»¬è¿™é‡Œåˆ›å»ºä¸€ä¸ªæ–°çš„ç±»MainConfigurationï¼š\n@Configuration\npublic class MainConfiguration &#123;\n    &#x2F;&#x2F;æ²¡æœ‰é…ç½®ä»»ä½•Bean\n&#125;\n\nä½ å¯ä»¥ç›´æ¥æŠŠå®ƒç­‰ä»·äºï¼š\n&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;\n       xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;\n       xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans\n        https:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd&quot;&gt;\n\t\t&lt;!-- æ²¡æœ‰é…ç½®ä»»ä½•Bean --&gt;\n&lt;&#x2F;beans&gt;\n\né‚£ä¹ˆæˆ‘ä»¬æ¥çœ‹çœ‹ï¼Œå¦‚ä½•é…ç½®Beanï¼Œä¹‹å‰æˆ‘ä»¬æ˜¯ç›´æ¥åœ¨é…ç½®æ–‡ä»¶ä¸­ç¼–å†™Beançš„ä¸€äº›ä¿¡æ¯ï¼Œç°åœ¨åœ¨é…ç½®ç±»ä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦ç¼–å†™ä¸€ä¸ªæ–¹æ³•ï¼Œå¹¶è¿”å›æˆ‘ä»¬è¦åˆ›å»ºçš„Beançš„å¯¹è±¡å³å¯ï¼Œå¹¶åœ¨å…¶ä¸Šæ–¹æ·»åŠ @Beanæ³¨è§£ï¼š\n@Bean\npublic Card card()&#123;\n    return new Card();\n&#125;\n\nè¿™æ ·ï¼Œç­‰ä»·äºï¼š\n&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;\n       xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;\n       xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans\n        https:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd&quot;&gt;\n\t\t&lt;bean class&#x3D;&quot;com.test.bean.Card&quot;&gt;&lt;&#x2F;bean&gt;\n&lt;&#x2F;beans&gt;\n\næˆ‘ä»¬è¿˜å¯ä»¥ç»§ç»­æ·»åŠ @Scopeæ³¨è§£æ¥æŒ‡å®šä½œç”¨åŸŸï¼Œè¿™é‡Œæˆ‘ä»¬å°±ç”¨åŸå‹æ¨¡å¼ï¼š\n@Bean\n@Scope(&quot;prototype&quot;)\npublic Card card()&#123;\n    return new Card();\n&#125;\n\né‡‡ç”¨è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ›´åŠ æ–¹ä¾¿åœ°æ§åˆ¶ä¸€ä¸ªBeanå¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ï¼Œç°åœ¨ç›¸å½“äºè¿™ä¸ªå¯¹è±¡æ—¶ç”±æˆ‘ä»¬åˆ›å»ºå¥½äº†å†äº¤ç»™Springè¿›è¡Œåç»­å¤„ç†ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å¯¹è±¡åˆ›å»ºæ—¶åšå¾ˆå¤šé¢å¤–çš„æ“ä½œï¼ŒåŒ…æ‹¬ä¸€äº›å±æ€§å€¼çš„é…ç½®ç­‰ã€‚\næ—¢ç„¶ç°åœ¨æˆ‘ä»¬å·²ç»åˆ›å»ºå¥½äº†é…ç½®ç±»ï¼Œæ¥ç€æˆ‘ä»¬å°±å¯ä»¥åœ¨ä¸»æ–¹æ³•ä¸­åŠ è½½æ­¤é…ç½®ç±»ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªåŸºäºé…ç½®ç±»çš„å®¹å™¨ï¼š\npublic class Main &#123;\n    public static void main(String[] args) &#123;\n      \t&#x2F;&#x2F;ä½¿ç”¨AnnotationConfigApplicationContextæ¥å®ç°æ³¨è§£é…ç½®\n        AnnotationConfigApplicationContext context &#x3D; new AnnotationConfigApplicationContext(MainConfiguration.class); &#x2F;&#x2F;è¿™é‡Œéœ€è¦å‘Šè¯‰Springå“ªä¸ªç±»ä½œä¸ºé…ç½®ç±»\n        Card card &#x3D; context.getBean(Card.class);  &#x2F;&#x2F;å®¹å™¨ç”¨æ³•å’Œä¹‹å‰ä¸€æ ·\n        System.out.println(card);\n    &#125;\n&#125;\n\nåœ¨é…ç½®çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç‚¹å‡»IDEAåº•éƒ¨çš„Springæ ‡ç­¾ï¼Œæ‰“å¼€åå¯ä»¥å¯¹å½“å‰å‘å®¹å™¨ä¸­æ³¨å†Œçš„Beanè¿›è¡Œé›†ä¸­æŸ¥çœ‹ï¼Œå¹¶ä¸”ä¼šæ ‡æ³¨Beanä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼ŒBeançš„é»˜è®¤åç§°å®é™…ä¸Šå°±æ˜¯é¦–å­—æ¯å°å†™çš„æ–¹æ³•åç§°ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ‰‹åŠ¨æŒ‡å®šï¼š\n@Bean(&quot;lbwnb&quot;)\n@Scope(&quot;prototype&quot;)\npublic Card card()&#123;\n    return new Card();\n&#125;\n\né™¤äº†åƒåŸæ¥ä¸€æ ·åœ¨é…ç½®æ–‡ä»¶ä¸­åˆ›å»ºBeanä»¥å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç›´æ¥åœ¨ç±»ä¸Šæ·»åŠ @Componentæ³¨è§£æ¥å°†ä¸€ä¸ªç±»è¿›è¡Œæ³¨å†Œï¼ˆç°åœ¨æœ€å¸¸ç”¨çš„æ–¹å¼ï¼‰ï¼Œä¸è¿‡è¦å®ç°è¿™æ ·çš„æ–¹å¼ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ ä¸€ä¸ªè‡ªåŠ¨æ‰«æï¼Œæ¥å‘Šè¯‰Springéœ€è¦åœ¨å“ªäº›åŒ…ä¸­æŸ¥æ‰¾æˆ‘ä»¬æä¾›@Componentå£°æ˜çš„Beanã€‚\nåªéœ€è¦åœ¨é…ç½®ç±»ä¸Šæ·»åŠ ä¸€ä¸ª@ComponentScanæ³¨è§£å³å¯ï¼Œå¦‚æœè¦æ·»åŠ å¤šä¸ªåŒ…è¿›è¡Œæ‰«æï¼Œå¯ä»¥ä½¿ç”¨@ComponentScansæ¥æ‰¹é‡æ·»åŠ ã€‚è¿™é‡Œæˆ‘ä»¬æ¼”ç¤ºå°†beanåŒ…ä¸‹çš„æ‰€æœ‰ç±»è¿›è¡Œæ‰«æï¼š\n@ComponentScan(&quot;com.test.bean&quot;)\n@Configuration\npublic class MainConfiguration &#123;\n\n&#125;\n\nç°åœ¨åˆ é™¤ç±»ä¸­çš„Beanå®šä¹‰ï¼Œæˆ‘ä»¬åœ¨Studentç±»çš„ä¸Šé¢æ·»åŠ @Componentæ³¨è§£ï¼Œæ¥è¡¨ç¤ºæ­¤ç±»å‹éœ€è¦ä½œä¸ºBeanäº¤ç»™å®¹å™¨è¿›è¡Œç®¡ç†ï¼š\n@Component\n@Scope(&quot;prototype&quot;)\npublic class Student &#123;\n    String name;\n    int age;\n    Card card;\n&#125;\n\nåŒæ ·çš„ï¼Œåœ¨ç±»ä¸Šä¹Ÿå¯ä»¥ç›´æ¥æ·»åŠ @Scopeæ¥é™å®šä½œç”¨åŸŸã€‚\næ•ˆæœå’Œåˆšåˆšå®é™…ä¸Šæ˜¯ç›¸åŒçš„ï¼Œæˆ‘ä»¬å¯ä»¥æ¥æµ‹è¯•ä¸€ä¸‹ï¼š\npublic class Main &#123;\n    public static void main(String[] args) &#123;\n        AnnotationConfigApplicationContext context &#x3D; new AnnotationConfigApplicationContext(MainConfiguration.class);\n        System.out.println(context.getBean(Student.class));\n    &#125;\n&#125;\n\næˆ‘ä»¬å¯ä»¥çœ‹åˆ°IDEAçš„Springæ¿å—ä¸­ä¹Ÿæ˜¾ç¤ºäº†æˆ‘ä»¬åˆšåˆšé€šè¿‡ç›´æ¥åœ¨ç±»ä¸Šæ·»åŠ @Componentå£°æ˜çš„Beanã€‚\nä¸@ComponentåŒæ ·æ•ˆæœçš„è¿˜æœ‰@Controllerã€@Serviceå’Œ@Repositoryï¼Œä½†æ˜¯ç°åœ¨æš‚æ—¶ä¸æï¼Œè®²åˆ°SpringMVCæ—¶å†æ¥æ¢è®¨ã€‚\nç°åœ¨æˆ‘ä»¬å°±æœ‰ä¸¤ç§æ–¹å¼æ³¨å†Œä¸€ä¸ªBeanäº†ï¼Œé‚£ä¹ˆå¦‚ä½•å®ç°åƒä¹‹å‰ä¸€æ ·çš„è‡ªåŠ¨æ³¨å…¥å‘¢ï¼Œæ¯”å¦‚æˆ‘ä»¬å°†Cardä¹Ÿæ³¨å†Œä¸ºBeanï¼Œæˆ‘ä»¬å¸Œæœ›Springè‡ªåŠ¨å°†å…¶æ³¨å…¥åˆ°Studentçš„å±æ€§ä¸­ï¼š\n@Component\npublic class Student &#123;\n    String name;\n    int sid;\n    Card card;\n&#125;\n\nå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ­¤ç±»å‹ï¼Œä¹Ÿé€šè¿‡è¿™ç§æ–¹å¼æ³¨å†Œä¸ºä¸€ä¸ªBeanï¼š\n@Component\n@Scope(&quot;prototype&quot;)\npublic class Card &#123;\n&#125;\n\nç°åœ¨ï¼Œæˆ‘ä»¬åœ¨éœ€è¦æ³¨å…¥çš„ä½ç½®ï¼Œæ·»åŠ ä¸€ä¸ª@Resourceæ³¨è§£æ¥å®ç°è‡ªåŠ¨è£…é…ï¼š\n@Component\npublic class Student &#123;\n    String name;\n    int sid;\n    \n    @Resource\n    Card card;\n&#125;\n\nè¿™æ ·çš„å¥½å¤„æ˜¯ï¼Œæˆ‘ä»¬å®Œå…¨ä¸éœ€è¦åˆ›å»ºä»»ä½•çš„setæ–¹æ³•ï¼Œåªéœ€è¦æ·»åŠ è¿™æ ·çš„ä¸€ä¸ªæ³¨è§£å°±å¯ä»¥äº†ï¼ŒSpringä¼šè·Ÿä¹‹å‰é…ç½®æ–‡ä»¶çš„è‡ªåŠ¨æ³¨å…¥ä¸€æ ·ï¼Œåœ¨æ•´ä¸ªå®¹å™¨ä¸­è¿›è¡ŒæŸ¥æ‰¾ï¼Œå¹¶å°†å¯¹åº”çš„Beanå®ä¾‹å¯¹è±¡æ³¨å…¥åˆ°æ­¤å±æ€§ä¸­ï¼Œå½“ç„¶ï¼Œå¦‚æœè¿˜æ˜¯éœ€è¦é€šè¿‡setæ–¹æ³•æ¥æ³¨å…¥ï¼Œå¯ä»¥å°†æ³¨è§£æ·»åŠ åˆ°æ–¹æ³•ä¸Šï¼š\n@Component\npublic class Student &#123;\n    String name;\n    int sid;\n    Card card;\n\n    @Resource\n    public void setCard(Card card) &#123;\n        System.out.println(&quot;é€šè¿‡æ–¹æ³•&quot;);\n        this.card &#x3D; card;\n    &#125;\n&#125;\n\né™¤äº†ä½¿ç”¨@Resourceä»¥å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨@Autowiredï¼ˆIDEAä¸æ¨èå°†å…¶ä½¿ç”¨åœ¨å­—æ®µä¸Šï¼Œä¼šå‡ºç°é»„æ ‡ï¼Œä½†æ˜¯å¯ä»¥æ”¾åœ¨æ–¹æ³•æˆ–æ˜¯æ„é€ æ–¹æ³•ä¸Šï¼‰ï¼Œå®ƒä»¬çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯å®ƒä»¬å­˜åœ¨åŒºåˆ«ï¼Œè™½ç„¶å®ƒä»¬éƒ½æ˜¯è‡ªåŠ¨è£…é…ï¼š\n\n@Resourceé»˜è®¤ByNameå¦‚æœæ‰¾ä¸åˆ°åˆ™ByTypeï¼Œå¯ä»¥æ·»åŠ åˆ°setæ–¹æ³•ã€å­—æ®µä¸Šã€‚\n@Autowiredé»˜è®¤æ˜¯byTypeï¼Œå¯ä»¥æ·»åŠ åœ¨æ„é€ æ–¹æ³•ã€setæ–¹æ³•ã€å­—æ®µã€æ–¹æ³•å‚æ•°ä¸Šã€‚\n\nå¹¶ä¸”@Autowiredå¯ä»¥é…åˆ@Qualifierä½¿ç”¨ï¼Œæ¥æŒ‡å®šä¸€ä¸ªåç§°çš„Beanè¿›è¡Œæ³¨å…¥ï¼š\n@Autowired\n@Qualifier(&quot;sxc&quot;)\npublic void setCard(Card card) &#123;\n    System.out.println(&quot;é€šè¿‡æ–¹æ³•&quot;);\n    this.card &#x3D; card;\n&#125;\n\nå¦‚æœBeanæ˜¯åœ¨é…ç½®æ–‡ä»¶ä¸­è¿›è¡Œå®šä¹‰çš„ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åœ¨æ–¹æ³•çš„å‚æ•°ä¸­ä½¿ç”¨@Autowiredæ¥è¿›è¡Œè‡ªåŠ¨æ³¨å…¥ï¼š\n@ComponentScan(&quot;com.test.bean&quot;)\n@Configuration\npublic class MainConfiguration &#123;\n\n    @Bean\n    public Student student(@Autowired Card card)&#123;\n        Student student &#x3D; new Student();\n        student.setCard(card);\n        return student;\n    &#125;\n&#125;\n\næˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡@PostConstructæ³¨è§£æ¥æ·»åŠ æ„é€ åæ‰§è¡Œçš„æ–¹æ³•ï¼Œå®ƒç­‰ä»·äºä¹‹å‰è®²è§£çš„init-methodï¼š\n@PostConstruct\npublic void init()&#123;\n    System.out.println(&quot;æˆ‘æ˜¯åˆå§‹åŒ–æ–¹æ³•ï¼1&quot;);\n&#125;\n\næ³¨æ„å®ƒä»¬çš„é¡ºåºï¼šConstructor(æ„é€ æ–¹æ³•) -&gt; @Autowired(ä¾èµ–æ³¨å…¥) -&gt; @PostConstruct\nåŒæ ·çš„ï¼Œå¦‚æœéœ€è¦é”€æ¯æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨@PreDestroyæ³¨è§£ï¼Œè¿™é‡Œå°±ä¸åšæ¼”ç¤ºäº†ã€‚\nè¿™æ ·ï¼Œä¸¤ç§é€šè¿‡æ³¨è§£è¿›è¡ŒBeanå£°æ˜çš„æ–¹å¼å°±è®²è§£å®Œæ¯•äº†ï¼Œé‚£ä¹ˆä»€ä¹ˆæ—¶å€™è¯¥ç”¨ä»€ä¹ˆæ–¹å¼å»å£°æ˜å‘¢ï¼Ÿ\n\nå¦‚æœè¦æ³¨å†Œä¸ºBeançš„ç±»æ˜¯ç”±å…¶ä»–æ¡†æ¶æä¾›ï¼Œæˆ‘ä»¬æ— æ³•ä¿®æ”¹å…¶æºä»£ç ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ä½¿ç”¨ç¬¬ä¸€ç§æ–¹å¼è¿›è¡Œé…ç½®ã€‚\nå¦‚æœè¦æ³¨å†Œä¸ºBeançš„ç±»æ˜¯æˆ‘ä»¬è‡ªå·±ç¼–å†™çš„ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥åœ¨ç±»ä¸Šæ·»åŠ æ³¨è§£ï¼Œå¹¶åœ¨é…ç½®ä¸­æ·»åŠ æ‰«æã€‚\n\næ³¨è§£å®ç°AOPæ“ä½œäº†è§£äº†å¦‚ä½•ä½¿ç”¨æ³¨è§£æ³¨å†ŒBeanä¹‹åï¼Œæˆ‘ä»¬æ¥ç€æ¥çœ‹å¦‚ä½•é€šè¿‡æ³¨è§£å®ç°AOPæ“ä½œï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦åœ¨ä¸»ç±»æ·»åŠ @EnableAspectJAutoProxyæ³¨è§£ï¼Œå¼€å¯AOPæ³¨è§£æ”¯æŒï¼š\n@EnableAspectJAutoProxy\n@ComponentScan(&quot;com.test.bean&quot;)\n@Configuration\npublic class MainConfiguration &#123;\n&#125;\n\næ¥ç€æˆ‘ä»¬åªéœ€åœ¨å®šä¹‰AOPå¢å¼ºæ“ä½œçš„ç±»ä¸Šæ·»åŠ @Aspectæ³¨è§£å’Œ@Componentå°†å…¶æ³¨å†Œä¸ºBeanå³å¯ï¼Œå°±åƒæˆ‘ä»¬ä¹‹å‰åœ¨é…ç½®æ–‡ä»¶ä¸­ä¹Ÿè¦å°†å…¶æ³¨å†Œä¸ºBeanï¼š\n@Component\n@Aspect\npublic class AopTest &#123;\n\n&#125;\n\næ¥ç€ï¼Œæˆ‘ä»¬ç›´æ¥åœ¨é‡Œé¢ç¼–å†™æ–¹æ³•ï¼Œå¹¶å°†æ­¤æ–¹æ³•æ·»åŠ åˆ°ä¸€ä¸ªåˆ‡ç‚¹ä¸­ï¼Œæ¯”å¦‚æˆ‘ä»¬å¸Œæœ›åœ¨Studentçš„testæ–¹æ³•æ‰§è¡Œä¹‹å‰æ‰§è¡Œæˆ‘ä»¬çš„æ–¹æ³•ï¼š\npublic int test(String str)&#123;\n    System.out.println(&quot;æˆ‘è¢«è°ƒç”¨äº†:&quot;+str);\n    return str.length();\n&#125;\n\nåªéœ€è¦æ·»åŠ @Beforeæ³¨è§£å³å¯ï¼š\n@Before(&quot;execution(* com.test.bean.Student.test(..))&quot;)\npublic void before()&#123;\n    System.out.println(&quot;æˆ‘æ˜¯ä¹‹å‰æ‰§è¡Œçš„å†…å®¹ï¼&quot;);\n&#125;\n\nåŒæ ·çš„ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºå…¶æ·»åŠ JoinPointå‚æ•°æ¥è·å–åˆ‡å…¥ç‚¹ä¿¡æ¯ï¼š\n@Before(&quot;execution(* com.test.bean.Student.test(..))&quot;)\npublic void before(JoinPoint point)&#123;\n    System.out.println(&quot;å‚æ•°åˆ—è¡¨ï¼š&quot;+ Arrays.toString(point.getArgs()));\n    System.out.println(&quot;æˆ‘æ˜¯ä¹‹å‰æ‰§è¡Œçš„å†…å®¹ï¼&quot;);\n&#125;\n\næˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨@AfterReturningæ³¨è§£æ¥æŒ‡å®šæ–¹æ³•è¿”å›åçš„æ“ä½œï¼š\n@AfterReturning(value &#x3D; &quot;execution(* com.test.bean.Student.test(..))&quot;, returning &#x3D; &quot;returnVal&quot;)\npublic void after(Object returnVal)&#123;\n    System.out.println(&quot;æ–¹æ³•å·²è¿”å›ï¼Œç»“æœä¸ºï¼š&quot;+returnVal);\n&#125;\n\næˆ‘ä»¬è¿˜å¯ä»¥æŒ‡å®šreturningå±æ€§ï¼Œå¹¶å°†å…¶ä½œä¸ºæ–¹æ³•æŸä¸ªå‚æ•°çš„å®å‚ã€‚åŒæ ·çš„ï¼Œç¯ç»•ä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡æ³¨è§£å£°æ˜ï¼š\n@Around(&quot;execution(* com.test.bean.Student.test(..))&quot;)\npublic Object around(ProceedingJoinPoint point) throws Throwable &#123;\n    System.out.println(&quot;æ–¹æ³•æ‰§è¡Œä¹‹å‰ï¼&quot;);\n    Object val &#x3D; point.proceed();\n    System.out.println(&quot;æ–¹æ³•æ‰§è¡Œä¹‹åï¼&quot;);\n    return val;\n&#125;\n\nå…¶ä»–æ³¨è§£é…ç½®é…ç½®æ–‡ä»¶å¯èƒ½ä¸æ­¢ä¸€ä¸ªï¼Œæˆ‘ä»¬æœ‰å¯èƒ½ä¼šæ ¹æ®æ¨¡å—åˆ’åˆ†ï¼Œå®šä¹‰å¤šä¸ªé…ç½®æ–‡ä»¶ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå¯èƒ½ä¼šå‡ºç°å¾ˆå¤šä¸ªé…ç½®ç±»ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦@Importæ³¨è§£æ¥å¿«é€Ÿå°†æŸä¸ªç±»åŠ å…¥åˆ°å®¹å™¨ä¸­ï¼Œæ¯”å¦‚æˆ‘ä»¬ç°åœ¨åˆ›å»ºä¸€ä¸ªæ–°çš„é…ç½®æ–‡ä»¶ï¼Œå¹¶å°†æ•°æ®åº“Beanä¹Ÿæ¬è¿‡å»ï¼š\npublic class Test2Configuration &#123;\n    @Bean\n    public Connection getConnection() throws SQLException &#123;\n        System.out.println(&quot;åˆ›å»ºæ–°çš„è¿æ¥ï¼&quot;);\n        return DriverManager.getConnection(&quot;jdbc:mysql:&#x2F;&#x2F;localhost:3306&#x2F;study&quot;,\n                &quot;root&quot;,\n                &quot;root&quot;);\n    &#125;\n&#125;\n\n@EnableAspectJAutoProxy\n@Configuration\n@ComponentScan(&quot;com.test&quot;)\n@Import(Test2Configuration.class)\npublic class TestConfiguration &#123;\n\n    @Resource\n    Connection connection;\n\n    @PostConstruct\n    public void init()&#123;\n        System.out.println(connection);\n    &#125;\n&#125;\n\næ³¨æ„å¦ä¸€ä¸ªé…ç½®ç±»å¹¶æ²¡æœ‰æ·»åŠ ä»»ä½•æ³¨è§£ï¼Œå®é™…ä¸Šï¼Œç›¸å½“äºå¯¼å…¥çš„ç±»è¢«å¼ºåˆ¶æ³¨å†Œä¸ºäº†ä¸€ä¸ªBeanï¼Œåˆ°ç°åœ¨ï¼Œæˆ‘ä»¬ä¸€å…±äº†è§£äº†ä¸‰ç§æ³¨å†Œä¸ºBeançš„æ–¹å¼ï¼Œåˆ©ç”¨è¿™ç§ç‰¹æ€§ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å°†å…¶ä»–çš„ç±»å‹ä¹Ÿå¼ºåˆ¶æ³¨å†Œä¸ºBeanï¼š\n@EnableAspectJAutoProxy\n@Configuration\n@ComponentScan(&quot;com.test&quot;)\n@Import(&#123;Test2Configuration.class, Date.class&#125;)\npublic class TestConfiguration &#123;\n\n    @Resource\n    Connection connection;\n    @Resource\n    Date date;\n\n    @PostConstruct\n    public void init()&#123;\n        System.out.println(date+&quot; -&gt; &quot;+connection);\n    &#125;\n&#125;\n\nå¯ä»¥çœ‹åˆ°ï¼Œæ—¥æœŸç›´æ¥ä½œä¸ºä¸€ä¸ªBeanæ”¾å…¥åˆ°IoCå®¹å™¨ä¸­äº†ï¼Œå¹¶ä¸”æ—¶é—´æ°¸è¿œéƒ½æ˜¯è¢«newçš„é‚£ä¸ªæ—¶é—´ï¼Œä¹Ÿå°±æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼ˆå› ä¸ºé»˜è®¤æ˜¯å•ä¾‹æ¨¡å¼ï¼‰ã€‚\né€šè¿‡@Importæ–¹å¼æœ€ä¸»è¦ä¸ºäº†å®ç°çš„ç›®æ ‡å¹¶ä¸æ˜¯åˆ›å»ºBeanï¼Œè€Œæ˜¯ä¸ºäº†æ–¹ä¾¿ä¸€äº›æ¡†æ¶çš„Registrarè¿›è¡ŒBeanå®šä¹‰ï¼Œåœ¨è®²è§£åˆ°SpringåŸç†æ—¶ï¼Œæˆ‘ä»¬å†æ¥è¯¦ç»†è®¨è®ºï¼Œç›®å‰åªåšäº†è§£å³å¯ã€‚\nåˆ°è¿™é‡Œï¼Œå…³äºSpringæ¡†æ¶çš„å¤§è‡´å†…å®¹å°±èŠå¾—å·®ä¸å¤šäº†ï¼Œå…¶ä½™çš„å†…å®¹ï¼Œæˆ‘ä»¬ä¼šåœ¨åé¢ç»§ç»­è®²è§£ã€‚\n\næ·±å…¥Mybatisæ¡†æ¶å­¦ä¹ äº†Springä¹‹åï¼Œæˆ‘ä»¬å·²ç»äº†è§£å¦‚ä½•å°†ä¸€ä¸ªç±»ä½œä¸ºBeanäº¤ç”±IoCå®¹å™¨ç®¡ç†ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥é€šè¿‡æ›´æ–¹ä¾¿çš„æ–¹å¼æ¥ä½¿ç”¨Mybatisæ¡†æ¶ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æŠŠSqlSessionFactoryã€Mapperäº¤ç»™Springè¿›è¡Œç®¡ç†ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡æ³¨å…¥çš„æ–¹å¼å¿«é€Ÿåœ°ä½¿ç”¨å®ƒä»¬ã€‚\nå› æ­¤ï¼Œæˆ‘ä»¬è¦å­¦ä¹ ä¸€ä¸‹å¦‚ä½•å°†Mybatisä¸Springè¿›è¡Œæ•´åˆï¼Œé‚£ä¹ˆé¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä¹‹å‰çŸ¥è¯†çš„åŸºç¡€ä¸Šç»§ç»­æ·±åŒ–å­¦ä¹ ã€‚\näº†è§£æ•°æ®æºåœ¨ä¹‹å‰ï¼Œæˆ‘ä»¬å¦‚æœéœ€è¦åˆ›å»ºä¸€ä¸ªJDBCçš„è¿æ¥ï¼Œé‚£ä¹ˆå¿…é¡»ä½¿ç”¨DriverManager.getConnection()æ¥åˆ›å»ºè¿æ¥ï¼Œè¿æ¥å»ºç«‹åï¼Œæˆ‘ä»¬æ‰å¯ä»¥è¿›è¡Œæ•°æ®åº“æ“ä½œã€‚\nè€Œå­¦ä¹ äº†Mybatisä¹‹åï¼Œæˆ‘ä»¬å°±ä¸ç”¨å†å»ä½¿ç”¨DriverManagerä¸ºæˆ‘ä»¬æä¾›è¿æ¥å¯¹è±¡ï¼Œè€Œæ˜¯ç›´æ¥ä½¿ç”¨Mybatisä¸ºæˆ‘ä»¬æä¾›çš„SqlSessionFactoryå·¥å…·ç±»æ¥è·å–å¯¹åº”çš„SqlSessioné€šè¿‡ä¼šè¯å¯¹è±¡å»æ“ä½œæ•°æ®åº“ã€‚\né‚£ä¹ˆï¼Œå®ƒåˆ°åº•æ˜¯å¦‚ä½•å°è£…JDBCçš„å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥è¯•ç€æ¥çŒœæƒ³ä¸€ä¸‹ï¼Œä¼šä¸ä¼šæ˜¯Mybatisæ¯æ¬¡éƒ½æ˜¯å¸®åŠ©æˆ‘ä»¬è°ƒç”¨DriverManageræ¥å®ç°çš„æ•°æ®åº“è¿æ¥åˆ›å»ºï¼Ÿæˆ‘ä»¬å¯ä»¥çœ‹çœ‹Mybatisçš„æºç ï¼š\npublic SqlSession openSession(boolean autoCommit) &#123;\n    return this.openSessionFromDataSource(this.configuration.getDefaultExecutorType(), (TransactionIsolationLevel)null, autoCommit);\n&#125;\n\nåœ¨é€šè¿‡SqlSessionFactoryè°ƒç”¨openSessionæ–¹æ³•ä¹‹åï¼Œå®ƒè°ƒç”¨äº†å†…éƒ¨çš„ä¸€ä¸ªç§æœ‰çš„æ–¹æ³•openSessionFromDataSourceï¼Œæˆ‘ä»¬æ¥ç€æ¥çœ‹ï¼Œè¿™ä¸ªæ–¹æ³•é‡Œé¢å®šä¹‰äº†ä»€ä¹ˆå†…å®¹ï¼š\nprivate SqlSession openSessionFromDataSource(ExecutorType execType, TransactionIsolationLevel level, boolean autoCommit) &#123;\n    Transaction tx &#x3D; null;\n\n    DefaultSqlSession var8;\n    try &#123;\n      \t&#x2F;&#x2F;è·å–å½“å‰ç¯å¢ƒï¼ˆç”±é…ç½®æ–‡ä»¶æ˜ å°„çš„å¯¹è±¡å®ä½“ï¼‰\n        Environment environment &#x3D; this.configuration.getEnvironment();\n      \t&#x2F;&#x2F;äº‹åŠ¡å·¥å‚ï¼ˆæš‚æ—¶ä¸æï¼Œä¸‹ä¸€æ¿å—è®²è§£ï¼‰\n        TransactionFactory transactionFactory &#x3D; this.getTransactionFactoryFromEnvironment(environment);\n      \t&#x2F;&#x2F;é…ç½®æ–‡ä»¶ä¸­ï¼š&lt;transactionManager type&#x3D;&quot;JDBC&quot;&#x2F;&gt;\n      \t&#x2F;&#x2F;ç”Ÿæˆäº‹åŠ¡ï¼ˆæ ¹æ®æˆ‘ä»¬çš„é…ç½®ï¼Œä¼šé»˜è®¤ç”ŸæˆJdbcTransactionï¼‰ï¼Œè¿™é‡Œæ˜¯å…³é”®ï¼Œæˆ‘ä»¬çœ‹åˆ°è¿™é‡Œç”¨åˆ°äº†environment.getDataSource()æ–¹æ³•\n        tx &#x3D; transactionFactory.newTransaction(environment.getDataSource(), level, autoCommit);\n      \t&#x2F;&#x2F;æ‰§è¡Œå™¨ï¼ŒåŒ…æ‹¬å…¨éƒ¨çš„æ•°æ®åº“æ“ä½œæ–¹æ³•å®šä¹‰ï¼Œæœ¬è´¨ä¸Šæ˜¯åœ¨ä½¿ç”¨æ‰§è¡Œå™¨æ“ä½œæ•°æ®åº“ï¼Œéœ€è¦ä¼ å…¥äº‹åŠ¡å¯¹è±¡\n        Executor executor &#x3D; this.configuration.newExecutor(tx, execType);\n      \t&#x2F;&#x2F;å°è£…ä¸ºSqlSessionå¯¹è±¡\n        var8 &#x3D; new DefaultSqlSession(this.configuration, executor, autoCommit);\n    &#125; catch (Exception var12) &#123;\n        this.closeTransaction(tx);\n        throw ExceptionFactory.wrapException(&quot;Error opening session.  Cause: &quot; + var12, var12);\n    &#125; finally &#123;\n        ErrorContext.instance().reset();\n    &#125;\n\t\t\n    return var8;\n&#125;\n\nä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬çš„æ•°æ®æºé…ç½®ä¿¡æ¯ï¼Œå­˜æ”¾åœ¨äº†Transactionå¯¹è±¡ä¸­ï¼Œé‚£ä¹ˆç°åœ¨æˆ‘ä»¬åªéœ€è¦çŸ¥é“æ‰§è¡Œå™¨åˆ°åº•æ˜¯å¦‚ä½•æ‰§è¡ŒSQLè¯­å¥çš„ï¼Œæˆ‘ä»¬å°±çŸ¥é“åˆ°åº•å¦‚ä½•åˆ›å»ºConnectionå¯¹è±¡äº†ï¼Œå°±éœ€è¦è·å–æ•°æ®åº“çš„é“¾æ¥ä¿¡æ¯äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥çœ‹çœ‹ï¼Œè¿™ä¸ªDataSourceåˆ°åº•æ˜¯ä¸ªä»€ä¹ˆï¼š\npublic interface DataSource  extends CommonDataSource, Wrapper &#123;\n\n  Connection getConnection() throws SQLException;\n\n  Connection getConnection(String username, String password)\n    throws SQLException;\n&#125;\n\næˆ‘ä»¬å‘ç°ï¼Œå®ƒæ˜¯åœ¨javax.sqlå®šä¹‰çš„ä¸€ä¸ªæ¥å£ï¼Œå®ƒåŒ…æ‹¬äº†ä¸¤ä¸ªæ–¹æ³•ï¼Œéƒ½æ˜¯ç”¨äºè·å–è¿æ¥çš„ã€‚å› æ­¤ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥æ–­å®šï¼Œå¹¶ä¸æ˜¯é€šè¿‡ä¹‹å‰DriverManagerçš„æ–¹æ³•å»è·å–è¿æ¥äº†ï¼Œè€Œæ˜¯ä½¿ç”¨DataSourceçš„å®ç°ç±»æ¥è·å–çš„ï¼Œå› æ­¤ï¼Œä¹Ÿå°±æ­£å¼å¼•å…¥åˆ°æˆ‘ä»¬è¿™ä¸€èŠ‚çš„è¯é¢˜äº†ï¼š\n\n\n\n\n\n\n\n\n\næ•°æ®åº“é“¾æ¥çš„å»ºç«‹å’Œå…³é—­æ˜¯æå…¶è€—è´¹ç³»ç»Ÿèµ„æºçš„æ“ä½œï¼Œé€šè¿‡DriverManagerè·å–çš„æ•°æ®åº“è¿æ¥ï¼Œä¸€ä¸ªæ•°æ®åº“è¿æ¥å¯¹è±¡å‡å¯¹åº”ä¸€ä¸ªç‰©ç†æ•°æ®åº“è¿æ¥ï¼Œæ¯æ¬¡æ“ä½œéƒ½æ‰“å¼€ä¸€ä¸ªç‰©ç†è¿æ¥ï¼Œä½¿ç”¨å®Œåç«‹å³å…³é—­è¿æ¥ï¼Œé¢‘ç¹çš„æ‰“å¼€ã€å…³é—­è¿æ¥ä¼šæŒç»­æ¶ˆè€—ç½‘ç»œèµ„æºï¼Œé€ æˆæ•´ä¸ªç³»ç»Ÿæ€§èƒ½çš„ä½ä¸‹ã€‚\nå› æ­¤ï¼ŒJDBCä¸ºæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªæ•°æ®æºçš„æ ‡å‡†ï¼Œä¹Ÿå°±æ˜¯DataSourceæ¥å£ï¼Œå‘Šè¯‰æ•°æ®æºæ•°æ®åº“çš„è¿æ¥ä¿¡æ¯ï¼Œå¹¶å°†æ‰€æœ‰çš„è¿æ¥å…¨éƒ¨äº¤ç»™æ•°æ®æºè¿›è¡Œé›†ä¸­ç®¡ç†ï¼Œå½“éœ€è¦ä¸€ä¸ªConnectionå¯¹è±¡æ—¶ï¼Œå¯ä»¥å‘æ•°æ®æºç”³è¯·ï¼Œæ•°æ®æºä¼šæ ¹æ®å†…éƒ¨æœºåˆ¶ï¼Œåˆç†åœ°åˆ†é…è¿æ¥å¯¹è±¡ç»™æˆ‘ä»¬ã€‚\nä¸€èˆ¬æ¯”è¾ƒå¸¸ç”¨çš„DataSourceå®ç°ï¼Œéƒ½æ˜¯é‡‡ç”¨æ± åŒ–æŠ€æœ¯ï¼Œå°±æ˜¯åœ¨ä¸€å¼€å§‹å°±åˆ›å»ºå¥½Nä¸ªè¿æ¥ï¼Œè¿™æ ·ä¹‹åä½¿ç”¨å°±æ— éœ€å†æ¬¡è¿›è¡Œè¿æ¥ï¼Œè€Œæ˜¯ç›´æ¥ä½¿ç”¨ç°æˆçš„Connectionå¯¹è±¡è¿›è¡Œæ•°æ®åº“æ“ä½œã€‚\n\nå½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¼ ç»Ÿçš„å³ç”¨å³è¿çš„æ–¹å¼è·å–Connectionå¯¹è±¡ï¼ŒMybatisä¸ºæˆ‘ä»¬æä¾›äº†å‡ ä¸ªé»˜è®¤çš„æ•°æ®æºå®ç°ï¼Œæˆ‘ä»¬ä¹‹å‰ä¸€ç›´åœ¨ä½¿ç”¨çš„æ˜¯å®˜æ–¹çš„é»˜è®¤é…ç½®ï¼Œä¹Ÿå°±æ˜¯æ± åŒ–æ•°æ®æºï¼š\n&lt;dataSource type&#x3D;&quot;POOLED&quot;&gt;\n      &lt;property name&#x3D;&quot;driver&quot; value&#x3D;&quot;$&#123;driver&#125;&quot;&#x2F;&gt;\n      &lt;property name&#x3D;&quot;url&quot; value&#x3D;&quot;$&#123;url&#125;&quot;&#x2F;&gt;\n      &lt;property name&#x3D;&quot;username&quot; value&#x3D;&quot;$&#123;username&#125;&quot;&#x2F;&gt;\n      &lt;property name&#x3D;&quot;password&quot; value&#x3D;&quot;$&#123;password&#125;&quot;&#x2F;&gt;\n    &lt;&#x2F;dataSource&gt;\n\nä¸€å…±ä¸‰ä¸ªé€‰é¡¹ï¼š\n\nUNPOOLED    ä¸ä½¿ç”¨è¿æ¥æ± çš„æ•°æ®æº\nPOOLED      ä½¿ç”¨è¿æ¥æ± çš„æ•°æ®æº\nJNDI        ä½¿ç”¨JNDIå®ç°çš„æ•°æ®æº\n\nè§£è¯»Mybatisæ•°æ®æºå®ç°é‚£ä¹ˆæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ï¼Œä¸ä½¿ç”¨æ± åŒ–çš„æ•°æ®æºå®ç°ï¼Œå®ƒå«åšUnpooledDataSourceï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹æºç ï¼š\npublic class UnpooledDataSource implements DataSource &#123;\n    private ClassLoader driverClassLoader;\n    private Properties driverProperties;\n    private static Map&lt;String, Driver&gt; registeredDrivers &#x3D; new ConcurrentHashMap();\n    private String driver;\n    private String url;\n    private String username;\n    private String password;\n    private Boolean autoCommit;\n    private Integer defaultTransactionIsolationLevel;\n    private Integer defaultNetworkTimeout;\n\né¦–å…ˆè¿™ä¸ªç±»ä¸­å®šä¹‰äº†å¾ˆå¤šçš„æˆå‘˜ï¼ŒåŒ…æ‹¬æ•°æ®åº“çš„è¿æ¥ä¿¡æ¯ã€æ•°æ®åº“é©±åŠ¨ä¿¡æ¯ã€äº‹åŠ¡ç›¸å…³ä¿¡æ¯ç­‰ã€‚\næˆ‘ä»¬æ¥ç€æ¥çœ‹ï¼Œå®ƒæ˜¯å¦‚ä½•å®ç°DataSourceä¸­æä¾›çš„æ¥å£çš„ï¼š\npublic Connection getConnection() throws SQLException &#123;\n    return this.doGetConnection(this.username, this.password);\n&#125;\n\npublic Connection getConnection(String username, String password) throws SQLException &#123;\n    return this.doGetConnection(username, password);\n&#125;\n\nå®é™…ä¸Šï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•éƒ½æŒ‡å‘äº†å†…éƒ¨çš„ä¸€ä¸ªdoGetConnectionæ–¹æ³•ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥ç€æ¥çœ‹ï¼š\nprivate Connection doGetConnection(String username, String password) throws SQLException &#123;\n    Properties props &#x3D; new Properties();\n    if (this.driverProperties !&#x3D; null) &#123;\n        props.putAll(this.driverProperties);\n    &#125;\n\n    if (username !&#x3D; null) &#123;\n        props.setProperty(&quot;user&quot;, username);\n    &#125;\n\n    if (password !&#x3D; null) &#123;\n        props.setProperty(&quot;password&quot;, password);\n    &#125;\n\n    return this.doGetConnection(props);\n&#125;\n\né¦–å…ˆå®ƒå°†æ•°æ®åº“çš„è¿æ¥ä¿¡æ¯ä¹Ÿç»™æ·»åŠ åˆ°Propertieså¯¹è±¡ä¸­è¿›è¡Œå­˜æ”¾ï¼Œå¹¶äº¤ç»™ä¸‹ä¸€ä¸ªdoGetConnectionæ¥å¤„ç†ï¼Œå¥—å¨ƒå°±å®Œäº‹äº†å‘—ï¼Œæ¥ç€æ¥çœ‹ä¸‹ä¸€å±‚æºç ï¼š\nprivate Connection doGetConnection(Properties properties) throws SQLException &#123;\n  \t&#x2F;&#x2F;è‹¥æœªåˆå§‹åŒ–é©±åŠ¨ï¼Œéœ€è¦å…ˆåˆå§‹åŒ–ï¼Œå†…éƒ¨ç»´æŠ¤äº†ä¸€ä¸ªMapæ¥è®°å½•åˆå§‹åŒ–ä¿¡æ¯ï¼Œè¿™é‡Œä¸å¤šä»‹ç»äº†\n    this.initializeDriver();\n  \t&#x2F;&#x2F;ä¼ ç»Ÿçš„è·å–è¿æ¥çš„æ–¹å¼\n    Connection connection &#x3D; DriverManager.getConnection(this.url, properties);\n  \t&#x2F;&#x2F;å¯¹è¿æ¥è¿›è¡Œé¢å¤–çš„ä¸€äº›é…ç½®\n    this.configureConnection(connection);\n    return connection;\n&#125;\n\nåˆ°è¿™é‡Œï¼Œå°±è¿”å›Connectionå¯¹è±¡äº†ï¼Œè€Œæ­¤å¯¹è±¡æ­£æ˜¯é€šè¿‡DriverManageræ¥åˆ›å»ºçš„ï¼Œå› æ­¤ï¼Œéæ± åŒ–çš„æ•°æ®æºå®ç°ä¾ç„¶ä½¿ç”¨çš„æ˜¯ä¼ ç»Ÿçš„è¿æ¥åˆ›å»ºæ–¹å¼ï¼Œé‚£æˆ‘ä»¬æ¥ç€æ¥çœ‹æ± åŒ–çš„æ•°æ®æºå®ç°ï¼Œå®ƒæ˜¯PooledDataSourceç±»ï¼š\npublic class PooledDataSource implements DataSource &#123;\n    private static final Log log &#x3D; LogFactory.getLog(PooledDataSource.class);\n    private final PoolState state &#x3D; new PoolState(this);\n    private final UnpooledDataSource dataSource;\n    protected int poolMaximumActiveConnections &#x3D; 10;\n    protected int poolMaximumIdleConnections &#x3D; 5;\n    protected int poolMaximumCheckoutTime &#x3D; 20000;\n    protected int poolTimeToWait &#x3D; 20000;\n    protected int poolMaximumLocalBadConnectionTolerance &#x3D; 3;\n    protected String poolPingQuery &#x3D; &quot;NO PING QUERY SET&quot;;\n    protected boolean poolPingEnabled;\n    protected int poolPingConnectionsNotUsedFor;\n    private int expectedConnectionTypeCode;\n\næˆ‘ä»¬å‘ç°ï¼Œåœ¨è¿™é‡Œçš„å®šä¹‰å°±æ¯”éæ± åŒ–çš„å®ç°å¤æ‚å¾—å¤šäº†ï¼Œå› ä¸ºå®ƒè¿˜è¦è€ƒè™‘å¹¶å‘çš„é—®é¢˜ï¼Œå¹¶ä¸”è¿˜è¦è€ƒè™‘å¦‚ä½•åˆç†åœ°å­˜æ”¾å¤§é‡çš„é“¾æ¥å¯¹è±¡ï¼Œè¯¥å¦‚ä½•è¿›è¡Œåˆç†åˆ†é…ï¼Œå› æ­¤å®ƒçš„ç©æ³•éå¸¸ä¹‹é«˜çº§ï¼Œä½†æ˜¯ï¼Œå†é«˜çº§çš„ç©æ³•ï¼Œæˆ‘ä»¬éƒ½è¦æ‹¿ä¸‹ã€‚\né¦–å…ˆæ³¨æ„ï¼Œå®ƒå­˜æ”¾äº†ä¸€ä¸ªUnpooledDataSourceï¼Œæ­¤å¯¹è±¡æ˜¯åœ¨æ„é€ æ—¶å°±è¢«åˆ›å»ºï¼Œå…¶å®åˆ›å»ºConnectionè¿˜æ˜¯ä¾é æ•°æ®åº“é©±åŠ¨åˆ›å»ºï¼Œæˆ‘ä»¬åé¢æ…¢æ…¢è§£æï¼Œé¦–å…ˆæˆ‘ä»¬æ¥çœ‹çœ‹å®ƒæ˜¯å¦‚ä½•å®ç°æ¥å£æ–¹æ³•çš„ï¼š\npublic Connection getConnection() throws SQLException &#123;\n    return this.popConnection(this.dataSource.getUsername(), this.dataSource.getPassword()).getProxyConnection();\n&#125;\n\npublic Connection getConnection(String username, String password) throws SQLException &#123;\n    return this.popConnection(username, password).getProxyConnection();\n&#125;\n\nå¯ä»¥çœ‹åˆ°ï¼Œå®ƒè°ƒç”¨äº†popConnection()æ–¹æ³•æ¥è·å–è¿æ¥å¯¹è±¡ï¼Œç„¶åè¿›è¡Œäº†ä¸€ä¸ªä»£ç†ï¼Œæˆ‘ä»¬å¯ä»¥çŒœæµ‹ï¼Œæœ‰å¯èƒ½æ•´ä¸ªè¿æ¥æ± å°±æ˜¯ä¸€ä¸ªç±»ä¼¼äºæ ˆçš„é›†åˆç±»å‹ç»“æ„å®ç°çš„ã€‚é‚£ä¹ˆæˆ‘ä»¬æ¥ç€æ¥çœ‹çœ‹popConnectionæ–¹æ³•ï¼š\nprivate PooledConnection popConnection(String username, String password) throws SQLException &#123;\n    boolean countedWait &#x3D; false;\n  \t&#x2F;&#x2F;è¿”å›çš„æ˜¯PooledConnectionå¯¹è±¡ï¼Œ\n    PooledConnection conn &#x3D; null;\n    long t &#x3D; System.currentTimeMillis();\n    int localBadConnectionCount &#x3D; 0;\n\n    while(conn &#x3D;&#x3D; null) &#123;\n        synchronized(this.state) &#123;   &#x2F;&#x2F;åŠ é”ï¼Œå› ä¸ºæœ‰å¯èƒ½å¾ˆå¤šä¸ªçº¿ç¨‹éƒ½éœ€è¦è·å–è¿æ¥å¯¹è±¡\n            PoolState var10000;\n          \t&#x2F;&#x2F;PoolStateå­˜äº†ä¸¤ä¸ªListï¼Œä¸€ä¸ªæ˜¯ç©ºé—²åˆ—è¡¨ï¼Œä¸€ä¸ªæ˜¯æ´»è·ƒåˆ—è¡¨\n            if (!this.state.idleConnections.isEmpty()) &#123;   &#x2F;&#x2F;æœ‰ç©ºé—²è¿æ¥æ—¶ï¼Œå¯ä»¥ç›´æ¥åˆ†é…Connection\n                conn &#x3D; (PooledConnection)this.state.idleConnections.remove(0);  &#x2F;&#x2F;ArrayListä¸­å–ç¬¬ä¸€ä¸ªå…ƒç´ \n                if (log.isDebugEnabled()) &#123;\n                    log.debug(&quot;Checked out connection &quot; + conn.getRealHashCode() + &quot; from pool.&quot;);\n                &#125;\n              &#x2F;&#x2F;å¦‚æœå·²ç»æ²¡æœ‰å¤šä½™çš„è¿æ¥å¯ä»¥åˆ†é…ï¼Œé‚£ä¹ˆå°±æ£€æŸ¥ä¸€ä¸‹æ´»è·ƒè¿æ¥æ•°æ˜¯å¦è¾¾åˆ°æœ€å¤§çš„åˆ†é…ä¸Šé™ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå°±newä¸€ä¸ª\n            &#125; else if (this.state.activeConnections.size() &lt; this.poolMaximumActiveConnections) &#123;\n              \t&#x2F;&#x2F;æ³¨æ„newäº†ä¹‹åå¹¶æ²¡æœ‰ç«‹å³å¾€Listé‡Œé¢å¡ï¼Œåªæ˜¯å­˜äº†ä¸€äº›åŸºæœ¬ä¿¡æ¯\n              \t&#x2F;&#x2F;æˆ‘ä»¬å‘ç°ï¼Œè¿™é‡Œä¾é UnpooledDataSourceåˆ›å»ºäº†ä¸€ä¸ªConnectionå¯¹è±¡ï¼Œå¹¶å°†å…¶å°è£…åˆ°PooledConnectionä¸­\n                conn &#x3D; new PooledConnection(this.dataSource.getConnection(), this);\n                if (log.isDebugEnabled()) &#123;\n                    log.debug(&quot;Created connection &quot; + conn.getRealHashCode() + &quot;.&quot;);\n                &#125;\n              &#x2F;&#x2F;ä»¥ä¸Šæ¡ä»¶éƒ½ä¸æ»¡è¶³ï¼Œé‚£ä¹ˆåªèƒ½ä»ä¹‹å‰çš„è¿æ¥ä¸­å¯»æ‰¾äº†ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰é‚£ç§å¡ä½çš„é“¾æ¥ï¼ˆç”±äºç½‘ç»œé—®é¢˜æœ‰å¯èƒ½ä¹‹å‰çš„è¿æ¥ä¸€ç›´è¢«å¡ä½ï¼Œç„¶è€Œæ­£å¸¸æƒ…å†µä¸‹æ—©å°±ç»“æŸå¹¶ä¸”å¯ä»¥ä½¿ç”¨äº†ï¼Œæ‰€ä»¥è¿™é‡Œç›¸å½“äºæ˜¯ä¼˜åŒ–ä¹Ÿç®—æ˜¯ä¸€ç§æ¡æ¼çš„æ–¹å¼ï¼‰\n            &#125; else &#123;\n              \t&#x2F;&#x2F;è·å–æœ€æ—©åˆ›å»ºçš„è¿æ¥\n                PooledConnection oldestActiveConnection &#x3D; (PooledConnection)this.state.activeConnections.get(0);\n                long longestCheckoutTime &#x3D; oldestActiveConnection.getCheckoutTime();\n              \t&#x2F;&#x2F;åˆ¤æ–­æ˜¯å¦è¶…è¿‡æœ€å¤§çš„ä½¿ç”¨æ—¶é—´\n                if (longestCheckoutTime &gt; (long)this.poolMaximumCheckoutTime) &#123;\n                  \t&#x2F;&#x2F;è¶…æ—¶ç»Ÿè®¡ä¿¡æ¯ï¼ˆä¸é‡è¦ï¼‰\n                    ++this.state.claimedOverdueConnectionCount;\n                    var10000 &#x3D; this.state;\n                    var10000.accumulatedCheckoutTimeOfOverdueConnections +&#x3D; longestCheckoutTime;\n                    var10000 &#x3D; this.state;\n                    var10000.accumulatedCheckoutTime +&#x3D; longestCheckoutTime;\n                  \t&#x2F;&#x2F;ä»æ´»è·ƒåˆ—è¡¨ä¸­ç§»é™¤æ­¤é“¾æ¥ä¿¡æ¯\n                    this.state.activeConnections.remove(oldestActiveConnection);\n                  \t&#x2F;&#x2F;å¦‚æœå¼€å¯äº‹åŠ¡ï¼Œè¿˜éœ€è¦å›æ»šä¸€ä¸‹\n                    if (!oldestActiveConnection.getRealConnection().getAutoCommit()) &#123;\n                        try &#123;\n                            oldestActiveConnection.getRealConnection().rollback();\n                        &#125; catch (SQLException var15) &#123;\n                            log.debug(&quot;Bad connection. Could not roll back&quot;);\n                        &#125;\n                    &#125;\n\t\t\t\t\t\t\t\t\t\t\n                  \t&#x2F;&#x2F;è¿™é‡Œå°±æ ¹æ®ä¹‹å‰çš„è¿æ¥å¯¹è±¡ç›´æ¥newä¸€ä¸ªæ–°çš„è¿æ¥ï¼ˆæ³¨æ„ä½¿ç”¨çš„è¿˜æ˜¯ä¹‹å‰çš„Connectionå¯¹è±¡ï¼Œåªæ˜¯è¢«é‡æ–°å°è£…äº†ï¼‰\n                    conn &#x3D; new PooledConnection(oldestActiveConnection.getRealConnection(), this);\n                    conn.setCreatedTimestamp(oldestActiveConnection.getCreatedTimestamp());\n                    conn.setLastUsedTimestamp(oldestActiveConnection.getLastUsedTimestamp());\n                  \t&#x2F;&#x2F;è¿‡æœŸ\n                    oldestActiveConnection.invalidate();\n                    if (log.isDebugEnabled()) &#123;\n                        log.debug(&quot;Claimed overdue connection &quot; + conn.getRealHashCode() + &quot;.&quot;);\n                    &#125;\n                &#125; else &#123;\n                  &#x2F;&#x2F;ç¡®å®æ˜¯æ²¡å¾—ç”¨äº†ï¼Œåªèƒ½å¡ä½äº†ï¼ˆé˜»å¡ï¼‰\n                  &#x2F;&#x2F;ç„¶åè®°å½•ä¸€ä¸‹æœ‰å‡ ä¸ªçº¿ç¨‹åœ¨ç­‰å¾…å½“å‰çš„ä»»åŠ¡æå®Œ\n                    try &#123;\n                        if (!countedWait) &#123;\n                            ++this.state.hadToWaitCount;\n                            countedWait &#x3D; true;\n                        &#125;\n\n                        if (log.isDebugEnabled()) &#123;\n                            log.debug(&quot;Waiting as long as &quot; + this.poolTimeToWait + &quot; milliseconds for connection.&quot;);\n                        &#125;\n\n                        long wt &#x3D; System.currentTimeMillis();\n                        this.state.wait((long)this.poolTimeToWait);   &#x2F;&#x2F;è¦æ˜¯è¶…è¿‡ç­‰å¾…æ—¶é—´è¿˜æ˜¯æ²¡ç­‰åˆ°ï¼Œåªèƒ½æ”¾å¼ƒ\n                      \t&#x2F;&#x2F;æ³¨æ„è¿™æ ·çš„è¯conå°±ä¸ºnulläº†\n                        var10000 &#x3D; this.state;\n                        var10000.accumulatedWaitTime +&#x3D; System.currentTimeMillis() - wt;\n                    &#125; catch (InterruptedException var16) &#123;\n                        break;\n                    &#125;\n                &#125;\n            &#125;\n\t\t\t\t\t\t\n          \t&#x2F;&#x2F;ç»è¿‡ä¹‹å‰çš„æ“ä½œï¼Œå·²ç»æˆåŠŸåˆ†é…åˆ°è¿æ¥å¯¹è±¡çš„æƒ…å†µä¸‹\n            if (conn !&#x3D; null) &#123;\n                if (conn.isValid()) &#123;  &#x2F;&#x2F;æ˜¯å¦æœ‰æ•ˆ\n                    if (!conn.getRealConnection().getAutoCommit()) &#123;  &#x2F;&#x2F;æ¸…ç†ä¹‹å‰é—ç•™çš„äº‹åŠ¡æ“ä½œ\n                        conn.getRealConnection().rollback();\n                    &#125;\n\n                    conn.setConnectionTypeCode(this.assembleConnectionTypeCode(this.dataSource.getUrl(), username, password));\n                    conn.setCheckoutTimestamp(System.currentTimeMillis());\n                    conn.setLastUsedTimestamp(System.currentTimeMillis());\n                  \t&#x2F;&#x2F;æ·»åŠ åˆ°æ´»è·ƒè¡¨ä¸­\n                    this.state.activeConnections.add(conn);\n                    &#x2F;&#x2F;ç»Ÿè®¡ä¿¡æ¯ï¼ˆä¸é‡è¦ï¼‰\n                    ++this.state.requestCount;\n                    var10000 &#x3D; this.state;\n                    var10000.accumulatedRequestTime +&#x3D; System.currentTimeMillis() - t;\n                &#125; else &#123;\n                  \t&#x2F;&#x2F;æ— æ•ˆçš„è¿æ¥ï¼Œç›´æ¥æŠ›å¼‚å¸¸\n                    if (log.isDebugEnabled()) &#123;\n                        log.debug(&quot;A bad connection (&quot; + conn.getRealHashCode() + &quot;) was returned from the pool, getting another connection.&quot;);\n                    &#125;\n\n                    ++this.state.badConnectionCount;\n                    ++localBadConnectionCount;\n                    conn &#x3D; null;\n                    if (localBadConnectionCount &gt; this.poolMaximumIdleConnections + this.poolMaximumLocalBadConnectionTolerance) &#123;\n                        if (log.isDebugEnabled()) &#123;\n                            log.debug(&quot;PooledDataSource: Could not get a good connection to the database.&quot;);\n                        &#125;\n\n                        throw new SQLException(&quot;PooledDataSource: Could not get a good connection to the database.&quot;);\n                    &#125;\n                &#125;\n            &#125;\n        &#125;\n    &#125;\n\t\n  \t&#x2F;&#x2F;æœ€åè¯¥å¹²å˜›å¹²å˜›ï¼Œæ‹¿ä¸åˆ°è¿æ¥ç›´æ¥æŠ›å¼‚å¸¸\n    if (conn &#x3D;&#x3D; null) &#123;\n        if (log.isDebugEnabled()) &#123;\n            log.debug(&quot;PooledDataSource: Unknown severe error condition.  The connection pool returned a null connection.&quot;);\n        &#125;\n\n        throw new SQLException(&quot;PooledDataSource: Unknown severe error condition.  The connection pool returned a null connection.&quot;);\n    &#125; else &#123;\n        return conn;\n    &#125;\n&#125;\n\nç»è¿‡ä¸Šé¢ä¸€é¡¿çŒ›å¦‚è™çš„æ“ä½œä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä»¥ä¸‹ä¿¡æ¯ï¼š\n\n\n\n\n\n\n\n\n\nå¦‚æœæœ€åå¾—åˆ°äº†è¿æ¥å¯¹è±¡ï¼ˆæœ‰å¯èƒ½æ˜¯ä»ç©ºé—²åˆ—è¡¨ä¸­å¾—åˆ°ï¼Œæœ‰å¯èƒ½æ˜¯ç›´æ¥åˆ›å»ºçš„æ–°çš„ï¼Œè¿˜æœ‰å¯èƒ½æ˜¯ç»è¿‡å›æ”¶ç­–ç•¥å›æ”¶å¾—åˆ°çš„ï¼‰ï¼Œé‚£ä¹ˆè¿æ¥(Connection)å¯¹è±¡ä¸€å®šä¼šè¢«æ”¾åœ¨æ´»è·ƒåˆ—è¡¨ä¸­(state.activeConnections)\né‚£ä¹ˆè‚¯å®šæœ‰ä¸€ä¸ªç–‘é—®ï¼Œç°åœ¨æˆ‘ä»¬å·²ç»çŸ¥é“è·å–ä¸€ä¸ªé“¾æ¥ä¼šç›´æ¥è¿›å…¥åˆ°æ´»è·ƒåˆ—è¡¨ä¸­ï¼Œé‚£ä¹ˆï¼Œå¦‚æœä¸€ä¸ªè¿æ¥è¢«å…³é—­ï¼Œåˆä¼šå‘ç”Ÿä»€ä¹ˆäº‹æƒ…å‘¢ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹æ­¤æ–¹æ³•è¿”å›ä¹‹åï¼Œä¼šè°ƒç”¨getProxyConnectionæ¥è·å–ä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œå®é™…ä¸Šå°±æ˜¯PooledConnectionç±»ï¼š\nclass PooledConnection implements InvocationHandler &#123;\n  private static final String CLOSE &#x3D; &quot;close&quot;;\n    private static final Class&lt;?&gt;[] IFACES &#x3D; new Class[]&#123;Connection.class&#125;;\n    private final int hashCode;\n  \t&#x2F;&#x2F;ä¼šè®°å½•æ˜¯æ¥è‡ªå“ªä¸€ä¸ªæ•°æ®æºåˆ›å»ºçš„çš„\n    private final PooledDataSource dataSource;\n  \t&#x2F;&#x2F;è¿æ¥å¯¹è±¡æœ¬ä½“\n    private final Connection realConnection;\n  \t&#x2F;&#x2F;ä»£ç†çš„é“¾æ¥å¯¹è±¡\n    private final Connection proxyConnection;\n  ...\n\nå®ƒç›´æ¥ä»£ç†äº†æ„é€ æ–¹æ³•ä¸­ä¼ å…¥çš„Connectionå¯¹è±¡ï¼Œä¹Ÿæ˜¯ä½¿ç”¨JDKçš„åŠ¨æ€ä»£ç†å®ç°çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ï¼Œå®ƒæ˜¯å¦‚ä½•è¿›è¡Œä»£ç†çš„ï¼š\npublic Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123;\n    String methodName &#x3D; method.getName();\n  \t&#x2F;&#x2F;å¦‚æœè°ƒç”¨çš„æ˜¯Connectionå¯¹è±¡çš„closeæ–¹æ³•ï¼Œ\n    if (&quot;close&quot;.equals(methodName)) &#123;\n      \t&#x2F;&#x2F;è¿™é‡Œå¹¶ä¸ä¼šçœŸçš„å…³é—­è¿æ¥ï¼ˆè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆç”¨ä»£ç†ï¼‰ï¼Œè€Œæ˜¯è°ƒç”¨ä¹‹å‰æ•°æ®æºçš„pushConnectionæ–¹æ³•ï¼Œå°†æ­¤è¿æ¥æ”¹ä¸ºä¸ºç©ºé—²çŠ¶æ€\n        this.dataSource.pushConnection(this);\n        return null;\n    &#125; else &#123;\n        try &#123;\n            if (!Object.class.equals(method.getDeclaringClass())) &#123;\n                this.checkConnection();\n              \t&#x2F;&#x2F;ä»»ä½•æ“ä½œæ‰§è¡Œä¹‹å‰éƒ½ä¼šæ£€æŸ¥è¿æ¥æ˜¯å¦å¯ç”¨\n            &#125;\n\n          \t&#x2F;&#x2F;è¯¥å¹²å˜›å¹²å˜›\n            return method.invoke(this.realConnection, args);\n        &#125; catch (Throwable var6) &#123;\n            throw ExceptionUtil.unwrapThrowable(var6);\n        &#125;\n    &#125;\n&#125;\n\né‚£ä¹ˆæˆ‘ä»¬æœ€åå†æ¥çœ‹çœ‹pushConnectionæ–¹æ³•ï¼š\nprotected void pushConnection(PooledConnection conn) throws SQLException &#123;\n    synchronized(this.state) &#123;   &#x2F;&#x2F;è€è§„çŸ©ï¼Œå…ˆæ¥æŠŠé”\n      \t&#x2F;&#x2F;å…ˆä»æ´»è·ƒåˆ—è¡¨ç§»é™¤æ­¤è¿æ¥\n        this.state.activeConnections.remove(conn);\n      \t&#x2F;&#x2F;åˆ¤æ–­æ­¤é“¾æ¥æ˜¯å¦å¯ç”¨\n        if (conn.isValid()) &#123;\n            PoolState var10000;\n          \t&#x2F;&#x2F;çœ‹çœ‹é—²ç½®åˆ—è¡¨å®¹é‡æ˜¯å¦å·²æ»¡ï¼ˆå®¹é‡æ»¡äº†å°±å›ä¸å»äº†ï¼‰\n            if (this.state.idleConnections.size() &lt; this.poolMaximumIdleConnections &amp;&amp; conn.getConnectionTypeCode() &#x3D;&#x3D; this.expectedConnectionTypeCode) &#123;\n                var10000 &#x3D; this.state;\n                var10000.accumulatedCheckoutTime +&#x3D; conn.getCheckoutTime();\n                if (!conn.getRealConnection().getAutoCommit()) &#123;\n                    conn.getRealConnection().rollback();\n                &#125;\n\n              \t&#x2F;&#x2F;æŠŠå”¯ä¸€æœ‰ç”¨çš„Connectionå¯¹è±¡æ‹¿å‡ºæ¥ï¼Œç„¶åé‡æ–°åˆ›å»ºä¸€ä¸ªPooledConnection\n                PooledConnection newConn &#x3D; new PooledConnection(conn.getRealConnection(), this);\n              \t&#x2F;&#x2F;æ”¾å…¥é—²ç½®åˆ—è¡¨ï¼ŒæˆåŠŸå›æ”¶\n                this.state.idleConnections.add(newConn);\n                newConn.setCreatedTimestamp(conn.getCreatedTimestamp());\n                newConn.setLastUsedTimestamp(conn.getLastUsedTimestamp());\n                conn.invalidate();\n                if (log.isDebugEnabled()) &#123;\n                    log.debug(&quot;Returned connection &quot; + newConn.getRealHashCode() + &quot; to pool.&quot;);\n                &#125;\n\n                this.state.notifyAll();\n            &#125; else &#123;\n                var10000 &#x3D; this.state;\n                var10000.accumulatedCheckoutTime +&#x3D; conn.getCheckoutTime();\n                if (!conn.getRealConnection().getAutoCommit()) &#123;\n                    conn.getRealConnection().rollback();\n                &#125;\n\n                conn.getRealConnection().close();\n                if (log.isDebugEnabled()) &#123;\n                    log.debug(&quot;Closed connection &quot; + conn.getRealHashCode() + &quot;.&quot;);\n                &#125;\n\n                conn.invalidate();\n            &#125;\n        &#125; else &#123;\n            if (log.isDebugEnabled()) &#123;\n                log.debug(&quot;A bad connection (&quot; + conn.getRealHashCode() + &quot;) attempted to return to the pool, discarding connection.&quot;);\n            &#125;\n\n            ++this.state.badConnectionCount;\n        &#125;\n\n    &#125;\n&#125;\n\nè¿™æ ·ï¼Œæˆ‘ä»¬å°±å·²ç»å®Œå…¨äº†è§£äº†Mybatisçš„æ± åŒ–æ•°æ®æºçš„æ‰§è¡Œæµç¨‹äº†ã€‚åªä¸è¿‡ï¼Œæ— è®ºConnectionç®¡ç†æ–¹å¼å¦‚ä½•å˜æ¢ï¼Œæ— è®ºæ•°æ®æºå†é«˜çº§ï¼Œæˆ‘ä»¬è¦çŸ¥é“ï¼Œå®ƒéƒ½æœ€ç»ˆéƒ½ä¼šä½¿ç”¨DriverManageræ¥åˆ›å»ºè¿æ¥å¯¹è±¡ï¼Œè€Œæœ€ç»ˆä½¿ç”¨çš„ä¹Ÿæ˜¯DriverManageræä¾›çš„Connectionå¯¹è±¡ã€‚\næ•´åˆMybatisæ¡†æ¶é€šè¿‡äº†è§£æ•°æ®æºï¼Œæˆ‘ä»¬å·²ç»æ¸…æ¥šï¼ŒMybatiså®é™…ä¸Šæ˜¯åœ¨ä½¿ç”¨è‡ªå·±ç¼–å†™çš„æ•°æ®æºï¼ˆæ•°æ®æºæœ‰å¾ˆå¤šï¼Œä¹‹åæˆ‘ä»¬å†èŠå…¶ä»–çš„ï¼‰é»˜è®¤ä½¿ç”¨çš„æ˜¯æ± åŒ–çš„æ•°æ®æºï¼Œå®ƒé¢„å…ˆå­˜å‚¨äº†å¾ˆå¤šçš„è¿æ¥å¯¹è±¡ã€‚\né‚£ä¹ˆæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ï¼Œå¦‚ä½•å°†Mybatisä¸Springæ›´å¥½çš„ç»“åˆå‘¢ï¼Œæ¯”å¦‚æˆ‘ä»¬ç°åœ¨å¸Œæœ›å°†SqlSessionFactoryäº¤ç»™IoCå®¹å™¨è¿›è¡Œç®¡ç†ï¼Œè€Œä¸æ˜¯æˆ‘ä»¬è‡ªå·±åˆ›å»ºå·¥å…·ç±»æ¥ç®¡ç†ï¼ˆæˆ‘ä»¬ä¹‹å‰ä¸€ç›´éƒ½åœ¨ä½¿ç”¨å·¥å…·ç±»ç®¡ç†å’Œåˆ›å»ºä¼šè¯ï¼‰\né¦–å…ˆå¯¼å…¥ä¾èµ–ï¼š\n&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;&#x2F;groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;&#x2F;artifactId&gt;\n    &lt;version&gt;8.0.25&lt;&#x2F;version&gt;\n&lt;&#x2F;dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mybatis&lt;&#x2F;groupId&gt;\n    &lt;artifactId&gt;mybatis&lt;&#x2F;artifactId&gt;\n    &lt;version&gt;3.5.7&lt;&#x2F;version&gt;\n&lt;&#x2F;dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mybatis&lt;&#x2F;groupId&gt;\n    &lt;artifactId&gt;mybatis-spring&lt;&#x2F;artifactId&gt;\n    &lt;version&gt;2.0.6&lt;&#x2F;version&gt;\n&lt;&#x2F;dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;\n    &lt;artifactId&gt;spring-jdbc&lt;&#x2F;artifactId&gt;\n    &lt;version&gt;5.3.13&lt;&#x2F;version&gt;\n&lt;&#x2F;dependency&gt;\n\nåœ¨mybatis-springä¾èµ–ä¸­ï¼Œä¸ºæˆ‘ä»¬æä¾›äº†SqlSessionTemplateç±»ï¼Œå®ƒå…¶å®å°±æ˜¯å®˜æ–¹å°è£…çš„ä¸€ä¸ªå·¥å…·ç±»ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶æ³¨å†Œä¸ºBeanï¼Œè¿™æ ·æˆ‘ä»¬éšæ—¶éƒ½å¯ä»¥å‘IoCå®¹å™¨ç´¢è¦ï¼Œè€Œä¸ç”¨è‡ªå·±å†å»ç¼–å†™ä¸€ä¸ªå·¥å…·ç±»äº†ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨é…ç½®ç±»ä¸­åˆ›å»ºï¼š\n@Configuration\n@ComponentScan(&quot;com.test&quot;)\npublic class TestConfiguration &#123;\n    @Bean\n    public SqlSessionTemplate sqlSessionTemplate() throws IOException &#123;\n        SqlSessionFactory factory &#x3D; new SqlSessionFactoryBuilder().build(Resources.getResourceAsReader(&quot;mybatis-config.xml&quot;));\n        return new SqlSessionTemplate(factory);\n    &#125;\n&#125;\n\n&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot; ?&gt;\n&lt;!DOCTYPE configuration\n        PUBLIC &quot;-&#x2F;&#x2F;mybatis.org&#x2F;&#x2F;DTD Config 3.0&#x2F;&#x2F;EN&quot;\n        &quot;http:&#x2F;&#x2F;mybatis.org&#x2F;dtd&#x2F;mybatis-3-config.dtd&quot;&gt;\n&lt;configuration&gt;\n    &lt;environments default&#x3D;&quot;development&quot;&gt;\n        &lt;environment id&#x3D;&quot;development&quot;&gt;\n            &lt;transactionManager type&#x3D;&quot;JDBC&quot;&#x2F;&gt;\n            &lt;dataSource type&#x3D;&quot;POOLED&quot;&gt;\n                &lt;property name&#x3D;&quot;driver&quot; value&#x3D;&quot;com.mysql.cj.jdbc.Driver&quot;&#x2F;&gt;\n                &lt;property name&#x3D;&quot;url&quot; value&#x3D;&quot;jdbc:mysql:&#x2F;&#x2F;localhost:3306&#x2F;study&quot;&#x2F;&gt;\n                &lt;property name&#x3D;&quot;username&quot; value&#x3D;&quot;root&quot;&#x2F;&gt;\n                &lt;property name&#x3D;&quot;password&quot; value&#x3D;&quot;123456&quot;&#x2F;&gt;\n            &lt;&#x2F;dataSource&gt;\n        &lt;&#x2F;environment&gt;\n    &lt;&#x2F;environments&gt;\n  \t&lt;mappers&gt;\n        &lt;mapper class&#x3D;&quot;com.test.mapper.TestMapper&quot;&#x2F;&gt;\n    &lt;&#x2F;mappers&gt;\n&lt;&#x2F;configuration&gt;\n\npublic static void main(String[] args) &#123;\n    ApplicationContext context &#x3D; new AnnotationConfigApplicationContext(TestConfiguration.class);\n    SqlSessionTemplate template &#x3D; context.getBean(SqlSessionTemplate.class);\n    TestMapper testMapper &#x3D; template.getMapper(TestMapper.class);\n    System.out.println(testMapper.getStudent());\n&#125;\n\n@Mapper\npublic interface TestMapper &#123;\n\n    @Select(&quot;select * from student where sid &#x3D; 1&quot;)\n    Student getStudent();\n&#125;\n\n@Data\npublic class Student &#123;\n    int sid;\n    String name;\n    String sex;\n&#125;\n\næœ€åæˆåŠŸå¾—åˆ°Studentå®ä½“ç±»ï¼Œè¯æ˜SqlSessionTemplateæˆåŠŸæ³¨å†Œä¸ºBeanå¯ä»¥ä½¿ç”¨äº†ã€‚è™½ç„¶è¿™æ ·å·²ç»å¾ˆæ–¹ä¾¿äº†ï¼Œä½†æ˜¯è¿˜ä¸å¤Ÿæ–¹ä¾¿ï¼Œæˆ‘ä»¬ä¾ç„¶éœ€è¦æ‰‹åŠ¨å»è·å–Mapperå¯¹è±¡ï¼Œé‚£ä¹ˆèƒ½å¦ç›´æ¥å¾—åˆ°å¯¹åº”çš„Mapperå¯¹è±¡å‘¢ï¼Œæˆ‘ä»¬å¸Œæœ›è®©Springç›´æ¥å¸®åŠ©æˆ‘ä»¬ç®¡ç†æ‰€æœ‰çš„Mapperï¼Œå½“éœ€è¦æ—¶ï¼Œå¯ä»¥ç›´æ¥ä»å®¹å™¨ä¸­è·å–ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨é…ç½®ç±»ä¸Šæ–¹æ·»åŠ æ³¨è§£ï¼š\n@MapperScan(&quot;com.test.mapper&quot;)\n\nè¿™æ ·ï¼ŒSpringä¼šè‡ªåŠ¨æ‰«ææ‰€æœ‰çš„Mapperï¼Œå¹¶å°†å…¶å®ç°æ³¨å†Œä¸ºBeanï¼Œé‚£ä¹ˆæˆ‘ä»¬ç°åœ¨å°±å¯ä»¥ç›´æ¥é€šè¿‡å®¹å™¨è·å–äº†ï¼š\npublic static void main(String[] args) throws InterruptedException &#123;\n    ApplicationContext context &#x3D; new AnnotationConfigApplicationContext(TestConfiguration.class);\n    TestMapper mapper &#x3D; context.getBean(TestMapper.class);\n    System.out.println(mapper.getStudent());\n&#125;\n\nè¯·ä¸€å®šæ³¨æ„ï¼Œå¿…é¡»å­˜åœ¨SqlSessionTemplateæˆ–æ˜¯SqlSessionFactoryBeançš„Beanï¼Œå¦åˆ™ä¼šæ— æ³•åˆå§‹åŒ–ï¼ˆæ¯•ç«Ÿè¦æ•°æ®åº“çš„é“¾æ¥ä¿¡æ¯ï¼‰\næˆ‘ä»¬æ¥ç€æ¥çœ‹ï¼Œå¦‚æœæˆ‘ä»¬å¸Œæœ›ç›´æ¥å»é™¤Mybatisçš„é…ç½®æ–‡ä»¶ï¼Œé‚£ä¹ˆæ”¹æ€ä¹ˆå»å®ç°å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ä½¿ç”¨SqlSessionFactoryBeanç±»ï¼š\n@Configuration\n@ComponentScan(&quot;com.test&quot;)\n@MapperScan(&quot;com.test.mapper&quot;)\npublic class TestConfiguration &#123;\n    @Bean\n    public DataSource dataSource()&#123;\n        return new PooledDataSource(&quot;com.mysql.cj.jdbc.Driver&quot;,\n                &quot;jdbc:mysql:&#x2F;&#x2F;localhost:3306&#x2F;study&quot;, &quot;root&quot;, &quot;123456&quot;);\n    &#125;\n\n    @Bean\n    public SqlSessionFactoryBean sqlSessionFactoryBean(@Autowired DataSource dataSource)&#123;\n        SqlSessionFactoryBean bean &#x3D; new SqlSessionFactoryBean();\n        bean.setDataSource(dataSource);\n        return bean;\n    &#125;\n&#125;\n\né¦–å…ˆæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªæ•°æ®æºçš„å®ç°ç±»ï¼Œå› ä¸ºè¿™æ˜¯æ•°æ®åº“æœ€åŸºæœ¬çš„ä¿¡æ¯ï¼Œç„¶åå†ç»™åˆ°SqlSessionFactoryBeanå®ä¾‹ï¼Œè¿™æ ·ï¼Œæˆ‘ä»¬ç›¸å½“äºç›´æ¥åœ¨ä¸€å¼€å§‹é€šè¿‡IoCå®¹å™¨é…ç½®äº†SqlSessionFactoryï¼Œåªéœ€è¦ä¼ å…¥ä¸€ä¸ªDataSourceçš„å®ç°å³å¯ã€‚\nåˆ é™¤é…ç½®æ–‡ä»¶ï¼Œé‡æ–°å†æ¥è¿è¡Œï¼ŒåŒæ ·å¯ä»¥æ­£å¸¸ä½¿ç”¨Mapperã€‚ä»è¿™é‡Œå¼€å§‹ï¼Œé€šè¿‡IoCå®¹å™¨ï¼ŒMybatiså·²ç»ä¸å†éœ€è¦ä½¿ç”¨é…ç½®æ–‡ä»¶äº†ï¼Œä¹‹ååŸºäºSpringçš„å¼€å‘å°†ä¸ä¼šå†å‡ºç°Mybatisçš„é…ç½®æ–‡ä»¶ã€‚\nä½¿ç”¨HikariCPè¿æ¥æ± å‰é¢æˆ‘ä»¬æåˆ°äº†æ•°æ®æºè¿˜æœ‰å…¶ä»–å®ç°ï¼Œæ¯”å¦‚C3P0ã€Druidç­‰ï¼Œå®ƒä»¬éƒ½æ˜¯éå¸¸ä¼˜ç§€çš„æ•°æ®æºå®ç°ï¼ˆå¯ä»¥è‡ªè¡Œäº†è§£ï¼‰ï¼Œä¸è¿‡æˆ‘ä»¬è¿™é‡Œè¦ä»‹ç»çš„ï¼Œæ˜¯ä¹‹ååœ¨SpringBootä¸­è¿˜ä¼šé‡åˆ°çš„HikariCPè¿æ¥æ± ã€‚\n\n\n\n\n\n\n\n\n\nHikariCPæ˜¯ç”±æ—¥æœ¬ç¨‹åºå‘˜å¼€æºçš„ä¸€ä¸ªæ•°æ®åº“è¿æ¥æ± ç»„ä»¶ï¼Œä»£ç éå¸¸è½»é‡ï¼Œå¹¶ä¸”é€Ÿåº¦éå¸¸çš„å¿«ã€‚æ ¹æ®å®˜æ–¹æä¾›çš„æ•°æ®ï¼Œåœ¨é…·ç¿i7å¼€å¯32ä¸ªçº¿ç¨‹32ä¸ªè¿æ¥çš„æƒ…å†µä¸‹ï¼Œè¿›è¡Œéšæœºæ•°æ®åº“è¯»å†™æ“ä½œï¼ŒHikariCPçš„é€Ÿåº¦æ˜¯ç°åœ¨å¸¸ç”¨çš„C3P0æ•°æ®åº“è¿æ¥æ± çš„æ•°ç™¾å€ã€‚åœ¨SpringBoot2.0ä¸­ï¼Œå®˜æ–¹ä¹Ÿæ˜¯æ¨èä½¿ç”¨HikariCPã€‚\n\né¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å¯¼å…¥ä¾èµ–ï¼š\n&lt;dependency&gt;\n    &lt;groupId&gt;com.zaxxer&lt;&#x2F;groupId&gt;\n    &lt;artifactId&gt;HikariCP&lt;&#x2F;artifactId&gt;\n    &lt;version&gt;3.4.5&lt;&#x2F;version&gt;\n&lt;&#x2F;dependency&gt;\n\næ¥ç€ä¿®æ”¹ä¸€ä¸‹Beançš„å®šä¹‰ï¼š\n@Bean\npublic DataSource dataSource() throws SQLException &#123;\n    HikariDataSource dataSource &#x3D; new HikariDataSource();\n    dataSource.setJdbcUrl(&quot;jdbc:mysql:&#x2F;&#x2F;localhost:3306&#x2F;study&quot;);\n    dataSource.setDriverClassName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n    dataSource.setUsername(&quot;root&quot;);\n    dataSource.setPassword(&quot;123456&quot;);\n    return dataSource;\n&#125;\n\næœ€åæˆ‘ä»¬å‘ç°ï¼ŒåŒæ ·å¯ä»¥å¾—åˆ°è¾“å‡ºç»“æœï¼Œä½†æ˜¯å‡ºç°äº†ä¸€ä¸ªæŠ¥é”™ï¼š\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http:&#x2F;&#x2F;www.slf4j.org&#x2F;codes.html#StaticLoggerBinder for further details.\n\næ­¤æ•°æ®æºå®é™…ä¸Šæ˜¯é‡‡ç”¨äº†SLF4Jæ—¥å¿—æ¡†æ¶æ‰“å°æ—¥å¿—ä¿¡æ¯ï¼Œä½†æ˜¯ç°åœ¨æ²¡æœ‰ä»»ä½•çš„æ—¥å¿—å®ç°ï¼ˆslf4jåªæ˜¯ä¸€ä¸ªAPIæ ‡å‡†ï¼Œå®ƒè§„èŒƒäº†å¤šç§æ—¥å¿—æ¡†æ¶çš„æ“ä½œï¼Œç»Ÿä¸€ä½¿ç”¨SLF4Jå®šä¹‰çš„æ–¹æ³•æ¥æ“ä½œä¸åŒçš„æ—¥å¿—æ¡†æ¶ï¼‰æˆ‘ä»¬è¿™é‡Œå°±ä½¿ç”¨JULä½œä¸ºæ—¥å¿—å®ç°ï¼Œæˆ‘ä»¬éœ€è¦å¯¼å…¥å¦ä¸€ä¸ªä¾èµ–ï¼š\n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;&#x2F;groupId&gt;\n    &lt;artifactId&gt;slf4j-jdk14&lt;&#x2F;artifactId&gt;\n    &lt;version&gt;1.7.25&lt;&#x2F;version&gt;\n&lt;&#x2F;dependency&gt;\n\næ³¨æ„ç‰ˆæœ¬ä¸€å®šè¦å’Œslf4j-apiä¿æŒä¸€è‡´ï¼\nè¿™æ ·å°±èƒ½å¾—åˆ°æˆ‘ä»¬çš„æ—¥å¿—ä¿¡æ¯äº†ï¼š\nåäºŒæœˆ 07, 2021 8:46:41 ä¸‹åˆ com.zaxxer.hikari.HikariDataSource getConnection\nä¿¡æ¯: HikariPool-1 - Starting...\nåäºŒæœˆ 07, 2021 8:46:41 ä¸‹åˆ com.zaxxer.hikari.HikariDataSource getConnection\nä¿¡æ¯: HikariPool-1 - Start completed.\nStudent(sid&#x3D;1, name&#x3D;å°æ˜, sex&#x3D;ç”·)\n\nåœ¨SpringBooté˜¶æ®µï¼Œæˆ‘ä»¬è¿˜ä¼šé‡åˆ°HikariPool-1 - Starting...å’ŒHikariPool-1 - Start completed.åŒæ¬¾æ—¥å¿—ä¿¡æ¯ã€‚\nå½“ç„¶ï¼ŒLombokè‚¯å®šä¹Ÿæ˜¯æ”¯æŒè¿™ä¸ªæ—¥å¿—æ¡†æ¶å¿«é€Ÿæ³¨è§£çš„ï¼š\n@Slf4j\npublic class Main &#123;\n    public static void main(String[] args) &#123;\n        log.info(&quot;é¡¹ç›®æ­£åœ¨å¯åŠ¨...&quot;);\n        ApplicationContext context &#x3D; new AnnotationConfigApplicationContext(TestConfiguration.class);\n        TestMapper mapper &#x3D; context.getBean(TestMapper.class);\n        System.out.println(mapper.getStudent());\n    &#125;\n&#125;\n\nMybatisäº‹åŠ¡ç®¡ç†æˆ‘ä»¬å‰é¢å·²ç»è®²è§£äº†å¦‚ä½•è®©Mybatisä¸Springæ›´å¥½åœ°èåˆåœ¨ä¸€èµ·ï¼Œé€šè¿‡å°†å¯¹åº”çš„Beanç±»å‹æ³¨å†Œåˆ°å®¹å™¨ä¸­ï¼Œå°±èƒ½æ›´åŠ æ–¹ä¾¿çš„å»ä½¿ç”¨Mapperï¼Œé‚£ä¹ˆç°åœ¨ï¼Œæˆ‘ä»¬æ¥ç€æ¥çœ‹Springçš„äº‹åŠ¡æ§åˆ¶ã€‚\nåœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜æ˜¯å›é¡¾ä¸€ä¸‹äº‹åŠ¡æœºåˆ¶ã€‚é¦–å…ˆäº‹åŠ¡éµå¾ªä¸€ä¸ªACIDåŸåˆ™ï¼š\n\nåŸå­æ€§ï¼ˆAtomicityï¼‰ï¼šäº‹åŠ¡æ˜¯ä¸€ä¸ªåŸå­æ“ä½œï¼Œç”±ä¸€ç³»åˆ—åŠ¨ä½œç»„æˆã€‚äº‹åŠ¡çš„åŸå­æ€§ç¡®ä¿åŠ¨ä½œè¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆå®Œå…¨ä¸èµ·ä½œç”¨ã€‚\nä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ï¼šä¸€æ—¦äº‹åŠ¡å®Œæˆï¼ˆä¸ç®¡æˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼‰ï¼Œç³»ç»Ÿå¿…é¡»ç¡®ä¿å®ƒæ‰€å»ºæ¨¡çš„ä¸šåŠ¡å¤„äºä¸€è‡´çš„çŠ¶æ€ï¼Œè€Œä¸ä¼šæ˜¯éƒ¨åˆ†å®Œæˆéƒ¨åˆ†å¤±è´¥ã€‚åœ¨ç°å®ä¸­çš„æ•°æ®ä¸åº”è¯¥è¢«ç ´åã€‚\néš”ç¦»æ€§ï¼ˆIsolationï¼‰ï¼šå¯èƒ½æœ‰è®¸å¤šäº‹åŠ¡ä¼šåŒæ—¶å¤„ç†ç›¸åŒçš„æ•°æ®ï¼Œå› æ­¤æ¯ä¸ªäº‹åŠ¡éƒ½åº”è¯¥ä¸å…¶ä»–äº‹åŠ¡éš”ç¦»å¼€æ¥ï¼Œé˜²æ­¢æ•°æ®æŸåã€‚\næŒä¹…æ€§ï¼ˆDurabilityï¼‰ï¼šä¸€æ—¦äº‹åŠ¡å®Œæˆï¼Œæ— è®ºå‘ç”Ÿä»€ä¹ˆç³»ç»Ÿé”™è¯¯ï¼Œå®ƒçš„ç»“æœéƒ½ä¸åº”è¯¥å—åˆ°å½±å“ï¼Œè¿™æ ·å°±èƒ½ä»ä»»ä½•ç³»ç»Ÿå´©æºƒä¸­æ¢å¤è¿‡æ¥ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œäº‹åŠ¡çš„ç»“æœè¢«å†™åˆ°æŒä¹…åŒ–å­˜å‚¨å™¨ä¸­ã€‚\n\nç®€å•æ¥è¯´ï¼Œäº‹åŠ¡å°±æ˜¯è¦ä¹ˆå®Œæˆï¼Œè¦ä¹ˆå°±å•¥éƒ½åˆ«åšï¼å¹¶ä¸”ä¸åŒçš„äº‹åŠ¡ç›´æ¥ç›¸äº’éš”ç¦»ï¼Œäº’ä¸å¹²æ‰°ã€‚\né‚£ä¹ˆæˆ‘ä»¬æ¥ç€æ¥æ·±å…¥äº†è§£ä¸€ä¸‹äº‹åŠ¡çš„éš”ç¦»æœºåˆ¶ï¼ˆåœ¨ä¹‹å‰æ•°æ®åº“å…¥é—¨é˜¶æ®µå¹¶æ²¡æœ‰æåˆ°ï¼‰æˆ‘ä»¬è¯´äº†ï¼Œäº‹åŠ¡ä¹‹é—´æ˜¯ç›¸äº’éš”ç¦»äº’ä¸å¹²æ‰°çš„ï¼Œé‚£ä¹ˆå¦‚æœå‡ºç°äº†ä¸‹é¢çš„æƒ…å†µï¼Œä¼šæ€ä¹ˆæ ·å‘¢ï¼š\n\n\n\n\n\n\n\n\n\nå½“ä¸¤ä¸ªäº‹åŠ¡åŒæ—¶åœ¨æ‰§è¡Œï¼Œå¹¶ä¸”åŒæ—¶åœ¨æ“ä½œåŒä¸€ä¸ªæ•°æ®ï¼Œè¿™æ ·å¾ˆå®¹æ˜“å‡ºç°å¹¶å‘ç›¸å…³çš„é—®é¢˜ï¼Œæ¯”å¦‚ä¸€ä¸ªäº‹åŠ¡å…ˆè¯»å–äº†æŸæ¡æ•°æ®ï¼Œè€Œå¦ä¸€ä¸ªäº‹åŠ¡æ­¤æ—¶ä¿®æ”¹äº†æ­¤æ•°æ®ï¼Œå½“å‰ä¸€ä¸ªäº‹åŠ¡ç´§æ¥ç€å†æ¬¡è¯»å–æ—¶ï¼Œä¼šå¯¼è‡´å’Œå‰ä¸€æ¬¡è¯»å–çš„æ•°æ®ä¸ä¸€è‡´ï¼Œè¿™å°±æ˜¯ä¸€ç§å…¸å‹çš„æ•°æ®è™šè¯»ç°è±¡ã€‚\nå› æ­¤ï¼Œä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œäº‹åŠ¡ä¹‹é—´å®é™…ä¸Šæ˜¯å­˜åœ¨ä¸€äº›éš”ç¦»çº§åˆ«çš„ï¼š\n\nISOLATION_READ_UNCOMMITTEDï¼ˆè¯»æœªæäº¤ï¼‰ï¼šå…¶ä»–äº‹åŠ¡ä¼šè¯»å–å½“å‰äº‹åŠ¡å°šæœªæ›´æ”¹çš„æäº¤ï¼ˆç›¸å½“äºè¯»å–çš„æ˜¯è¿™ä¸ªäº‹åŠ¡æš‚æ—¶ç¼“å­˜çš„å†…å®¹ï¼Œå¹¶ä¸æ˜¯æ•°æ®åº“ä¸­çš„å†…å®¹ï¼‰\nISOLATION_READ_COMMITTEDï¼ˆè¯»å·²æäº¤ï¼‰ï¼šå…¶ä»–äº‹åŠ¡ä¼šè¯»å–å½“å‰äº‹åŠ¡å·²ç»æäº¤çš„æ•°æ®ï¼ˆä¹Ÿå°±æ˜¯ç›´æ¥è¯»å–æ•°æ®åº“ä¸­å·²ç»å‘ç”Ÿæ›´æ”¹çš„å†…å®¹ï¼‰\nISOLATION_REPEATABLE_READï¼ˆå¯é‡å¤è¯»ï¼‰ï¼šå…¶ä»–äº‹åŠ¡ä¼šè¯»å–å½“å‰äº‹åŠ¡å·²ç»æäº¤çš„æ•°æ®å¹¶ä¸”å…¶ä»–äº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸å…è®¸å†è¿›è¡Œæ•°æ®ä¿®æ”¹ï¼ˆæ³¨æ„è¿™é‡Œä»…ä»…æ˜¯ä¸å…è®¸ä¿®æ”¹æ•°æ®ï¼‰\nISOLATION_SERIALIZABLEï¼ˆä¸²è¡ŒåŒ–ï¼‰ï¼šå®ƒå®Œå…¨æœä»ACIDåŸåˆ™ï¼Œä¸€ä¸ªäº‹åŠ¡å¿…é¡»ç­‰å¾…å…¶ä»–äº‹åŠ¡ç»“æŸä¹‹åæ‰èƒ½å¼€å§‹æ‰§è¡Œï¼Œç›¸å½“äºæŒ¨ä¸ªæ‰§è¡Œï¼Œæ•ˆç‡å¾ˆä½\n\næˆ‘ä»¬ä¾æ¬¡æ¥çœ‹çœ‹ï¼Œä¸åŒçš„éš”ç¦»çº§åˆ«ä¼šå¯¼è‡´ä»€ä¹ˆé—®é¢˜ã€‚é¦–å…ˆæ˜¯è¯»æœªæäº¤çº§åˆ«ï¼Œæ­¤çº§åˆ«å±äºæœ€ä½çº§åˆ«ï¼Œç›¸å½“äºå„ä¸ªäº‹åŠ¡å…±äº«ä¸€ä¸ªç¼“å­˜åŒºåŸŸï¼Œä»»ä½•äº‹åŠ¡çš„æ“ä½œéƒ½åœ¨è¿™é‡Œè¿›è¡Œã€‚é‚£ä¹ˆå®ƒä¼šå¯¼è‡´ä»¥ä¸‹é—®é¢˜ï¼š\n\nä¹Ÿå°±æ˜¯è¯´ï¼Œäº‹åŠ¡Aæœ€åå¾—åˆ°çš„å®é™…ä¸Šæ˜¯ä¸€ä¸ªæ¯«æ— æ„ä¹‰çš„æ•°æ®ï¼ˆäº‹åŠ¡Bå·²ç»å›æ»šäº†ï¼‰æˆ‘ä»¬ç§°æ­¤æ•°æ®ä¸ºâ€è„æ•°æ®â€ï¼Œè¿™ç§ç°è±¡ç§°ä¸ºè„è¯»\næˆ‘ä»¬æ¥ç€æ¥çœ‹è¯»å·²æäº¤çº§åˆ«ï¼Œäº‹åŠ¡åªèƒ½è¯»å–å…¶ä»–äº‹åŠ¡å·²ç»æäº¤çš„å†…å®¹ï¼Œç›¸å½“äºç›´æ¥ä»æ•°æ®ä¸­è¯»å–æ•°æ®ï¼Œè¿™æ ·å°±å¯ä»¥é¿å…è„è¯»é—®é¢˜äº†ï¼Œä½†æ˜¯å®ƒè¿˜æ˜¯å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š\n\nè¿™æ­£æ˜¯æˆ‘ä»¬å‰é¢ä¾‹å­ä¸­æåˆ°çš„é—®é¢˜ï¼Œè™½ç„¶å®ƒé¿å…äº†è„è¯»é—®é¢˜ï¼Œä½†æ˜¯å¦‚æœäº‹ä»¶Bä¿®æ”¹å¹¶æäº¤äº†æ•°æ®ï¼Œé‚£ä¹ˆå®é™…ä¸Šäº‹åŠ¡Aä¹‹å‰è¯»å–åˆ°çš„æ•°æ®ä¾ç„¶ä¸æ˜¯æœ€æ–°çš„æ•°æ®ï¼Œç›´æ¥å¯¼è‡´ä¸¤æ¬¡è¯»å–çš„æ•°æ®ä¸ä¸€è‡´ï¼Œè¿™ç§ç°è±¡ç§°ä¸ºè™šè¯»ä¹Ÿå¯ä»¥ç§°ä¸ºä¸å¯é‡å¤è¯»\nå› æ­¤ï¼Œä¸‹ä¸€ä¸ªéš”ç¦»çº§åˆ«å¯é‡å¤è¯»å°±èƒ½å¤Ÿè§£å†³è¿™æ ·çš„é—®é¢˜ï¼ˆMySQLçš„é»˜è®¤éš”ç¦»çº§åˆ«ï¼‰ï¼Œå®ƒè§„å®šåœ¨å…¶ä»–äº‹åŠ¡æ‰§è¡Œæ—¶ï¼Œä¸å…è®¸ä¿®æ”¹æ•°æ®ï¼Œè¿™æ ·ï¼Œå°±å¯ä»¥æœ‰æ•ˆåœ°é¿å…ä¸å¯é‡å¤è¯»çš„é—®é¢˜ï¼Œä½†æ˜¯è¿™æ ·å°±ä¸€å®šå®‰å…¨äº†å—ï¼Ÿè¿™é‡Œä»…ä»…æ˜¯ç¦æ­¢äº†äº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­çš„UPDATEæ“ä½œï¼Œä½†æ˜¯å®ƒå¹¶æ²¡æœ‰ç¦æ­¢INSERTè¿™ç±»æ“ä½œï¼Œå› æ­¤ï¼Œå¦‚æœäº‹åŠ¡Aæ‰§è¡Œè¿‡ç¨‹ä¸­äº‹åŠ¡Bæ’å…¥äº†æ–°çš„æ•°æ®ï¼Œé‚£ä¹ˆAè¿™æ—¶æ˜¯æ¯«ä¸çŸ¥æƒ…çš„ï¼Œæ¯”å¦‚ï¼š\n\nä¸¤ä¸ªäººåŒæ—¶æŠ¥åä¸€ä¸ªæ´»åŠ¨ï¼Œä¸¤ä¸ªæŠ¥åçš„äº‹åŠ¡åŒæ—¶åœ¨è¿›è¡Œï¼Œä½†æ˜¯ä»–ä»¬ä¸€å¼€å§‹è¯»å–åˆ°çš„äººæ•°éƒ½æ˜¯5ï¼Œè€Œè¿™æ—¶ï¼Œå®ƒä»¬éƒ½ä¼šè®¤ä¸ºæŠ¥åæˆåŠŸåäººæ•°åº”è¯¥å˜æˆ6ï¼Œè€Œæ­£å¸¸æƒ…å†µä¸‹åº”è¯¥æ˜¯7ï¼Œå› æ­¤è¿™ä¸ªæ—¶å€™å°±å‘ç”Ÿäº†æ•°æ®çš„å¹»è¯»ç°è±¡ã€‚\nå› æ­¤ï¼Œè¦è§£å†³è¿™ç§é—®é¢˜ï¼Œåªèƒ½ä½¿ç”¨æœ€åä¸€ç§éš”ç¦»çº§åˆ«ä¸²è¡ŒåŒ–æ¥å®ç°äº†ï¼Œæ¯ä¸ªäº‹åŠ¡ä¸èƒ½åŒæ—¶è¿›è¡Œï¼Œç›´æ¥é¿å…æ‰€æœ‰å¹¶å‘é—®é¢˜ï¼Œç®€å•ç²—æš´ï¼Œä½†æ˜¯æ•ˆç‡çˆ†å‡ï¼Œå¹¶ä¸æ¨èã€‚\næœ€åæ€»ç»“ä¸‰ç§æƒ…å†µï¼š\n\nè„è¯»ï¼šè¯»å–åˆ°äº†è¢«å›æ»šçš„æ•°æ®ï¼Œå®ƒæ¯«æ— æ„ä¹‰ã€‚\nè™šè¯»ï¼ˆä¸å¯é‡å¤è¯»ï¼‰ï¼šç”±äºå…¶ä»–äº‹åŠ¡æ›´æ–°æ•°æ®ï¼Œä¸¤æ¬¡è¯»å–çš„æ•°æ®ä¸ä¸€è‡´ã€‚\nå¹»è¯»ï¼šç”±äºå…¶ä»–äº‹åŠ¡æ‰§è¡Œæ’å…¥åˆ é™¤æ“ä½œï¼Œè€Œåˆæ— æ³•æ„ŸçŸ¥åˆ°è¡¨ä¸­è®°å½•æ¡æ•°å‘ç”Ÿå˜åŒ–ï¼Œå½“ä¸‹æ¬¡å†è¯»å–æ—¶ä¼šè«åå…¶å¦™å¤šå‡ºæˆ–ç¼ºå¤±æ•°æ®ï¼Œå°±åƒäº§ç”Ÿå¹»è§‰ä¸€æ ·ã€‚\n\nï¼ˆå¯¹äºè™šè¯»å’Œå¹»è¯»çš„åŒºåˆ†ï¼šè™šè¯»æ˜¯æŸä¸ªæ•°æ®å‰åè¯»å–ä¸ä¸€è‡´ï¼Œå¹»è¯»æ˜¯æ•´ä¸ªè¡¨çš„è®°å½•æ•°é‡å‰åè¯»å–ä¸ä¸€è‡´ï¼‰\næœ€åè¿™å¼ å›¾ï¼Œè¯·åŠ¡å¿…è®°åœ¨ä½ çš„è„‘æµ·ï¼Œè®°åœ¨ä½ çš„å¿ƒä¸­ï¼Œè®°åœ¨ä½ çš„å…¨ä¸–ç•Œï¼š\n\nMybatiså¯¹äºæ•°æ®åº“çš„äº‹åŠ¡ç®¡ç†ï¼Œä¹Ÿæœ‰ç€ç›¸åº”çš„å°è£…ã€‚ä¸€ä¸ªäº‹åŠ¡æ— éå°±æ˜¯åˆ›å»ºã€æäº¤ã€å›æ»šã€å…³é—­ï¼Œå› æ­¤è¿™äº›æ“ä½œè¢«MybatisæŠ½è±¡ä¸ºä¸€ä¸ªæ¥å£ï¼š\npublic interface Transaction &#123;\n    Connection getConnection() throws SQLException;\n\n    void commit() throws SQLException;\n\n    void rollback() throws SQLException;\n\n    void close() throws SQLException;\n\n    Integer getTimeout() throws SQLException;\n&#125;\n\nå¯¹äºæ­¤æ¥å£çš„å®ç°ï¼ŒMyBatisçš„äº‹åŠ¡ç®¡ç†åˆ†ä¸ºä¸¤ç§å½¢å¼ï¼š\n\nä½¿ç”¨JDBCçš„äº‹åŠ¡ç®¡ç†æœºåˆ¶ï¼šå³åˆ©ç”¨å¯¹åº”æ•°æ®åº“çš„é©±åŠ¨ç”Ÿæˆçš„Connectionå¯¹è±¡å®Œæˆå¯¹äº‹åŠ¡çš„æäº¤ï¼ˆcommit()ï¼‰ã€å›æ»šï¼ˆrollback()ï¼‰ã€å…³é—­ï¼ˆclose()ï¼‰ç­‰ï¼Œå¯¹åº”çš„å®ç°ç±»ä¸ºJdbcTransaction\nä½¿ç”¨MANAGEDçš„äº‹åŠ¡ç®¡ç†æœºåˆ¶ï¼šè¿™ç§æœºåˆ¶MyBatisè‡ªèº«ä¸ä¼šå»å®ç°äº‹åŠ¡ç®¡ç†ï¼Œè€Œæ˜¯è®©ç¨‹åºçš„å®¹å™¨ï¼ˆæ¯”å¦‚Springï¼‰æ¥å®ç°å¯¹äº‹åŠ¡çš„ç®¡ç†ï¼Œå¯¹åº”çš„å®ç°ç±»ä¸ºManagedTransaction\n\nè€Œæˆ‘ä»¬ä¹‹å‰ä¸€ç›´ä½¿ç”¨çš„å…¶å®å°±æ˜¯JDBCçš„äº‹åŠ¡ï¼Œç›¸å½“äºç›´æ¥ä½¿ç”¨Connectionå¯¹è±¡ï¼ˆä¹‹å‰JavaWebé˜¶æ®µå·²ç»è®²è§£è¿‡äº†ï¼‰åœ¨è¿›è¡Œäº‹åŠ¡æ“ä½œï¼Œå¹¶æ²¡æœ‰é¢å¤–çš„ç®¡ç†æœºåˆ¶ï¼Œå¯¹åº”çš„é…ç½®ä¸ºï¼š\n&lt;transactionManager type&#x3D;&quot;JDBC&quot;&#x2F;&gt;\n\né‚£ä¹ˆæˆ‘ä»¬æ¥çœ‹çœ‹JdbcTransactionæ˜¯ä¸æ˜¯åƒæˆ‘ä»¬ä¸Šé¢æ‰€è¯´çš„é‚£æ ·ç®¡ç†äº‹åŠ¡çš„ï¼Œç›´æ¥ä¸Šæºç ï¼š\npublic class JdbcTransaction implements Transaction &#123;\n    private static final Log log &#x3D; LogFactory.getLog(JdbcTransaction.class);\n    protected Connection connection;\n    protected DataSource dataSource;\n    protected TransactionIsolationLevel level;\n    protected boolean autoCommit;\n\n    public JdbcTransaction(DataSource ds, TransactionIsolationLevel desiredLevel, boolean desiredAutoCommit) &#123;\n      \t&#x2F;&#x2F;æ•°æ®æº\n        this.dataSource &#x3D; ds;\n      \t&#x2F;&#x2F;äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼Œä¸Šé¢å·²ç»æåˆ°è¿‡äº†\n        this.level &#x3D; desiredLevel;\n      \t&#x2F;&#x2F;æ˜¯å¦è‡ªåŠ¨æäº¤\n        this.autoCommit &#x3D; desiredAutoCommit;\n    &#125;\n  \t\n  &#x2F;&#x2F;ä¹Ÿå¯ä»¥ç›´æ¥ç»™ä¸ªConnectionå¯¹è±¡\n   public JdbcTransaction(Connection connection) &#123;\n        this.connection &#x3D; connection;\n    &#125;\n\n    public Connection getConnection() throws SQLException &#123;\n      \t&#x2F;&#x2F;æ²¡æœ‰å°±é€šè¿‡æ•°æ®æºæ–°å¼€ä¸€ä¸ªConnection\n        if (this.connection &#x3D;&#x3D; null) &#123;\n            this.openConnection();\n        &#125;\n\t\n        return this.connection;\n    &#125;\n\n    public void commit() throws SQLException &#123;\n      \t&#x2F;&#x2F;è¿æ¥å·²ç»åˆ›å»ºå¹¶ä¸”æ²¡å¼€å¯è‡ªåŠ¨æäº¤æ‰å¯ä»¥ä½¿ç”¨\n        if (this.connection !&#x3D; null &amp;&amp; !this.connection.getAutoCommit()) &#123;\n            if (log.isDebugEnabled()) &#123;\n                log.debug(&quot;Committing JDBC Connection [&quot; + this.connection + &quot;]&quot;);\n            &#125;\n\t\t\t\t\t\t&#x2F;&#x2F;å®é™…ä¸Šä½¿ç”¨çš„æ˜¯æ•°æ®åº“é©±åŠ¨æä¾›çš„Connectionå¯¹è±¡è¿›è¡Œäº‹åŠ¡æ“ä½œ\n            this.connection.commit();\n        &#125;\n\n    &#125;\n\nç›¸å½“äºJdbcTransactionåªæ˜¯ä¸ºæ•°æ®åº“é©±åŠ¨æä¾›çš„Connectionå¯¹è±¡å¥—äº†å±‚å£³ï¼Œæ‰€æœ‰çš„äº‹åŠ¡æ“ä½œå®é™…ä¸Šæ˜¯ç›´æ¥è°ƒç”¨Connectionå¯¹è±¡ã€‚\né‚£ä¹ˆæˆ‘ä»¬æ¥ç€æ¥çœ‹ManagedTransactionçš„æºç ï¼š\npublic class ManagedTransaction implements Transaction &#123;\n    ...\n\n    public void commit() throws SQLException &#123;\n    &#125;\n\n    public void rollback() throws SQLException &#123;\n    &#125;\n\n    ...\n&#125;\n\næˆ‘ä»¬å‘ç°ï¼Œå¤§ä½“å†…å®¹å’ŒJdbcTransactionå·®ä¸å¤šï¼Œä½†æ˜¯å®ƒå¹¶æ²¡æœ‰å®ç°ä»»ä½•çš„äº‹åŠ¡æ“ä½œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒå¸Œæœ›å°†å®ç°äº¤ç»™å…¶ä»–çš„ç®¡ç†æ¡†æ¶æ¥å®Œæˆï¼Œè€ŒSpringå°±ä¸ºMybatisæä¾›äº†ä¸€ä¸ªéå¸¸å¥½çš„äº‹åŠ¡ç®¡ç†å®ç°ã€‚\nä½¿ç”¨Springäº‹åŠ¡ç®¡ç†ç°åœ¨æˆ‘ä»¬æ¥å­¦ä¹ ä¸€ä¸‹Springæä¾›çš„äº‹åŠ¡ç®¡ç†ï¼ˆSpringäº‹åŠ¡ç®¡ç†åˆ†ä¸ºç¼–ç¨‹å¼äº‹åŠ¡å’Œå£°æ˜å¼äº‹åŠ¡ï¼Œä½†æ˜¯ç¼–ç¨‹å¼äº‹åŠ¡è¿‡äºå¤æ‚å¹¶ä¸”å…·æœ‰é«˜åº¦è€¦åˆæ€§ï¼Œè¿èƒŒäº†Springæ¡†æ¶çš„è®¾è®¡åˆè¡·ï¼Œå› æ­¤è¿™é‡Œåªè®²è§£å£°æ˜å¼äº‹åŠ¡ï¼‰å£°æ˜å¼äº‹åŠ¡æ˜¯åŸºäºAOPå®ç°çš„ã€‚\nä½¿ç”¨å£°æ˜å¼äº‹åŠ¡éå¸¸ç®€å•ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨é…ç½®ç±»æ·»åŠ @EnableTransactionManagementæ³¨è§£å³å¯ï¼Œè¿™æ ·å°±å¯ä»¥å¼€å¯Springçš„äº‹åŠ¡æ”¯æŒäº†ã€‚æ¥ç€ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠä¸€ä¸ªäº‹åŠ¡è¦åšçš„æ‰€æœ‰äº‹æƒ…å°è£…åˆ°Serviceå±‚çš„ä¸€ä¸ªæ–¹æ³•ä¸­å³å¯ï¼Œé¦–å…ˆéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­æ³¨å†Œä¸€ä¸ªæ–°çš„Beanï¼Œäº‹åŠ¡éœ€è¦æ‰§è¡Œå¿…é¡»æœ‰ä¸€ä¸ªäº‹åŠ¡ç®¡ç†å™¨ï¼š\n@Bean\npublic TransactionManager transactionManager(@Autowired DataSource dataSource)&#123;\n    return new DataSourceTransactionManager(dataSource);\n&#125;\n\næ¥ç€ç¼–å†™Mapperæ“ä½œï¼š\n@Mapper\npublic interface TestMapper &#123;\n\n    @Insert(&quot;insert into student(name, sex) values(&#39;æµ‹è¯•&#39;, &#39;ç”·&#39;)&quot;)\n    void insertStudent();\n&#125;\n\nè¿™æ ·ä¼šå‘æ•°æ®åº“ä¸­æ’å…¥ä¸€æ¡æ–°çš„å­¦ç”Ÿä¿¡æ¯ï¼Œæ¥ç€ï¼Œå‡è®¾æˆ‘ä»¬è¿™é‡Œæœ‰ä¸€ä¸ªä¸šåŠ¡éœ€è¦è¿ç»­æ’å…¥ä¸¤æ¡å­¦ç”Ÿä¿¡æ¯ï¼Œé¦–å…ˆç¼–å†™ä¸šåŠ¡å±‚çš„æ¥å£ï¼š\npublic interface TestService &#123;\n\n    void test();\n&#125;\n\næ¥ç€ï¼Œæˆ‘ä»¬å†æ¥ç¼–å†™ä¸šåŠ¡å±‚çš„å®ç°ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å°†å…¶æ³¨å†Œä¸ºBeanï¼Œäº¤ç»™Springæ¥è¿›è¡Œç®¡ç†ï¼Œè¿™æ ·å°±å¯ä»¥è‡ªåŠ¨å°†Mapperæ³¨å…¥åˆ°ç±»ä¸­äº†ï¼Œå¹¶ä¸”å¯ä»¥æ”¯æŒäº‹åŠ¡ï¼š\n@Component\npublic class TestServiceImpl implements TestService&#123;\n\n    @Resource\n    TestMapper mapper;\n\n    @Transactional\n    @Override\n    public void test() &#123;\n        mapper.insertStudent();\n        if(true) throw new RuntimeException(&quot;æˆ‘æ˜¯æµ‹è¯•å¼‚å¸¸ï¼&quot;);\n        mapper.insertStudent();\n    &#125;\n&#125;\n\næˆ‘ä»¬åªéœ€åœ¨æ–¹æ³•ä¸Šæ·»åŠ @Transactionalæ³¨è§£ï¼Œå³å¯è¡¨ç¤ºæ­¤æ–¹æ³•æ‰§è¡Œçš„æ˜¯ä¸€ä¸ªäº‹åŠ¡æ“ä½œï¼Œåœ¨è°ƒç”¨æ­¤æ–¹æ³•æ—¶ï¼ŒSpringä¼šé€šè¿‡AOPæœºåˆ¶ä¸ºå…¶è¿›è¡Œå¢å¼ºï¼Œä¸€æ—¦å‘ç°å¼‚å¸¸ï¼Œäº‹åŠ¡ä¼šè‡ªåŠ¨å›æ»šã€‚æœ€åæˆ‘ä»¬æ¥è°ƒç”¨ä¸€ä¸‹æ­¤æ–¹æ³•ï¼š\n@Slf4j\npublic class Main &#123;\n    public static void main(String[] args) &#123;\n        log.info(&quot;é¡¹ç›®æ­£åœ¨å¯åŠ¨...&quot;);\n        ApplicationContext context &#x3D; new AnnotationConfigApplicationContext(TestConfiguration.class);\n        TestService service &#x3D; context.getBean(TestService.class);\n        service.test();\n    &#125;\n&#125;\n\nå¾—åˆ°çš„ç»“æœæ˜¯å‡ºç°é”™è¯¯ï¼š\nåäºŒæœˆ 08, 2021 3:09:29 ä¸‹åˆ com.test.Main main\nä¿¡æ¯: é¡¹ç›®æ­£åœ¨å¯åŠ¨...\nåäºŒæœˆ 08, 2021 3:09:29 ä¸‹åˆ com.zaxxer.hikari.HikariDataSource getConnection\nä¿¡æ¯: HikariPool-1 - Starting...\nåäºŒæœˆ 08, 2021 3:09:29 ä¸‹åˆ com.zaxxer.hikari.HikariDataSource getConnection\nä¿¡æ¯: HikariPool-1 - Start completed.\nException in thread &quot;main&quot; java.lang.RuntimeException: æˆ‘æ˜¯æµ‹è¯•å¼‚å¸¸ï¼\n\tat com.test.service.TestServiceImpl.test(TestServiceImpl.java:22)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n\tat com.sun.proxy.$Proxy30.test(Unknown Source)\n\tat com.test.Main.main(Main.java:17)\n\næˆ‘ä»¬å‘ç°ï¼Œæ•´ä¸ªæ ˆè¿½è¸ªä¿¡æ¯ä¸­åŒ…å«äº†å¤§é‡aopåŒ…ä¸‹çš„ç›¸å…³å†…å®¹ï¼Œä¹Ÿå°±å°è¯äº†ï¼Œå®ƒç¡®å®æ˜¯é€šè¿‡AOPå®ç°çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥ç€æ¥çœ‹ä¸€ä¸‹ï¼Œæ•°æ®åº“ä¸­çš„æ•°æ®æ˜¯å¦æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼ˆå‡ºç°å¼‚å¸¸å›æ»šäº†ï¼‰\nç»“æœæ˜¾è€Œæ˜“è§ï¼Œç¡®å®è¢«å›æ»šäº†ï¼Œæ•°æ®åº“ä¸­æ²¡æœ‰ä»»ä½•çš„å†…å®¹ã€‚\næˆ‘ä»¬æ¥ç€æ¥ç ”ç©¶ä¸€ä¸‹@Transactionalæ³¨è§£çš„ä¸€äº›å‚æ•°ï¼š\n@Target(&#123;ElementType.TYPE, ElementType.METHOD&#125;)\n@Retention(RetentionPolicy.RUNTIME)\n@Inherited\n@Documented\npublic @interface Transactional &#123;\n    @AliasFor(&quot;transactionManager&quot;)\n    String value() default &quot;&quot;;\n\n    @AliasFor(&quot;value&quot;)\n    String transactionManager() default &quot;&quot;;\n\n    String[] label() default &#123;&#125;;\n\n    Propagation propagation() default Propagation.REQUIRED;\n\n    Isolation isolation() default Isolation.DEFAULT;\n\n    int timeout() default -1;\n\n    String timeoutString() default &quot;&quot;;\n\n    boolean readOnly() default false;\n\n    Class&lt;? extends Throwable&gt;[] rollbackFor() default &#123;&#125;;\n\n    String[] rollbackForClassName() default &#123;&#125;;\n\n    Class&lt;? extends Throwable&gt;[] noRollbackFor() default &#123;&#125;;\n\n    String[] noRollbackForClassName() default &#123;&#125;;\n&#125;\n\næˆ‘ä»¬æ¥è®²è§£å‡ ä¸ªæ¯”è¾ƒå…³é”®çš„ä¿¡æ¯ï¼š\n\ntransactionManagerï¼šæŒ‡å®šäº‹åŠ¡ç®¡ç†å™¨\npropagationï¼šäº‹åŠ¡ä¼ æ’­è§„åˆ™ï¼Œä¸€ä¸ªäº‹åŠ¡å¯ä»¥åŒ…æ‹¬Nä¸ªå­äº‹åŠ¡\nisolationï¼šäº‹åŠ¡éš”ç¦»çº§åˆ«ï¼Œä¸å¤šè¯´äº†\ntimeoutï¼šäº‹åŠ¡è¶…æ—¶æ—¶é—´\nreadOnlyï¼šæ˜¯å¦ä¸ºåªè¯»äº‹åŠ¡ï¼Œä¸åŒçš„æ•°æ®åº“ä¼šæ ¹æ®åªè¯»å±æ€§è¿›è¡Œä¼˜åŒ–ï¼Œæ¯”å¦‚MySQLä¸€æ—¦å£°æ˜äº‹åŠ¡ä¸ºåªè¯»ï¼Œé‚£ä¹ˆä¹…ä¸å…è®¸å¢åˆ æ”¹æ“ä½œäº†ã€‚\nrollbackForå’ŒnoRollbackForï¼šå‘ç”ŸæŒ‡å®šå¼‚å¸¸æ—¶å›æ»šæˆ–æ˜¯ä¸å›æ»šï¼Œé»˜è®¤å‘ç”Ÿä»»ä½•å¼‚å¸¸éƒ½å›æ»š\n\né™¤äº†äº‹åŠ¡çš„ä¼ æ’­è§„åˆ™ï¼Œå…¶ä»–çš„å†…å®¹å…¶å®å·²ç»ç»™å¤§å®¶è®²è§£è¿‡äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ¥çœ‹çœ‹äº‹åŠ¡çš„ä¼ æ’­ã€‚äº‹åŠ¡ä¼ æ’­ä¸€å…±æœ‰ä¸ƒç§çº§åˆ«ï¼š\n\nSpringé»˜è®¤çš„ä¼ æ’­çº§åˆ«æ˜¯PROPAGATION_REQUIREDï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥çœ‹çœ‹ï¼Œå®ƒæ˜¯å¦‚ä½•ä¼ æ’­çš„ï¼Œç°åœ¨æˆ‘ä»¬çš„Serviceç±»ä¸­ä¸€å…±å­˜åœ¨ä¸¤ä¸ªäº‹åŠ¡ï¼Œè€Œä¸€ä¸ªäº‹åŠ¡æ–¹æ³•åŒ…å«äº†å¦ä¸€ä¸ªäº‹åŠ¡æ–¹æ³•ï¼š\n@Transactional\npublic void test() &#123;\n    test2();\n    if(true) throw new RuntimeException(&quot;æˆ‘æ˜¯æµ‹è¯•å¼‚å¸¸ï¼&quot;);  &#x2F;&#x2F;å‘ç”Ÿå¼‚å¸¸æ—¶ï¼Œä¼šå›æ»šå¦ä¸€ä¸ªäº‹åŠ¡å—ï¼Ÿ\n&#125;\n\n@Transactional\npublic void test2() &#123;\n    mapper.insertStudent();\n&#125;\n\næœ€åæˆ‘ä»¬å¾—åˆ°ç»“æœï¼Œå¦ä¸€ä¸ªäº‹åŠ¡è¢«å›æ»šäº†ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç›¸å½“äºå¦ä¸€ä¸ªäº‹åŠ¡ç›´æ¥åŠ å…¥åˆ°æ­¤äº‹åŠ¡ä¸­äº†ï¼Œä¹Ÿå°±æ˜¯è¡¨ä¸­æ‰€æè¿°çš„é‚£æ ·ã€‚\nå¦‚æœå•ç‹¬æ‰§è¡Œtest2()åˆ™ä¼šå¼€å¯ä¸€ä¸ªæ–°çš„äº‹åŠ¡ï¼Œè€Œæ‰§è¡Œtest()åˆ™ä¼šç›´æ¥è®©å†…éƒ¨çš„test2()åŠ å…¥åˆ°å½“å‰äº‹åŠ¡ä¸­ã€‚\n@Transactional\npublic void test() &#123;\n    test2();\n&#125;\n\n@Transactional(propagation &#x3D; Propagation.SUPPORTS)\npublic void test2() &#123;\n    mapper.insertStudent();\n   \tif(true) throw new RuntimeException(&quot;æˆ‘æ˜¯æµ‹è¯•å¼‚å¸¸ï¼&quot;);\n&#125;\n\nç°åœ¨æˆ‘ä»¬å°†test2()çš„ä¼ æ’­çº§åˆ«è®¾å®šä¸ºSUPPORTSï¼Œé‚£ä¹ˆè¿™æ—¶å¦‚æœå•ç‹¬è°ƒç”¨test2()æ–¹æ³•ï¼Œå¹¶ä¸ä¼šä»¥äº‹åŠ¡çš„æ–¹å¼æ‰§è¡Œï¼Œå½“å‘ç”Ÿå¼‚å¸¸æ—¶ï¼Œè™½ç„¶ä¾ç„¶å­˜åœ¨AOPå¢å¼ºï¼Œä½†æ˜¯ä¸ä¼šè¿›è¡Œå›æ»šæ“ä½œï¼Œè€Œç°åœ¨å†è°ƒç”¨test()æ–¹æ³•ï¼Œæ‰ä¼šä»¥äº‹åŠ¡çš„æ–¹å¼æ‰§è¡Œã€‚\næˆ‘ä»¬æ¥ç€æ¥çœ‹MANDATORYï¼Œå®ƒéå¸¸ä¸¥æ ¼ï¼Œå¦‚æœå½“å‰æ–¹æ³•å¹¶æ²¡æœ‰åœ¨ä»»ä½•äº‹åŠ¡ä¸­è¿›è¡Œï¼Œä¼šç›´æ¥å‡ºç°å¼‚å¸¸ï¼š\n@Transactional\npublic void test() &#123;\n    test2();\n&#125;\n\n@Transactional(propagation &#x3D; Propagation.MANDATORY)\npublic void test2() &#123;\n    mapper.insertStudent();\n    if(true) throw new RuntimeException(&quot;æˆ‘æ˜¯æµ‹è¯•å¼‚å¸¸ï¼&quot;);\n&#125;\n\nç›´æ¥è¿è¡Œtest2()æ–¹æ³•ï¼ŒæŠ¥é”™å¦‚ä¸‹ï¼š\nException in thread &quot;main&quot; org.springframework.transaction.IllegalTransactionStateException: No existing transaction found for transaction marked with propagation &#39;mandatory&#39;\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:362)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n\tat com.sun.proxy.$Proxy29.test2(Unknown Source)\n\tat com.test.Main.main(Main.java:17)\n\nNESTEDçº§åˆ«è¡¨ç¤ºå¦‚æœå­˜åœ¨å¤–å±‚äº‹åŠ¡ï¼Œåˆ™æ­¤æ–¹æ³•å•ç‹¬åˆ›å»ºä¸€ä¸ªå­äº‹åŠ¡ï¼Œå›æ»šåªä¼šå½±å“åˆ°æ­¤å­äº‹åŠ¡ï¼Œå®é™…ä¸Šå°±æ˜¯åˆ©ç”¨åˆ›å»ºSavepointï¼Œç„¶åå›æ»šåˆ°æ­¤ä¿å­˜ç‚¹å®ç°çš„ã€‚NEVERçº§åˆ«è¡¨ç¤ºæ­¤æ–¹æ³•ä¸åº”è¯¥åŠ å…¥åˆ°ä»»ä½•äº‹åŠ¡ä¸­ï¼Œå…¶ä½™ç±»å‹é€‚ç”¨äºåŒæ—¶æ“ä½œå¤šæ•°æ®æºæƒ…å†µä¸‹çš„åˆ†å¸ƒå¼äº‹åŠ¡ç®¡ç†ï¼Œè¿™é‡Œæš‚æ—¶ä¸åšä»‹ç»ã€‚\nè‡³æ­¤ï¼Œæœ‰å…³Springçš„æ ¸å¿ƒå†…å®¹å°±è®²è§£å®Œæ¯•äº†ã€‚\n\né›†æˆJUnitæµ‹è¯•æ—¢ç„¶ä½¿ç”¨äº†Springï¼Œé‚£ä¹ˆæ€ä¹ˆé›†æˆåˆ°JUnitä¸­è¿›è¡Œæµ‹è¯•å‘¢ï¼Œé¦–å…ˆå¤§å®¶èƒ½å¤Ÿæƒ³åˆ°çš„è‚¯å®šæ˜¯ï¼š\npublic class TestMain &#123;\n\n    @Test\n    public void test()&#123;\n        ApplicationContext context &#x3D; new AnnotationConfigApplicationContext(TestConfiguration.class);\n        TestService service &#x3D; context.getBean(TestService.class);\n        service.test();\n    &#125;\n&#125;\n\nç›´æ¥ç¼–å†™ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹å³å¯ï¼Œä½†æ˜¯è¿™æ ·çš„è¯ï¼Œå¦‚æœæˆ‘ä»¬æœ‰å¾ˆå¤šä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸å¯èƒ½æ¯æ¬¡æµ‹è¯•éƒ½å»åˆ›å»ºApplicationContextå§ï¼Ÿæˆ‘ä»¬å¯ä»¥ä½¿ç”¨@Beforeæ·»åŠ ä¸€ä¸ªæµ‹è¯•å‰åŠ¨ä½œæ¥æå‰é…ç½®ApplicationContextï¼Œä½†æ˜¯è¿™æ ·çš„è¯ï¼Œè¿˜æ˜¯ä¸å¤Ÿç®€ä¾¿ï¼Œèƒ½ä¸èƒ½æœ‰æ›´å¿«é€Ÿé«˜æ•ˆçš„æ–¹æ³•å‘¢ï¼Ÿ\nSpringä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªTestæ¨¡å—ï¼Œå®ƒä¼šè‡ªåŠ¨é›†æˆJunitè¿›è¡Œæµ‹è¯•ï¼Œæˆ‘ä»¬å¯ä»¥å¯¼å…¥ä¸€ä¸‹ä¾èµ–ï¼š\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;&#x2F;groupId&gt;\n    &lt;artifactId&gt;junit-jupiter&lt;&#x2F;artifactId&gt;\n    &lt;version&gt;5.8.1&lt;&#x2F;version&gt;\n    &lt;scope&gt;test&lt;&#x2F;scope&gt;\n&lt;&#x2F;dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;\n    &lt;artifactId&gt;spring-test&lt;&#x2F;artifactId&gt;\n    &lt;version&gt;5.3.12&lt;&#x2F;version&gt;\n&lt;&#x2F;dependency&gt;\n\nè¿™é‡Œå¯¼å…¥çš„æ˜¯JUnit5å’ŒSpringTestæ¨¡å—ä¾èµ–ï¼Œç„¶åç›´æ¥åœ¨æˆ‘ä»¬çš„æµ‹è¯•ç±»ä¸Šæ·»åŠ ä¸¤ä¸ªæ³¨è§£å°±å¯ä»¥æå®šï¼š\n@ExtendWith(SpringExtension.class)\n@ContextConfiguration(classes &#x3D; TestConfiguration.class)\npublic class TestMain &#123;\n\n    @Autowired\n    TestService service;\n    \n    @Test\n    public void test()&#123;\n        service.test();\n    &#125;\n&#125;\n\n@ExtendWithæ˜¯ç”±JUnitæä¾›çš„æ³¨è§£ï¼Œç­‰åŒäºæ—§ç‰ˆæœ¬çš„@RunWithæ³¨è§£ï¼Œç„¶åä½¿ç”¨SpringTestæ¨¡å—æä¾›çš„@ContextConfigurationæ³¨è§£æ¥è¡¨ç¤ºè¦åŠ è½½å“ªä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œå¯ä»¥æ˜¯XMLæ–‡ä»¶ä¹Ÿå¯ä»¥æ˜¯ç±»ï¼Œæˆ‘ä»¬è¿™é‡Œå°±ç›´æ¥ä½¿ç”¨ç±»è¿›è¡ŒåŠ è½½ã€‚\né…ç½®å®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨@Autowiredæ¥è¿›è¡Œä¾èµ–æ³¨å…¥ï¼Œå¹¶ä¸”ç›´æ¥åœ¨æµ‹è¯•æ–¹æ³•ä¸­ä½¿ç”¨æ³¨å…¥çš„Beanï¼Œç°åœ¨å°±éå¸¸æ–¹ä¾¿äº†ã€‚\n\næ¢ç©¶SpringåŸç†æ³¨æ„ï¼šæœ¬ç‰ˆå—éš¾åº¦å¾ˆå¤§ï¼Œä½œä¸ºé€‰å­¦å†…å®¹ã€‚\nå¦‚æœå­¦ä¹ SpringåŸºæœ¬å†…å®¹å¯¹ä½ æ¥è¯´å·²ç»éå¸¸å›°éš¾äº†ï¼Œå»ºè®®è·³è¿‡æ­¤å°èŠ‚ï¼Œç›´æ¥è¿›å…¥MVCé˜¶æ®µçš„å­¦ä¹ ï¼Œæ­¤å°èŠ‚ä¼šä»æºç è§’åº¦è§£é‡ŠSpringçš„æ•´ä¸ªè¿è¡ŒåŸç†ï¼Œå¯¹åˆå­¦è€…æ¥è¯´ç­‰åŒäºå°å­¦è·¨è¶Šåˆ°é«˜ä¸­ï¼Œå®ƒå¹¶ä¸æ˜¯å¿…å­¦å†…å®¹ï¼Œä½†æ˜¯å¯¹äºä¸ªäººå¼€å‘èƒ½åŠ›çš„æå‡æä¸ºé‡è¦ï¼ˆæ¨èå®Œæˆæ•´ä¸ªSSMé˜¶æ®µçš„å­¦ä¹ å¹¶ä¸”åŠ ä»¥å®æˆ˜ä¹‹åå†æ¥çœ‹æ­¤éƒ¨åˆ†ï¼‰ï¼Œå¦‚æœä½ è¿˜æ˜¯è§‰å¾—è‡ªå·±èƒ½å¤Ÿè·Ÿä¸ŠèŠ‚å¥ç»§ç»­æ·±å…¥é’»ç ”åº•å±‚åŸç†ï¼Œé‚£ä¹ˆç°åœ¨å°±å¼€å§‹å§ã€‚\næ¢ç©¶IoCåŸç†é¦–å…ˆæˆ‘ä»¬å¤§è‡´äº†è§£ä¸€ä¸‹ApplicationContextçš„åŠ è½½æµç¨‹ï¼š\n\næˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæ•´ä¸ªè¿‡ç¨‹æä¸ºå¤æ‚ï¼Œä¸€å¥è¯è‚¯å®šæ˜¯æ— æ³•è§£é‡Šçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±ä»ApplicationContextè¯´èµ·å§ã€‚\nç”±äºSpringçš„æºç æä¸ºå¤æ‚ï¼Œå› æ­¤æˆ‘ä»¬ä¸å¯èƒ½å†åƒäº†è§£å…¶ä»–æ¡†æ¶é‚£æ ·ç›´æ¥è‡ªåº•å‘ä¸Šé€è¡Œå¹²æºç äº†ï¼ˆå¯ä»¥è‡ªå·±ç‚¹å¼€çœ‹çœ‹ï¼Œä»£ç é‡éå¸¸ä¹‹å¤šï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆä»ä¸€äº›æœ€åŸºæœ¬çš„æ¥å£å®šä¹‰å¼€å§‹è®²èµ·ï¼Œè‡ªé¡¶å‘ä¸‹é€æ­¥ç“¦è§£ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥çœ‹çœ‹ApplicationContextæœ€é¡¶å±‚æ¥å£æ˜¯ä»€ä¹ˆï¼Œä¸€ç›´å¾€ä¸Šï¼Œæˆ‘ä»¬ä¼šå‘ç°æœ‰ä¸€ä¸ªAbstractApplicationContextç±»ï¼Œæˆ‘ä»¬ç›´æ¥å³é”®ç”Ÿæˆä¸€ä¸ªUMLç±»å›¾æŸ¥çœ‹ï¼š\n![image-20211209202503121](&#x2F;Users&#x2F;nagocoler&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20211209202503121.png)\næˆ‘ä»¬å‘ç°æœ€é¡¶å±‚å®é™…ä¸Šæ˜¯ä¸€ä¸ªBeanFactoryæ¥å£ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ä»è¿™ä¸ªæ¥å£å¼€å§‹ç ”ç©¶èµ·ã€‚\næˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ­¤æ¥å£ä¸­å®šä¹‰äº†å¾ˆå¤šçš„è¡Œä¸ºï¼š\npublic interface BeanFactory &#123;\n    String FACTORY_BEAN_PREFIX &#x3D; &quot;&amp;&quot;;\n\n    Object getBean(String var1) throws BeansException;\n\n    &lt;T&gt; T getBean(String var1, Class&lt;T&gt; var2) throws BeansException;\n\n    Object getBean(String var1, Object... var2) throws BeansException;\n\n    &lt;T&gt; T getBean(Class&lt;T&gt; var1) throws BeansException;\n\n    &lt;T&gt; T getBean(Class&lt;T&gt; var1, Object... var2) throws BeansException;\n\n    &lt;T&gt; ObjectProvider&lt;T&gt; getBeanProvider(Class&lt;T&gt; var1);\n\n    &lt;T&gt; ObjectProvider&lt;T&gt; getBeanProvider(ResolvableType var1);\n\n    boolean containsBean(String var1);\n\n    boolean isSingleton(String var1) throws NoSuchBeanDefinitionException;\n\n    boolean isPrototype(String var1) throws NoSuchBeanDefinitionException;\n\n    boolean isTypeMatch(String var1, ResolvableType var2) throws NoSuchBeanDefinitionException;\n\n    boolean isTypeMatch(String var1, Class&lt;?&gt; var2) throws NoSuchBeanDefinitionException;\n\n    @Nullable\n    Class&lt;?&gt; getType(String var1) throws NoSuchBeanDefinitionException;\n\n    @Nullable\n    Class&lt;?&gt; getType(String var1, boolean var2) throws NoSuchBeanDefinitionException;\n\n    String[] getAliases(String var1);\n&#125;\n\næˆ‘ä»¬å‘ç°ï¼Œå…¶ä¸­æœ€çœ¼ç†Ÿçš„å°±æ˜¯getBean()æ–¹æ³•äº†ï¼Œæ­¤æ–¹æ³•è¢«é‡è½½äº†å¾ˆå¤šæ¬¡ï¼Œå¯ä»¥æ¥å—å¤šç§å‚æ•°ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æ–­å®šï¼Œä¸€ä¸ªIoCå®¹å™¨æœ€åŸºæœ¬çš„è¡Œä¸ºåœ¨æ­¤æ¥å£ä¸­å·²ç»è¢«å®šä¹‰å¥½äº†ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ‰€æœ‰çš„BeanFactoryå®ç°ç±»éƒ½åº”è¯¥å…·å¤‡å®¹å™¨ç®¡ç†Beançš„åŸºæœ¬èƒ½åŠ›ï¼Œå°±åƒå®ƒçš„åå­—ä¸€æ ·ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªBeanå·¥å‚ï¼Œå·¥å‚å°±æ˜¯ç”¨æ¥ç”Ÿäº§Beanå®ä¾‹å¯¹è±¡çš„ã€‚\næˆ‘ä»¬å¯ä»¥ç›´æ¥æ‰¾åˆ°æ­¤æ¥å£çš„ä¸€ä¸ªæŠ½è±¡å®ç°AbstractBeanFactoryç±»ï¼Œå®ƒå®ç°äº†getBean()æ–¹æ³•ï¼š\npublic Object getBean(String name) throws BeansException &#123;\n    return this.doGetBean(name, (Class)null, (Object[])null, false);\n&#125;\n\né‚£ä¹ˆæˆ‘ä»¬doGetBean()æ¥ç€æ¥çœ‹æ–¹æ³•é‡Œé¢å¹²äº†ä»€ä¹ˆï¼š\nprotected &lt;T&gt; T doGetBean(String name, @Nullable Class&lt;T&gt; requiredType, @Nullable Object[] args, boolean typeCheckOnly) throws BeansException &#123;\n    String beanName &#x3D; this.transformedBeanName(name);\n    Object sharedInstance &#x3D; this.getSingleton(beanName);\n    Object beanInstance;\n    if (sharedInstance !&#x3D; null &amp;&amp; args &#x3D;&#x3D; null) &#123;\n      ...\n\nå› ä¸ºæ‰€æœ‰çš„Beané»˜è®¤éƒ½æ˜¯å•ä¾‹æ¨¡å¼ï¼Œå¯¹è±¡åªä¼šå­˜åœ¨ä¸€ä¸ªï¼Œå› æ­¤å®ƒä¼šå…ˆè°ƒç”¨çˆ¶ç±»çš„getSingleton()æ–¹æ³•æ¥ç›´æ¥è·å–å•ä¾‹å¯¹è±¡ï¼Œå¦‚æœæœ‰çš„è¯ï¼Œå°±å¯ä»¥ç›´æ¥æ‹¿åˆ°Beançš„å®ä¾‹ã€‚å¦‚æœæ²¡æœ‰ä¼šè¿›å…¥elseä»£ç å—ï¼Œæˆ‘ä»¬æ¥ç€æ¥çœ‹ï¼Œé¦–å…ˆä¼šè¿›è¡Œä¸€ä¸ªåˆ¤æ–­ï¼š\nif (this.isPrototypeCurrentlyInCreation(beanName)) &#123;\n    throw new BeanCurrentlyInCreationException(beanName);\n&#125;\n\nè¿™æ˜¯ä¸ºäº†è§£å†³å¾ªç¯ä¾èµ–è¿›è¡Œçš„å¤„ç†ï¼Œæ¯”å¦‚Aå’ŒBéƒ½æ˜¯ä»¥åŸå‹æ¨¡å¼è¿›è¡Œåˆ›å»ºï¼Œè€ŒAä¸­éœ€è¦æ³¨å…¥Bï¼ŒBä¸­éœ€è¦æ³¨å…¥Aï¼Œè¿™æ—¶å°±ä¼šå‡ºç°Aè¿˜æœªåˆ›å»ºå®Œæˆï¼Œå°±éœ€è¦Bï¼Œè€ŒBè¿™æ—¶ä¹Ÿæ²¡åˆ›å»ºå®Œæˆï¼Œå› ä¸ºBéœ€è¦Aï¼Œè€ŒAç­‰ç€Bï¼Œè¿™æ ·å°±åªèƒ½æ— é™å¾ªç¯ä¸‹å»äº†ï¼Œæ‰€ä»¥å°±å‡ºç°äº†å¾ªç¯ä¾èµ–çš„é—®é¢˜ï¼ˆåŒç†ï¼Œä¸€ä¸ªå¯¹è±¡ï¼Œå¤šä¸ªå¯¹è±¡ä¹Ÿä¼šå‡ºç°è¿™ç§æƒ…å†µï¼‰ä½†æ˜¯åœ¨å•ä¾‹æ¨¡å¼ä¸‹ï¼Œç”±äºæ¯ä¸ªBeanåªä¼šåˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼ŒSpringå®Œå…¨æœ‰æœºä¼šå¤„ç†å¥½å¾ªç¯ä¾èµ–çš„é—®é¢˜ï¼Œåªéœ€è¦ä¸€ä¸ªæ­£ç¡®çš„èµ‹å€¼æ“ä½œå®ç°å¾ªç¯å³å¯ã€‚é‚£ä¹ˆå•ä¾‹æ¨¡å¼ä¸‹æ˜¯å¦‚ä½•è§£å†³å¾ªç¯ä¾èµ–é—®é¢˜çš„å‘¢ï¼Ÿ\n\næˆ‘ä»¬å›åˆ°getSingleton()æ–¹æ³•ä¸­ï¼Œå•ä¾‹æ¨¡å¼æ˜¯å¯ä»¥è‡ªåŠ¨è§£å†³å¾ªç¯ä¾èµ–é—®é¢˜çš„ï¼š\n@Nullable\nprotected Object getSingleton(String beanName, boolean allowEarlyReference) &#123;\n    Object singletonObject &#x3D; this.singletonObjects.get(beanName);\n  \t&#x2F;&#x2F;å…ˆä»ç¬¬ä¸€å±‚åˆ—è¡¨ä¸­æ‹¿Beanå®ä¾‹ï¼Œæ‹¿åˆ°ç›´æ¥è¿”å›\n    if (singletonObject &#x3D;&#x3D; null &amp;&amp; this.isSingletonCurrentlyInCreation(beanName)) &#123;\n      \t&#x2F;&#x2F;ç¬¬ä¸€å±‚æ‹¿ä¸åˆ°ï¼Œå¹¶ä¸”å·²ç»è®¤å®šä¸ºå¤„äºå¾ªç¯çŠ¶æ€ï¼Œçœ‹çœ‹ç¬¬äºŒå±‚æœ‰æ²¡æœ‰\n        singletonObject &#x3D; this.earlySingletonObjects.get(beanName);\n        if (singletonObject &#x3D;&#x3D; null &amp;&amp; allowEarlyReference) &#123;\n            synchronized(this.singletonObjects) &#123;\n              \t&#x2F;&#x2F;åŠ é”å†æ‰§è¡Œä¸€æ¬¡ä¸Šè¿°æµç¨‹\n                singletonObject &#x3D; this.singletonObjects.get(beanName);\n                if (singletonObject &#x3D;&#x3D; null) &#123;\n                    singletonObject &#x3D; this.earlySingletonObjects.get(beanName);\n                    if (singletonObject &#x3D;&#x3D; null) &#123;\n                      \t&#x2F;&#x2F;ä»ç„¶æ²¡æœ‰è·å–åˆ°å®ä¾‹ï¼Œåªèƒ½ä»singletonFactoryä¸­è·å–äº†\n                        ObjectFactory&lt;?&gt; singletonFactory &#x3D; (ObjectFactory)this.singletonFactories.get(beanName);\n                        if (singletonFactory !&#x3D; null) &#123;\n                            singletonObject &#x3D; singletonFactory.getObject();\n                          \t&#x2F;&#x2F;ä¸¢è¿›earlySingletonObjectsä¸­ï¼Œä¸‹æ¬¡å°±å¯ä»¥ç›´æ¥åœ¨ç¬¬äºŒå±‚æ‹¿åˆ°äº†\n                            this.earlySingletonObjects.put(beanName, singletonObject);\n                            this.singletonFactories.remove(beanName);\n                        &#125;\n                    &#125;\n                &#125;\n            &#125;\n        &#125;\n    &#125;\n\n    return singletonObject;\n&#125;\n\nçœ‹èµ·æ¥å¾ˆå¤æ‚ï¼Œå®é™…ä¸Šå®ƒä½¿ç”¨äº†ä¸‰å±‚åˆ—è¡¨çš„æ–¹å¼æ¥å¤„ç†å¾ªç¯ä¾èµ–çš„é—®é¢˜ã€‚åŒ…æ‹¬ï¼š\n\nsingletonObjects\nearlySingletonObjects\nsingletonFactories\n\nå½“ç¬¬ä¸€å±‚æ‹¿ä¸åˆ°æ—¶ï¼Œä¼šæ¥ç€åˆ¤æ–­è¿™ä¸ªBeanæ˜¯å¦å¤„äºåˆ›å»ºçŠ¶æ€isSingletonCurrentlyInCreation()ï¼Œå®ƒä¼šä»ä¸€ä¸ªSeté›†åˆä¸­æŸ¥è¯¢ï¼Œè¿™ä¸ªé›†åˆä¸­å­˜å‚¨äº†å·²ç»åˆ›å»ºä½†è¿˜æœªæ³¨å…¥å±æ€§çš„å®ä¾‹å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´å¤„äºæ­£åœ¨åˆ›å»ºçŠ¶æ€ï¼Œå¦‚æœè¯´å‘ç°æ­¤Beanå¤„äºæ­£åœ¨åˆ›å»ºçŠ¶æ€ï¼ˆä¸€å®šæ˜¯å› ä¸ºæŸä¸ªBeanéœ€è¦æ³¨å…¥è¿™ä¸ªBeançš„å®ä¾‹ï¼‰ï¼Œå°±å¯ä»¥æ–­å®šå®ƒåº”è¯¥æ˜¯å‡ºç°äº†å¾ªç¯ä¾èµ–çš„æƒ…å†µã€‚\nearlySingletonObjectsç›¸å½“äºæ˜¯ä¸“é—¨å¤„ç†å¾ªç¯ä¾èµ–çš„è¡¨ï¼Œä¸€èˆ¬åŒ…å«singletonObjectsä¸­çš„å…¨éƒ¨å®ä¾‹ï¼Œå¦‚æœè¿™ä¸ªé‡Œé¢è¿˜æ˜¯æ²¡æœ‰ï¼Œæ¥ç€å¾€ä¸‹èµ°ï¼Œè¿™æ—¶ä¼šä»singletonFactoriesä¸­è·å–ï¼ˆæ‰€æœ‰çš„Beanåˆå§‹åŒ–å®Œæˆä¹‹åéƒ½ä¼šè¢«ä¸¢è¿›singletonFactoriesï¼Œä¹Ÿå°±æ˜¯åªåˆ›å»ºäº†ï¼Œä½†æ˜¯è¿˜æ²¡è¿›è¡Œä¾èµ–æ³¨å…¥çš„æ—¶å€™ï¼‰åœ¨è·å–åˆ°åï¼Œå‘earlySingletonObjectsä¸­ä¸¢å…¥æ­¤Beançš„å®ä¾‹ï¼Œå¹¶å°†å®ä¾‹ä»singletonFactoriesä¸­ç§»é™¤ã€‚\næˆ‘ä»¬æœ€åå†æ¥æ¢³ç†ä¸€ä¸‹æµç¨‹ï¼Œè¿˜æ˜¯ç”¨æˆ‘ä»¬åˆšæ‰çš„ä¾‹å­ï¼ŒAä¾èµ–äºBï¼ŒBä¾èµ–äºAï¼š\n\nå‡å¦‚Aå…ˆè½½å…¥ï¼Œé‚£ä¹ˆAé¦–å…ˆè¿›å…¥äº†singletonFactoriesä¸­ï¼Œæ³¨æ„è¿™æ—¶è¿˜æ²¡è¿›è¡Œä¾èµ–æ³¨å…¥ï¼ŒAä¸­çš„Bè¿˜æ˜¯null\nsingletonFactoriesï¼šA\nearlySingletonObjectsï¼š\nsingletonObjectsï¼š\n\n\næ¥ç€è‚¯å®šæ˜¯æ³¨å…¥Açš„ä¾èµ–Bäº†ï¼Œä½†æ˜¯Bè¿˜æ²¡åˆå§‹åŒ–ï¼Œå› æ­¤ç°åœ¨å…ˆæŠŠBç»™è½½å…¥äº†ï¼ŒBæ„é€ å®Œæˆåä¹Ÿè¿›äº†singletonFactories\nsingletonFactoriesï¼šAï¼ŒB\nearlySingletonObjectsï¼š\nsingletonObjectsï¼š\n\n\nå¼€å§‹ä¸ºBæ³¨å…¥ä¾èµ–ï¼Œå‘ç°Bä¾èµ–äºAï¼Œè¿™æ—¶åˆå¾—å»è·å–Açš„å®ä¾‹ï¼Œæ ¹æ®ä¸Šé¢çš„åˆ†æï¼Œè¿™æ—¶å€™Aè¿˜åœ¨singletonFactoriesä¸­ï¼Œé‚£ä¹ˆå®ƒä¼šè¢«ä¸¢è¿›earlySingletonObjectsï¼Œç„¶åä»singletonFactoriesä¸­ç§»é™¤ï¼Œç„¶åè¿”å›Açš„å®ä¾‹ï¼ˆæ³¨æ„æ­¤æ—¶Aä¸­çš„Bä¾èµ–è¿˜æ˜¯nullï¼‰\nsingletonFactoriesï¼šB\nearlySingletonObjectsï¼šA\nsingletonObjectsï¼š\n\n\nè¿™æ—¶Bå·²ç»å®Œæˆä¾èµ–æ³¨å…¥äº†ï¼Œå› æ­¤å¯ä»¥ç›´æ¥ä¸¢è¿›singletonObjectsä¸­\nsingletonFactoriesï¼š\nearlySingletonObjectsï¼šA\nsingletonObjectsï¼šB\n\n\nç„¶åå†å°†Bæ³¨å…¥åˆ°Aä¸­ï¼Œå®ŒæˆAçš„ä¾èµ–æ³¨å…¥ï¼ŒAä¹Ÿè¢«ä¸¢è¿›singletonObjectsä¸­ï¼Œè‡³æ­¤å¾ªç¯ä¾èµ–å®Œæˆï¼ŒAå’ŒBå®Œæˆå®ä¾‹åˆ›å»º\nsingletonFactoriesï¼š\nearlySingletonObjectsï¼š\nsingletonObjectsï¼šAï¼ŒB\n\n\n\nç»è¿‡æ•´ä½“è¿‡ç¨‹æ¢³ç†ï¼Œå…³äºSpringå¦‚ä½•è§£å†³å•ä¾‹æ¨¡å¼çš„å¾ªç¯ä¾èµ–ç†è§£èµ·æ¥å°±éå¸¸ç®€å•äº†ã€‚\nç°åœ¨è®©æˆ‘ä»¬å›åˆ°ä¹‹å‰çš„åœ°æ–¹ï¼ŒåŸå‹æ¨¡å¼ä¸‹å¦‚æœå‡ºç°å¾ªç¯ä¾èµ–ä¼šç›´æ¥æŠ›å‡ºå¼‚å¸¸ï¼Œå¦‚æœä¸å­˜åœ¨ä¼šæ¥ç€å‘ä¸‹ï¼š\n&#x2F;&#x2F;BeanFactoryå­˜åœ¨çˆ¶å­å…³ç³»\nBeanFactory parentBeanFactory &#x3D; this.getParentBeanFactory();\n&#x2F;&#x2F;å¦‚æœå­˜åœ¨çˆ¶BeanFactoryï¼ŒåŒæ—¶å½“å‰BeanFactoryæ²¡æœ‰è¿™ä¸ªBeançš„å®šä¹‰\nif (parentBeanFactory !&#x3D; null &amp;&amp; !this.containsBeanDefinition(beanName)) &#123;\n  \t&#x2F;&#x2F;è¿™é‡Œæ˜¯å› ä¸ºBeanå¯èƒ½æœ‰åˆ«åï¼Œæ‰¾æœ€åŸå§‹çš„é‚£ä¸ªåç§°\n    String nameToLookup &#x3D; this.originalBeanName(name);\n    if (parentBeanFactory instanceof AbstractBeanFactory) &#123;\n      \t&#x2F;&#x2F;å‘çˆ¶BeanFactoryé€’å½’æŸ¥æ‰¾\n        return ((AbstractBeanFactory)parentBeanFactory).doGetBean(nameToLookup, requiredType, args, typeCheckOnly);\n    &#125;\n\n    if (args !&#x3D; null) &#123;\n      \t&#x2F;&#x2F;æ ¹æ®å‚æ•°æŸ¥æ‰¾\n        return parentBeanFactory.getBean(nameToLookup, args);\n    &#125;\n\n    if (requiredType !&#x3D; null) &#123;\n      \t&#x2F;&#x2F;æ ¹æ®ç±»å‹æŸ¥æ‰¾\n        return parentBeanFactory.getBean(nameToLookup, requiredType);\n    &#125;\n\n  \t&#x2F;&#x2F;å„ç§æ‰¾\n    return parentBeanFactory.getBean(nameToLookup);\n&#125;\n\nä¹Ÿå°±æ˜¯è¯´ï¼ŒBeanFactoryä¼šå…ˆçœ‹å½“å‰æ˜¯å¦å­˜åœ¨Beançš„å®šä¹‰ï¼Œå¦‚æœæ²¡æœ‰ä¼šç›´æ¥ç”¨çˆ¶BeanFactoryå„ç§æ‰¾ã€‚è¿™é‡Œå‡ºç°äº†ä¸€ä¸ªæ–°çš„æ¥å£BeanDefinitionï¼Œæ—¢ç„¶å·¥å‚éœ€è¦ç”Ÿäº§å•†å“ï¼Œé‚£ä¹ˆè‚¯å®šéœ€è¦æ‹¿åˆ°å•†å“çš„åŸææ–™ä»¥åŠåˆ¶ä½œé…æ–¹ï¼Œæˆ‘ä»¬çš„Beanä¹Ÿæ˜¯è¿™æ ·ï¼ŒBeanå·¥å‚éœ€è¦æ‹¿åˆ°Beançš„ä¿¡æ¯æ‰å¯ä»¥å»ç”Ÿæˆè¿™ä¸ªBeançš„å®ä¾‹å¯¹è±¡ï¼Œè€ŒBeanDefinitionå°±æ˜¯ç”¨äºå­˜æ”¾Beançš„ä¿¡æ¯çš„ï¼Œæ‰€æœ‰çš„Beanä¿¡æ¯æ­£æ˜¯ä»XMLé…ç½®æ–‡ä»¶è¯»å–æˆ–æ˜¯æ³¨è§£æ‰«æåå¾—åˆ°çš„ã€‚\næˆ‘ä»¬æ¥ç€æ¥çœ‹ï¼Œå¦‚æœæ­¤BeanFactoryä¸å­˜åœ¨çˆ¶BeanFactoryæˆ–æ˜¯åŒ…å«äº†Beançš„å®šä¹‰ï¼Œé‚£ä¹ˆä¼šæ¥ç€å¾€ä¸‹èµ°ï¼Œè¿™æ—¶åªèƒ½è‡ªå·±åˆ›å»ºBeanäº†ï¼Œé¦–å…ˆä¼šæ‹¿åˆ°ä¸€ä¸ªRootBeanDefinitionå¯¹è±¡ï¼š\ntry &#123;\n    if (requiredType !&#x3D; null) &#123;\n        beanCreation.tag(&quot;beanType&quot;, requiredType::toString);\n    &#125;\n\n    RootBeanDefinition mbd &#x3D; this.getMergedLocalBeanDefinition(beanName);\n\nä¸‹é¢çš„å†…å®¹å°±éå¸¸å¤æ‚äº†ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œå®ƒä¸€å®šæ˜¯æ ¹æ®å¯¹åº”çš„ç±»å‹ï¼ˆå•ä¾‹ã€åŸå‹ï¼‰è¿›è¡Œäº†å¯¹åº”çš„å¤„ç†ï¼Œæœ€åè‡ªè¡Œåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡è¿”å›ã€‚ä¸€ä¸ªBeançš„åŠ è½½æµç¨‹ä¸ºï¼š\né¦–å…ˆæ‹¿åˆ°BeanDefinitionå®šä¹‰ï¼Œé€‰æ‹©å¯¹åº”çš„æ„é€ æ–¹æ³•ï¼Œé€šè¿‡åå°„è¿›è¡Œå®ä¾‹åŒ–ï¼Œç„¶åè¿›è¡Œå±æ€§å¡«å……ï¼ˆä¾èµ–æ³¨å…¥ï¼‰ï¼Œå®Œæˆä¹‹åå†è°ƒç”¨åˆå§‹åŒ–æ–¹æ³•ï¼ˆinit-methodï¼‰ï¼Œæœ€åå¦‚æœå­˜åœ¨AOPï¼Œåˆ™ä¼šç”Ÿæˆä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œæœ€åè¿”å›çš„æ‰æ˜¯æˆ‘ä»¬çœŸæ­£å¾—åˆ°çš„Beanå¯¹è±¡ã€‚\næœ€åè®©æˆ‘ä»¬å›åˆ°ApplicationContextä¸­ï¼Œå®é™…ä¸Šï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªå¼ºåŒ–ç‰ˆçš„BeanFactoryï¼Œåœ¨æœ€åŸºæœ¬çš„Beanç®¡ç†åŸºç¡€ä¸Šï¼Œè¿˜æ·»åŠ äº†ï¼š\n\nå›½é™…åŒ–ï¼ˆMessageSourceï¼‰\nè®¿é—®èµ„æºï¼Œå¦‚URLå’Œæ–‡ä»¶ï¼ˆResourceLoaderï¼‰\nè½½å…¥å¤šä¸ªï¼ˆæœ‰ç»§æ‰¿å…³ç³»ï¼‰ä¸Šä¸‹æ–‡ \næ¶ˆæ¯å‘é€ã€å“åº”æœºåˆ¶ï¼ˆApplicationEventPublisherï¼‰\nAOPæœºåˆ¶\n\næˆ‘ä»¬å‘ç°ï¼Œæ— è®ºæ˜¯è¿˜æ˜¯çš„æ„é€ æ–¹æ³•ä¸­éƒ½ä¼šè°ƒç”¨refresh()æ–¹æ³•æ¥åˆ·æ–°åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ï¼š\npublic AnnotationConfigApplicationContext(Class&lt;?&gt;... componentClasses) &#123;\n    this();\n    this.register(componentClasses);\n    this.refresh();\n&#125;\n\næ­¤æ–¹æ³•åœ¨è®²è§£å®ŒAOPåŸç†ä¹‹åï¼Œå†è¿›è¡Œè®²è§£ã€‚ç»¼ä¸Šï¼Œæœ‰å…³IoCå®¹å™¨çš„å¤§éƒ¨åˆ†åŸç†å°±è®²è§£å®Œæ¯•äº†ã€‚\næ¢ç©¶AOPåŸç†å‰é¢æˆ‘ä»¬æåˆ°äº†PostProcessorï¼Œå®ƒå…¶å®æ˜¯Springæä¾›çš„ä¸€ç§åç½®å¤„ç†æœºåˆ¶ï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬èƒ½å¤Ÿæ’æ‰‹Beanã€BeanFactoryã€BeanDefinitionçš„åˆ›å»ºè¿‡ç¨‹ï¼Œç›¸å½“äºè¿›è¡Œä¸€ä¸ªæœ€ç»ˆçš„å¤„ç†ï¼Œè€Œæœ€åå¾—åˆ°çš„ç»“æœï¼ˆæ¯”å¦‚Beanå®ä¾‹ã€Beanå®šä¹‰ç­‰ï¼‰å°±æ˜¯ç»è¿‡åç½®å¤„ç†å™¨è¿”å›çš„ç»“æœï¼Œå®ƒæ˜¯æ•´ä¸ªåŠ è½½è¿‡ç¨‹çš„æœ€åä¸€æ­¥ã€‚\nè€ŒAOPæœºåˆ¶æ­£æ˜¯é€šè¿‡å®ƒæ¥å®ç°çš„ï¼Œæˆ‘ä»¬é¦–å…ˆæ¥è®¤è¯†ä¸€ä¸‹ç¬¬ä¸€ä¸ªæ¥å£BeanPostProcessorï¼Œå®ƒç›¸å½“äºBeanåˆå§‹åŒ–çš„ä¸€ä¸ªåç½®åŠ¨ä½œï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å®ç°æ­¤æ¥å£ï¼š\n&#x2F;&#x2F;æ³¨æ„å®ƒåç½®å¤„ç†å™¨ä¹Ÿè¦è¿›è¡Œæ³¨å†Œ\n@Component\npublic class TestBeanProcessor implements BeanPostProcessor &#123;\n    @Override\n    public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException &#123;\n        System.out.println(beanName);  &#x2F;&#x2F;æ‰“å°beançš„åç§°\n        return bean;\n    &#125;\n\n    @Override\n    public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException &#123;\n        return BeanPostProcessor.super.postProcessBeforeInitialization(bean, beanName);\n    &#125;\n&#125;\n\næˆ‘ä»¬å‘ç°ï¼Œæ­¤æ¥å£ä¸­åŒ…æ‹¬ä¸¤ä¸ªæ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯postProcessAfterInitializationç”¨äºåœ¨Beanåˆå§‹åŒ–ä¹‹åè¿›è¡Œå¤„ç†ï¼Œè¿˜æœ‰ä¸€ä¸ªpostProcessBeforeInitializationç”¨äºåœ¨Beanåˆå§‹åŒ–ä¹‹å‰è¿›è¡Œå¤„ç†ï¼Œæ³¨æ„è¿™é‡Œçš„åˆå§‹åŒ–ä¸æ˜¯åˆ›å»ºå¯¹è±¡ï¼Œè€Œæ˜¯è°ƒç”¨ç±»çš„åˆå§‹åŒ–æ–¹æ³•ï¼Œæ¯”å¦‚ï¼š\n@Component\npublic class TestBeanProcessor implements BeanPostProcessor &#123;\n    @Override\n    public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException &#123;\n        System.out.println(&quot;æˆ‘æ˜¯ä¹‹åï¼š&quot;+beanName);\n        return bean;   &#x2F;&#x2F;è¿™é‡Œè¿”å›çš„Beanç›¸å½“äºæœ€ç»ˆçš„ç»“æœäº†ï¼Œæˆ‘ä»¬ä¾ç„¶èƒ½å¤Ÿæ’æ‰‹ä¿®æ”¹ï¼Œè¿™é‡Œè¿”å›ä¹‹åæ˜¯ä»€ä¹ˆå°±æ˜¯ä»€ä¹ˆäº†\n    &#125;\n\n    @Override\n    public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException &#123;\n        System.out.println(&quot;æˆ‘æ˜¯ä¹‹å‰ï¼š&quot;+beanName);\n        return bean;   &#x2F;&#x2F;è¿™é‡Œè¿”å›çš„Beanä¼šäº¤ç»™ä¸‹ä¸€ä¸ªé˜¶æ®µï¼Œä¹Ÿå°±æ˜¯åˆå§‹åŒ–æ–¹æ³•\n    &#125;\n&#125;\n\n@Component\npublic class TestServiceImpl implements TestService&#123;\n\n    public TestServiceImpl()&#123;\n        System.out.println(&quot;æˆ‘æ˜¯æ„é€ æ–¹æ³•&quot;);\n    &#125;\n\n    @PostConstruct\n    public void init()&#123;\n        System.out.println(&quot;æˆ‘æ˜¯åˆå§‹åŒ–æ–¹æ³•&quot;);\n    &#125;\n\n    TestMapper mapper;\n\n    @Autowired\n    public void setMapper(TestMapper mapper) &#123;\n        System.out.println(&quot;æˆ‘æ˜¯ä¾èµ–æ³¨å…¥&quot;);\n        this.mapper &#x3D; mapper;\n    &#125;\n  \t\n  \t...\n\nè€ŒTestServiceImplçš„åŠ è½½é¡ºåºä¸ºï¼š\næˆ‘æ˜¯æ„é€ æ–¹æ³•\næˆ‘æ˜¯ä¾èµ–æ³¨å…¥\næˆ‘æ˜¯ä¹‹å‰ï¼štestServiceImpl\næˆ‘æ˜¯åˆå§‹åŒ–æ–¹æ³•\næˆ‘æ˜¯ä¹‹åï¼štestServiceImpl\n\nç°åœ¨æˆ‘ä»¬å†æ¥æ€»ç»“ä¸€ä¸‹ä¸€ä¸ªBeançš„åŠ è½½æµç¨‹ï¼š\n[Beanå®šä¹‰]é¦–å…ˆæ‰«æBeanï¼ŒåŠ è½½Beanå®šä¹‰ -&gt; [ä¾èµ–æ³¨å…¥]æ ¹æ®Beanå®šä¹‰é€šè¿‡åå°„åˆ›å»ºBeanå®ä¾‹ -&gt; [ä¾èµ–æ³¨å…¥]è¿›è¡Œä¾èµ–æ³¨å…¥ï¼ˆé¡ºä¾¿è§£å†³å¾ªç¯ä¾èµ–é—®é¢˜ï¼‰-&gt; [åˆå§‹åŒ–Bean]BeanPostProcessorçš„åˆå§‹åŒ–ä¹‹å‰æ–¹æ³• -&gt; [åˆå§‹åŒ–Bean]Beanåˆå§‹åŒ–æ–¹æ³• -&gt; [åˆå§‹åŒ–Bean]BeanPostProcessorçš„åˆå§‹åŒ–ä¹‹å‰åæ–¹æ³• -&gt; [å®Œæˆ]æœ€ç»ˆå¾—åˆ°çš„BeanåŠ è½½å®Œæˆçš„å®ä¾‹\nåˆ©ç”¨è¿™ç§æœºåˆ¶ï¼Œç†è§£Aopçš„å®ç°è¿‡ç¨‹å°±éå¸¸ç®€å•äº†ï¼ŒAOPå®é™…ä¸Šä¹Ÿæ˜¯é€šè¿‡è¿™ç§æœºåˆ¶å®ç°çš„ï¼Œå®ƒçš„å®ç°ç±»æ˜¯AnnotationAwareAspectJAutoProxyCreatorï¼Œè€Œå®ƒå°±æ˜¯åœ¨æœ€åå¯¹Beanè¿›è¡Œäº†ä»£ç†ï¼Œå› æ­¤æœ€åæˆ‘ä»¬å¾—åˆ°çš„ç»“æœå®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªåŠ¨æ€ä»£ç†çš„å¯¹è±¡ï¼ˆæœ‰å…³è¯¦ç»†å®ç°è¿‡ç¨‹ï¼Œè¿™é‡Œå°±ä¸è¿›è¡Œåˆ—ä¸¾äº†ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥ç»§ç»­æ·±å…¥ï¼‰\né‚£ä¹ˆè‚¯å®šæœ‰äººæœ‰ç–‘é—®äº†ï¼Œè¿™ä¸ªç±»æ²¡æœ‰è¢«æ³¨å†Œå•Šï¼Œé‚£æŒ‰ç†è¯´å®ƒä¸åº”è¯¥å‚ä¸åˆ°Beançš„åˆå§‹åŒ–æµç¨‹ä¸­çš„ï¼Œä¸ºä»€ä¹ˆå®ƒç›´æ¥å°±è¢«åŠ è½½äº†å‘¢ï¼Ÿ\nè¿˜è®°å¾—@EnableAspectJAutoProxyå—ï¼Ÿæˆ‘ä»¬æ¥çœ‹çœ‹å®ƒæ˜¯å¦‚ä½•å®šä¹‰å°±çŸ¥é“äº†ï¼š\n@Target(&#123;ElementType.TYPE&#125;)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Import(&#123;AspectJAutoProxyRegistrar.class&#125;)\npublic @interface EnableAspectJAutoProxy &#123;\n    boolean proxyTargetClass() default false;\n\n    boolean exposeProxy() default false;\n&#125;\n\næˆ‘ä»¬å‘ç°å®ƒä½¿ç”¨äº†@Importæ¥æ³¨å†ŒAspectJAutoProxyRegistrarï¼Œé‚£ä¹ˆè¿™ä¸ªç±»åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Œæˆ‘ä»¬æ¥ç€æ¥çœ‹ï¼š\nclass AspectJAutoProxyRegistrar implements ImportBeanDefinitionRegistrar &#123;\n    AspectJAutoProxyRegistrar() &#123;\n    &#125;\n\n    public void registerBeanDefinitions(AnnotationMetadata importingClassMetadata, BeanDefinitionRegistry registry) &#123;\n      \t&#x2F;&#x2F;æ³¨å†ŒAnnotationAwareAspectJAutoProxyCreatoråˆ°å®¹å™¨ä¸­\n        AopConfigUtils.registerAspectJAnnotationAutoProxyCreatorIfNecessary(registry);\n        AnnotationAttributes enableAspectJAutoProxy &#x3D; AnnotationConfigUtils.attributesFor(importingClassMetadata, EnableAspectJAutoProxy.class);\n        if (enableAspectJAutoProxy !&#x3D; null) &#123;\n            if (enableAspectJAutoProxy.getBoolean(&quot;proxyTargetClass&quot;)) &#123;\n                AopConfigUtils.forceAutoProxyCreatorToUseClassProxying(registry);\n            &#125;\n\n            if (enableAspectJAutoProxy.getBoolean(&quot;exposeProxy&quot;)) &#123;\n                AopConfigUtils.forceAutoProxyCreatorToExposeProxy(registry);\n            &#125;\n        &#125;\n\n    &#125;\n&#125;\n\nå®ƒå®ç°äº†æ¥å£ï¼Œè¿™ä¸ªæ¥å£ä¹Ÿæ˜¯Springæä¾›çš„ä¸€ç§BeanåŠ è½½æœºåˆ¶ï¼Œå®ƒæ”¯æŒç›´æ¥å‘å®¹å™¨ä¸­æ·»åŠ Beanå®šä¹‰ï¼Œå®¹å™¨ä¹Ÿä¼šåŠ è½½è¿™ä¸ªBeanï¼š\n\nImportBeanDefinitionRegistrarç±»åªèƒ½é€šè¿‡å…¶ä»–ç±»@Importçš„æ–¹å¼æ¥åŠ è½½ï¼Œé€šå¸¸æ˜¯å¯åŠ¨ç±»æˆ–é…ç½®ç±»ã€‚\nä½¿ç”¨@Importï¼Œå¦‚æœæ‹¬å·ä¸­çš„ç±»æ˜¯ImportBeanDefinitionRegistrarçš„å®ç°ç±»ï¼Œåˆ™ä¼šè°ƒç”¨æ¥å£ä¸­æ–¹æ³•ï¼ˆä¸€èˆ¬ç”¨äºæ³¨å†ŒBeanï¼‰\nå®ç°è¯¥æ¥å£çš„ç±»æ‹¥æœ‰æ³¨å†Œbeançš„èƒ½åŠ›ã€‚\n\næˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ­¤æ¥å£æä¾›äº†ä¸€ä¸ªBeanDefinitionRegistryæ­£æ˜¯ç”¨äºæ³¨å†ŒBeançš„å®šä¹‰çš„ã€‚\nå› æ­¤ï¼Œå½“æˆ‘ä»¬æ‰“ä¸Šäº†@EnableAspectJAutoProxyæ³¨è§£ä¹‹åï¼Œé¦–å…ˆä¼šé€šè¿‡@ImportåŠ è½½AspectJAutoProxyRegistrarï¼Œç„¶åè°ƒç”¨å…¶registerBeanDefinitionsæ–¹æ³•ï¼Œç„¶åä½¿ç”¨å·¥å…·ç±»æ³¨å†ŒAnnotationAwareAspectJAutoProxyCreatoråˆ°å®¹å™¨ä¸­ï¼Œè¿™æ ·åœ¨æ¯ä¸ªBeanåˆ›å»ºä¹‹åï¼Œå¦‚æœéœ€è¦ä½¿ç”¨AOPï¼Œé‚£ä¹ˆå°±ä¼šé€šè¿‡AOPçš„åç½®å¤„ç†å™¨è¿›è¡Œå¤„ç†ï¼Œæœ€åè¿”å›ä¸€ä¸ªä»£ç†å¯¹è±¡ã€‚\næˆ‘ä»¬ä¹Ÿå¯ä»¥å°è¯•ç¼–å†™ä¸€ä¸ªè‡ªå·±çš„ImportBeanDefinitionRegistrarå®ç°ï¼Œé¦–å…ˆç¼–å†™ä¸€ä¸ªæµ‹è¯•Beanï¼š\npublic class TestBean &#123;\n    \n    @PostConstruct\n    void init()&#123;\n        System.out.println(&quot;æˆ‘è¢«åˆå§‹åŒ–äº†ï¼&quot;);\n    &#125;\n&#125;\n\npublic class TestBeanDefinitionRegistrar implements ImportBeanDefinitionRegistrar &#123;\n\n    @Override\n    public void registerBeanDefinitions(AnnotationMetadata importingClassMetadata, BeanDefinitionRegistry registry) &#123;\n        BeanDefinition definition &#x3D; BeanDefinitionBuilder.rootBeanDefinition(Student.class).getBeanDefinition();\n        registry.registerBeanDefinition(&quot;lbwnb&quot;, definition);\n    &#125;\n&#125;\n\nè§‚å¯Ÿæ§åˆ¶å°è¾“å‡ºï¼ŒæˆåŠŸåŠ è½½Beanå®ä¾‹ã€‚\nä¸BeanPostProcessorå·®ä¸å¤šçš„è¿˜æœ‰BeanFactoryPostProcessorï¼Œå®ƒå’Œå‰è€…ä¸€æ ·ï¼Œä¹Ÿæ˜¯ç”¨äºæˆ‘ä»¬è‡ªå·±å¤„ç†åç½®åŠ¨ä½œçš„ï¼Œä¸è¿‡è¿™é‡Œæ˜¯ç”¨äºå¤„ç†BeanFactoryåŠ è½½çš„åç½®åŠ¨ä½œï¼ŒBeanDefinitionRegistryPostProcessorç›´æ¥ç»§æ‰¿è‡ªBeanFactoryPostProcessorï¼Œå¹¶ä¸”è¿˜æ·»åŠ äº†æ–°çš„åŠ¨ä½œpostProcessBeanDefinitionRegistryï¼Œä½ å¯ä»¥åœ¨è¿™é‡ŒåŠ¨æ€æ·»åŠ Beanå®šä¹‰æˆ–æ˜¯ä¿®æ”¹å·²ç»å­˜åœ¨çš„Beanå®šä¹‰ï¼Œè¿™é‡Œæˆ‘ä»¬å°±ç›´æ¥æ¼”ç¤ºBeanDefinitionRegistryPostProcessorçš„å®ç°ï¼š\n@Component\npublic class TestDefinitionProcessor implements BeanDefinitionRegistryPostProcessor &#123;\n    @Override\n    public void postProcessBeanDefinitionRegistry(BeanDefinitionRegistry registry) throws BeansException &#123;\n        System.out.println(&quot;æˆ‘æ˜¯Beanå®šä¹‰åç½®å¤„ç†ï¼&quot;);\n        BeanDefinition definition &#x3D; BeanDefinitionBuilder.rootBeanDefinition(TestBean.class).getBeanDefinition();\n        registry.registerBeanDefinition(&quot;lbwnb&quot;, definition);\n    &#125;\n\n    @Override\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory configurableListableBeanFactory) throws BeansException &#123;\n        System.out.println(&quot;æˆ‘æ˜¯Beanå·¥å‚åç½®å¤„ç†ï¼&quot;);\n    &#125;\n&#125;\n\nåœ¨è¿™é‡Œæ³¨å†ŒBeanå®šä¹‰å…¶å®å’Œä¹‹å‰é‚£ç§æ–¹æ³•æ•ˆæœä¸€æ ·ã€‚\næœ€åï¼Œæˆ‘ä»¬å†å®Œå–„ä¸€ä¸‹BeanåŠ è½½æµç¨‹ï¼ˆåŠ ç²—éƒ¨åˆ†æ˜¯æ–°å¢çš„ï¼‰ï¼š\n[Beanå®šä¹‰]é¦–å…ˆæ‰«æBeanï¼ŒåŠ è½½Beanå®šä¹‰ -&gt; [Beanå®šä¹‰]Beanå®šä¹‰å’ŒBeanå·¥å‚åç½®å¤„ç† -&gt; [ä¾èµ–æ³¨å…¥]æ ¹æ®Beanå®šä¹‰é€šè¿‡åå°„åˆ›å»ºBeanå®ä¾‹ -&gt; [ä¾èµ–æ³¨å…¥]è¿›è¡Œä¾èµ–æ³¨å…¥ï¼ˆé¡ºä¾¿è§£å†³å¾ªç¯ä¾èµ–é—®é¢˜ï¼‰-&gt; [åˆå§‹åŒ–Bean]BeanPostProcessorçš„åˆå§‹åŒ–ä¹‹å‰æ–¹æ³• -&gt; [åˆå§‹åŒ–Bean]Beanåˆå§‹åŒ–æ–¹æ³• -&gt; [åˆå§‹åŒ–Bean]BeanPostProcessorçš„åˆå§‹åŒ–ä¹‹å‰åæ–¹æ³• -&gt; [å®Œæˆ]æœ€ç»ˆå¾—åˆ°çš„BeanåŠ è½½å®Œæˆçš„å®ä¾‹\næœ€åæˆ‘ä»¬å†æ¥ç ”ç©¶ä¸€ä¸‹ApplicationContextä¸­çš„refresh()æ–¹æ³•ï¼š\npublic void refresh() throws BeansException, IllegalStateException &#123;\n    synchronized(this.startupShutdownMonitor) &#123;\n        StartupStep contextRefresh &#x3D; this.applicationStartup.start(&quot;spring.context.refresh&quot;);\n        this.prepareRefresh();\n        ConfigurableListableBeanFactory beanFactory &#x3D; this.obtainFreshBeanFactory();\n      \t&#x2F;&#x2F;åˆå§‹åŒ–Beanå·¥å‚\n        this.prepareBeanFactory(beanFactory);\n\n        try &#123;\n            this.postProcessBeanFactory(beanFactory);\n            StartupStep beanPostProcess &#x3D; this.applicationStartup.start(&quot;spring.context.beans.post-process&quot;);\n          \t&#x2F;&#x2F;è°ƒç”¨æ‰€æœ‰çš„Beanå·¥å‚ã€Beanæ³¨å†Œåç½®å¤„ç†å™¨\n            this.invokeBeanFactoryPostProcessors(beanFactory);\n          \t&#x2F;&#x2F;æ³¨å†ŒBeanåç½®å¤„ç†å™¨ï¼ˆåŒ…æ‹¬Springå†…éƒ¨çš„ï¼‰\n            this.registerBeanPostProcessors(beanFactory);\n            beanPostProcess.end();\n          \t&#x2F;&#x2F;å›½é™…åŒ–æ”¯æŒ\n            this.initMessageSource();\n          \t&#x2F;&#x2F;ç›‘å¬å’Œäº‹ä»¶å¹¿æ’­\n            this.initApplicationEventMulticaster();\n            this.onRefresh();\n            this.registerListeners();\n          \t&#x2F;&#x2F;å®ä¾‹åŒ–æ‰€æœ‰çš„Bean\n            this.finishBeanFactoryInitialization(beanFactory);\n            this.finishRefresh();\n        &#125; catch (BeansException var10) &#123;\n            if (this.logger.isWarnEnabled()) &#123;\n                this.logger.warn(&quot;Exception encountered during context initialization - cancelling refresh attempt: &quot; + var10);\n            &#125;\n\n            this.destroyBeans();\n            this.cancelRefresh(var10);\n            throw var10;\n        &#125; finally &#123;\n            this.resetCommonCaches();\n            contextRefresh.end();\n        &#125;\n\n    &#125;\n&#125;\n\næˆ‘ä»¬å¯ä»¥ç»™è¿™äº›éƒ¨åˆ†åˆ†åˆ«æ‰“ä¸Šæ–­ç‚¹æ¥è§‚å¯Ÿä¸€ä¸‹æ­¤æ–¹æ³•çš„æ•´ä½“åŠ è½½æµç¨‹ã€‚\nMybatisæ•´åˆåŸç†é€šè¿‡ä¹‹å‰çš„äº†è§£ï¼Œæˆ‘ä»¬å†æ¥çœ‹Mybatisçš„@MapperScanæ˜¯å¦‚ä½•å®ç°çš„ï¼Œç°åœ¨ç†è§£èµ·æ¥å°±éå¸¸ç®€å•äº†ã€‚\næˆ‘ä»¬å¯ä»¥ç›´æ¥æ‰“å¼€æŸ¥çœ‹ï¼š\n@Retention(RetentionPolicy.RUNTIME)\n@Target(&#123;ElementType.TYPE&#125;)\n@Documented\n@Import(&#123;MapperScannerRegistrar.class&#125;)\n@Repeatable(MapperScans.class)\npublic @interface MapperScan &#123;\n    String[] value() default &#123;&#125;;\n\n    String[] basePackages() default &#123;&#125;;\n  \t...\n\næˆ‘ä»¬å‘ç°ï¼Œå’ŒAopä¸€æ ·ï¼Œå®ƒä¹Ÿæ˜¯é€šè¿‡Registraræœºåˆ¶ï¼Œé€šè¿‡@Importæ¥è¿›è¡ŒBeançš„æ³¨å†Œï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹MapperScannerRegistraræ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Œå…³é”®ä»£ç å¦‚ä¸‹ï¼š\nvoid registerBeanDefinitions(AnnotationMetadata annoMeta, AnnotationAttributes annoAttrs, BeanDefinitionRegistry registry, String beanName) &#123;\n    BeanDefinitionBuilder builder &#x3D; BeanDefinitionBuilder.genericBeanDefinition(MapperScannerConfigurer.class);\n    builder.addPropertyValue(&quot;processPropertyPlaceHolders&quot;, true);\n    Class&lt;? extends Annotation&gt; annotationClass &#x3D; annoAttrs.getClass(&quot;annotationClass&quot;);\n    if (!Annotation.class.equals(annotationClass)) &#123;\n        builder.addPropertyValue(&quot;annotationClass&quot;, annotationClass);\n    &#125;\n\n    Class&lt;?&gt; markerInterface &#x3D; annoAttrs.getClass(&quot;markerInterface&quot;);\n    if (!Class.class.equals(markerInterface)) &#123;\n        builder.addPropertyValue(&quot;markerInterface&quot;, markerInterface);\n    &#125;\n\n    Class&lt;? extends BeanNameGenerator&gt; generatorClass &#x3D; annoAttrs.getClass(&quot;nameGenerator&quot;);\n    if (!BeanNameGenerator.class.equals(generatorClass)) &#123;\n        builder.addPropertyValue(&quot;nameGenerator&quot;, BeanUtils.instantiateClass(generatorClass));\n    &#125;\n\n    Class&lt;? extends MapperFactoryBean&gt; mapperFactoryBeanClass &#x3D; annoAttrs.getClass(&quot;factoryBean&quot;);\n    if (!MapperFactoryBean.class.equals(mapperFactoryBeanClass)) &#123;\n        builder.addPropertyValue(&quot;mapperFactoryBeanClass&quot;, mapperFactoryBeanClass);\n    &#125;\n\n    String sqlSessionTemplateRef &#x3D; annoAttrs.getString(&quot;sqlSessionTemplateRef&quot;);\n    if (StringUtils.hasText(sqlSessionTemplateRef)) &#123;\n        builder.addPropertyValue(&quot;sqlSessionTemplateBeanName&quot;, annoAttrs.getString(&quot;sqlSessionTemplateRef&quot;));\n    &#125;\n\n    String sqlSessionFactoryRef &#x3D; annoAttrs.getString(&quot;sqlSessionFactoryRef&quot;);\n    if (StringUtils.hasText(sqlSessionFactoryRef)) &#123;\n        builder.addPropertyValue(&quot;sqlSessionFactoryBeanName&quot;, annoAttrs.getString(&quot;sqlSessionFactoryRef&quot;));\n    &#125;\n\n    List&lt;String&gt; basePackages &#x3D; new ArrayList();\n    basePackages.addAll((Collection)Arrays.stream(annoAttrs.getStringArray(&quot;value&quot;)).filter(StringUtils::hasText).collect(Collectors.toList()));\n    basePackages.addAll((Collection)Arrays.stream(annoAttrs.getStringArray(&quot;basePackages&quot;)).filter(StringUtils::hasText).collect(Collectors.toList()));\n    basePackages.addAll((Collection)Arrays.stream(annoAttrs.getClassArray(&quot;basePackageClasses&quot;)).map(ClassUtils::getPackageName).collect(Collectors.toList()));\n    if (basePackages.isEmpty()) &#123;\n        basePackages.add(getDefaultBasePackage(annoMeta));\n    &#125;\n\n    String lazyInitialization &#x3D; annoAttrs.getString(&quot;lazyInitialization&quot;);\n    if (StringUtils.hasText(lazyInitialization)) &#123;\n        builder.addPropertyValue(&quot;lazyInitialization&quot;, lazyInitialization);\n    &#125;\n\n    String defaultScope &#x3D; annoAttrs.getString(&quot;defaultScope&quot;);\n    if (!&quot;&quot;.equals(defaultScope)) &#123;\n        builder.addPropertyValue(&quot;defaultScope&quot;, defaultScope);\n    &#125;\n\n    builder.addPropertyValue(&quot;basePackage&quot;, StringUtils.collectionToCommaDelimitedString(basePackages));\n    registry.registerBeanDefinition(beanName, builder.getBeanDefinition());\n&#125;\n\nè™½ç„¶å¾ˆé•¿å¾ˆå¤šï¼Œä½†æ˜¯è¿™äº›ä»£ç éƒ½æ˜¯åœ¨æ·»åŠ ä¸€äº›Beanå®šä¹‰çš„å±æ€§ï¼Œè€Œæœ€å…³é”®çš„åˆ™æ˜¯æœ€ä¸Šæ–¹çš„MapperScannerConfigurerï¼ŒMybatiså°†å…¶Beanä¿¡æ¯æ³¨å†Œåˆ°äº†å®¹å™¨ä¸­ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»åˆæ˜¯å¹²å˜›çš„å‘¢ï¼Ÿ\npublic class MapperScannerConfigurer implements BeanDefinitionRegistryPostProcessor, InitializingBean, ApplicationContextAware, BeanNameAware &#123;\n    private String basePackage;\n\nå®ƒå®ç°äº†BeanDefinitionRegistryPostProcessorï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä¸ºBeanä¿¡æ¯åŠ è½½æä¾›äº†åç½®å¤„ç†ï¼Œæˆ‘ä»¬æ¥ç€æ¥çœ‹çœ‹å®ƒåœ¨Beanä¿¡æ¯åç½®å¤„ç†ä¸­åšäº†ä»€ä¹ˆï¼š\npublic void postProcessBeanDefinitionRegistry(BeanDefinitionRegistry registry) &#123;\n    if (this.processPropertyPlaceHolders) &#123;\n        this.processPropertyPlaceHolders();\n    &#125;\n\n  \t&#x2F;&#x2F;åˆå§‹åŒ–ç±»è·¯å¾„Mapperæ‰«æå™¨ï¼Œå®ƒç›¸å½“äºæ˜¯ä¸€ä¸ªå·¥å…·ç±»ï¼Œå¯ä»¥å¿«é€Ÿæ‰«æå‡ºæ•´ä¸ªåŒ…ä¸‹çš„ç±»å®šä¹‰ä¿¡æ¯\n  \t&#x2F;&#x2F;ClassPathMapperScanneræ˜¯Mybatisè‡ªå·±å®ç°çš„ä¸€ä¸ªæ‰«æå™¨ï¼Œä¿®æ”¹äº†ä¸€äº›æ‰«æè§„åˆ™\n    ClassPathMapperScanner scanner &#x3D; new ClassPathMapperScanner(registry);\n    scanner.setAddToConfig(this.addToConfig);\n    scanner.setAnnotationClass(this.annotationClass);\n    scanner.setMarkerInterface(this.markerInterface);\n    scanner.setSqlSessionFactory(this.sqlSessionFactory);\n    scanner.setSqlSessionTemplate(this.sqlSessionTemplate);\n    scanner.setSqlSessionFactoryBeanName(this.sqlSessionFactoryBeanName);\n    scanner.setSqlSessionTemplateBeanName(this.sqlSessionTemplateBeanName);\n    scanner.setResourceLoader(this.applicationContext);\n    scanner.setBeanNameGenerator(this.nameGenerator);\n    scanner.setMapperFactoryBeanClass(this.mapperFactoryBeanClass);\n    if (StringUtils.hasText(this.lazyInitialization)) &#123;\n        scanner.setLazyInitialization(Boolean.valueOf(this.lazyInitialization));\n    &#125;\n\n    if (StringUtils.hasText(this.defaultScope)) &#123;\n        scanner.setDefaultScope(this.defaultScope);\n    &#125;\n\n  \t&#x2F;&#x2F;æ·»åŠ è¿‡æ»¤å™¨ï¼Œè¿™é‡Œä¼šé…ç½®ä¸ºæ‰€æœ‰çš„æ¥å£éƒ½èƒ½è¢«æ‰«æï¼ˆå› æ­¤å³ä½¿ä½ ä¸æ·»åŠ @Mapperæ³¨è§£éƒ½èƒ½å¤Ÿè¢«æ‰«æå¹¶åŠ è½½ï¼‰\n    scanner.registerFilters();\n  \t&#x2F;&#x2F;å¼€å§‹æ‰«æ\n    scanner.scan(StringUtils.tokenizeToStringArray(this.basePackage, &quot;,; \\t\\n&quot;));\n&#125;\n\nå¼€å§‹æ‰«æåï¼Œä¼šè°ƒç”¨doScan()æ–¹æ³•ï¼Œæˆ‘ä»¬æ¥ç€æ¥çœ‹ï¼ˆè¿™æ˜¯ClassPathMapperScannerä¸­çš„æ‰«ææ–¹æ³•ï¼‰ï¼š\npublic Set&lt;BeanDefinitionHolder&gt; doScan(String... basePackages) &#123;\n    Set&lt;BeanDefinitionHolder&gt; beanDefinitions &#x3D; super.doScan(basePackages);\n  \t&#x2F;&#x2F;é¦–å…ˆä»åŒ…ä¸­æ‰«ææ‰€æœ‰çš„Beanå®šä¹‰\n    if (beanDefinitions.isEmpty()) &#123;\n        LOGGER.warn(() -&gt; &#123;\n            return &quot;No MyBatis mapper was found in &#39;&quot; + Arrays.toString(basePackages) + &quot;&#39; package. Please check your configuration.&quot;;\n        &#125;);\n    &#125; else &#123;\n      \t&#x2F;&#x2F;å¤„ç†æ‰€æœ‰çš„Beanå®šä¹‰ï¼Œå®é™…ä¸Šå°±æ˜¯ç”Ÿæˆå¯¹åº”Mapperçš„ä»£ç†å¯¹è±¡ï¼Œå¹¶æ³¨å†Œåˆ°å®¹å™¨ä¸­\n        this.processBeanDefinitions(beanDefinitions);\n    &#125;\n\n  \t&#x2F;&#x2F;æœ€åè¿”å›æ‰€æœ‰çš„Beanå®šä¹‰é›†åˆ\n    return beanDefinitions;\n&#125;\n\né€šè¿‡æ–­ç‚¹æˆ‘ä»¬å‘ç°ï¼Œæœ€åå¤„ç†å¾—åˆ°çš„Beanå®šä¹‰å‘ç°æ­¤Beanæ˜¯ä¸€ä¸ªMapperFactoryBeanï¼Œå®ƒä¸åŒäºæ™®é€šçš„Beanï¼ŒFactoryBeanç›¸å½“äºä¸ºæ™®é€šçš„Beanæ·»åŠ äº†ä¸€å±‚å¤–å£³ï¼Œå®ƒå¹¶ä¸æ˜¯ä¾é Springç›´æ¥é€šè¿‡åå°„åˆ›å»ºï¼Œè€Œæ˜¯ä½¿ç”¨æ¥å£ä¸­çš„æ–¹æ³•ï¼š\npublic interface FactoryBean&lt;T&gt; &#123;\n    String OBJECT_TYPE_ATTRIBUTE &#x3D; &quot;factoryBeanObjectType&quot;;\n\n    @Nullable\n    T getObject() throws Exception;\n\n    @Nullable\n    Class&lt;?&gt; getObjectType();\n\n    default boolean isSingleton() &#123;\n        return true;\n    &#125;\n&#125;\n\né€šè¿‡getObject()æ–¹æ³•ï¼Œå°±å¯ä»¥è·å–åˆ°Beançš„å®ä¾‹äº†ã€‚\næ³¨æ„è¿™é‡Œä¸€å®šè¦åŒºåˆ†FactoryBeanå’ŒBeanFactoryçš„æ¦‚å¿µï¼š\n\nBeanFactoryæ˜¯ä¸ªFactoryï¼Œä¹Ÿå°±æ˜¯ IOC å®¹å™¨æˆ–å¯¹è±¡å·¥å‚ï¼Œæ‰€æœ‰çš„ Bean éƒ½æ˜¯ç”± BeanFactory( ä¹Ÿå°±æ˜¯ IOC å®¹å™¨ ) æ¥è¿›è¡Œç®¡ç†ã€‚\nFactoryBeanæ˜¯ä¸€ä¸ªèƒ½ç”Ÿäº§æˆ–è€…ä¿®é¥°ç”Ÿæˆå¯¹è±¡çš„å·¥å‚Bean(æœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªBean)ï¼Œå¯ä»¥åœ¨BeanFactoryï¼ˆIOCå®¹å™¨ï¼‰ä¸­è¢«ç®¡ç†ï¼Œæ‰€ä»¥å®ƒå¹¶ä¸æ˜¯ä¸€ä¸ªç®€å•çš„Beanã€‚å½“ä½¿ç”¨å®¹å™¨ä¸­factory beançš„æ—¶å€™ï¼Œè¯¥å®¹å™¨ä¸ä¼šè¿”å›factory beanæœ¬èº«ï¼Œè€Œæ˜¯è¿”å›å…¶ç”Ÿæˆçš„å¯¹è±¡ã€‚è¦æƒ³è·å–FactoryBeançš„å®ç°ç±»æœ¬èº«ï¼Œå¾—åœ¨getBean(String BeanName)ä¸­çš„BeanNameä¹‹å‰åŠ ä¸Š&amp;,å†™æˆgetBean(String &amp;BeanName)ã€‚\n\næˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå·±ç¼–å†™ä¸€ä¸ªå®ç°ï¼š\n@Component(&quot;test&quot;)\npublic class TestFb implements FactoryBean&lt;Student&gt; &#123;\n    @Override\n    public Student getObject() throws Exception &#123;\n        System.out.println(&quot;è·å–äº†å­¦ç”Ÿ&quot;);\n        return new Student();\n    &#125;\n\n    @Override\n    public Class&lt;?&gt; getObjectType() &#123;\n        return Student.class;\n    &#125;\n&#125;\n\npublic static void main(String[] args) &#123;\n    log.info(&quot;é¡¹ç›®æ­£åœ¨å¯åŠ¨...&quot;);\n    ApplicationContext context &#x3D; new AnnotationConfigApplicationContext(TestConfiguration.class);\n    System.out.println(context.getBean(&quot;&amp;test&quot;));   &#x2F;&#x2F;å¾—åˆ°FactoryBeanæœ¬èº«ï¼ˆå¾—åŠ ä¸ª&amp;æå¾—åƒCè¯­è¨€æŒ‡é’ˆä¸€æ ·ï¼‰\n    System.out.println(context.getBean(&quot;test&quot;));   &#x2F;&#x2F;å¾—åˆ°FactoryBeanè°ƒç”¨getObject()ä¹‹åçš„ç»“æœ\n&#125;\n\nå› æ­¤ï¼Œå®é™…ä¸Šæˆ‘ä»¬çš„Mapperæœ€ç»ˆå°±ä»¥FactoryBeançš„å½¢å¼ï¼Œè¢«æ³¨å†Œåˆ°å®¹å™¨ä¸­è¿›è¡ŒåŠ è½½äº†ï¼š\npublic T getObject() throws Exception &#123;\n    return this.getSqlSession().getMapper(this.mapperInterface);\n&#125;\n\nè¿™æ ·ï¼Œæ•´ä¸ªMybatisçš„@MapperScançš„åŸç†å°±å…¨éƒ¨è§£é‡Šå®Œæ¯•äº†ã€‚\nåœ¨äº†è§£å®Œäº†Springçš„åº•å±‚åŸç†ä¹‹åï¼Œæˆ‘ä»¬å…¶å®å·²ç»å®Œå…¨å¯ä»¥æ ¹æ®è¿™äº›å®ç°åŸç†æ¥æ‰‹å†™ä¸€ä¸ªSpringæ¡†æ¶äº†ã€‚\n","slug":"JavaSSMç¬”è®°ï¼ˆä¸€ï¼‰","date":"2022-03-05T16:22:39.785Z","categories_index":"JavaSSMç¬”è®°","tags_index":"JavaSSMç¬”è®°","author_index":"YangChao"},{"id":"7e4642983a7bb3ca2238a4f0bb6ed9d8","title":"SpringBootç¬”è®°ï¼ˆäº”ï¼‰","content":"\nLinuxæ“ä½œç³»ç»Ÿä¸é¡¹ç›®éƒ¨ç½²æ³¨æ„ï¼šæœ¬ç‰ˆå—ä¼šæ¶‰åŠåˆ°æ“ä½œç³»ç»Ÿç›¸å…³çŸ¥è¯†ã€‚\nç°åœ¨ï¼Œå‡ ä¹æ‰€æœ‰æ™ºèƒ½è®¾å¤‡éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„æ“ä½œç³»ç»Ÿï¼Œæ¯”å¦‚æˆ‘ä»¬çš„å®¶ç”¨ä¸ªäººç”µè„‘ï¼ŒåŸºæœ¬éƒ½æ˜¯é¢„è£…Windowsæ“ä½œç³»ç»Ÿï¼Œæˆ‘ä»¬çš„æ‰‹æœºä¹Ÿæœ‰Androidå’ŒiOSæ“ä½œç³»ç»Ÿï¼Œè¿˜æœ‰ç¨‹åºå‘˜æ¯”è¾ƒé’ççš„MacBookï¼Œé¢„è£…MacOSæ“ä½œç³»ç»Ÿï¼Œç”šè‡³è¿Macbookçš„Touchbaréƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„å°å‹æ“ä½œç³»ç»Ÿã€‚\n\n\n\n\n\n\n\n\n\næ“ä½œç³»ç»Ÿæ˜¯ç®¡ç†è®¡ç®—æœºç¡¬ä»¶ä¸è½¯ä»¶èµ„æºçš„è®¡ç®—æœºç¨‹åºï¼Œæ“ä½œç³»ç»Ÿå¯ä»¥å¯¹è®¡ç®—æœºç³»ç»Ÿçš„å„é¡¹èµ„æºæ¿å—å¼€å±•è°ƒåº¦å·¥ä½œï¼Œè¿ç”¨è®¡ç®—æœºæ“ä½œç³»ç»Ÿå¯ä»¥å‡å°‘äººå·¥èµ„æºåˆ†é…çš„å·¥ä½œå¼ºåº¦ã€‚\nåœ¨æˆ‘ä»¬çš„ç”µè„‘æ²¡æœ‰æ“ä½œç³»ç»Ÿçš„æƒ…å†µä¸‹ï¼Œå®ƒå°±æ˜¯ä¸€å †ç”µå­å…ƒå™¨ä»¶ç»„åˆè€Œæˆçš„æœºå™¨ï¼Œå°±åƒæˆ‘ä»¬æœ‰äº†ä¸€å…·å®Œæ•´çš„èº«ä½“ï¼Œä½†æ˜¯ç°åœ¨ç¼ºå°‘çš„æ˜¯ä¸€ä¸ªå¤§è„‘ï¼Œæ¥æ§åˆ¶æˆ‘ä»¬çš„èº«ä½“åšå‡ºå„ç§åŠ¨ä½œå’Œè¡Œä¸ºï¼Œè€Œå®‰è£…äº†æ“ä½œç³»ç»Ÿï¼Œå°±åƒä¸ºç”µè„‘æ³¨å…¥äº†çµé­‚ï¼Œæ“ä½œç³»ç»Ÿä¼šå¸®åŠ©æˆ‘ä»¬å¯¹æ‰€æœ‰çš„ç¡¬ä»¶è¿›è¡Œè°ƒåº¦å’Œç®¡ç†ã€‚\næ¯”å¦‚æˆ‘ä»¬ç°åœ¨æœ€å¸¸ç”¨çš„Windowsæ“ä½œç³»ç»Ÿï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç³»ç»Ÿä¸­åšå„ç§å„æ ·çš„äº‹æƒ…ï¼ŒåŒ…æ‹¬æ¸¸æˆã€çœ‹ç‰‡ã€å­¦ä¹ ã€ç¼–ç¨‹ç­‰ï¼Œè€Œæ‰€æœ‰çš„ç¨‹åºæ­£æ˜¯åŸºäºæ“ä½œç³»ç»Ÿä¹‹ä¸Šè¿è¡Œçš„ï¼Œæ“ä½œç³»ç»Ÿå¸®åŠ©æˆ‘ä»¬ä¸åº•å±‚ç¡¬ä»¶è¿›è¡Œäº¤äº’ï¼Œè€Œåœ¨ç¨‹åºä¸­æˆ‘ä»¬åªéœ€è¦å‘Šè¯‰æ“ä½œç³»ç»Ÿæˆ‘ä»¬éœ€è¦åšä»€ä¹ˆå°±å¯ä»¥äº†ï¼Œæ“ä½œç³»ç»ŸçŸ¥é“è¯¥å¦‚ä½•ä½¿ç”¨å’Œè°ƒåº¦åº•å±‚çš„ç¡¬ä»¶ï¼Œæ¥å®Œæˆæˆ‘ä»¬ç¨‹åºä¸­æŒ‡å®šçš„ä»»åŠ¡ã€‚\nï¼ˆå¦‚æœä½ åœ¨è‡ªå·±ç”µè„‘ä¸Šå®‰è£…è¿‡Windowsæ“ä½œç³»ç»Ÿï¼Œç”šè‡³è‡ªå·±æ‰“è¿‡é©±åŠ¨ç¨‹åºï¼Œæˆ–æ˜¯ä½¿ç”¨å®‰è£…è¿‡Linuxä»»æ„å‘è¡Œç‰ˆæœ¬ï¼Œé‚£ä¹ˆæœ¬ç« å­¦ä¹ èµ·æ¥ä¼šæ¯”è¾ƒè½»æ¾ï¼‰\nå‘å±•ç®€å²è¿™æ˜¯æ•´ä¸ªSpringBooté˜¶æ®µçš„æœ€åéƒ¨åˆ†äº†ï¼Œä¸ºäº†ä¸è®©å­¦ä¹ é‚£ä¹ˆæ¯ç‡¥ï¼Œæˆ‘ä»¬å…ˆæ¥è®²ç‚¹å°æ•…äº‹ã€‚\nåœ¨1965å¹´ï¼Œå½“æ—¶è¿˜å¤„äºæ‰¹å¤„ç†æ“ä½œç³»ç»Ÿçš„æ—¶ä»£ï¼Œä½†æ˜¯å®ƒåªèƒ½åŒæ—¶ä¾›ä¸€ä¸ªç”¨æˆ·ä½¿ç”¨ï¼Œè€Œå½“æ—¶äººä»¬æ­£å¸Œæœ›èƒ½å¤Ÿå¼€å‘ä¸€ç§äº¤äº’å¼çš„ã€å…·æœ‰å¤šé“ç¨‹åºå¤„ç†èƒ½åŠ›çš„åˆ†æ—¶æ“ä½œç³»ç»Ÿã€‚äºæ˜¯ï¼Œè´å°”å®éªŒå®¤ã€ç¾å›½éº»çœç†å·¥å­¦é™¢å’Œé€šç”¨ç”µæ°”å…¬å¸è”åˆå‘èµ·äº†ä¸€é¡¹åä¸º Multics çš„å·¥ç¨‹è®¡åˆ’ï¼Œè€Œç›®çš„ä¹Ÿæ˜¯å¸Œæœ›èƒ½å¤Ÿå¼€å‘å‡ºè¿™æ ·çš„ä¸€ä¸ªæ“ä½œç³»ç»Ÿï¼Œä½†æ˜¯æœ€ç»ˆç”±äºå„ç§åŸå› ä»¥å¤±è´¥å‘Šç»ˆã€‚\nä»¥è‚¯â€¢æ±¤æ™®æ£®ä¸ºé¦–çš„è´å°”å®éªŒå®¤ç ”ç©¶äººå‘˜å¸å–äº† Multics å·¥ç¨‹è®¡åˆ’å¤±è´¥çš„ç»éªŒæ•™è®­ï¼Œäº 1969 å¹´å®ç°äº†åˆ†æ—¶æ“ä½œç³»ç»Ÿçš„é›å½¢ï¼Œåœ¨1970 å¹´è¯¥æ“ä½œç³»ç»Ÿæ­£å¼å–åä¸ºUNIXï¼Œå®ƒæ˜¯ä¸€ä¸ªå¼ºå¤§çš„å¤šç”¨æˆ·ã€å¤šä»»åŠ¡æ“ä½œç³»ç»Ÿï¼Œæ”¯æŒå¤šç§å¤„ç†å™¨æ¶æ„ï¼Œ1973 å¹´ï¼Œä¹Ÿå°±æ˜¯Cè¯­è¨€é—®ä¸–ä¸ä¹…åï¼ŒUNIXæ“ä½œç³»ç»Ÿçš„ç»å¤§éƒ¨åˆ†æºä»£ç éƒ½ç”¨Cè¯­è¨€è¿›è¡Œäº†é‡å†™ã€‚\nä»è¿™ä¹‹åï¼Œå¤§é‡çš„UNIXå‘è¡Œç‰ˆæœ¬æ¶Œç°ï¼ˆåŸºäºUnixè¿›è¡Œå®Œå–„çš„ç³»ç»Ÿï¼‰æ¯”å¦‚ FreeBSD å°±æ˜¯ç¾å›½åŠ åˆ©ç¦å°¼äºšå¤§å­¦ä¼¯å…‹åˆ©åˆ†æ ¡å¼€å‘çš„ UNIX ç‰ˆæœ¬ï¼Œå®ƒç”±æ¥è‡ªä¸–ç•Œå„åœ°çš„å¿—æ„¿è€…å¼€å‘å’Œç»´æŠ¤ï¼Œä¸ºä¸åŒæ¶æ„çš„è®¡ç®—æœºç³»ç»Ÿæä¾›äº†ä¸åŒç¨‹åº¦çš„æ”¯æŒã€‚\n è€Œåæ¥1984å¹´è‹¹æœå…¬å¸å‘å¸ƒçš„çš„MacOSï¼ˆåœ¨Macintoshç”µè„‘ä¸Šæ­è½½ï¼‰æ“ä½œç³»ç»Ÿï¼Œæ­£æ˜¯åœ¨ FreeBSD åŸºç¡€ä¹‹ä¸Šå¼€å‘çš„å…¨æ–°æ“ä½œç³»ç»Ÿï¼Œè¿™æ˜¯é¦–æ¬¡è®¡ç®—æœºæ­£å¼è·¨è¿›å›¾å½¢åŒ–æ—¶ä»£ï¼Œå…·æœ‰é‡Œç¨‹ç¢‘çš„æ„ä¹‰ã€‚\n\nåŒå¹´ï¼Œä¹”å¸ƒæ–¯éå¸¸é«˜å…´åœ°å°†è‡ªå®¶çš„å›¾å½¢åŒ–MacOSç•Œé¢å±•ç¤ºç»™å¾®è½¯åˆ›å§‹äººæ¯”å°”ç›–èŒ¨ï¼Œå¹¶ä¸”å¸Œæœ›å¾®è½¯å¯ä»¥ä¸ºMacOSå¼€å‘ä¸€äº›è½¯ä»¶ã€‚æ¯”å°”ç›–èŒ¨ä¸€çœ‹ï¼Œwocï¼Œè¿™ç©æ„ç‰›é€¼å•Šï¼Œå’±ä»¬è‡ªå·±ä¹Ÿç»™å®‰æ’ä¸€ä¸ªã€‚äºæ˜¯ï¼Œåœ¨1985å¹´ï¼Œå¾®è½¯ä»¿é€ MacOSå¹¶åŸºäºMS-DOSæ“ä½œç³»ç»Ÿï¼Œå¼€å‘å‡ºäº†åä¸ºWindowsçš„æ“ä½œç³»ç»Ÿï¼š\n\nWindowsæ“ä½œç³»ç»Ÿçš„é—®ä¸–ï¼Œæ— ç–‘æ˜¯å¯¹MacOSçš„ä¸€æ¬¡æ‰“å‡»ï¼Œå› ä¸ºMacOSåªèƒ½æ­è½½åœ¨Macä¸Šï¼Œä½†æ˜¯å”®ä»·å®åœ¨å¤ªè´µï¼Œå¹¶ä¸”è½¯ä»¶ç”Ÿæ€ä¹Ÿä¸å°½äººæ„ï¼ŒåŒæ—¶ä»£çš„Windowså´èƒ½å¤Ÿå®‰è£…åˆ°å„ç§å„æ ·çš„DIYç”µè„‘ä¸Šï¼Œç§°å…¶ä¸ºPCï¼Œå°¤å…¶æ˜¯åæ¥çš„Windows95ï¼Œå‡ ä¹æ˜¯å°ç¥çš„å­˜åœ¨ï¼Œå„ç§å„æ ·åŸºäºWindowsçš„è½¯ä»¶ã€æ¸¸æˆå±‚å‡ºä¸ç©·ï¼Œä»¥è‡³äºåˆ°ä»Šå¤©ä¸ºæ­¢ï¼ŒMacOSçš„å¸‚åœºå æœ‰ç‡ä¾ç„¶è¿œä½äºWindowsï¼Œä¸è¿‡Appleè¿™åå‡ å¹´ä¸€ç›´åœ¨æ³¨é‡è‡ªå®¶è½¯ä»¶ç”Ÿæ€çš„å‘å±•ï¼Œæ€»ä½“æ¥è¯´åœ¨åŠå…¬é¢†åŸŸä½“éªŒæ„Ÿå…¶å®å’ŒWindowså·®ä¸å¤šï¼Œç”šè‡³å¯èƒ½è¿˜æ›´å¥½ï¼Œä½†æ˜¯æ‰“æ¸¸æˆï¼Œåˆ«æƒ³äº†ã€‚\nè¯´äº†è¿™ä¹ˆå¤šï¼ŒLinuxå‘¢ï¼Œæ€ä¹ˆä¸€å¥éƒ½æ²¡æå®ƒå‘¢ï¼Ÿæœ€ç‰›é€¼çš„å½“ç„¶æ”¾æœ€åè¯´ï¼ˆä¸æ˜¯\nUnixè™½ç„¶å¼ºå¤§ä½†æ˜¯æœ‰ç€æ˜‚è´µçš„æˆæƒè´¹ç”¨ï¼Œå¹¶ä¸”ä¸å¼€æ”¾æºä»£ç ï¼Œäºæ˜¯æœ‰äººå‘èµ·äº†GNUè¿åŠ¨ï¼ˆGNU IS NOT UNIXï¼Œå¸¦æœ‰é‚£ä¹ˆä¸€ä¸å˜²è®½ï¼‰ï¼Œæ¨¡ä»¿ Unix çš„ç•Œé¢å’Œä½¿ç”¨æ–¹å¼ï¼Œä»å¤´åšä¸€ä¸ªå¼€æºçš„ç‰ˆæœ¬ã€‚åœ¨1987å¹´è·å…°æœ‰ä¸ªå¤§å­¦æ•™æˆå®‰å¾·é²å†™äº†ä¸€ä¸ªMinixï¼Œç±»ä¼¼äºUnixï¼Œä¸“ç”¨äºæ•™å­¦ã€‚å½“Minixæµä¼ å¼€æ¥ä¹‹åï¼Œä¸–ç•Œå„åœ°çš„é»‘å®¢ä»¬çº·çº·å¼€å§‹ä½¿ç”¨å¹¶æ”¹è¿›ï¼Œå¸Œæœ›æŠŠæ”¹è¿›çš„ä¸œè¥¿åˆå¹¶åˆ°Minixä¸­ï¼Œä½†æ˜¯å®‰å¾·é²è§‰å¾—ä»–çš„ç³»ç»Ÿæ˜¯ç”¨äºæ•™å­¦çš„ï¼Œä¸èƒ½ç ´åçº¯å‡€æ€§ï¼Œäºæ˜¯æ‹’ç»äº†ã€‚\nåœ¨1991å¹´ï¼Œæ—çº³æ–¯.æ‰˜ç“¦å…¹ï¼ˆLinus Torvaldsï¼‰è®¤ä¸ºMinixä¸å¤Ÿå¼€æ”¾ï¼Œè‡ªå·±åˆå†™äº†ä¸€ä¸ªå…¨æ–°çš„å¼€æºæ“ä½œç³»ç»Ÿï¼Œå®ƒå¸Œæœ›è¿™ä¸ªç³»ç»Ÿç”±å…¨ä¸–ç•Œçš„çˆ±å¥½è€…ä¸€åŒå‚ä¸å¼€å‘ï¼Œå¹¶ä¸”ä¸æ”¶è´¹ï¼Œäºæ˜¯Linuxå†…æ ¸å°±è¢«å…¬å¼€å‘å¸ƒåˆ°äº’è”ç½‘ä¸Šã€‚ä¸€ç»å‘å¸ƒï¼Œä¾¿å¼•èµ·äº†ç¤¾ä¼šå¼ºçƒˆçš„åå“ï¼Œåœ¨å¤§å®¶çš„åŠªåŠ›ä¸‹ï¼Œäº1994å¹´Linuxçš„1.0ç‰ˆæœ¬æ­£å¼å‘å¸ƒã€‚ç»“åˆå½“æ—¶çš„GNUè¿åŠ¨ï¼Œæœ€ç»ˆåˆåœ¨ä¸€èµ·ç§°ä¸ºäº†GNU&#x2F;Linuxï¼Œä»¥ä¸€åªä¼é¹…Tuxä½œä¸ºå‰ç¥¥ç‰©ã€‚\n\næ²¡é”™ï¼ŒGitä¹Ÿæ˜¯æ—çº³æ–¯.æ‰˜ç“¦å…¹åªèŠ±äº†2å‘¨æ—¶é—´å¼€å‘çš„ã€‚ä¸è¿‡æ—çº³æ–¯éå¸¸è®¨åŒC++ï¼Œä»–è®¤ä¸ºC++åªä¼šè®©ä¸€ä¸ªé¡¹ç›®å˜å¾—æ··ä¹±ã€‚\nä»æ­¤ä»¥åï¼Œå„å¼å„æ ·çš„åŸºäºLinuxå‘è¡Œç‰ˆå°±å¼€å§‹å‡ºç°ï¼š\n\nè¿™äº›å‘è¡Œç‰ˆéƒ½æ˜¯åœ¨Linuxå†…æ ¸çš„åŸºç¡€ä¹‹ä¸Šï¼Œæ·»åŠ äº†å¤§é‡çš„é¢å¤–åŠŸèƒ½ï¼ŒåŒ…æ‹¬å¼€å‘ç¯å¢ƒã€å›¾å½¢åŒ–æ¡Œé¢ã€åŒ…ç®¡ç†ç­‰ã€‚åŒ…æ‹¬æˆ‘ä»¬çš„å®‰å“ç³»ç»Ÿï¼Œä¹Ÿæ˜¯åŸºäºLinuxä¹‹ä¸Šçš„ï¼Œè€Œæˆ‘ä»¬è¦é‡ç‚¹ä»‹ç»çš„å°±æ˜¯åŸºäºDebianä¹‹ä¸Šçš„Ubuntuæ“ä½œç³»ç»Ÿã€‚\næœ€åï¼Œ2022å¹´äº†ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹å„å¤§æ“ä½œç³»ç»Ÿçš„å¸‚åœºå æœ‰ç‡ï¼š\n\nWindows11&#x2F;10&#x2F;7ï¼š80%\nMacOSï¼š11%\nLinuxï¼š5%\nå…¶ä»–ï¼š4%\n\nWindowsæ— ç–‘æ˜¯ç°åœ¨æœ€å¹¿æ³›çš„æ“ä½œç³»ç»Ÿï¼Œå°¤å…¶æ˜¯Windows XPï¼Œæ˜¯å¤šå°‘00åçš„é’æ˜¥ï¼Œå¾ˆå¤šæ¸¸æˆéƒ½æ˜¯åŸºäºWindowså¹³å°ã€‚å½“ç„¶ï¼Œå¦‚æœä½ å·²ç»åŒå€¦äº†æ¸¸æˆï¼Œä¸€å¿ƒåªè¯»åœ£è´¤ä¹¦çš„è¯ï¼Œé‚£ä¹ˆè¿˜æ˜¯å»ºè®®ç›´æ¥ä½¿ç”¨ä»»æ„Linuxæ¡Œé¢ç‰ˆæˆ–æ˜¯Macï¼Œå› ä¸ºå®ƒä»¬èƒ½å¤Ÿä¸ºä½ æä¾›æè‡´å’Œçº¯ç²¹çš„å¼€å‘ä½“éªŒï¼ˆè²Œä¼¼ä¹‹å‰åä¸ºä¹Ÿå‡ºè¿‡Linuxç¬”è®°æœ¬ï¼Ÿï¼‰\n\n\nå®‰è£…Ubuntuç³»ç»Ÿè¿™é‡Œæˆ‘ä»¬å°±ä»¥å®‰è£…è™šæ‹Ÿæœºçš„æ–¹å¼åœ¨æˆ‘ä»¬çš„ç”µè„‘ä¸Šå®‰è£…Linuxæ“ä½œç³»ç»Ÿï¼Œæˆ‘ä»¬é€‰ç”¨Ubuntuä½œä¸ºæ•™ç¨‹ï¼Œå¦‚æœæœ‰ç»æµå®åŠ›ï¼Œå¯ä»¥åœ¨è…¾è®¯äº‘ã€é˜¿é‡Œäº‘ä¹‹ç±»çš„æœåŠ¡å•†è´­ä¹°ä¸€å°äº‘æœåŠ¡å™¨ï¼Œå¹¶é€‰æ‹©é¢„è£…Ubuntuç³»ç»Ÿï¼›å¦‚æœä½ è¿˜æƒ³æåµŒå…¥å¼å¼€å‘ä¹‹ç±»çš„å·¥ä½œï¼Œå¯ä»¥è´­ä¹°ä¸€å°æ ‘è“æ´¾æœåŠ¡å™¨ï¼Œä¹Ÿå¯ä»¥åœ¨ä¸Šé¢å®‰è£…Ubuntuç³»ç»Ÿï¼Œç›¸å½“äºä¸€å°è¿·ä½ ä¸»æœºã€‚åœ¨ä½ å·²ç»æœ‰äº‘æœåŠ¡å™¨çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ç›´æ¥è·³è¿‡è™šæ‹Ÿæœºå®‰è£…æ•™å­¦ã€‚\nå®˜ç½‘ä¸‹è½½ï¼šhttps://cn.ubuntu.com/download/server/step1\næ³¨æ„æ˜¯ä¸‹è½½æœåŠ¡å™¨ç‰ˆæœ¬ï¼Œä¸æ˜¯æ¡Œé¢ç‰ˆæœ¬ã€‚\nåœ¨è™šæ‹Ÿæœºä¸­å®‰è£…è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨VMwareè¿›è¡Œå®‰è£…ï¼ŒVMwareæ˜¯ä¸€ä¸ªè™šæ‹ŸåŒ–åº”ç”¨ç¨‹åºï¼Œå®ƒå¯ä»¥åœ¨æˆ‘ä»¬å½“å‰è¿è¡Œçš„æ“ä½œç³»ç»Ÿä¹‹ä¸Šï¼Œåˆ›å»ºä¸€ä¸ªè™šçº¿çš„ä¸»æœºï¼Œç›¸å½“äºåˆ›å»ºäº†ä¸€å°ç”µè„‘ï¼Œè€Œæˆ‘ä»¬å°±å¯ä»¥åœ¨è¿™å°ç”µè„‘ä¸Šå®‰è£…å„ç§å„æ ·çš„æ“ä½œç³»ç»Ÿï¼Œå¹¶ä¸”æˆ‘ä»¬å¯ä»¥è‡ªç”±ä¸ºå…¶åˆ†é…CPUæ ¸å¿ƒå’Œå†…å­˜ä»¥åŠç¡¬ç›˜å®¹é‡ï¼ˆå¦‚æœä½ æ¥è§¦è¿‡äº‘è®¡ç®—ç›¸å…³å†…å®¹ï¼Œåº”è¯¥ä¼šå¯¹è™šæ‹ŸåŒ–æŠ€æœ¯æœ‰æ‰€äº†è§£ï¼‰\nå®˜ç½‘ä¸‹è½½ï¼šhttps://www.vmware.com/cn/products/workstation-pro/workstation-pro-evaluation.html\nå®‰è£…å®Œæˆåï¼Œä¼šå‡ºç°ä¸€ä¸ªç±»ä¼¼äºCMDçš„å‘½ä»¤çª—å£ï¼Œè€Œæˆ‘ä»¬å°±æ˜¯é€šè¿‡è¾“å…¥å‘½ä»¤æ¥æ“ä½œæˆ‘ä»¬çš„æ“ä½œç³»ç»Ÿã€‚\nä½¿ç”¨SSHè¿œç¨‹è¿æ¥å¦‚æœä½ ä½¿ç”¨çš„æ˜¯æ ‘è“æ´¾æˆ–æ˜¯äº‘æœåŠ¡å™¨ï¼Œé‚£ä¹ˆä½ ä¼šå¾—åˆ°ä¸€ä¸ªå…¬ç½‘çš„IPåœ°å€ï¼Œä»¥åŠé»˜è®¤çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œç”±äºæœåŠ¡å™¨å®‰è£…çš„Ubuntuå¹¶ä¸æ˜¯åœ¨æˆ‘ä»¬çš„ç”µè„‘ä¸Šè¿è¡Œçš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ€ä¹ˆå»è¿œç¨‹æ“ä½œå‘¢ï¼Ÿ\næ¯”å¦‚æˆ‘ä»¬è¦è¿œç¨‹æ“ä½œä¸€å°Windowsç”µè„‘ï¼Œç›´æ¥ä½¿ç”¨è¿œç¨‹æ¡Œé¢è¿æ¥å³å¯ï¼Œä½†æ˜¯Ubuntuä¸Šæ¥å°±æ˜¯å‘½ä»¤è¡Œï¼Œè¿™ç§æƒ…å†µä¸‹è¦å®ç°è¿œç¨‹è¿æ¥å°±åªèƒ½ä½¿ç”¨SSHç»ˆç«¯ã€‚\nSSHæ˜¯ä¸€ç§ç½‘ç»œåè®®ï¼Œç”¨äºè®¡ç®—æœºä¹‹é—´çš„åŠ å¯†ç™»å½•ã€‚å¦‚æœä¸€ä¸ªç”¨æˆ·ä»æœ¬åœ°è®¡ç®—æœºï¼Œä½¿ç”¨SSHåè®®ç™»å½•å¦ä¸€å°è¿œç¨‹è®¡ç®—æœºï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¤ä¸ºï¼Œè¿™ç§ç™»å½•æ˜¯å®‰å…¨çš„ï¼Œå³ä½¿è¢«ä¸­é€”æˆªè·ï¼Œå¯†ç ä¹Ÿä¸ä¼šæ³„éœ²ã€‚æœ€æ—©çš„æ—¶å€™ï¼Œäº’è”ç½‘é€šä¿¡éƒ½æ˜¯æ˜æ–‡é€šä¿¡ï¼Œä¸€æ—¦è¢«æˆªè·ï¼Œå†…å®¹å°±æš´éœ²æ— ç–‘ã€‚1995å¹´ï¼ŒèŠ¬å…°å­¦è€…Tatu Ylonenè®¾è®¡äº†SSHåè®®ï¼Œå°†ç™»å½•ä¿¡æ¯å…¨éƒ¨åŠ å¯†ï¼Œæˆä¸ºäº’è”ç½‘å®‰å…¨çš„ä¸€ä¸ªåŸºæœ¬è§£å†³æ–¹æ¡ˆï¼Œè¿…é€Ÿåœ¨å…¨ä¸–ç•Œè·å¾—æ¨å¹¿ï¼Œç›®å‰å·²ç»æˆä¸ºLinuxç³»ç»Ÿçš„æ ‡å‡†é…ç½®ã€‚\näº‘æœåŠ¡å™¨ä¸Šå®‰è£…çš„Ubuntué»˜è®¤éƒ½æ˜¯è‡ªå¸¦äº†OpenSSHæœåŠ¡ç«¯çš„ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è¿æ¥ï¼Œå¦‚æœä½ çš„UbuntuæœåŠ¡å™¨ä¸Šæ²¡æœ‰å®‰è£…OpenSSHæœåŠ¡å™¨ç«¯ï¼Œé‚£ä¹ˆå¯ä»¥è¾“å…¥å‘½ä»¤è¿›è¡Œå®‰è£…ï¼š\nsudo apt install openssh-server\n#è¾“å…¥åè¿˜éœ€è¦ä½ è¾“å…¥å½“å‰ç”¨æˆ·çš„å¯†ç æ‰å¯ä»¥æ‰§è¡Œï¼Œè‡³äºä¸ºä»€ä¹ˆæˆ‘ä»¬åé¢ä¼šè¯´\n\nè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨XShellæ¥è¿›è¡ŒSSHç™»é™†ï¼Œå®˜ç½‘ï¼šhttps://www.netsarang.com/zh/free-for-home-school/\næ–‡ä»¶ç³»ç»Ÿä»‹ç»åœ¨Windowsä¸‹ï¼Œæˆ‘ä»¬çš„æ•´ä¸ªç¡¬ç›˜å®é™…ä¸Šå¯ä»¥è¢«åˆ†ä¸ºå¤šä¸ªç£ç›˜é©±åŠ¨å™¨ï¼š\n\næˆ‘ä»¬ä¸€èˆ¬ä¹ æƒ¯å°†è½¯ä»¶è£…åˆ°Dç›˜ï¼Œæ–‡ä»¶æ•°æ®å­˜åœ¨Eç›˜ï¼Œç³»ç»Ÿå’Œä¸€äº›ç¯å¢ƒå®‰è£…åœ¨Cç›˜ï¼Œæ ¹æ®ä¸åŒçš„ç›˜ç¬¦è¿›è¡Œåˆ’åˆ†ï¼Œå¹¶ä¸”æ¯ä¸ªç›˜éƒ½æœ‰å„è‡ªçš„å­˜å‚¨å®¹é‡å¤§å°ã€‚è€Œåœ¨Linuxä¸­ï¼Œæ²¡æœ‰è¿™ä¸ªæ¦‚å¿µï¼Œæ‰€æœ‰çš„æ–‡ä»¶éƒ½æ˜¯ä½äºæ ¹ç›®å½•ä¸‹çš„ï¼š\n\næˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ ¹ç›®å½•ä¸‹æœ‰å¾ˆå¤šä¸ªæ–‡ä»¶å¤¹ï¼Œå®ƒä»¬éƒ½æœ‰ç€å„è‡ªçš„åˆ’åˆ†ï¼š\n\n&#x2F;bin å¯æ‰§è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶çš„ç›®å½•ï¼Œå¦‚å¸¸ç”¨çš„å‘½ä»¤ lsã€tarã€mvã€cat ç­‰å®é™…ä¸Šéƒ½æ˜¯ä¸€äº›å°çš„åº”ç”¨ç¨‹åº\n&#x2F;home æ™®é€šç”¨æˆ·çš„ä¸»ç›®å½•ï¼Œå¯¹åº”Windowsä¸‹çš„C:&#x2F;Users&#x2F;ç”¨æˆ·å&#x2F;\n&#x2F;root rootç”¨æˆ·çš„ä¸»ç›®å½•ï¼ˆrootç”¨æˆ·æ˜¯å…·æœ‰æœ€é«˜æƒé™çš„ç”¨æˆ·ï¼Œä¹‹åä¼šè®²ï¼‰\n&#x2F;boot å†…æ ¸æ–‡ä»¶çš„å¼•å¯¼ç›®å½•, æ”¾ç½® linux ç³»ç»Ÿå¯åŠ¨æ—¶ç”¨åˆ°çš„ä¸€äº›æ–‡ä»¶\n&#x2F;sbing è¶…çº§ç”¨æˆ·ä½¿ç”¨çš„æŒ‡ä»¤æ–‡ä»¶\n&#x2F;tmp ä¸´æ—¶æ–‡ä»¶ç›®å½•ï¼Œä¸€èˆ¬ç”¨æˆ·æˆ–æ­£åœ¨æ‰§è¡Œçš„ç¨‹åºä¸´æ—¶å­˜æ”¾æ–‡ä»¶çš„ç›®å½•ï¼Œä»»ä½•äººéƒ½å¯ä»¥è®¿é—®ï¼Œé‡è¦æ•°æ®ä¸å¯æ”¾ç½®åœ¨æ­¤ç›®å½•ä¸‹ã€‚\n&#x2F;dev è®¾å¤‡æ–‡ä»¶ç›®å½•ï¼Œåœ¨Linuxä¸­ä¸‡ç‰©çš†æ–‡ä»¶ï¼Œå®é™…ä¸Šä½ æ’å…¥çš„Uç›˜ç­‰è®¾å¤‡éƒ½ä¼šåœ¨devç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªæ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿åœ°é€šè¿‡æ–‡ä»¶IOæ–¹å¼å»æ“ä½œå¤–è®¾ï¼Œå¯¹åµŒå…¥å¼å¼€å‘æä¸ºå‹å¥½ã€‚\n&#x2F;lib å…±äº«åº“ï¼Œç³»ç»Ÿä½¿ç”¨çš„å‡½æ•°åº“çš„ç›®å½•ï¼Œç¨‹åºåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œéœ€è¦è°ƒç”¨ä¸€äº›é¢å¤–çš„å‚æ•°æ—¶éœ€è¦å‡½æ•°åº“çš„ååŠ©ã€‚\n&#x2F;usr ç¬¬ä¸‰æ–¹ ç¨‹åºç›®å½•\n&#x2F;etc é…ç½®ç¨‹åºç›®å½•ï¼Œç³»ç»Ÿé…ç½®æ–‡ä»¶å­˜æ”¾çš„ç›®å½•\n&#x2F;var å¯å˜æ–‡ä»¶ï¼Œæ”¾ç½®ç³»ç»Ÿæ‰§è¡Œè¿‡ç¨‹ä¸­ç»å¸¸å˜åŒ–çš„æ–‡ä»¶\n&#x2F;opt ç”¨æˆ·ä½¿ç”¨ç›®å½•ï¼Œç»™ä¸»æœºé¢å¤–å®‰è£…è½¯ä»¶æ‰€æ‘†æ”¾çš„ç›®å½•ã€‚\n\næˆ‘ä»¬å¯ä»¥ç›´æ¥è¾“å…¥å‘½ä»¤æ¥æŸ¥çœ‹ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼š\n#åªæ˜¾ç¤ºæ–‡ä»¶åç§°ï¼Œä¸”ä¸æ˜¾ç¤ºéšè—æ–‡ä»¶\nls\n#æ˜¾ç¤ºéšè—æ–‡ä»¶ä»¥åŠæ–‡ä»¶è¯¦ç»†ä¿¡æ¯\nll\n\né‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•æ‰èƒ½åƒWindowsé‚£æ ·æ–¹ä¾¿çš„ç®¡ç†Linuxä¸­çš„æ–‡ä»¶å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ä½¿ç”¨FTPç®¡ç†å·¥å…·ï¼Œé»˜è®¤æƒ…å†µä¸‹Ubuntuæ˜¯å®‰è£…äº†SFTPæœåŠ¡å™¨çš„ã€‚\nè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨Xftpæ¥è¿›è¡Œç®¡ç†ï¼Œå®˜ç½‘ï¼šhttps://www.netsarang.com/zh/free-for-home-school/\n\nç”¨æˆ·å’Œç”¨æˆ·ç»„æˆ‘ä»¬æ•´ä¸ªLinuxé˜¶æ®µçš„å­¦ä¹ ä¸»è¦æ˜¯ä»¥å®æ“ä¸ºä¸»ï¼Œå¤§é‡çš„å‘½ä»¤éœ€è¦å¤§é‡çš„ä½¿ç”¨æ‰èƒ½è®°å¾—æ›´ç‰¢å›ºã€‚\nLinuxç³»ç»Ÿæ˜¯ä¸€ä¸ªå¤šç”¨æˆ·å¤šä»»åŠ¡çš„åˆ†æ—¶æ“ä½œç³»ç»Ÿï¼Œä»»ä½•ä¸€ä¸ªè¦ä½¿ç”¨ç³»ç»Ÿçš„ç”¨æˆ·ï¼Œéƒ½å¿…é¡»ç”³è¯·ä¸€ä¸ªè´¦å·ï¼Œç„¶åä»¥è¿™ä¸ªè´¦å·çš„èº«ä»½è¿›å…¥ç³»ç»Ÿã€‚æ¯”å¦‚æˆ‘ä»¬ä¹‹å‰å°±æ˜¯ä½¿ç”¨æˆ‘ä»¬åœ¨åˆ›å»ºæœåŠ¡å™¨æ—¶ç”³è¯·çš„åˆå§‹ç”¨æˆ·testï¼Œé€šè¿‡è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ç™»å½•åˆ°ç³»ç»Ÿä¸­ï¼Œä¹‹åæ‰èƒ½ä½¿ç”¨å„ç§å‘½ä»¤è¿›è¡Œæ“ä½œã€‚å…¶å®ç”¨æˆ·æœºåˆ¶å’Œæˆ‘ä»¬çš„Windowsæ¯”è¾ƒç±»ä¼¼ã€‚ä¸€èˆ¬çš„æ™®é€šç”¨æˆ·åªèƒ½åšä¸€äº›æ¯”è¾ƒåŸºæœ¬çš„æ“ä½œï¼Œå¹¶ä¸”åªèƒ½åœ¨è‡ªå·±çš„ç›®å½•ï¼ˆå¦‚&#x2F;home&#x2F;testï¼‰ä¸­è¿›è¡Œæ–‡ä»¶çš„åˆ›å»ºå’Œåˆ é™¤æ“ä½œã€‚\næˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå½“å‰çŠ¶æ€ä¿¡æ¯åˆ†ä¸ºä¸‰æ®µï¼š\ntest@ubuntu-server:~$\n\næ ¼å¼ä¸ºï¼šç”¨æˆ·å@æœåŠ¡å™¨åç§°:å½“å‰æ‰€å¤„çš„ç›®å½•$ï¼Œå…¶ä¸­~ä»£è¡¨ç”¨æˆ·ç›®å½•ï¼Œå¦‚æœä¸æ˜¯ç”¨æˆ·ç›®å½•ï¼Œä¼šæ˜¾ç¤ºå½“å‰çš„ç»å¯¹è·¯å¾„åœ°å€ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨pwdå‘½ä»¤æ¥ç›´æ¥æŸ¥çœ‹å½“å‰æ‰€å¤„çš„ç›®å½•ã€‚\nåœ¨Linuxä¸­é»˜è®¤å­˜åœ¨ä¸€ä¸ªè¶…çº§ç”¨æˆ·rootï¼Œè€Œæ­¤ç”¨æˆ·æ‹¥æœ‰æœ€é«˜æ‰§è¡Œæƒé™ï¼Œå®ƒèƒ½å¤Ÿä¿®æ”¹ä»»ä½•çš„å†…å®¹ï¼Œç”šè‡³å¯ä»¥åˆ é™¤æ•´ä¸ªLinuxå†…æ ¸ï¼Œæ­£å¸¸æƒ…å†µä¸‹ä¸ä¼šä½¿ç”¨rootç”¨æˆ·è¿›è¡Œç™»é™†ï¼Œåªæœ‰åœ¨ç‰¹æ®Šæƒ…å†µä¸‹æ‰ä¼šä½¿ç”¨rootç”¨æˆ·æ¥è¿›è¡Œä¸€äº›æ“ä½œï¼Œrootç”¨æˆ·éå¸¸å±é™©ï¼Œå“ªæ€•ä¸€ä¸ªå°å°çš„å‘½ä»¤éƒ½èƒ½å¤Ÿæ¯æ‰æ•´ä¸ªLinuxç³»ç»Ÿï¼Œæ¯”å¦‚rm -rf /*ï¼Œæ„Ÿå…´è¶£çš„è¯æˆ‘ä»¬å¯ä»¥æ”¾åœ¨æœ€åæ¥æ¼”ç¤ºï¼ˆåœ¨ä»¥å‰è€æ˜¯å¬è¯´å®‰å“æ‰‹æœºrootï¼Œå®é™…ä¸Šå°±æ˜¯è·å–å®‰å“ç³»ç»Ÿåº•å±‚Linuxç³»ç»Ÿçš„rootæƒé™ï¼Œä»¥å®ç°ä¿®æ”¹ç³»ç»Ÿæ–‡ä»¶çš„ç›®çš„ï¼‰\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨sudo -så¹¶è¾“å…¥å½“å‰ç”¨æˆ·çš„å¯†ç åˆ‡æ¢åˆ°rootç”¨æˆ·ï¼Œå¯ä»¥çœ‹åˆ°å‡ºç°äº†ä¸€äº›å˜åŒ–ï¼š\ntest@ubuntu-server:~$\n\nroot@ubuntu-server:&#x2F;home&#x2F;test#\n\næˆ‘ä»¬å‘ç°$ç¬¦å·å˜æˆäº†#ç¬¦å·ï¼Œæ³¨æ„æ­¤ç¬¦å·è¡¨ç¤ºå½“å‰çš„ç”¨æˆ·æƒé™ç­‰çº§ï¼Œå¹¶ä¸”testä¹Ÿå˜ä¸ºäº†rootï¼Œåœ¨æ­¤ç”¨æˆ·ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥éšæ„ä¿®æ”¹testç”¨æˆ·æ–‡ä»¶å¤¹ä»¥å¤–çš„å†…å®¹ï¼Œè€Œtestç”¨æˆ·ä¸‹åˆ™æ— æ³•ä¿®æ”¹ã€‚å¦‚æœéœ€è¦é€€å‡ºrootç”¨æˆ·ï¼Œç›´æ¥è¾“å…¥exitå³å¯ã€‚\næ¥ç€æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ï¼Œå¦‚ä½•è¿›è¡Œç”¨æˆ·çš„ç®¡ç†æ“ä½œï¼Œè¿›è¡Œç”¨æˆ·ç®¡ç†ï¼ŒåŒ…æ‹¬æ·»åŠ ç”¨æˆ·å’Œåˆ é™¤ç”¨æˆ·éƒ½éœ€è¦rootæƒé™æ‰å¯ä»¥æ‰§è¡Œï¼Œä½†æ˜¯ç°åœ¨æˆ‘ä»¬æ˜¯testç”¨æˆ·ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å‘½ä»¤å‰é¢æ·»åŠ sudoæ¥æš‚æ—¶ä»¥ç®¡ç†å‘˜èº«ä»½æ‰§è¡Œæ­¤å‘½ä»¤ï¼Œæ¯”å¦‚è¯´æˆ‘ä»¬ç°åœ¨æƒ³è¦æ·»åŠ ä¸€ä¸ªæ–°çš„ç”¨æˆ·ï¼š\nsudo useradd study\n\nå…¶ä¸­studyå°±æ˜¯æˆ‘ä»¬æƒ³è¦åˆ›å»ºçš„æ–°ç”¨æˆ·ï¼Œuseraddå‘½ä»¤å°±æ˜¯åˆ›å»ºæ–°ç”¨æˆ·çš„å‘½ä»¤ï¼ŒåŒæ ·çš„ï¼Œåˆ é™¤ç”¨æˆ·ï¼š\nsudo userdel study\n\nLinuxä¸­çš„å‘½ä»¤ä¸€èˆ¬éƒ½å¯ä»¥æºå¸¦ä¸€äº›å‚æ•°æ¥ä»¥æ›´å¤šç‰¹åœ°çš„æ–¹å¼æ‰§è¡Œï¼Œæˆ‘ä»¬å¯ä»¥åœ¨åˆ›å»ºç”¨æˆ·æ—¶ï¼Œæ·»åŠ ä¸€äº›é¢å¤–çš„å‚æ•°æ¥è¿›è¡Œæ›´å¤šé«˜çº§æ“ä½œï¼š\n\n-d&lt;ç™»å½•ç›®å½•&gt; ã€€æŒ‡å®šç”¨æˆ·ç™»å½•æ—¶çš„èµ·å§‹ç›®å½•ã€‚\n-g&lt;ç¾¤ç»„&gt; ã€€æŒ‡å®šç”¨æˆ·æ‰€å±çš„ç¾¤ç»„ã€‚\n-G&lt;ç¾¤ç»„&gt; ã€€æŒ‡å®šç”¨æˆ·æ‰€å±çš„é™„åŠ ç¾¤ç»„ã€‚\n-m ã€€è‡ªåŠ¨å»ºç«‹ç”¨æˆ·çš„ç™»å…¥ç›®å½•ã€‚\n-M ã€€ä¸è¦è‡ªåŠ¨å»ºç«‹ç”¨æˆ·çš„ç™»å…¥ç›®å½•ã€‚\n-s  æŒ‡å®šShellï¼Œä¸€èˆ¬æŒ‡å®šä¸º&#x2F;bin&#x2F;bash\n\nå¦‚æœè¿˜æƒ³æŸ¥çœ‹æ›´å¤šå‘½ä»¤ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨manæ¥æŸ¥çœ‹å‘½ä»¤çš„è¯¦ç»†å‚æ•°åˆ—è¡¨ï¼Œæ¯”å¦‚ï¼š\nman useradd\n\næ¯”å¦‚æˆ‘ä»¬ç°åœ¨éœ€è¦åœ¨ç”¨æˆ·åˆ›å»ºæ—¶é¡ºä¾¿åˆ›å»ºç”¨æˆ·çš„æ–‡ä»¶å¤¹ï¼Œå¹¶æŒ‡å®šshellï¼ˆä»»æ„ä¸€ç§å‘½ä»¤è§£é‡Šç¨‹åºï¼Œç”¨äºå¤„ç†æˆ‘ä»¬è¾“å…¥çš„å‘½ä»¤ï¼‰ä¸ºbashï¼š\nsudo useradd study -m -s &#x2F;bin&#x2F;bash\n\nå¯ä»¥çœ‹åˆ°å·²ç»è‡ªåŠ¨åœ¨homeç›®å½•ä¸‹åˆ›å»ºäº†studyæ–‡ä»¶å¤¹ï¼ˆè¿™é‡Œ..è¡¨ç¤ºä¸Šä¸€çº§ç›®å½•ï¼Œ.è¡¨ç¤ºå½“å‰ç›®å½•ï¼‰ï¼š\ntest@ubuntu-server:~$ ls ..\nstudy  test\n\nç”¨æˆ·åˆ›å»ºå®Œæˆä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºæ­¤ç”¨æˆ·è®¾å®šå¯†ç ï¼ˆå¦‚æœä¸æŒ‡å®šç”¨æˆ·ï¼Œé‚£ä¹ˆä¼šè®¾ç½®å½“å‰ç”¨æˆ·çš„å¯†ç ï¼‰ï¼š\nsudo passwd study\n\nè¾“å…¥å¯†ç ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‘½ä»¤æ¥åˆ‡æ¢ç”¨æˆ·ï¼š\ntest@ubuntu-server:~$ su - study\nPassword: \nstudy@ubuntu-server:~$ \n\nå¯ä»¥çœ‹åˆ°ï¼Œåˆ‡æ¢ç”¨æˆ·ååç§°å·²ç»ä¿®æ”¹ä¸ºstudyäº†ï¼Œæˆ‘ä»¬ä½¿ç”¨exitå³å¯é€€å‡ºå½“å‰ç”¨æˆ·å›åˆ°testã€‚\nè¾“å…¥whoå¯ä»¥æŸ¥çœ‹å½“å‰ç™»å½•è´¦å·ï¼ˆæ³¨æ„æ˜¯ç™»å½•çš„è´¦å·ï¼‰è¾“å…¥whoamiå¯ä»¥æŸ¥çœ‹å½“å‰çš„æ“ä½œè´¦å·ï¼š\ntest@ubuntu-server:~$ su study\nPassword: \nstudy@ubuntu-server:&#x2F;home&#x2F;test$ cd ~\nstudy@ubuntu-server:~$ who\ntest     pts&#x2F;0        2022-01-24 03:57 (192.168.10.3)\nstudy@ubuntu-server:~$ whoami\nstudy\nstudy@ubuntu-server:~$ \n\næ¥ç€æˆ‘ä»¬æ¥çœ‹ç”¨æˆ·ç»„ï¼Œæ¯ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä¸ªç”¨æˆ·ç»„ï¼Œç³»ç»Ÿå¯ä»¥å¯¹ä¸€ä¸ªç”¨æˆ·ç»„ä¸­çš„æ‰€æœ‰ç”¨æˆ·è¿›è¡Œé›†ä¸­ç®¡ç†ã€‚æˆ‘ä»¬å¯ä»¥è¾“å…¥groupsæ¥æŸ¥çœ‹å½“å‰ç”¨æˆ·æ‰€æœ‰çš„ç”¨æˆ·ç»„ï¼š\ntest@ubuntu-server:~$ groups\ntest adm cdrom sudo dip plugdev lxd\n\næˆ‘ä»¬å¯ä»¥è¾“å…¥idæ¥æŸ¥çœ‹ç”¨æˆ·æ‰€å±çš„ç”¨æˆ·ç›¸å…³ä¿¡æ¯ï¼š\ntest@ubuntu-server:~$ id\nuid&#x3D;1000(test) gid&#x3D;1000(test) groups&#x3D;1000(test),4(adm),24(cdrom),27(sudo),30(dip),46(plugdev),116(lxd)\n\næˆ‘ä»¬å¯ä»¥çœ‹åˆ°testç”¨æˆ·é»˜è®¤æƒ…å†µä¸‹ä¸»è¦ç”¨æˆ·ç»„ä¸ºåŒåçš„testç”¨æˆ·ç»„ï¼Œå¹¶ä¸”è¿˜å±äºä¸€äº›å…¶ä»–çš„ç”¨æˆ·ç»„ï¼Œå…¶ä¸­sudoç”¨æˆ·ç»„å°±è¡¨ç¤ºå¯ä»¥æ‰§è¡Œsudoå‘½ä»¤ï¼Œæˆ‘ä»¬å‘ç°æˆ‘ä»¬åˆ›å»ºçš„studyç”¨æˆ·æ²¡æœ‰sudoçš„æ‰§è¡Œæƒé™ï¼š\nstudy@ubuntu-server:~$ sudo -s\n[sudo] password for study: \nstudy is not in the sudoers file.  This incident will be reported.\n\næ­£æ˜¯å› ä¸ºæ²¡æœ‰åŠ å…¥åˆ°sudoç”¨æˆ·ç»„ï¼Œè¿™é‡Œæˆ‘ä»¬æ¥å°è¯•å°†å…¶æ·»åŠ åˆ°sudoç”¨æˆ·ç»„ï¼š\ntest@ubuntu-server:~$ id study\nuid&#x3D;1001(study) gid&#x3D;1001(study) groups&#x3D;1001(study)\n\nä½¿ç”¨usermodå‘½ä»¤æ¥å¯¹ç”¨æˆ·çš„ç›¸å…³è®¾ç½®è¿›è¡Œä¿®æ”¹ï¼Œå‚æ•°ä¸useraddå¤§è‡´ç›¸åŒï¼š\ntest@ubuntu-server:~$ sudo usermod study -G sudo\ntest@ubuntu-server:~$ id study\nuid&#x3D;1001(study) gid&#x3D;1001(study) groups&#x3D;1001(study),27(sudo)\n\næ¥ç€åˆ‡æ¢åˆ°studyç”¨æˆ·å°±å¯ä»¥ä½¿ç”¨sudoå‘½ä»¤äº†ï¼š\nTo run a command as administrator (user &quot;root&quot;), use &quot;sudo &lt;command&gt;&quot;.\nSee &quot;man sudo_root&quot; for details.\n\nstudy@ubuntu-server:&#x2F;home&#x2F;test$ sudo -s\n[sudo] password for study: \nroot@ubuntu-server:&#x2F;home&#x2F;test# \n\nå®é™…ä¸Šï¼Œæˆ‘ä»¬çš„ç”¨æˆ·ä¿¡æ¯æ˜¯å­˜å‚¨åœ¨é…ç½®æ–‡ä»¶ä¸­çš„ï¼Œæˆ‘ä»¬ä¹‹å‰è¯´äº†ï¼Œé…ç½®æ–‡ä»¶ä¸€èˆ¬éƒ½æ”¾åœ¨etcç›®å½•ä¸‹ï¼Œè€Œç”¨æˆ·å’Œç”¨æˆ·ç»„ç›¸å…³çš„é…ç½®æ–‡ä»¶ï¼Œå­˜æ”¾åœ¨/etc/passwdå’Œ/etc/groupä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨catå‘½ä»¤å°†æ–‡ä»¶å†…å®¹æ‰“å°åˆ°æ§åˆ¶å°ï¼š\ntest@ubuntu-server:~$ cat &#x2F;etc&#x2F;passwd\nroot:x:0:0:root:&#x2F;root:&#x2F;bin&#x2F;bash\ndaemon:x:1:1:daemon:&#x2F;usr&#x2F;sbin:&#x2F;usr&#x2F;sbin&#x2F;nologin\nbin:x:2:2:bin:&#x2F;bin:&#x2F;usr&#x2F;sbin&#x2F;nologin\nsys:x:3:3:sys:&#x2F;dev:&#x2F;usr&#x2F;sbin&#x2F;nologin\nsync:x:4:65534:sync:&#x2F;bin:&#x2F;bin&#x2F;sync\n\næ ¼å¼ä¸ºï¼šæ³¨å†Œå:å£ä»¤:ç”¨æˆ·æ ‡è¯†å·:ç»„æ ‡è¯†å·:ç”¨æˆ·å:ç”¨æˆ·ä¸»ç›®å½•:å‘½ä»¤è§£é‡Šç¨‹åº ï¼Œè€Œæˆ‘ä»¬çš„å¯†ç åˆ™å­˜æ”¾åœ¨/etc/shadowä¸­ï¼Œæ˜¯ä»¥åŠ å¯†å½¢å¼å­˜å‚¨çš„ï¼Œå¹¶ä¸”éœ€è¦rootæƒé™æ‰èƒ½æŸ¥çœ‹ã€‚\n\nå¸¸ç”¨å‘½ä»¤æ¥ç€æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹Linuxç³»ç»Ÿä¸­ä¸€äº›æ¯”è¾ƒå¸¸ç”¨çš„å‘½ä»¤ã€‚\næ–‡ä»¶æ“ä½œæ–‡ä»¶æ˜¯æœ€åŸºæœ¬çš„å†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨lså‘½ä»¤åˆ—å‡ºå½“å‰ç›®å½•ä¸­æ‰€æœ‰çš„æ–‡ä»¶ï¼Œå‚æ•°-aè¡¨ç¤ºåŒ…å«æ‰€æœ‰çš„éšè—æ–‡ä»¶ï¼Œ-lè¡¨ç¤ºåˆ—å‡ºè¯¦ç»†ä¿¡æ¯ï¼š\ntest@ubuntu-server:~$ ls -al\ntotal 44\ndrwxr-xr-x 4 test test 4096 Jan 24 08:55 .\ndrwxr-xr-x 4 root root 4096 Jan 24 04:24 ..\n-rw------- 1 test test 2124 Jan 24 04:29 .bash_history\n-rw-r--r-- 1 test test  220 Feb 25  2020 .bash_logout\n-rw-r--r-- 1 test test 3771 Feb 25  2020 .bashrc\ndrwx------ 2 test test 4096 Jan 21 15:48 .cache\ndrwx------ 3 test test 4096 Jan 23 14:49 .config\n-rw-r--r-- 1 test test  807 Feb 25  2020 .profile\n-rw------- 1 test test   34 Jan 24 04:17 .python_history\n-rw-r--r-- 1 test test    0 Jan 21 15:52 .sudo_as_admin_successful\n-rw------- 1 test test 7201 Jan 24 08:55 .viminfo\n\nå¯ä»¥çœ‹åˆ°å½“å‰ç›®å½•ä¸‹çš„æ•´ä¸ªæ–‡ä»¶åˆ—è¡¨ï¼Œé‚£ä¹ˆè¿™äº›ä¿¡æ¯å„ç§ä»£è¡¨ä»€ä¹ˆæ„æ€å‘¢ï¼Œå°¤å…¶æ˜¯æœ€å‰é¢é‚£ä¸€æ ç±»ä¼¼äºdrwxr-xr-xçš„å­—ç¬¦ä¸²ã€‚\nå®ƒè¡¨ç¤ºæ–‡ä»¶çš„å±æ€§ï¼Œå…¶ä¸­ç¬¬1ä¸ªå­—ç¬¦è¡¨ç¤ºæ­¤æ–‡ä»¶çš„ç±»å‹ï¼š-è¡¨ç¤ºæ™®é€šæ–‡ä»¶ï¼Œlä¸ºé“¾æ¥æ–‡ä»¶ï¼Œdè¡¨ç¤ºç›®å½•ï¼ˆæ–‡ä»¶å¤¹ï¼‰ï¼Œcè¡¨ç¤ºå­—ç¬¦è®¾å¤‡ã€bè¡¨ç¤ºå—è®¾å¤‡ï¼Œè¿˜æœ‰pæœ‰åç®¡é“ã€få †æ ˆæ–‡ä»¶ã€så¥—æ¥å­—ç­‰ï¼Œè¿™äº›ä¸€èˆ¬éƒ½æ˜¯ç”¨äºè¿›ç¨‹ä¹‹é—´é€šä¿¡ä½¿ç”¨çš„ã€‚\nç¬¬2-4ä¸ªå­—ç¬¦è¡¨ç¤ºæ–‡ä»¶çš„æ‹¥æœ‰è€…ï¼ˆUserï¼‰å¯¹è¯¥æ–‡ä»¶çš„æƒé™ï¼Œç¬¬5-7ä¸ªå­—ç¬¦è¡¨ç¤ºæ–‡ä»¶æ‰€å±ç”¨æˆ·ç»„ï¼ˆGroupï¼‰å†…ç”¨æˆ·å¯¹è¯¥æ–‡ä»¶çš„æƒé™ï¼Œæœ€å8-10ä¸ªå­—ç¬¦è¡¨ç¤ºå…¶ä»–ç”¨æˆ·ï¼ˆOtherï¼‰å¯¹è¯¥æ–‡ä»¶çš„æƒé™ã€‚å…¶ä¸­rä¸ºè¯»æƒé™ã€wä¸ºå†™æƒé™ã€xä¸ºæ‰§è¡Œæƒé™ï¼Œä¸ºäº†æ–¹ä¾¿è®°å¿†ï¼Œç›´æ¥è®°UGOå°±è¡Œäº†ã€‚\næ¯”å¦‚drwxr-xr-xå°±è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªç›®å½•ï¼Œæ–‡ä»¶çš„æ‹¥æœ‰è€…å¯ä»¥åœ¨ç›®å½•ä¸­è¯»ã€å†™å’Œæ‰§è¡Œï¼Œè€ŒåŒä¸€ç”¨æˆ·ç»„çš„å…¶ä»–ç”¨æˆ·åªèƒ½è¯»å’Œæ‰§è¡Œï¼Œå…¶ä»–ç”¨æˆ·ä¹Ÿæ˜¯ä¸€æ ·ã€‚\nç¬¬äºŒæ æ•°æ®å¯ä»¥çœ‹åˆ°æ˜¯ä¸€åˆ—æ•°å­—ï¼Œå®ƒè¡¨ç¤ºæ–‡ä»¶åˆ›å»ºçš„é“¾æ¥æ–‡ä»¶ï¼ˆå¿«æ·æ–¹å¼ï¼‰æ•°é‡ï¼Œä¸€èˆ¬åªæœ‰1è¡¨ç¤ºåªæœ‰å½“å‰æ–‡ä»¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å°è¯•åˆ›å»ºä¸€ä¸ªé“¾æ¥æ–‡ä»¶ï¼š\ntest@ubuntu-server:~$ ln .bash_logout kk\n\nåˆ›å»ºåï¼Œä¼šç”Ÿæˆä¸€ä¸ªåä¸ºkkçš„æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯¹æ­¤æ–‡ä»¶çš„æ“ä½œç›¸å½“äºç›´æ¥æ“ä½œ.bash_logoutï¼Œè·ŸWindowsä¸­çš„å¿«æ·æ–¹å¼æ¯”è¾ƒç±»ä¼¼ï¼Œäº†è§£ä¸€ä¸‹å³å¯ã€‚å†æ¬¡æ‰§è¡Œllå‘½ä»¤ï¼Œå¯ä»¥çœ‹åˆ°.bash_logoutçš„é“¾æ¥æ•°å˜æˆäº†2ã€‚\nç¬¬ä¸‰æ æ•°æ®ä¸ºè¯¥æ–‡ä»¶æˆ–æ˜¯ç›®å½•çš„æ‹¥æœ‰è€…ã€‚\nç¬¬å››æ æ•°æ®è¡¨ç¤ºæ‰€å±çš„ç»„ã€‚\nç¬¬äº”æ æ•°æ®è¡¨ç¤ºæ–‡ä»¶å¤§å°ï¼Œä»¥å­—èŠ‚ä¸ºå•ä½ã€‚\nç¬¬å…­æ æ•°æ®ä¸ºæ–‡ä»¶çš„æœ€åä¸€æ¬¡ä¿®æ”¹æ—¶é—´\næœ€åä¸€æ å°±æ˜¯æ–‡ä»¶åç§°äº†ï¼Œå°±ä¸å¤šè¯´äº†ï¼Œå†æ¬¡æåŠ..è¡¨ç¤ºä¸Šçº§ç›®å½•ï¼Œ.è¡¨ç¤ºå½“å‰ç›®å½•ï¼Œæœ€å‰é¢æœ‰ä¸€ä¸ª.å¼€å¤´çš„æ–‡ä»¶ä¸ºéšè—æ–‡ä»¶ã€‚å¯ä»¥çœ‹åˆ°ä¸Šçº§ç›®å½•ï¼ˆä¹Ÿå°±æ˜¯&#x2F;homeç›®å½•ï¼‰æ‰€æœ‰è€…ä¸ºrootï¼Œå¹¶ä¸”érootç”¨æˆ·æ— æ³•è¿›è¡Œå†™æ“ä½œï¼Œåªèƒ½æ‰§è¡Œè¯»æ“ä½œï¼Œè€Œå½“å‰ç›®å½•ä»¥åŠç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶åˆ™å±äºtestç”¨æˆ·ï¼Œtestç”¨æˆ·å¯ä»¥éšæ„è¿›è¡Œä¿®æ”¹ã€‚\nåœ¨äº†è§£äº†Linuxçš„æ–‡ä»¶æŸ¥çœ‹ä¹‹åå†å»çœ‹Windowsçš„æ–‡ä»¶ç®¡ç†ï¼Œä¼šè§‰å¾—Windowsçš„å¤ªæ‹‰äº†ï¼š\n\né‚£ä¹ˆï¼Œå¦‚æœæˆ‘ä»¬å¸Œæœ›å¯¹æ–‡ä»¶çš„å±æ€§è¿›è¡Œä¿®æ”¹ï¼Œæ¯”å¦‚æˆ‘ä»¬ç°åœ¨å¸Œæœ›å°†æŸä¸ªæ–‡ä»¶çš„å†™æƒé™ç»™å…³é—­ï¼Œå¯ä»¥ä½¿ç”¨chmodå‘½ä»¤æ¥è¿›è¡Œæ–‡ä»¶å±æ€§ä¿®æ”¹ï¼Œæˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªtestæ–‡ä»¶ï¼Œä½¿ç”¨touchå‘½ä»¤æ¥åˆ›å»ºæ–‡ä»¶ï¼Œä½¿ç”¨mkdirå‘½ä»¤æ¥åˆ›å»ºç›®å½•ï¼š\ntest@ubuntu-server:~$ touch test\ntest@ubuntu-server:~$ ll test\n-rw-rw-r-- 1 test test 0 Jan 24 09:32 test\n\nå¯ä»¥çœ‹åˆ°æ–‡ä»¶åˆ›å»ºä¹‹åçš„é»˜è®¤æƒé™ä¸ºå¯è¯»å¯å†™ï¼Œæ¥ç€æˆ‘ä»¬æ¥å°†å…¶ä¿®æ”¹ä¸ºåªè¯»ï¼Œchmodçš„ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š\n\nchmod (u&#x2F;g&#x2F;o&#x2F;a)(+&#x2F;-)(r&#x2F;w&#x2F;x) æ–‡ä»¶åç§°\n\næˆ‘ä»¬å¯ä»¥ä»ugoä¸­é€‰æ‹©æˆ–æ˜¯ç›´æ¥aè¡¨ç¤ºæ‰€æœ‰ï¼Œ+å’Œ-è¡¨ç¤ºæ·»åŠ å’Œåˆ é™¤æƒé™ï¼Œæœ€årwxä¸ç”¨æˆ‘è¯´äº†å§\ntest@ubuntu-server:~$ chmod a-w test\ntest@ubuntu-server:~$ ll test\n-r--r--r-- 1 test test 0 Jan 24 09:32 test\n\né™¤äº†è¿™ç§æ–¹å¼ä¹‹å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°å­—æ¥ä»£æ›¿ï¼Œæ¯”å¦‚ç°åœ¨æˆ‘è¦ç»™å‰ä¸¤ä¸ªæ·»åŠ è¯»æƒé™ï¼Œé‚£ä¹ˆï¼š\nçº¦å®šï¼šr&#x3D;4ï¼Œw&#x3D;2ï¼Œx&#x3D;1ï¼Œéœ€è¦ä»€ä¹ˆæƒé™å°±è®©å¯¹åº”æƒé™çš„æ•°å­—ç›¸åŠ ï¼Œä¸€ä¸ªæ•°å­—è¡¨ç¤ºä¸€ä¸ªrwxçš„æƒé™çŠ¶æ€ï¼Œæ¯”å¦‚æˆ‘ä»¬æƒ³ä¿®æ”¹ä¸º-rw-rw-r--ï¼Œé‚£ä¹ˆå¯¹åº”çš„æ•°å­—å°±æ˜¯664ï¼Œå¯¹åº”çš„å‘½ä»¤ä¸ºï¼š\ntest@ubuntu-server:~$ chmod 664 test\ntest@ubuntu-server:~$ ll test\n-rw-rw-r-- 1 test test 0 Jan 24 09:32 test\n\nå¦‚æœæˆ‘ä»¬æƒ³ä¿®æ”¹æ–‡ä»¶çš„æ‹¥æœ‰è€…æˆ–æ˜¯æ‰€å±ç»„ï¼Œå¯ä»¥ä½¿ç”¨chownå’Œchgrpå‘½ä»¤ï¼š\ntest@ubuntu-server:~$ sudo chown root test \ntest@ubuntu-server:~$ ls -l\ntotal 0\n-rw-rw-r-- 1 root test 0 Jan 24 10:43 test\ntest@ubuntu-server:~$ sudo chgrp root test \ntest@ubuntu-server:~$ ls -l\ntotal 0\n-rw-rw-r-- 1 root root 0 Jan 24 10:43 test\n\nå†æ¬¡æ“ä½œè¯¥æ–‡ä»¶ï¼Œä¼šå‘ç°æ²¡æƒé™ï¼š\ntest@ubuntu-server:~$ chmod 777 test \nchmod: changing permissions of &#39;test&#39;: Operation not permitted\n\næ¥ç€æˆ‘ä»¬æ¥çœ‹æ–‡ä»¶çš„å¤åˆ¶ã€ç§»åŠ¨å’Œåˆ é™¤ï¼Œè¿™é‡Œæˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªæ–°çš„ç›®å½•å¹¶è¿›å…¥åˆ°æ­¤ç›®å½•ç”¨äºæ“ä½œï¼š\ntest@ubuntu-server:~$ mkdir study\ntest@ubuntu-server:~$ cd study\ntest@ubuntu-server:~&#x2F;study$\n\né¦–å…ˆæˆ‘ä»¬æ¼”ç¤ºæ–‡ä»¶çš„å¤åˆ¶æ“ä½œï¼Œæ–‡ä»¶çš„å¤åˆ¶ä½¿ç”¨cpå‘½ä»¤ï¼Œæ¯”å¦‚ç°åœ¨æˆ‘ä»¬æƒ³æŠŠä¸Šä¸€çº§ç›®å½•ä¸­çš„testæ–‡ä»¶å¤åˆ¶åˆ°å½“å‰ç›®å½•ä¸­ï¼š\ntest@ubuntu-server:~&#x2F;study$ cp ..&#x2F;test test\ntest@ubuntu-server:~&#x2F;study$ ls\ntest\n\né‚£ä¹ˆå¦‚æœæˆ‘ä»¬æƒ³è¦å°†ä¸€æ•´ä¸ªç›®å½•è¿›è¡Œå¤åˆ¶å‘¢ï¼Ÿæˆ‘ä»¬éœ€è¦æ·»åŠ ä¸€ä¸ª-rå‚æ•°è¡¨ç¤ºå°†ç›®å½•ä¸­çš„æ–‡ä»¶é€’å½’å¤åˆ¶ï¼š\ntest@ubuntu-server:~&#x2F;study$ cd ~\ntest@ubuntu-server:~$ cp -r study study_copied\ntest@ubuntu-server:~$ ls -l\ntotal 8\ndrwxrwxr-x 2 test test 4096 Jan 24 10:16 study\ndrwxrwxr-x 2 test test 4096 Jan 24 10:20 study_copied\n-rw-rw-r-- 1 test test    0 Jan 24 09:32 test\n\nå¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„æ•´ä¸ªç›®å½•ä¸­æ‰€æœ‰çš„æ–‡ä»¶ä¹Ÿä¸€èµ·è¢«å¤åˆ¶äº†ã€‚\næ¥ç€æˆ‘ä»¬æ¥çœ‹çœ‹ç§»åŠ¨æ“ä½œï¼Œç›¸å½“äºæ˜¯ç›´æ¥å°†ä¸€ä¸ªæ–‡ä»¶è½¬ç§»åˆ°å¦ä¸€ä¸ªç›®å½•ä¸­äº†ï¼Œæˆ‘ä»¬å†åˆ›å»ºä¸€ä¸ªç›®å½•ç”¨äºæ–‡ä»¶çš„ç§»åŠ¨ï¼Œå¹¶å°†testæ–‡ä»¶ç§»åŠ¨åˆ°æ­¤ç›®å½•ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨mvå‘½ä»¤è¿›è¡Œæ–‡ä»¶çš„ç§»åŠ¨ï¼š\ntest@ubuntu-server:~$ mkdir study2\ntest@ubuntu-server:~$ mv test study2\ntest@ubuntu-server:~$ ls\nstudy  study2  study_copied\ntest@ubuntu-server:~$ cd study2\ntest@ubuntu-server:~&#x2F;study2$ ls\ntest\n\nç°åœ¨æˆ‘ä»¬æƒ³è¦ç§»åŠ¨ä¸ªç›®å½•åˆ°å¦ä¸€ä¸ªç›®å½•ä¸­ï¼Œæ¯”å¦‚æˆ‘ä»¬æƒ³å°†studyç›®å½•ç§»åŠ¨åˆ°study2ç›®å½•ä¸­ï¼š\ntest@ubuntu-server:~$ mv study study2\ntest@ubuntu-server:~$ ls\nstudy2  study_copied\ntest@ubuntu-server:~$ cd study2\ntest@ubuntu-server:~&#x2F;study2$ ls\nstudy  test\n\nmvå‘½ä»¤ä¸ä»…èƒ½å®ç°æ–‡ä»¶çš„ç§»åŠ¨ï¼Œè¿˜å¯ä»¥å®ç°å¯¹æ–‡ä»¶é‡å‘½åæ“ä½œï¼Œæ¯”å¦‚æˆ‘ä»¬æƒ³å°†æ–‡ä»¶testé‡å‘½åä¸ºyydsï¼Œé‚£ä¹ˆç›´æ¥å°†å…¶è¿›è¡Œç§»åŠ¨æ“ä½œå³å¯ï¼š\ntest@ubuntu-server:~&#x2F;study2$ ls\nstudy  test\ntest@ubuntu-server:~&#x2F;study2$ mv test yyds\ntest@ubuntu-server:~&#x2F;study2$ ls\nstudy  yyds\n\næœ€åå°±æ˜¯åˆ é™¤å‘½ä»¤äº†ï¼Œä½¿ç”¨rmè¿›è¡Œåˆ é™¤æ“ä½œï¼Œæ¯”å¦‚ç°åœ¨æˆ‘ä»¬æƒ³åˆ é™¤study2ç›®å½•ï¼ˆæ³¨æ„éœ€è¦æ·»åŠ -rå‚æ•°è¡¨ç¤ºé€’å½’åˆ é™¤æ–‡ä»¶å¤¹ä¸­çš„å†…å®¹ï¼‰ï¼š\ntest@ubuntu-server:~$ rm -r study2\ntest@ubuntu-server:~$ ls\nstudy_copied\n\nè€Œæœ€å¸¸æåˆ°çš„rm -rf /*æ­£æ˜¯åˆ é™¤æ ¹ç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶ï¼ˆéå¸¸å±é™©çš„æ“ä½œï¼‰ï¼Œ-fè¡¨ç¤ºå¿½ç•¥ä¸å­˜åœ¨çš„æ–‡ä»¶ï¼Œä¸è¿›è¡Œä»»ä½•æç¤ºï¼Œ*æ˜¯ä¸€ä¸ªé€šé…ç¬¦ï¼Œè¡¨ç¤ºä»»æ„æ–‡ä»¶ã€‚è¿™é‡Œæˆ‘ä»¬æ¼”ç¤ºä¸€ä¸‹åˆ é™¤æ‰€æœ‰.txtç»“å°¾çš„æ–‡ä»¶ï¼š\ntest@ubuntu-server:~$ touch 1.txt 2.txt 3.txt\ntest@ubuntu-server:~$ ls\n1.txt  2.txt  3.txt\ntest@ubuntu-server:~$ rm *.txt\ntest@ubuntu-server:~$ ls\ntest@ubuntu-server:~$ \n\næœ€åæˆ‘ä»¬å†æ¥çœ‹æ–‡ä»¶çš„æœç´¢ï¼Œæˆ‘ä»¬ä½¿ç”¨findå‘½ä»¤æ¥è¿›è¡Œæœç´¢ï¼Œæ¯”å¦‚æˆ‘æƒ³æœç´¢&#x2F;etcç›®å½•ä¸‹åä¸ºpasswdçš„æ–‡ä»¶ï¼š\ntest@ubuntu-server:~$ sudo find &#x2F;etc -name passwd\n[sudo] password for test: \n&#x2F;etc&#x2F;pam.d&#x2F;passwd\n&#x2F;etc&#x2F;passwd\n\nå®ƒè¿˜æ”¯æŒé€šé…ç¬¦ï¼Œæ¯”å¦‚æœç´¢ä»¥så¼€å¤´çš„æ–‡ä»¶ï¼š\ntest@ubuntu-server:~$ sudo find &#x2F;etc -name s*\n&#x2F;etc&#x2F;subuid\n&#x2F;etc&#x2F;screenrc\n&#x2F;etc&#x2F;sensors3.conf\n&#x2F;etc&#x2F;sysctl.conf\n&#x2F;etc&#x2F;sudoers\n&#x2F;etc&#x2F;shadow\n&#x2F;etc&#x2F;skel\n&#x2F;etc&#x2F;pam.d&#x2F;su\n&#x2F;etc&#x2F;pam.d&#x2F;sshd\n&#x2F;etc&#x2F;pam.d&#x2F;sudo\n...\n\nç³»ç»Ÿç®¡ç†æ¥ç€æˆ‘ä»¬æ¥æŸ¥çœ‹ä¸€äº›ç³»ç»Ÿç®¡ç†ç›¸å…³çš„å‘½ä»¤ï¼Œæ¯”å¦‚æˆ‘ä»¬Windowsä¸­çš„ä»»åŠ¡ç®¡ç†å™¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨topå‘½ä»¤æ¥æ‰“å¼€ï¼š\ntop - 10:48:46 up  5:52,  1 user,  load average: 0.00, 0.00, 0.00\nTasks: 191 total,   2 running, 189 sleeping,   0 stopped,   0 zombie\n%Cpu(s):  0.0 us,  0.2 sy,  0.0 ni, 99.8 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st\nMiB Mem :   3919.1 total,   2704.2 free,    215.0 used,    999.9 buff&#x2F;cache\nMiB Swap:   3923.0 total,   3923.0 free,      0.0 used.   3521.4 avail Mem \n\n    PID USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND                       \n  10528 test      20   0    8944   3072   2652 R   0.7   0.1   0:00.07 top                           \n   9847 root      20   0       0      0      0 I   0.3   0.0   0:00.87 kworker&#x2F;0:0-events            \n      1 root      20   0  102760  10456   7120 S   0.0   0.3   0:02.02 systemd                       \n      2 root      20   0       0      0      0 S   0.0   0.0   0:00.01 kthreadd                      \n      3 root       0 -20       0      0      0 I   0.0   0.0   0:00.00 rcu_gp                        \n      4 root       0 -20       0      0      0 I   0.0   0.0   0:00.00 rcu_par_gp                    \n      6 root       0 -20       0      0      0 I   0.0   0.0   0:00.00 kworker&#x2F;0:0H-kblockd          \n      8 root       0 -20       0      0      0 I   0.0   0.0   0:00.00 mm_percpu_wq                  \n      9 root      20   0       0      0      0 S   0.0   0.0   0:00.15 ksoftirqd&#x2F;0                   \n     10 root      20   0       0      0      0 R   0.0   0.0   0:01.49 rcu_sched                     \n     11 root      rt   0       0      0      0 S   0.0   0.0   0:00.24 migration&#x2F;0                   \n     12 root     -51   0       0      0      0 S   0.0   0.0   0:00.00 idle_inject&#x2F;0                 \n     14 root      20   0       0      0      0 S   0.0   0.0   0:00.00 cpuhp&#x2F;0                       \n     15 root      20   0       0      0      0 S   0.0   0.0   0:00.00 cpuhp&#x2F;1                       \n     16 root     -51   0       0      0      0 S   0.0   0.0   0:00.00 idle_inject&#x2F;1                 \n     17 root      rt   0       0      0      0 S   0.0   0.0   0:00.30 migration&#x2F;1                   \n     18 root      20   0       0      0      0 S   0.0   0.0   0:00.07 ksoftirqd&#x2F;1                   \n     20 root       0 -20       0      0      0 I   0.0   0.0   0:00.00 kworker&#x2F;1:0H-kblockd  \n\nå¯ä»¥å¾ˆæ¸…æ¥šåœ°çœ‹åˆ°å½“å‰CPUçš„ä½¿ç”¨æƒ…å†µä»¥åŠå†…å­˜çš„å ç”¨æƒ…å†µã€‚\næŒ‰ä¸‹æ•°å­—é”®1ï¼Œå¯ä»¥å±•ç¤ºæ‰€æœ‰CPUæ ¸å¿ƒçš„ä½¿ç”¨æƒ…å†µï¼š\n%Cpu0  :  0.0 us,  0.0 sy,  0.0 ni,100.0 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st\n%Cpu1  :  0.0 us,  0.0 sy,  0.0 ni,100.0 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st\n\næŒ‰ä¸‹fé”®å¯ä»¥è®¾ç½®ä»¥å“ªä¸€åˆ—è¿›è¡Œæ’åºæˆ–æ˜¯æ˜¾ç¤ºé‚£äº›å‚æ•°ï¼š\nFields Management for window 1:Def, whose current sort field is %MEM\n   Navigate with Up&#x2F;Dn, Right selects for move then &lt;Enter&gt; or Left commits,\n   &#39;d&#39; or &lt;Space&gt; toggles display, &#39;s&#39; sets sort.  Use &#39;q&#39; or &lt;Esc&gt; to end!\n\næŒ‰ä¸‹qé”®å³å¯é€€å‡ºç›‘æ§ç•Œé¢ã€‚\næˆ‘ä»¬å¯ä»¥ç›´æ¥è¾“å…¥freeå‘½ä»¤æ¥æŸ¥çœ‹å½“å‰ç³»ç»Ÿçš„å†…å­˜ä½¿ç”¨æƒ…å†µï¼š\ntest@ubuntu-server:~$ free -m\n              total        used        free      shared  buff&#x2F;cache   available\nMem:           3919         212        2706           1         999        3523\nSwap:          3922           0        3922\n\nå…¶ä¸­-mè¡¨ç¤ºä»¥Mä¸ºå•ä½ï¼Œä¹Ÿå¯ä»¥-gè¡¨ç¤ºä»¥Gä¸ºå•ä½ï¼Œé»˜è®¤æ˜¯kbä¸ºå•ä½ã€‚\næœ€åå°±æ˜¯ç£ç›˜å®¹é‡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨lsblkæ¥æŸ¥çœ‹æ‰€æœ‰å—è®¾å¤‡çš„ä¿¡æ¯ï¼Œå…¶ä¸­å°±åŒ…æ‹¬æˆ‘ä»¬çš„ç¡¬ç›˜ã€å…‰é©±ç­‰ï¼š\ntest@ubuntu-server:~$ lsblk\nNAME                      MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT\nloop0                       7:0    0 48.9M  1 loop &#x2F;snap&#x2F;core18&#x2F;2127\nloop1                       7:1    0 28.1M  1 loop &#x2F;snap&#x2F;snapd&#x2F;12707\nloop2                       7:2    0   62M  1 loop &#x2F;snap&#x2F;lxd&#x2F;21032\nsr0                        11:0    1 1024M  0 rom  \nnvme0n1                   259:0    0   20G  0 disk \nâ”œâ”€nvme0n1p1               259:1    0  512M  0 part &#x2F;boot&#x2F;efi\nâ”œâ”€nvme0n1p2               259:2    0    1G  0 part &#x2F;boot\nâ””â”€nvme0n1p3               259:3    0 18.5G  0 part \n  â””â”€ubuntu--vg-ubuntu--lv 253:0    0 18.5G  0 lvm  &#x2F;\n\nå¯ä»¥çœ‹åˆ°nvmeå¼€å¤´çš„å°±æ˜¯æˆ‘ä»¬çš„ç¡¬ç›˜ï¼ˆè¿™ä¸ªå› äººè€Œå¼‚ï¼Œå¯èƒ½ä½ ä»¬çš„æ˜¯sdaï¼Œç£ç›˜ç±»å‹ä¸åŒåç§°å°±ä¸åŒï¼‰å¯ä»¥çœ‹åˆ°nvme0n1  å®¹é‡ä¸º20Gï¼Œå¹¶ä¸”512Mç”¨ä½œå­˜æ”¾EFIæ–‡ä»¶ï¼Œ1Gå­˜æ”¾å¯åŠ¨æ–‡ä»¶ï¼Œå‰©ä½™å®¹é‡å°±æ˜¯å­˜æ”¾ç³»ç»Ÿæ–‡ä»¶å’Œæˆ‘ä»¬çš„ç”¨æˆ·ç›®å½•ã€‚\nè¿™é‡Œè¦æåˆ°ä¸€ä¸ªæŒ‚è½½çš„æ¦‚å¿µï¼š\n\n\n\n\n\n\n\n\n\næŒ‚è½½ï¼ŒæŒ‡çš„å°±æ˜¯å°†è®¾å¤‡æ–‡ä»¶ä¸­çš„é¡¶çº§ç›®å½•è¿æ¥åˆ° Linux æ ¹ç›®å½•ä¸‹çš„æŸä¸€ç›®å½•ï¼ˆæœ€å¥½æ˜¯ç©ºç›®å½•ï¼‰ï¼Œè®¿é—®æ­¤ç›®å½•å°±ç­‰åŒäºè®¿é—®è®¾å¤‡æ–‡ä»¶ã€‚\næ¯”å¦‚æˆ‘ä»¬çš„ä¸»ç¡¬ç›˜ï¼ŒæŒ‚è½½ç‚¹å°±è¢«è®¾å®šä¸º/æ ¹ç›®å½•ï¼Œè€Œæˆ‘ä»¬æ‰€æœ‰ä¿å­˜çš„æ–‡ä»¶éƒ½ä¼šå­˜å‚¨åœ¨ç¡¬ç›˜ä¸­ï¼Œå¦‚æœä½ æœ‰Uç›˜ï¼ˆæœ€å¥½å°†Uç›˜çš„æ–‡ä»¶æ ¼å¼æ”¹ä¸ºExFatï¼Œå¯ä»¥ç›´æ¥åœ¨Windowsä¸­è¿›è¡Œæ ¼å¼åŒ–ï¼Œç„¶åéšä¾¿æ”¾å…¥ä¸€äº›æ–‡ä»¶å³å¯ï¼‰ä¹‹ç±»çš„ä¸œè¥¿ï¼Œæˆ‘ä»¬å¯ä»¥æ¼”ç¤ºä¸€ä¸‹å¯¹Uç›˜è¿›è¡ŒæŒ‚è½½ï¼š\ntest@ubuntu-server:~$ sudo fdisk -l\n...\nDisk &#x2F;dev&#x2F;sda: 60 GiB, 64424509440 bytes, 125829120 sectors\nDisk model: USB DISK        \nUnits: sectors of 1 * 512 &#x3D; 512 bytes\nSector size (logical&#x2F;physical): 512 bytes &#x2F; 512 bytes\nI&#x2F;O size (minimum&#x2F;optimal): 512 bytes &#x2F; 512 bytes\nDisklabel type: dos\nDisk identifier: 0x4a416279\n\nDevice     Boot     Start       End   Sectors  Size Id Type\n&#x2F;dev&#x2F;sda1  *       614400 125214719 124600320 59.4G  7 HPFS&#x2F;NTFS&#x2F;exFAT\n&#x2F;dev&#x2F;sda2       125214720 125825022    610303  298M  6 FAT16\n\nå°†Uç›˜æ’å…¥ç”µè„‘ï¼Œé€‰æ‹©è¿æ¥åˆ°Linuxï¼Œè¾“å…¥sudo fdisk -lå‘½ä»¤æ¥æŸ¥çœ‹ç¡¬ç›˜å®ä½“æƒ…å†µï¼Œå¯ä»¥çœ‹åˆ°æœ‰ä¸€ä¸ªUSB DISKè®¾å¤‡ï¼Œæ³¨æ„è§‚å¯Ÿä¸€ä¸‹æ˜¯ä¸æ˜¯å’Œè‡ªå·±çš„Uç›˜å®¹é‡ä¸€è‡´ï¼Œå¯ä»¥çœ‹åˆ°è®¾å¤‡åç§°ä¸º/dev/sda1ã€‚\næ¥ç€æˆ‘ä»¬è®¾å¤‡æŒ‚è½½åˆ°ä¸€ä¸ªç›®å½•ä¸‹ï¼š\ntest@ubuntu-server:~$ mkdir u-test\ntest@ubuntu-server:~$ sudo mount &#x2F;dev&#x2F;sda1 u-test&#x2F;\ntest@ubuntu-server:~$ cd u-test&#x2F;\ntest@ubuntu-server:~&#x2F;u-test$ ls\n CGI\n cn_windows_10_enterprise_ltsc_2019_x64_dvd_9c09ff24.iso\n cn_windows_7_professional_x64_dvd_x15-65791.iso\n cn_windows_8.1_enterprise_with_update_x64_dvd_6050374.iso\n cn_windows_8.1_professional_vl_with_update_x64_dvd_4050293.iso\n cn_windows_server_2019_updated_july_2020_x64_dvd_2c9b67da.iso\n&#39;System Volume Information&#39;\n zh-cn_windows_10_consumer_editions_version_21h1_updated_sep_2021_x64_dvd_991b822f.iso\n zh-cn_windows_11_consumer_editions_x64_dvd_904f13e4.iso\n\næœ€åè¿›å…¥åˆ°æ­¤ç›®å½•ä¸­ï¼Œå°±èƒ½çœ‹åˆ°ä½ Uç›˜ä¸­çš„æ–‡ä»¶äº†ï¼Œå¦‚æœä½ ä¸æƒ³ä½¿ç”¨Uç›˜äº†ï¼Œå¯ä»¥ç›´æ¥å–æ¶ˆæŒ‚è½½ï¼š\ntest@ubuntu-server:~&#x2F;u-test$ cd ..\ntest@ubuntu-server:~$ sudo umount &#x2F;dev&#x2F;sda1\n\næœ€åæˆ‘ä»¬å¯ä»¥é€šè¿‡dfå‘½ä»¤æŸ¥çœ‹å½“å‰ç£ç›˜ä½¿ç”¨æƒ…å†µï¼š\ntest@ubuntu-server:~$ df -m\nFilesystem                        1M-blocks  Used Available Use% Mounted on\nudev                                   1900     0      1900   0% &#x2F;dev\ntmpfs                                   392     2       391   1% &#x2F;run\n&#x2F;dev&#x2F;mapper&#x2F;ubuntu--vg-ubuntu--lv     18515  6544     11009  38% &#x2F;\ntmpfs                                  1960     0      1960   0% &#x2F;dev&#x2F;shm\ntmpfs                                     5     0         5   0% &#x2F;run&#x2F;lock\ntmpfs                                  1960     0      1960   0% &#x2F;sys&#x2F;fs&#x2F;cgroup\n&#x2F;dev&#x2F;nvme0n1p2                          976   109       800  12% &#x2F;boot\n&#x2F;dev&#x2F;nvme0n1p1                          511     4       508   1% &#x2F;boot&#x2F;efi\n&#x2F;dev&#x2F;loop0                               49    49         0 100% &#x2F;snap&#x2F;core18&#x2F;2127\n&#x2F;dev&#x2F;loop1                               29    29         0 100% &#x2F;snap&#x2F;snapd&#x2F;12707\n&#x2F;dev&#x2F;loop2                               62    62         0 100% &#x2F;snap&#x2F;lxd&#x2F;21032\ntmpfs                                   392     0       392   0% &#x2F;run&#x2F;user&#x2F;1000\n\nè¾“å…¥pså¯ä»¥æŸ¥çœ‹å½“å‰è¿è¡Œçš„ä¸€äº›è¿›ç¨‹ï¼Œå…¶å®å’Œtopæœ‰ç‚¹ç±»ä¼¼ï¼Œä½†æ˜¯æ²¡æœ‰ç›‘æ§åŠŸèƒ½ï¼Œåªèƒ½æ˜¾ç¤ºå½“å‰çš„ã€‚\ntest@ubuntu-server:~$ ps\n    PID TTY          TIME CMD\n  11438 pts&#x2F;0    00:00:00 bash\n  11453 pts&#x2F;0    00:00:00 ps\n\næ·»åŠ -efæŸ¥çœ‹æ‰€æœ‰çš„è¿›ç¨‹ï¼š\ntest@ubuntu-server:~$ ps -ef\nUID          PID    PPID  C STIME TTY          TIME CMD\nroot           1       0  0 04:55 ?        00:00:02 &#x2F;sbin&#x2F;init\nroot           2       0  0 04:55 ?        00:00:00 [kthreadd]\nroot           3       2  0 04:55 ?        00:00:00 [rcu_gp]\nroot           4       2  0 04:55 ?        00:00:00 [rcu_par_gp]\nroot           6       2  0 04:55 ?        00:00:00 [kworker&#x2F;0:0H-kblockd]\n...\n\næˆ‘ä»¬å¯ä»¥æ‰¾åˆ°å¯¹åº”çš„è¿›ç¨‹IDï¼ˆPIDï¼‰ï¼Œä½¿ç”¨killå‘½ä»¤å°†å…¶å¼ºåˆ¶ç»ˆæ­¢ï¼š\ntest@ubuntu-server:~$ ps\n    PID TTY          TIME CMD\n  11438 pts&#x2F;0    00:00:00 bash\n  11455 pts&#x2F;0    00:00:00 ps\ntest@ubuntu-server:~$ kill -9 11438\nConnection to 192.168.10.6 closed.\n\næ¯”å¦‚æˆ‘ä»¬å¯ä»¥å°†å½“å‰ä¼šè¯çš„bashç»™æ€æ­»ï¼Œé‚£ä¹ˆä¼šå¯¼è‡´æˆ‘ä»¬çš„è¿æ¥ç›´æ¥æ–­å¼€ï¼Œå…¶ä¸­-9æ˜¯ä¸€ä¸ªä¿¡å·ï¼Œè¡¨ç¤ºæ€æ­»è¿›ç¨‹ï¼š\n\n1 (HUP)ï¼šé‡æ–°åŠ è½½è¿›ç¨‹ã€‚\n9 (KILL)ï¼šæ€æ­»ä¸€ä¸ªè¿›ç¨‹ã€‚\n15 (TERM)ï¼šæ­£å¸¸åœæ­¢ä¸€ä¸ªè¿›ç¨‹ã€‚\n\næœ€åå¦‚æœæˆ‘ä»¬æƒ³è¦æ­£å¸¸å…³æœºï¼Œåªéœ€è¦è¾“å…¥shutdownå³å¯ï¼Œç³»ç»Ÿä¼šåˆ›å»ºä¸€ä¸ªå…³æœºè®¡åˆ’ï¼Œå¹¶åœ¨æŒ‡å®šæ—¶é—´å…³æœºï¼Œæˆ–æ˜¯æ·»åŠ nowè¡¨ç¤ºç«‹å³å…³æœºï¼š\ntest@ubuntu-server:~$ sudo shutdown\n[sudo] password for test: \nShutdown scheduled for Mon 2022-01-24 11:46:18 UTC, use &#39;shutdown -c&#39; to cancel.\ntest@ubuntu-server:~$ sudo shutdown now\nConnection to 192.168.10.6 closed by remote host.\nConnection to 192.168.10.6 closed.\n\nå‹ç¼©è§£å‹æ¯”è¾ƒå¸¸ç”¨çš„å‹ç¼©å’Œè§£å‹ä¹Ÿæ˜¯é‡ç‚¹ï¼Œæˆ‘ä»¬åœ¨Windowsä¸­ç»å¸¸éœ€è¦ä¸‹è½½ä¸€äº›å‹ç¼©åŒ…ï¼Œå¹¶ä¸”å°†å‹ç¼©åŒ…è§£å‹æ‰èƒ½è·å¾—é‡Œé¢çš„æ–‡ä»¶ï¼Œè€ŒLinuxä¸­ä¹Ÿæ”¯æŒæ–‡ä»¶çš„å‹ç¼©å’Œè§£å‹ã€‚\nè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨tarå‘½ä»¤æ¥å®Œæˆæ–‡ä»¶äºšç´¢å’Œè§£å‹æ“ä½œï¼Œåœ¨Linuxä¸­æ¯”è¾ƒå¸¸ç”¨çš„æ˜¯gzipæ ¼å¼ï¼Œåç¼€åä¸€èˆ¬ä¸º.gzï¼Œtarå‘½ä»¤çš„å‚æ•°-cè¡¨ç¤ºå¯¹æ–‡ä»¶è¿›è¡Œå‹ç¼©ï¼Œåˆ›å»ºæ–°çš„å‹ç¼©æ–‡ä»¶ï¼Œ-xè¡¨ç¤ºè¿›è¡Œè§£å‹æ“ä½œï¼Œ-zè¡¨ç¤ºä»¥gzipæ ¼å¼è¿›è¡Œæ“ä½œï¼Œ-vå¯ä»¥åœ¨å¤„ç†è¿‡ç¨‹ä¸­è¾“å‡ºä¸€äº›æ—¥å¿—ä¿¡æ¯ï¼Œ-fè¡¨ç¤ºå¯¹æ™®é€šæ–‡ä»¶è¿›è¡Œæ“ä½œï¼Œè¿™é‡Œæˆ‘ä»¬åˆ›å»ºä¸‰ä¸ªæ–‡ä»¶å¹¶å¯¹è¿™ä¸‰ä¸ªæ–‡ä»¶è¿›è¡Œæ‰“åŒ…ï¼š\ntest@ubuntu-server:~$ tar -zcvf test.tar.gz *.txt\n1.txt\n2.txt\n3.txt\ntest@ubuntu-server:~$ ls\n1.txt  2.txt  3.txt  test.tar.gz\ntest@ubuntu-server:~$ \n\næ¥ç€æˆ‘ä»¬åˆ é™¤åˆšåˆšä¸‰ä¸ªæ–‡ä»¶ï¼Œå†æ‰§è¡Œè§£å‹æ“ä½œï¼Œå¾—åˆ°å‹ç¼©åŒ…ä¸­æ–‡ä»¶ï¼š\ntest@ubuntu-server:~$ rm *.txt\ntest@ubuntu-server:~$ ls\ntest.tar.gz\ntest@ubuntu-server:~$ tar -zxvf test.tar.gz \n1.txt\n2.txt\n3.txt\ntest@ubuntu-server:~$ ls\n1.txt  2.txt  3.txt  test.tar.gz\n\nåŒæ ·çš„ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å¯¹ä¸€ä¸ªæ–‡ä»¶å¤¹è¿›è¡Œæ‰“åŒ…ï¼š\ntest@ubuntu-server:~$ mv *.txt test\ntest@ubuntu-server:~$ tar -zcvf test.tar.gz test&#x2F;\ntest&#x2F;\ntest&#x2F;1.txt\ntest&#x2F;2.txt\ntest&#x2F;3.txt\ntest@ubuntu-server:~$ rm -r test\ntest@ubuntu-server:~$ ls\ntest.tar.gz \ntest@ubuntu-server:~$ tar -zxvf test.tar.gz \ntest&#x2F;\ntest&#x2F;1.txt\ntest&#x2F;2.txt\ntest&#x2F;3.txt\ntest@ubuntu-server:~$ ls\ntest  test.tar.gz\ntest@ubuntu-server:~$ ls test\n1.txt  2.txt  3.txt\n\nåˆ°æ­¤ï¼ŒLinuxçš„ä¸€äº›åŸºæœ¬å‘½ä»¤å°±è®²è§£ä¸ºæ­¢ã€‚\n\nvimæ–‡æœ¬ç¼–è¾‘å™¨å’ŒWindowsä¸­çš„è®°äº‹æœ¬ä¸€æ ·ï¼ŒLinuxä¸­ä¹Ÿæœ‰æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå«åšViç¼–è¾‘å™¨ï¼ŒUbuntuä¸­å†…ç½®äº†Viç¼–è¾‘å™¨çš„å‡çº§ç‰ˆVimï¼Œæˆ‘ä»¬è¿™é‡Œå°±è®²è§£Vimç¼–è¾‘å™¨çš„ä½¿ç”¨ã€‚\næˆ‘ä»¬å¯ä»¥ç›´æ¥è¾“å…¥vim æ–‡ä»¶åç§°æ¥ä½¿ç”¨Vimç¼–è¾‘å™¨å¯¹æ–‡æœ¬æ–‡ä»¶è¿›è¡Œç¼–è¾‘ï¼š\ntest@ubuntu-server:~$ vim hello.txt\n\nè¿›å…¥ç¼–è¾‘å™¨ä¹‹åï¼Œæˆ‘ä»¬å‘ç°ç•Œé¢å˜æˆäº†ï¼š\n~                                                                                                                                                                                         \n~                                                                                                   \n~                                                                                                   \n~                                                                                                   \n~                                                                                                   \n~                                                                                                   \n~                                                                                                   \n~                                                                                                   \n~                                                                                                   \n~                                                                                                   \n~                                                                                                   \n~                                                                                                   \n&quot;hello.txt&quot; [New File]                                                            0,0-1         All\n\nè¿™æ—¶æˆ‘ä»¬ç›´æ¥è¾“å…¥å†…å®¹æ˜¯æ— æ³•å®Œæˆçš„ï¼Œå› ä¸ºé»˜è®¤è¿›å…¥ä¹‹åä¸ºå‘½ä»¤æ¨¡å¼ï¼ŒVimç¼–è¾‘å™¨é»˜è®¤æœ‰ä¸‰ç§æ¨¡å¼ï¼š\n\n\nå‘½ä»¤æ¨¡å¼ï¼šæ­¤æ¨¡å¼ä¸‹å¯ä»¥è¾“å…¥ä»»æ„çš„å‘½ä»¤è¿›è¡Œæ“ä½œï¼Œæ‰€æœ‰çš„è¾“å…¥éƒ½è¢«çœ‹åšæ˜¯å‘½ä»¤è¾“å…¥ï¼Œè€Œä¸æ˜¯æ–‡æœ¬ç¼–è¾‘è¾“å…¥ã€‚\nç¼–è¾‘æ¨¡å¼ï¼šæ­¤æ¨¡å¼ä¸‹è¾“å…¥çš„ä»»ä½•å†…å®¹éƒ½ä¼šä»¥æ–‡æœ¬ç¼–è¾‘æ–¹å¼å†™å…¥åˆ°æ–‡ä»¶ä¸­ï¼Œå°±åƒæˆ‘ä»¬ç›´æ¥åœ¨Windowsçš„è®°äº‹æœ¬ä¸­å†™å†…å®¹ä¸€æ ·ã€‚\næœ«è¡Œæ¨¡å¼ï¼šæ­¤æ¨¡å¼ä¸‹ç”¨äºè¾“å…¥ä¸€äº›å¤æ‚å‘½ä»¤ï¼Œä¼šåœ¨æœ€åä¸€è¡Œè¿›è¡Œå¤æ‚å‘½ä»¤çš„è¾“å…¥ã€‚\n\nåœ¨å‘½ä»¤æ¨¡å¼ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æŒ‰ä¸‹é”®ç›˜ä¸Šçš„iï¼Œæ­¤å‘½ä»¤è¡¨ç¤ºè¿›è¡Œæ’å…¥æ“ä½œï¼Œä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°ç¼–è¾‘æ¨¡å¼ï¼Œè¿™æ—¶å¯ä»¥çœ‹åˆ°æœ€ä¸‹æ–¹å˜ä¸ºï¼š\n~                                                                                                   \n~                                                                                                   \n~                                                                                                   \n~                                                                                                   \n~                                                                                                   \n~                                                                                                   \n~                                                                                                   \n-- INSERT --                                                                      1,1           All\n\nè€Œè¿™æ—¶æˆ‘ä»¬æ‰€æœ‰çš„è¾“å…¥å†…å®¹éƒ½å¯ä»¥ç›´æ¥å†™åˆ°æ–‡ä»¶ä¸­äº†ï¼Œå¦‚æœæˆ‘ä»¬æƒ³å›åˆ°å‘½ä»¤æ¨¡å¼ï¼ŒæŒ‰ä¸‹Escé”®å³å¯ã€‚\né™¤äº†iä»¥å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æŒ‰ä¸‹aè¡¨ç¤ºä»å½“å‰å…‰æ ‡æ‰€åœ¨ä½ç½®ä¹‹åç»§ç»­å†™ï¼Œä¸iä¸åŒçš„æ˜¯ï¼Œiä¼šåœ¨å…‰æ ‡ä¹‹å‰ç»§ç»­å†™ï¼Œoä¼šç›´æ¥è·³åˆ°ä¸‹ä¸€è¡Œï¼Œè€ŒAè¡¨ç¤ºåœ¨å½“å‰è¡Œçš„æœ€åç»§ç»­å†™å…¥ï¼ŒIè¡¨ç¤ºåœ¨å½“å‰è¡Œçš„æœ€å‰é¢ç»§ç»­å†™å…¥ã€‚\nè¿™é‡Œæˆ‘ä»¬éšä¾¿ç²˜è´´ä¸€æ®µæ–‡æœ¬ä¿¡æ¯è¿›å»ï¼ˆä¸è¦ç”¨Ctrl+Vï¼ŒLinuxä¸­æ²¡è¿™æ“ä½œï¼ŒXShellå³é”®ç‚¹ç²˜è´´ï¼‰ï¼š\nI was hard on people sometimes, probably harder than I needed to be. \nI remember the time when Reed was six years old, coming home, and I had just fired somebody that day.\nAnd I imagined what it was like for that person to tell his family and his young son that he had lost his job. \nIt was hard. \nButã€€somebodyâ€™s got to do it. \nI figured that it was always my job to make sure that the team was excellent, and if I didnâ€™t do it, nobody was going to do it.\nYou always have to keep pushing to innovate.\nDylan could have sung protest songs forever and probably made a lot of money, but he didnâ€™t. \nHe had to move on, and when he did, by going electric in 1965, he alienated a lot of people.\n\nåœ¨æˆ‘ä»¬ç¼–è¾‘å®Œæˆä¹‹åï¼Œéœ€è¦è¿›å…¥åˆ°æœ«è¡Œæ¨¡å¼è¿›è¡Œæ–‡ä»¶çš„ä¿å­˜å¹¶é€€å‡ºï¼ŒæŒ‰ä¸‹:è¿›å…¥æœ«è¡Œæ¨¡å¼ï¼Œå†è¾“å…¥wqå³å¯ä¿å­˜é€€å‡ºã€‚\næ¥ç€æˆ‘ä»¬æ¥çœ‹ä¸€äº›æ¯”è¾ƒå¸¸ç”¨çš„å‘½ä»¤ï¼Œé¦–å…ˆæ˜¯å‘½ä»¤æ¨¡å¼ä¸‹çš„å…‰æ ‡ç§»åŠ¨å‘½ä»¤ï¼š\n\n^   ç›´æ¥è°ƒåˆ°æœ¬è¡Œæœ€å‰é¢\n$   ç›´æ¥è·³åˆ°æœ¬è¡Œæœ€åé¢\ngg  ç›´æ¥è·³åˆ°ç¬¬ä¸€è¡Œ\n[N]G    è·³è½¬åˆ°ç¬¬Nè¡Œ\n[N]æ–¹å‘é”®    å‘ä¸€ä¸ªæ–¹å‘è·³è½¬Nä¸ªå­—ç¬¦\n\nåœ¨æœ«è¡Œæ¨¡å¼ä¸‹ï¼Œå¸¸ç”¨çš„å¤æ‚å‘½ä»¤æœ‰ï¼š\n\n:set number    å¼€å¯è¡Œå·\n:w    ä¿å­˜\n:wqæˆ–:x    ä¿å­˜å¹¶å…³é—­\n:q    å…³é—­\n:q!    å¼ºåˆ¶å…³é—­\n\næˆ‘ä»¬å¯ä»¥è¾“å…¥/æˆ–æ˜¯?åœ¨æœ«è¡Œæ¨¡å¼ä¸­ä½¿ç”¨æœç´¢åŠŸèƒ½ï¼Œæ¯”å¦‚æˆ‘ä»¬è¦æœç´¢å•è¯itï¼š\n&#x2F;it  \n\næ¥ç€ä¼šåœ¨æ–‡æœ¬ä¸­å‡ºç°é«˜äº®ï¼ŒæŒ‰nè·³è½¬åˆ°ä¸‹ä¸€ä¸ªæœç´¢ç»“æœï¼Œ?æ˜¯ä»åå‘å‰æœç´¢ï¼Œ&#x2F;æ˜¯ä»å‰å‘åæœç´¢ã€‚\nå®ƒè¿˜æ”¯æŒæ›¿æ¢åŠŸèƒ½ï¼Œä½†æ˜¯ä½¿ç”¨èµ·æ¥ç¨å¾®æ¯”è¾ƒå¤æ‚ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š\n:[addr]s&#x2F;æºå­—ç¬¦ä¸²&#x2F;ç›®çš„å­—ç¬¦ä¸²&#x2F;[option]\n\naddrè¡¨ç¤ºç¬¬å‡ è¡Œæˆ–æ˜¯ä¸€ä¸ªèŒƒå›´ï¼Œoptionè¡¨ç¤ºæ“ä½œç±»å‹ï¼š\n\ng: globe,è¡¨ç¤ºå…¨å±€æ›¿æ¢\nc: confirm,è¡¨ç¤ºè¿›è¡Œç¡®è®¤\np: è¡¨ç¤ºæ›¿ä»£ç»“æœé€è¡Œæ˜¾ç¤º(Ctrl + Læ¢å¤å±å¹•)\ni:  ignore,ä¸åŒºåˆ†å¤§å°å†™\n\næ¯”å¦‚æˆ‘ä»¬è¦å°†å½“å‰è¡Œä¸­çš„itå…¨éƒ¨æ›¿æ¢ä¸ºheï¼Œé‚£ä¹ˆå¯ä»¥è¿™æ ·å†™ï¼š\n:s&#x2F;it&#x2F;he&#x2F;g\n\nå®é™…ä¸Šé™¤äº†ä»¥ä¸Šä¸‰ç§æ¨¡å¼å¤–ï¼Œè¿˜æœ‰ä¸€ç§æ¨¡å¼å«åšå¯è§†åŒ–æ¨¡å¼ï¼ŒæŒ‰ä¸‹é”®ç›˜ä¸Šçš„vå³å¯è¿›å…¥ï¼Œå®ƒèƒ½å¤Ÿæ”¯æŒé€‰å–ä¸€æ®µæ–‡æœ¬ï¼Œé€‰å–åï¼Œæˆ‘ä»¬å¯ä»¥å¯¹æŒ‡å®šæ®µè½çš„æ–‡æœ¬å†…å®¹å¿«é€Ÿè¿›è¡Œå¤åˆ¶ã€å‰ªåˆ‡ã€åˆ é™¤ã€æ’å…¥ç­‰æ“ä½œï¼Œéå¸¸æ–¹ä¾¿ã€‚åœ¨æ­¤æ¨¡å¼ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸Šä¸‹å·¦å³é”®è¿›è¡Œé€‰å–ï¼Œä»¥è¿›å…¥å¯è§†åŒ–æ¨¡å¼æ—¶çš„ä½ç½®ä½œä¸ºåŸºæœ¬ä½ç½®ï¼Œé€šè¿‡ç§»åŠ¨å¦ä¸€ç«¯æ¥è¿›è¡Œé€‰å–ã€‚\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥å¯¹é€‰ä¸­åŒºåŸŸè¿›è¡Œå„ç§æ“ä½œï¼š\n\ny   å¤åˆ¶é€‰ä¸­åŒºåŸŸ\nd&#x2F;x   å‰ªåˆ‡ï¼ˆåˆ é™¤ï¼‰é€‰ä¸­åŒºåŸŸ\np  ç²˜è´´\nu  æ’¤é”€ä¸Šä¸€æ­¥\n\nå½“ç„¶ï¼Œè¿™äº›å‘½ä»¤åœ¨å‘½ä»¤æ¨¡å¼ä¸‹ä¹Ÿå¯ä»¥ä½¿ç”¨ï¼Œä½†æ˜¯å¯è§†åŒ–æ¨¡å¼ä¸‹ä½¿ç”¨æ›´é€‚åˆä¸€äº›ã€‚\n\nç¯å¢ƒå®‰è£…å’Œé¡¹ç›®éƒ¨ç½²åœ¨å­¦ä¹ å®Œäº†Linuxæ“ä½œç³»ç»Ÿçš„ä¸€äº›åŸºæœ¬æ“ä½œä¹‹åï¼Œæˆ‘ä»¬æ¥ç€æ¥çœ‹å¦‚ä½•è¿›è¡Œé¡¹ç›®çš„ç¯å¢ƒå®‰è£…å’Œéƒ¨ç½²ï¼ŒåŒ…æ‹¬å®‰è£…JDKã€NginxæœåŠ¡å™¨ï¼Œä»¥åŠä¸Šä¼ æˆ‘ä»¬çš„SpringBooté¡¹ç›®å¹¶è¿è¡Œã€‚\næˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨aptè¿›è¡Œè½¯ä»¶çš„å®‰è£…ï¼Œå®ƒæ˜¯ä¸€ä¸ªé«˜çº§çš„å®‰è£…åŒ…ç®¡ç†å·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å¯»æ‰¾å¯¹åº”çš„è½¯ä»¶è¿›è¡Œå®‰è£…ï¼Œæ— éœ€å†å»å®˜ç½‘è¿›è¡Œä¸‹è½½ï¼Œéå¸¸æ–¹ä¾¿ï¼Œè½¯ä»¶ä»“åº“ä¸­é»˜è®¤å·²ç»å¸®åŠ©æˆ‘ä»¬å­˜æ”¾äº†å¤§é‡å®ç”¨è½¯ä»¶çš„å®‰è£…åŒ…ï¼Œåªéœ€è¦ä¸€ä¸ªå®‰è£…å‘½ä»¤å°±å¯ä»¥è¿›è¡Œå®‰è£…äº†ã€‚\nå®é™…ä¸ŠUbuntuç³»ç»Ÿå·²ç»ä¸ºæˆ‘ä»¬è‡ªå¸¦äº†ä¸€äº›ç¯å¢ƒäº†ï¼Œæ¯”å¦‚Python3ï¼š\ntest@ubuntu-server:~$ python3\nPython 3.8.10 (default, Nov 26 2021, 20:14:08) \n[GCC 9.3.0] on linux\nType &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\n&gt;&gt;&gt; print(&quot;HelloWorldï¼&quot;)\nHelloWorldï¼\n&gt;&gt;&gt; exit()\n\nCè¯­è¨€çš„ç¼–è¯‘å·¥å…·GCCå¯ä»¥é€šè¿‡APTè¿›è¡Œå®‰è£…ï¼š\nsudo apt install gcc\n\nå®‰è£…åï¼Œå¯ä»¥ç¼–å†™ä¸€ä¸ªç®€å•çš„Cè¯­è¨€ç¨‹åºå¹¶ä¸”ç¼–è¯‘ä¸ºå¯æ‰§è¡Œæ–‡ä»¶ï¼š\n#include&lt;stdio.h&gt;\n\nint main()&#123;\n        printf(&quot;Hello World!\\n&quot;);\n&#125;  \n\ntest@ubuntu-server:~$ vim hello.c\ntest@ubuntu-server:~$ gcc hello.c -o hello\ntest@ubuntu-server:~$ .&#x2F;hello \nHello World!\n\nè€ŒJDKå®é™…ä¸Šå®‰è£…ä¹Ÿéå¸¸ç®€å•ï¼Œé€šè¿‡APTå³å¯ï¼š\ntest@ubuntu-server:~$ sudo apt install openjdk-8-j\nopenjdk-8-jdk           openjdk-8-jre           openjdk-8-jre-zero      \nopenjdk-8-jdk-headless  openjdk-8-jre-headless  \ntest@ubuntu-server:~$ sudo apt install openjdk-8-jdk\n\næ¥ç€æˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹ç¼–è¯‘å’Œè¿è¡Œï¼Œé¦–å…ˆç¼–å†™ä¸€ä¸ªJavaç¨‹åºï¼š\ntest@ubuntu-server:~$ vim Main.java\n\npublic class Main&#123;\n        public static void main(String[] args)&#123;\n                System.out.println(&quot;Hello Worldï¼&quot;);\n        &#125;\n&#125;\n\ntest@ubuntu-server:~$ javac Main.java \ntest@ubuntu-server:~$ ls\nMain.class  Main.java\ntest@ubuntu-server:~$ java Main \nHello Worldï¼\n\næ¥ç€æˆ‘ä»¬æ¥éƒ¨ç½²ä¸€ä¸‹RedisæœåŠ¡å™¨ï¼š\ntest@ubuntu-server:~$ sudo apt install redis\n\nå®‰è£…å®Œæˆåï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨redis-cliå‘½ä»¤æ‰“å¼€Rediså®¢æˆ·ç«¯è¿æ¥æœ¬åœ°çš„æœåŠ¡å™¨ï¼š\ntest@ubuntu-server:~$ redis-cli\n127.0.0.1:6379&gt; keys *\n(empty list or set)\n\nä½¿ç”¨å’Œä¹‹å‰Windowsä¸‹æ²¡æœ‰åŒºåˆ«ã€‚\næ¥ç€æˆ‘ä»¬å®‰è£…ä¸€ä¸‹MySQLæœåŠ¡å™¨ï¼ŒåŒæ ·çš„ï¼Œç›´æ¥ä½¿ç”¨aptå³å¯ï¼š\nsudo apt install mysql-server-8.0 \n\næˆ‘ä»¬ç›´æ¥ç›´æ¥ç™»å½•MySQLæœåŠ¡å™¨ï¼Œæ³¨æ„è¦åœ¨rootæƒé™ä¸‹ä½¿ç”¨ï¼Œè¿™æ ·å°±ä¸ç”¨è¾“å…¥å¯†ç äº†ï¼š\nsudo mysql -u root -p\nEnter password: \nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 11\nServer version: 8.0.27-0ubuntu0.20.04.1 (Ubuntu)\n\nCopyright (c) 2000, 2021, Oracle and&#x2F;or its affiliates.\n\nOracle is a registered trademark of Oracle Corporation and&#x2F;or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType &#39;help;&#39; or &#39;\\h&#39; for help. Type &#39;\\c&#39; to clear the current input statement.\n\nmysql&gt; exit\n\nå¯ä»¥å‘ç°å®é™…ä¸Šå°±æ˜¯æˆ‘ä»¬ä¹‹å‰åœ¨Windowsçš„CMDä¸­ä½¿ç”¨çš„æ ·å­ï¼Œæ¥ç€æˆ‘ä»¬å°±åˆ›å»ºä¸€ä¸ªç”Ÿäº§ç¯å¢ƒä¸‹ä½¿ç”¨çš„æ•°æ®åº“ï¼š\nmysql&gt; create database book_manage;\nmysql&gt; show databases;\n+--------------------+\n| Database           |\n+--------------------+\n| book_manage        |\n| information_schema |\n| mysql              |\n| performance_schema |\n| sys                |\n+--------------------+\n5 rows in set (0.01 sec)\n\næ¥ç€æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç”¨æˆ·æ¥ä½¿ç”¨è¿™ä¸ªæ•°æ®ï¼Œä¸€ä¼šæˆ‘ä»¬å°±å¯ä»¥å°†SpringBooté…ç½®æ–‡ä»¶è¿›è¡Œä¿®æ”¹å¹¶ç›´æ¥æ”¾åˆ°æ­¤æœåŠ¡å™¨ä¸Šè¿›è¡Œéƒ¨ç½²ã€‚\nmysql&gt; create user test identified by &#39;123456&#39;;\nQuery OK, 0 rows affected (0.01 sec)\n\nmysql&gt; grant all on book_manage.* to test;\nQuery OK, 0 rows affected (0.00 sec)\n\nå¦‚æœè§‰å¾—è¿™æ ·å¾ˆéº»çƒ¦ä¸æ˜¯å¯è§†åŒ–çš„ï¼Œå¯ä»¥ä½¿ç”¨Navicatè¿æ¥è¿›è¡Œæ“ä½œï¼Œæ³¨æ„å¼€å¯ä¸€ä¸‹MySQLçš„å¤–ç½‘è®¿é—®ã€‚\ntest@ubuntu-server:~$ mysql -u test -p\nEnter password: \nWelcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 13\nServer version: 8.0.27-0ubuntu0.20.04.1 (Ubuntu)\n\nCopyright (c) 2000, 2021, Oracle and&#x2F;or its affiliates.\n\nOracle is a registered trademark of Oracle Corporation and&#x2F;or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType &#39;help;&#39; or &#39;\\h&#39; for help. Type &#39;\\c&#39; to clear the current input statement.\n\nmysql&gt; show databases;\n+--------------------+\n| Database           |\n+--------------------+\n| book_manage        |\n| information_schema |\n+--------------------+\n2 rows in set (0.01 sec)\n\nä½¿ç”¨testç”¨æˆ·ç™»å½•ä¹‹åï¼ŒæŸ¥çœ‹æ•°æ®åº“åˆ—è¡¨ï¼Œæœ‰book_manageå°±OKäº†ã€‚\næœ€åæˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹SpringBooté¡¹ç›®çš„ç”Ÿäº§ç¯å¢ƒé…ç½®å³å¯ï¼š\nspring:\n  mail:\n    host: smtp.163.com\n    username: javastudy111@163.com\n    password: TKPGLAPDSWKGJOWK\n  datasource:\n    url: jdbc:mysql:&#x2F;&#x2F;localhost:3306&#x2F;book_manage\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    username: test\n    password: 123456\n  jpa:\n    show-sql: false\n    hibernate:\n      ddl-auto: update\nspringfox:\n  documentation:\n    enabled: false\n\nç„¶åå¯åŠ¨æˆ‘ä»¬çš„é¡¹ç›®ï¼š\ntest@ubuntu-server:~$ java -jar springboot-project-0.0.1-SNAPSHOT.jar \n\nç°åœ¨æˆ‘ä»¬å°†å‰ç«¯é¡µé¢çš„APIè®¿é—®åœ°å€ä¿®æ”¹ä¸ºæˆ‘ä»¬çš„SpringBootæœåŠ¡å™¨åœ°å€ï¼Œå³å¯æ­£å¸¸ä½¿ç”¨äº†ã€‚\næˆ‘ä»¬ä¹Ÿå¯ä»¥å°†æˆ‘ä»¬çš„é™æ€èµ„æºä½¿ç”¨NginxæœåŠ¡å™¨è¿›è¡Œä»£ç†ï¼š\n\n\n\n\n\n\n\n\n\nNginx(â€œengine xâ€)æ˜¯ä¸€æ¬¾æ˜¯ç”±ä¿„ç½—æ–¯çš„ç¨‹åºè®¾è®¡å¸ˆIgor Sysoevæ‰€å¼€å‘é«˜æ€§èƒ½çš„ Webå’Œ åå‘ä»£ç† æœåŠ¡å™¨ï¼Œä¹Ÿæ˜¯ä¸€ä¸ª IMAP&#x2F;POP3&#x2F;SMTP ä»£ç†æœåŠ¡å™¨ã€‚ åœ¨é«˜è¿æ¥å¹¶å‘çš„æƒ…å†µä¸‹ï¼ŒNginxæ˜¯ApacheæœåŠ¡å™¨ä¸é”™çš„æ›¿ä»£å“ã€‚\nNginxéå¸¸å¼ºå¤§ï¼Œå®ƒèƒ½å¤Ÿé€šæä¾›éå¸¸æ–¹ä¾¿çš„åå‘ä»£ç†æœåŠ¡ï¼Œå¹¶ä¸”æ”¯æŒè´Ÿè½½å‡è¡¡ï¼Œä¸è¿‡æˆ‘ä»¬è¿™é‡Œç”¨ä¸€ä¸‹åå‘ä»£ç†å°±å¯ä»¥äº†ï¼Œå®é™…ä¸Šå°±æ˜¯ä»£ç†æˆ‘ä»¬çš„å‰ç«¯é¡µé¢ï¼Œç„¶åæˆ‘ä»¬è®¿é—®NginxæœåŠ¡å™¨å³å¯è®¿é—®åˆ°é™æ€èµ„æºï¼Œè¿™æ ·æˆ‘ä»¬å‰åç«¯éƒ½æ”¾åœ¨äº†æœåŠ¡å™¨ä¸Šï¼ˆä½ ä¹Ÿå¯ä»¥æä¸¤å°æœåŠ¡å™¨ï¼Œä¸€å°æŒ‚é™æ€èµ„æºä¸€å°æŒ‚SpringBootæœåŠ¡å™¨ï¼Œå®ç°çœŸæ­£æ„ä¹‰ä¸Šçš„åˆ†ç¦»ï¼Œæœ‰æ¡ä»¶çš„è¿˜èƒ½ä¸Šä¸ªåŸŸåå’Œè¯ä¹¦å•¥çš„ï¼‰ã€‚\nå®‰è£…å¦‚ä¸‹ï¼š\ntest@ubuntu-server:~$ sudo apt install nginx\n\nå®‰è£…å®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è®¿é—®ï¼šhttp://192.168.10.4/ï¼Œèƒ½å¤Ÿå‡ºç°Nginxé¡µé¢è¡¨ç¤ºå®‰è£…æˆåŠŸï¼\næ¥ç€æˆ‘ä»¬å°†é™æ€èµ„æºä¸Šä¼ åˆ°LinuxæœåŠ¡å™¨ä¸­ï¼Œç„¶åå¯¹Nginxè¿›è¡Œåå‘ä»£ç†é…ç½®ï¼š\ntest@ubuntu-server:~$ cd &#x2F;etc&#x2F;nginx&#x2F;\ntest@ubuntu-server:&#x2F;etc&#x2F;nginx$ ls\nconf.d\t\tkoi-utf     modules-available  proxy_params\tsites-enabled  win-utf\nfastcgi.conf\tkoi-win     modules-enabled    scgi_params\tsnippets\nfastcgi_params\tmime.types  nginx.conf\t       sites-available\tuwsgi_params\ntest@ubuntu-server:&#x2F;etc&#x2F;nginx$ sudo vim nginx.conf\n\nserver &#123;\n                listen       80;\n                server_name  192.168.10.4;\n                add_header Access-Control-Allow-Origin *;\n                location &#x2F; &#123;\n                        root &#x2F;home&#x2F;test&#x2F;static;\n                        charset utf-8;\n                        add_header &#39;Access-Control-Allow-Origin&#39; &#39;*&#39;;\n                        add_header &#39;Access-Control-Allow-Credentials&#39; &#39;true&#39;;\n                        add_header &#39;Access-Control-Allow-Methods&#39; &#39;*&#39;;\n                        add_header &#39;Access-Control-Allow-Headers&#39; &#39;Content-Type,*&#39;;\n                &#125;\n        &#125;\n\nç„¶åå°±å¯ä»¥ç›´æ¥è®¿é—®åˆ°æˆ‘ä»¬çš„å‰ç«¯é¡µé¢äº†ï¼Œè¿™æ—¶å†å¼€å¯SpringBootæœåŠ¡å™¨å³å¯ï¼Œå¯ä»¥åœ¨æœ€åæ·»åŠ &amp;ç¬¦å·è¡¨ç¤ºåå°å¯åŠ¨ã€‚\n","slug":"SpringBootç¬”è®°ï¼ˆäº”ï¼‰","date":"2022-03-05T14:39:15.395Z","categories_index":"SpringBootç¬”è®°","tags_index":"SpringBootç¬”è®°","author_index":"YangChao"},{"id":"1c189d12d9b261f21a36bc9b6f4c2deb","title":"SpringBootç¬”è®°ï¼ˆå››ï¼‰","content":"SpringBootå…¶ä»–æ¡†æ¶é€šè¿‡äº†è§£å…¶ä»–çš„SpringBootæ¡†æ¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨æˆ‘ä»¬è‡ªå·±çš„WebæœåŠ¡å™¨ä¸Šå®ç°æ›´å¤šæ›´é«˜çº§çš„åŠŸèƒ½ã€‚\né‚®ä»¶å‘é€ï¼šMailæˆ‘ä»¬åœ¨æ³¨å†Œå¾ˆå¤šçš„ç½‘ç«™æ—¶ï¼Œéƒ½ä¼šé‡åˆ°é‚®ä»¶æˆ–æ˜¯æ‰‹æœºå·éªŒè¯ï¼Œä¹Ÿå°±æ˜¯é€šè¿‡ä½ çš„é‚®ç®±æˆ–æ˜¯æ‰‹æœºçŸ­ä¿¡å»æ¥å—ç½‘ç«™å‘ç»™ä½ çš„æ³¨å†ŒéªŒè¯ä¿¡æ¯ï¼Œå¡«å†™éªŒè¯ç ä¹‹åï¼Œå°±å¯ä»¥å®Œæˆæ³¨å†Œäº†ï¼ŒåŒæ—¶ï¼Œç½‘ç«™ä¹Ÿä¼šç»‘å®šä½ çš„æ‰‹æœºå·æˆ–æ˜¯é‚®ç®±ã€‚\né‚£ä¹ˆï¼Œåƒè¿™æ ·çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬å¦‚ä½•å®ç°å‘¢ï¼ŸSpringBootå·²ç»ç»™æˆ‘ä»¬æä¾›äº†å°è£…å¥½çš„é‚®ä»¶æ¨¡å—ä½¿ç”¨ï¼š\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-mail&lt;&#x2F;artifactId&gt;\n&lt;&#x2F;dependency&gt;\n\né‚®ä»¶å‘é€åœ¨å­¦ä¹ é‚®ä»¶å‘é€ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆäº†è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯ç”µå­é‚®ä»¶ã€‚\nç”µå­é‚®ä»¶ä¹Ÿæ˜¯ä¸€ç§é€šä¿¡æ–¹å¼ï¼Œæ˜¯äº’è”ç½‘åº”ç”¨æœ€å¹¿çš„æœåŠ¡ã€‚é€šè¿‡ç½‘ç»œçš„ç”µå­é‚®ä»¶ç³»ç»Ÿï¼Œç”¨æˆ·å¯ä»¥ä»¥éå¸¸ä½å»‰çš„ä»·æ ¼ï¼ˆä¸ç®¡å‘é€åˆ°å“ªé‡Œï¼Œéƒ½åªéœ€è´Ÿæ‹…ç½‘è´¹ï¼Œå®é™…ä¸Šå°±æ˜¯æŠŠä¿¡æ¯å‘é€åˆ°å¯¹æ–¹æœåŠ¡å™¨è€Œå·²ï¼‰ã€éå¸¸å¿«é€Ÿçš„æ–¹å¼ï¼Œä¸ä¸–ç•Œä¸Šä»»ä½•ä¸€ä¸ªåœ°æ–¹çš„ç”µå­é‚®ç®±ç”¨æˆ·è”ç³»ã€‚\nè™½è¯´æ–¹ä¾¿å€’æ˜¯æ–¹ä¾¿ï¼Œè™½ç„¶æ˜¯æ›¾ç»çš„éœ¸ä¸»ï¼Œä¸è¿‡ç°åœ¨è¿™ä¸ªæ—¶ä»£ï¼ŒQQå¾®ä¿¡æ¨ªè¡Œï¼Œæ‰‹æœºçŸ­ä¿¡å’Œç”µå­é‚®ç®±è²Œä¼¼å°±åªå‰©æ”¶éªŒè¯ç è¿™ä¸€ä¸ªåŠŸèƒ½äº†ã€‚\nè¦åœ¨Internetä¸Šæä¾›ç”µå­é‚®ä»¶åŠŸèƒ½ï¼Œå¿…é¡»æœ‰ä¸“é—¨çš„ç”µå­é‚®ä»¶æœåŠ¡å™¨ã€‚ä¾‹å¦‚ç°åœ¨Internetå¾ˆå¤šæä¾›é‚®ä»¶æœåŠ¡çš„å‚å•†ï¼šæ–°æµªã€æœç‹ã€163ã€QQé‚®ç®±ç­‰ï¼Œä»–ä»¬éƒ½æœ‰è‡ªå·±çš„é‚®ä»¶æœåŠ¡å™¨ã€‚è¿™äº›æœåŠ¡å™¨ç±»ä¼¼äºç°å®ç”Ÿæ´»ä¸­çš„é‚®å±€ï¼Œå®ƒä¸»è¦è´Ÿè´£æ¥æ”¶ç”¨æˆ·æŠ•é€’è¿‡æ¥çš„é‚®ä»¶ï¼Œå¹¶æŠŠé‚®ä»¶æŠ•é€’åˆ°é‚®ä»¶æ¥æ”¶è€…çš„ç”µå­é‚®ç®±ä¸­ã€‚\næ‰€æœ‰çš„ç”¨æˆ·éƒ½å¯ä»¥åœ¨ç”µå­é‚®ä»¶æœåŠ¡å™¨ä¸Šç”³è¯·ä¸€ä¸ªè´¦å·ç”¨äºé‚®ä»¶å‘é€å’Œæ¥æ”¶ï¼Œé‚£ä¹ˆé‚®ä»¶æ˜¯ä»¥ä»€ä¹ˆæ ·çš„æ ¼å¼å‘é€çš„å‘¢ï¼Ÿå®é™…ä¸Šå’ŒHttpä¸€æ ·ï¼Œé‚®ä»¶å‘é€ä¹Ÿæœ‰è‡ªå·±çš„åè®®ï¼Œä¹Ÿå°±æ˜¯çº¦å®šé‚®ä»¶æ•°æ®é•¿å•¥æ ·ä»¥åŠå¦‚ä½•é€šä¿¡ã€‚\n\næ¯”è¾ƒå¸¸ç”¨çš„åè®®æœ‰ä¸¤ç§ï¼š\n\nSMTPåè®®ï¼ˆä¸»è¦ç”¨äºå‘é€é‚®ä»¶ Simple Mail Transfer Protocolï¼‰\nPOP3åè®®ï¼ˆä¸»è¦ç”¨äºæ¥æ”¶é‚®ä»¶ Post Office Protocol 3ï¼‰\n\næ•´ä¸ªå‘é€&#x2F;æ¥æ”¶æµç¨‹å¤§è‡´å¦‚ä¸‹ï¼š\n\nå®é™…ä¸Šæ¯ä¸ªé‚®ç®±æœåŠ¡å™¨éƒ½æœ‰ä¸€ä¸ªsmtpå‘é€æœåŠ¡å™¨å’Œpop3æ¥æ”¶æœåŠ¡å™¨ï¼Œæ¯”å¦‚è¦ä»QQé‚®ç®±å‘é€é‚®ä»¶åˆ°163é‚®ç®±ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦é€šè¿‡QQé‚®ç®±å®¢æˆ·ç«¯å‘ŠçŸ¥QQé‚®ç®±çš„smtpæœåŠ¡å™¨æˆ‘ä»¬éœ€è¦å‘é€é‚®ä»¶ï¼Œä»¥åŠé‚®ä»¶çš„ç›¸å…³ä¿¡æ¯ï¼Œç„¶åQQé‚®ç®±çš„smtpæœåŠ¡å™¨å°±ä¼šå¸®åŠ©æˆ‘ä»¬å‘é€åˆ°163é‚®ç®±çš„pop3æœåŠ¡å™¨ä¸Šï¼Œ163é‚®ç®±ä¼šé€šè¿‡163é‚®ç®±å®¢æˆ·ç«¯å‘ŠçŸ¥å¯¹åº”ç”¨æˆ·æ”¶åˆ°ä¸€å°æ–°é‚®ä»¶ã€‚\nè€Œæˆ‘ä»¬å¦‚æœæƒ³è¦å®ç°ç»™åˆ«äººå‘é€é‚®ä»¶ï¼Œé‚£ä¹ˆå°±éœ€è¦è¿æ¥åˆ°å¯¹åº”ç”µå­é‚®ç®±çš„smtpæœåŠ¡å™¨ä¸Šï¼Œå¹¶å‘ŠçŸ¥å…¶æˆ‘ä»¬è¦å‘é€é‚®ä»¶ã€‚è€ŒSpringBootå·²ç»å¸®åŠ©æˆ‘ä»¬å°†æœ€åŸºæœ¬çš„åº•å±‚é€šä¿¡å…¨éƒ¨å®ç°äº†ï¼Œæˆ‘ä»¬åªéœ€è¦å…³å¿ƒsmtpæœåŠ¡å™¨çš„åœ°å€ä»¥åŠæˆ‘ä»¬è¦å‘é€çš„é‚®ä»¶é•¿å•¥æ ·å³å¯ã€‚\nè¿™é‡Œä»¥163é‚®ç®± https://mail.163.com ä¸ºä¾‹ï¼Œæˆ‘ä»¬éœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­å‘Šè¯‰SpringBootMailæˆ‘ä»¬çš„smtpæœåŠ¡å™¨çš„åœ°å€ä»¥åŠä½ çš„é‚®ç®±è´¦å·å’Œå¯†ç ï¼Œé¦–å…ˆæˆ‘ä»¬è¦å»è®¾ç½®ä¸­å¼€å¯smtp&#x2F;pop3æœåŠ¡æ‰å¯ä»¥ï¼Œå¼€å¯åä¼šå¾—åˆ°ä¸€ä¸ªéšæœºç”Ÿæˆçš„å¯†é’¥ï¼Œè¿™ä¸ªå°±æ˜¯æˆ‘ä»¬çš„å¯†ç ã€‚\nspring:\n  mail:\n  \t# 163é‚®ç®±çš„åœ°å€ä¸ºsmtp.163.comï¼Œç›´æ¥å¡«å†™å³å¯\n    host: smtp.163.com\n    # ä½ ç”³è¯·çš„163é‚®ç®±\n    username: javastudy111@163.com\n    # æ³¨æ„å¯†ç æ˜¯åœ¨å¼€å¯smtp&#x2F;pop3æ—¶è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œè®°å¾—ä¿å­˜ä¸€ä¸‹ï¼Œä¸ç„¶å°±æ‰¾ä¸åˆ°äº†\n    password: AZJTOAWZESLMHTNI\n\né…ç½®å®Œæˆåï¼Œæ¥ç€æˆ‘ä»¬æ¥è¿›è¡Œä¸€ä¸‹æµ‹è¯•ï¼š\n@SpringBootTest\nclass SpringBootTestApplicationTests &#123;\n\n  \t&#x2F;&#x2F;JavaMailSenderæ˜¯ä¸“é—¨ç”¨äºå‘é€é‚®ä»¶çš„å¯¹è±¡ï¼Œè‡ªåŠ¨é…ç½®ç±»å·²ç»æä¾›äº†Bean\n    @Autowired\n    JavaMailSender sender;\n\n    @Test\n    void contextLoads() &#123;\n      \t&#x2F;&#x2F;SimpleMailMessageæ˜¯ä¸€ä¸ªæ¯”è¾ƒç®€æ˜“çš„é‚®ä»¶å°è£…ï¼Œæ”¯æŒè®¾ç½®ä¸€äº›æ¯”è¾ƒç®€å•å†…å®¹\n        SimpleMailMessage message &#x3D; new SimpleMailMessage();\n      \t&#x2F;&#x2F;è®¾ç½®é‚®ä»¶æ ‡é¢˜\n        message.setSubject(&quot;ã€ç”µå­ç§‘æŠ€å¤§å­¦æ•™åŠ¡å¤„ã€‘å…³äºè¿‘æœŸå­¦æ ¡å¯¹æ‚¨çš„å¤„åˆ†å†³å®š&quot;);\n      \t&#x2F;&#x2F;è®¾ç½®é‚®ä»¶å†…å®¹\n        message.setText(&quot;XXXåŒå­¦æ‚¨å¥½ï¼Œç»ç›‘æ§å’Œæ•™åŠ¡å·¡æŸ¥å‘ç°ï¼Œæ‚¨è¿‘æœŸå­˜åœ¨æ—·è¯¾ã€è¿Ÿåˆ°ã€æ—©é€€ã€ä¸Šè¯¾åˆ·æŠ–éŸ³è¡Œä¸ºï¼Œ&quot; +\n                &quot;ç°å·²é€šçŸ¥ç›¸å…³è¾…å¯¼å‘˜ï¼Œè¯·æ‰‹å†™5000å­—ä¹¦é¢æ£€è®¨ï¼Œå¹¶åœ¨2022å¹´4æœˆ1æ—¥17ç‚¹å‰äº¤åˆ°è¾…å¯¼å‘˜åŠå…¬å®¤ã€‚&quot;);\n      \t&#x2F;&#x2F;è®¾ç½®é‚®ä»¶å‘é€ç»™è°ï¼Œå¯ä»¥å¤šä¸ªï¼Œè¿™é‡Œå°±å‘ç»™ä½ çš„QQé‚®ç®±\n        message.setTo(&quot;ä½ çš„QQå·@qq.com&quot;);\n      \t&#x2F;&#x2F;é‚®ä»¶å‘é€è€…ï¼Œè¿™é‡Œè¦ä¸é…ç½®æ–‡ä»¶ä¸­çš„ä¿æŒä¸€è‡´\n        message.setFrom(&quot;javastudy111@163.com&quot;);\n      \t&#x2F;&#x2F;OKï¼Œä¸‡äº‹ä¿±å¤‡åªæ¬ å‘é€\n        sender.send(message);\n    &#125;\n\n&#125;\n\nå¦‚æœéœ€è¦æ·»åŠ é™„ä»¶ç­‰æ›´å¤šåŠŸèƒ½ï¼Œå¯ä»¥ä½¿ç”¨MimeMessageHelperæ¥å¸®åŠ©æˆ‘ä»¬å®Œæˆï¼š\n@Test\nvoid contextLoads() throws MessagingException &#123;\n  \t&#x2F;&#x2F;åˆ›å»ºä¸€ä¸ªMimeMessage\n    MimeMessage message &#x3D; sender.createMimeMessage();\n  \t&#x2F;&#x2F;ä½¿ç”¨MimeMessageHelperæ¥å¸®æˆ‘ä»¬ä¿®æ”¹MimeMessageä¸­çš„ä¿¡æ¯\n    MimeMessageHelper helper &#x3D; new MimeMessageHelper(message, true);\n    helper.setSubject(&quot;Test&quot;);\n    helper.setText(&quot;lbwnb&quot;);\n    helper.setTo(&quot;ä½ çš„QQå·@qq.com&quot;);\n    helper.setFrom(&quot;javastudy111@163.com&quot;);\n  \t&#x2F;&#x2F;å‘é€ä¿®æ”¹å¥½çš„MimeMessage\n    sender.send(message);\n&#125;\n\né‚®ä»¶æ³¨å†Œæ—¢ç„¶æˆ‘ä»¬å·²ç»äº†è§£äº†é‚®ä»¶å‘é€ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥ç€æ¥çœ‹å¦‚ä½•åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­å®ç°é‚®ä»¶éªŒè¯ã€‚\né¦–å…ˆæ˜ç¡®éªŒè¯æµç¨‹ï¼šè¯·æ±‚éªŒè¯ç  -&gt; ç”ŸæˆéªŒè¯ç ï¼ˆä¸´æ—¶æœ‰æ•ˆï¼Œæ³¨æ„è®¾å®šè¿‡æœŸæ—¶é—´ï¼‰ -&gt; ç”¨æˆ·è¾“å…¥éªŒè¯ç å¹¶å¡«å†™æ³¨å†Œä¿¡æ¯ -&gt; éªŒè¯é€šè¿‡æ³¨å†ŒæˆåŠŸï¼\n\n\næŒä¹…å±‚æ¡†æ¶ï¼šJPA\nç”¨äº†Mybatisä¹‹åï¼Œä½ çœ‹é‚£ä¸ªJDBCï¼ŒçœŸæ˜¯å¤ªé€Šäº†ã€‚\nè¿™ä¹ˆè¯´ï¼Œä½ çš„é¡¹ç›®å¾ˆå‹‡å“¦ï¼Ÿ\nå¼€ç©ç¬‘ï¼Œæˆ‘çš„å†™ä»£ç è¶…å‹‡çš„å¥½ä¸å¥½ã€‚\né˜¿ä¼Ÿï¼Œä½ å¯æ›¾å¹»æƒ³è¿‡æœ‰ä¸€å¤©ä½ çš„é¡¹ç›®é‡Œä¸å†æœ‰SQLè¯­å¥ï¼Ÿ\nä¸å†æœ‰SQLè¯­å¥ï¼Ÿé‚£æˆ‘æ€ä¹ˆå’Œæ•°æ®åº“äº¤äº’å•Šï¼Ÿ\næˆ‘çœ‹ä½ æ˜¯å®Œå…¨ä¸æ‡‚å“¦\næ‡‚ï¼Œæ‡‚ä»€ä¹ˆå•Šï¼Ÿ\nä½ æƒ³æ‡‚ï¼Ÿæ¥ï¼Œåˆ°æˆ‘é¡¹ç›®é‡Œæ¥ï¼Œæˆ‘ç»™ä½ çœ‹ç‚¹å¥½åº·çš„ã€‚\nå¥½åº·ï¼Ÿæ˜¯ä»€ä¹ˆæ–°æ¡†æ¶å“¦ï¼Ÿ\nä»€ä¹ˆæ–°æ¡†æ¶ï¼Œæ¯”æ–°æ¡†æ¶è¿˜åˆºæ¿€ï¼Œè¿˜å¯ä»¥è®©ä½ çš„é¡¹ç›®ç™»duangéƒå“¦ã€‚\nå“‡ï¼Œæ°å“¥ï¼Œä½ é¡¹ç›®é‡Œé¢éƒ½æ²¡SQLè¯­å¥è¯¶ï¼Œè¿™æ˜¯ç”¨çš„ä»€ä¹ˆæ¡†æ¶å•Šï¼Ÿ\n\nåœ¨æˆ‘ä»¬ä¹‹å‰ç¼–å†™çš„é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ä¸éš¾å‘ç°ï¼Œå®é™…ä¸Šå¤§éƒ¨åˆ†çš„æ•°æ®åº“äº¤äº’æ“ä½œï¼Œåˆ°æœ€åéƒ½åªä¼šåšä¸€ä¸ªäº‹æƒ…ï¼Œé‚£å°±æ˜¯æŠŠæ•°æ®åº“ä¸­çš„æ•°æ®æ˜ å°„ä¸ºJavaä¸­çš„å¯¹è±¡ã€‚æ¯”å¦‚æˆ‘ä»¬è¦é€šè¿‡ç”¨æˆ·åå»æŸ¥æ‰¾å¯¹åº”çš„ç”¨æˆ·ï¼Œæˆ–æ˜¯é€šè¿‡IDæŸ¥æ‰¾å¯¹åº”çš„å­¦ç”Ÿä¿¡æ¯ï¼Œåœ¨ä½¿ç”¨Mybatisæ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦ç¼–å†™æ­£ç¡®çš„SQLè¯­å¥å°±å¯ä»¥ç›´æ¥å°†è·å–çš„æ•°æ®æ˜ å°„ä¸ºå¯¹åº”çš„Javaå¯¹è±¡ï¼Œé€šè¿‡è°ƒç”¨Mapperä¸­çš„æ–¹æ³•å°±èƒ½ç›´æ¥è·å¾—å®ä½“ç±»ï¼Œè¿™æ ·å°±æ–¹ä¾¿æˆ‘ä»¬åœ¨Javaä¸­æ•°æ®åº“è¡¨ä¸­çš„ç›¸å…³ä¿¡æ¯äº†ã€‚\nä½†æ˜¯ä»¥ä¸Šè¿™äº›æ“ä½œéƒ½æœ‰ä¸€ä¸ªå…±æ€§ï¼Œé‚£å°±æ˜¯å®ƒä»¬éƒ½æ˜¯é€šè¿‡æŸç§æ¡ä»¶å»è¿›è¡ŒæŸ¥è¯¢ï¼Œè€Œæœ€åçš„æŸ¥è¯¢ç»“æœï¼Œéƒ½æ˜¯ä¸€ä¸ªå®ä½“ç±»ï¼Œæ‰€ä»¥ä½ ä¼šå‘ç°ä½ å†™çš„å¾ˆå¤šSQLè¯­å¥éƒ½æ˜¯ä¸€ä¸ªå¥—è·¯select * from xxx where xxx=xxxï¼Œé‚£ä¹ˆèƒ½å¦æœ‰ä¸€ç§æ¡†æ¶ï¼Œå¸®æˆ‘ä»¬æŠŠè¿™äº›ç›¸åŒçš„å¥—è·¯ç»™å°è£…èµ·æ¥ï¼Œç›´æ¥æŠŠè¿™ç±»ç›¸ä¼¼çš„SQLè¯­å¥ç»™å±è”½æ‰ï¼Œä¸å†ç”±æˆ‘ä»¬ç¼–å†™ï¼Œè€Œæ˜¯è®©æ¡†æ¶è‡ªå·±å»ç»„åˆæ‹¼æ¥ã€‚\nè®¤è¯†SpringDataJPAé¦–å…ˆæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå›½å¤–çš„ç»Ÿè®¡ï¼š\n![image-20220119140326867](&#x2F;Users&#x2F;nagocoler&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20220119140326867.png)\nä¸å¯¹å§ï¼Œä¸ºä»€ä¹ˆMybatisè¿™ä¹ˆå¥½ç”¨ï¼Œè¿™ä¹ˆå¼ºå¤§ï¼Œå´åªæœ‰10%çš„äººå–œæ¬¢å‘¢ï¼Ÿç„¶è€Œäº‹å®å°±æ˜¯ï¼Œåœ¨å›½å¤–JPAå‡ ä¹å æ®äº†ä¸»å¯¼åœ°ä½ï¼Œè€ŒMybatiså¹¶ä¸åƒå›½å†…é‚£æ ·å—å¾…è§ï¼Œæ‰€ä»¥ä½ ä¼šå‘ç°ï¼ŒJPAéƒ½æœ‰SpringBootçš„å®˜æ–¹ç›´æ¥æä¾›çš„starterï¼Œè€ŒMybatisæ²¡æœ‰ã€‚\nè‡³äºä¸ºå•¥SSMé˜¶æ®µä¸è®²è¿™ä¸ªï¼Œè€Œæ˜¯æ”¾åˆ°ç°åœ¨æ¥è®²ä¹Ÿæ˜¯å› ä¸ºï¼Œåœ¨å¾®æœåŠ¡åœºæ™¯ä¸‹å®ƒçš„ä¼˜åŠ¿æ‰èƒ½æ›´å¤šçš„å‘æŒ¥å‡ºæ¥ã€‚\né‚£ä¹ˆï¼Œä»€ä¹ˆæ˜¯JPAï¼Ÿ\nJPAï¼ˆJava Persistence APIï¼‰å’ŒJDBCç±»ä¼¼ï¼Œä¹Ÿæ˜¯å®˜æ–¹å®šä¹‰çš„ä¸€ç»„æ¥å£ï¼Œä½†æ˜¯å®ƒç›¸æ¯”ä¼ ç»Ÿçš„JDBCï¼Œå®ƒæ˜¯ä¸ºäº†å®ç°ORMè€Œç”Ÿçš„ï¼Œå³Object-Relationl Mappingï¼Œå®ƒçš„ä½œç”¨æ˜¯åœ¨å…³ç³»å‹æ•°æ®åº“å’Œå¯¹è±¡ä¹‹é—´å½¢æˆä¸€ä¸ªæ˜ å°„ï¼Œè¿™æ ·ï¼Œæˆ‘ä»¬åœ¨å…·ä½“çš„æ“ä½œæ•°æ®åº“çš„æ—¶å€™ï¼Œå°±ä¸éœ€è¦å†å»å’Œå¤æ‚çš„SQLè¯­å¥æ‰“äº¤é“ï¼Œåªè¦åƒå¹³æ—¶æ“ä½œå¯¹è±¡ä¸€æ ·æ“ä½œå®ƒå°±å¯ä»¥äº†ã€‚\nåœ¨ä¹‹å‰ï¼Œæˆ‘ä»¬ä½¿ç”¨JDBCæˆ–æ˜¯Mybatisæ¥æ“ä½œæ•°æ®ï¼Œé€šè¿‡ç›´æ¥ç¼–å†™å¯¹åº”çš„SQLè¯­å¥æ¥å®ç°æ•°æ®è®¿é—®ï¼Œä½†æ˜¯æˆ‘ä»¬å‘ç°å®é™…ä¸Šæˆ‘ä»¬åœ¨Javaä¸­å¤§éƒ¨åˆ†æ“ä½œæ•°æ®åº“çš„æƒ…å†µéƒ½æ˜¯è¯»å–æ•°æ®å¹¶å°è£…ä¸ºä¸€ä¸ªå®ä½“ç±»ï¼Œå› æ­¤ï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥å°†å®ä½“ç±»ç›´æ¥å¯¹åº”åˆ°ä¸€ä¸ªæ•°æ®åº“è¡¨å‘¢ï¼Ÿä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€å¼ è¡¨é‡Œé¢æœ‰ä»€ä¹ˆå±æ€§ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„å¯¹è±¡å°±æœ‰ä»€ä¹ˆå±æ€§ï¼Œæ‰€æœ‰å±æ€§è·Ÿæ•°æ®åº“é‡Œé¢çš„å­—æ®µä¸€ä¸€å¯¹åº”ï¼Œè€Œè¯»å–æ•°æ®æ—¶ï¼Œåªéœ€è¦è¯»å–ä¸€è¡Œçš„æ•°æ®å¹¶å°è£…ä¸ºæˆ‘ä»¬å®šä¹‰å¥½çš„å®ä½“ç±»æ—¢å¯ä»¥ï¼Œè€Œå…·ä½“çš„SQLè¯­å¥æ‰§è¡Œï¼Œå®Œå…¨å¯ä»¥äº¤ç»™æ¡†æ¶æ ¹æ®æˆ‘ä»¬å®šä¹‰çš„æ˜ å°„å…³ç³»å»ç”Ÿæˆï¼Œä¸å†ç”±æˆ‘ä»¬å»ç¼–å†™ï¼Œå› ä¸ºè¿™äº›SQLå®é™…ä¸Šéƒ½æ˜¯åƒç¯‡ä¸€å¾‹çš„ã€‚\nè€Œå®ç°JPAè§„èŒƒçš„æ¡†æ¶ä¸€èˆ¬æœ€å¸¸ç”¨çš„å°±æ˜¯Hibernateï¼Œå®ƒæ˜¯ä¸€ä¸ªé‡é‡çº§æ¡†æ¶ï¼Œå­¦ä¹ éš¾åº¦ç›¸æ¯”Mybatisä¹Ÿæ›´é«˜ä¸€äº›ï¼Œè€ŒSpringDataJPAä¹Ÿæ˜¯é‡‡ç”¨Hibernateæ¡†æ¶ä½œä¸ºåº•å±‚å®ç°ï¼Œå¹¶å¯¹å…¶åŠ ä»¥å°è£…ã€‚\nå®˜ç½‘ï¼šhttps://spring.io/projects/spring-data-jpa\nä½¿ç”¨JPAåŒæ ·çš„ï¼Œæˆ‘ä»¬åªéœ€è¦å¯¼å…¥staterä¾èµ–å³å¯ï¼š\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;&#x2F;artifactId&gt;\n&lt;&#x2F;dependency&gt;\n\næ¥ç€æˆ‘ä»¬å¯ä»¥ç›´æ¥åˆ›å»ºä¸€ä¸ªç±»ï¼Œæ¯”å¦‚è´¦æˆ·ç±»ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠä¸€ä¸ªè´¦å·å¯¹åº”çš„å±æ€§å…¨éƒ¨å®šä¹‰å¥½å³å¯ï¼š\n@Data\npublic class Account &#123;\n    int id;\n    String username;\n    String password;\n&#125;\n\næ¥ç€ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ³¨è§£å½¢å¼ï¼Œåœ¨å±æ€§ä¸Šæ·»åŠ æ•°æ®åº“æ˜ å°„å…³ç³»ï¼Œè¿™æ ·å°±èƒ½å¤Ÿè®©JPAçŸ¥é“æˆ‘ä»¬çš„å®ä½“ç±»å¯¹åº”çš„æ•°æ®åº“è¡¨é•¿å•¥æ ·ã€‚\n@Data\n@Entity   &#x2F;&#x2F;è¡¨ç¤ºè¿™ä¸ªç±»æ˜¯ä¸€ä¸ªå®ä½“ç±»\n@Table(name &#x3D; &quot;users&quot;)    &#x2F;&#x2F;å¯¹åº”çš„æ•°æ®åº“ä¸­è¡¨åç§°\npublic class Account &#123;\n\n    @GeneratedValue(strategy &#x3D; GenerationType.IDENTITY)   &#x2F;&#x2F;ç”Ÿæˆç­–ç•¥ï¼Œè¿™é‡Œé…ç½®ä¸ºè‡ªå¢\n    @Column(name &#x3D; &quot;id&quot;)    &#x2F;&#x2F;å¯¹åº”è¡¨ä¸­idè¿™ä¸€åˆ—\n    @Id     &#x2F;&#x2F;æ­¤å±æ€§ä¸ºä¸»é”®\n    int id;\n\n    @Column(name &#x3D; &quot;username&quot;)   &#x2F;&#x2F;å¯¹åº”è¡¨ä¸­usernameè¿™ä¸€åˆ—\n    String username;\n\n    @Column(name &#x3D; &quot;password&quot;)   &#x2F;&#x2F;å¯¹åº”è¡¨ä¸­passwordè¿™ä¸€åˆ—\n    String password;\n&#125;\n\næ¥ç€æˆ‘ä»¬æ¥ä¿®æ”¹ä¸€ä¸‹é…ç½®æ–‡ä»¶ï¼š\nspring:\n  jpa:\n\t\t#å¼€å¯SQLè¯­å¥æ‰§è¡Œæ—¥å¿—ä¿¡æ¯\n    show-sql: true\n    hibernate:\n    \t#é…ç½®ä¸ºè‡ªåŠ¨åˆ›å»º\n      ddl-auto: create\n\nddl-autoå±æ€§ç”¨äºè®¾ç½®è‡ªåŠ¨è¡¨å®šä¹‰ï¼Œå¯ä»¥å®ç°è‡ªåŠ¨åœ¨æ•°æ®åº“ä¸­ä¸ºæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªè¡¨ï¼Œè¡¨çš„ç»“æ„ä¼šæ ¹æ®æˆ‘ä»¬å®šä¹‰çš„å®ä½“ç±»å†³å®šï¼Œå®ƒæœ‰4ç§\n\ncreate å¯åŠ¨æ—¶åˆ æ•°æ®åº“ä¸­çš„è¡¨ï¼Œç„¶ååˆ›å»ºï¼Œé€€å‡ºæ—¶ä¸åˆ é™¤æ•°æ®è¡¨ \ncreate-drop å¯åŠ¨æ—¶åˆ æ•°æ®åº“ä¸­çš„è¡¨ï¼Œç„¶ååˆ›å»ºï¼Œé€€å‡ºæ—¶åˆ é™¤æ•°æ®è¡¨ å¦‚æœè¡¨ä¸å­˜åœ¨æŠ¥é”™ \nupdate å¦‚æœå¯åŠ¨æ—¶è¡¨æ ¼å¼ä¸ä¸€è‡´åˆ™æ›´æ–°è¡¨ï¼ŒåŸæœ‰æ•°æ®ä¿ç•™ \nvalidate é¡¹ç›®å¯åŠ¨è¡¨ç»“æ„è¿›è¡Œæ ¡éªŒ å¦‚æœä¸ä¸€è‡´åˆ™æŠ¥é”™\n\næˆ‘ä»¬å¯ä»¥åœ¨æ—¥å¿—ä¸­å‘ç°ï¼Œåœ¨å¯åŠ¨æ—¶æ‰§è¡Œäº†å¦‚ä¸‹SQLè¯­å¥ï¼š\nHibernate: create table users (id integer not null auto_increment, password varchar(255), username varchar(255), primary key (id)) engine&#x3D;InnoDB\n\nè€Œæˆ‘ä»¬çš„æ•°æ®åº“ä¸­å¯¹åº”çš„è¡¨å·²ç»åˆ›å»ºå¥½äº†ã€‚\næˆ‘ä»¬æ¥ç€æ¥çœ‹å¦‚ä½•è®¿é—®æˆ‘ä»¬çš„è¡¨ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªRepositoryå®ç°ç±»ï¼š\n@Repository\npublic interface AccountRepository extends JpaRepository&lt;Account, Integer&gt; &#123;\n    \n&#125;\n\næ³¨æ„JpaRepositoryæœ‰ä¸¤ä¸ªæ³›å‹ï¼Œå‰è€…æ˜¯å…·ä½“æ“ä½œçš„å¯¹è±¡å®ä½“ï¼Œä¹Ÿå°±æ˜¯å¯¹åº”çš„è¡¨ï¼Œåè€…æ˜¯IDçš„ç±»å‹ï¼Œæ¥å£ä¸­å·²ç»å®šä¹‰äº†æ¯”è¾ƒå¸¸ç”¨çš„æ•°æ®åº“æ“ä½œã€‚ç¼–å†™æ¥å£ç»§æ‰¿å³å¯ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æ³¨å…¥æ­¤æ¥å£è·å¾—å®ç°ç±»ï¼š\n@SpringBootTest\nclass JpaTestApplicationTests &#123;\n\n    @Resource\n    AccountRepository repository;\n\n    @Test\n    void contextLoads() &#123;\n      \t&#x2F;&#x2F;ç›´æ¥æ ¹æ®IDæŸ¥æ‰¾\n        repository.findById(1).ifPresent(System.out::println);\n    &#125;\n\n&#125;\n\nè¿è¡Œåï¼ŒæˆåŠŸå¾—åˆ°æŸ¥è¯¢ç»“æœã€‚æˆ‘ä»¬æ¥ç€æ¥æµ‹è¯•å¢åˆ æ“ä½œï¼š\n@Test\nvoid addAccount()&#123;\n    Account account &#x3D; new Account();\n    account.setUsername(&quot;Admin&quot;);\n    account.setPassword(&quot;123456&quot;);\n    account &#x3D; repository.save(account);  &#x2F;&#x2F;è¿”å›çš„ç»“æœä¼šåŒ…å«è‡ªåŠ¨ç”Ÿæˆçš„ä¸»é”®å€¼\n    System.out.println(&quot;æ’å…¥æ—¶ï¼Œè‡ªåŠ¨ç”Ÿæˆçš„ä¸»é”®IDä¸ºï¼š&quot;+account.getId());\n&#125;\n\n@Test\nvoid deleteAccount()&#123;\n    repository.deleteById(2);   &#x2F;&#x2F;æ ¹æ®IDåˆ é™¤å¯¹åº”è®°å½•\n&#125;\n\n@Test\nvoid pageAccount() &#123;\n    repository.findAll(PageRequest.of(0, 1)).forEach(System.out::println);  &#x2F;&#x2F;ç›´æ¥åˆ†é¡µ\n&#125;\n\næˆ‘ä»¬å‘ç°ï¼Œä½¿ç”¨äº†JPAä¹‹åï¼Œæ•´ä¸ªé¡¹ç›®çš„ä»£ç ä¸­æ²¡æœ‰å‡ºç°ä»»ä½•çš„SQLè¯­å¥ï¼Œå¯ä»¥è¯´æ˜¯éå¸¸æ–¹ä¾¿äº†ï¼ŒJPAä¾é æˆ‘ä»¬æä¾›çš„æ³¨è§£ä¿¡æ¯è‡ªåŠ¨å®Œæˆäº†æ‰€æœ‰ä¿¡æ¯çš„æ˜ å°„å’Œå…³è”ã€‚\nç›¸æ¯”Mybatisï¼ŒJPAå‡ ä¹å°±æ˜¯ä¸€ä¸ªå…¨è‡ªåŠ¨çš„ORMæ¡†æ¶ï¼Œè€ŒMybatisåˆ™é¡¶å¤šç®—æ˜¯åŠè‡ªåŠ¨ORMæ¡†æ¶ã€‚\næ–¹æ³•åç§°æ‹¼æ¥è‡ªå®šä¹‰SQLè™½ç„¶æ¥å£é¢„ç½®çš„æ–¹æ³•ä½¿ç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬éœ€è¦è¿›è¡Œæ¡ä»¶æŸ¥è¯¢ç­‰æ“ä½œæˆ–æ˜¯ä¸€äº›åˆ¤æ–­ï¼Œå°±éœ€è¦è‡ªå®šä¹‰ä¸€äº›æ–¹æ³•æ¥å®ç°ï¼ŒåŒæ ·çš„ï¼Œæˆ‘ä»¬ä¸éœ€è¦ç¼–å†™SQLè¯­å¥ï¼Œè€Œæ˜¯é€šè¿‡æ–¹æ³•åç§°çš„æ‹¼æ¥æ¥å®ç°æ¡ä»¶åˆ¤æ–­ï¼Œè¿™é‡Œåˆ—å‡ºäº†æ‰€æœ‰æ”¯æŒçš„æ¡ä»¶åˆ¤æ–­åç§°ï¼š\n\n\n\nDistinct\nfindDistinctByLastnameAndFirstname\nselect distinct â€¦ where x.lastname = ?1 and x.firstname = ?2\n\n\n\nAnd\nfindByLastnameAndFirstname\nâ€¦ where x.lastname = ?1 and x.firstname = ?2\n\n\nOr\nfindByLastnameOrFirstname\nâ€¦ where x.lastname = ?1 or x.firstname = ?2\n\n\nIsï¼ŒEquals\nfindByFirstname,findByFirstnameIs,findByFirstnameEquals\nâ€¦ where x.firstname = ?1\n\n\nBetween\nfindByStartDateBetween\nâ€¦ where x.startDate between ?1 and ?2\n\n\nLessThan\nfindByAgeLessThan\nâ€¦ where x.age &lt; ?1\n\n\nLessThanEqual\nfindByAgeLessThanEqual\nâ€¦ where x.age &lt;= ?1\n\n\nGreaterThan\nfindByAgeGreaterThan\nâ€¦ where x.age &gt; ?1\n\n\nGreaterThanEqual\nfindByAgeGreaterThanEqual\nâ€¦ where x.age &gt;= ?1\n\n\nAfter\nfindByStartDateAfter\nâ€¦ where x.startDate &gt; ?1\n\n\nBefore\nfindByStartDateBefore\nâ€¦ where x.startDate &lt; ?1\n\n\nIsNullï¼ŒNull\nfindByAge(Is)Null\nâ€¦ where x.age is null\n\n\nIsNotNullï¼ŒNotNull\nfindByAge(Is)NotNull\nâ€¦ where x.age not null\n\n\nLike\nfindByFirstnameLike\nâ€¦ where x.firstname like ?1\n\n\nNotLike\nfindByFirstnameNotLike\nâ€¦ where x.firstname not like ?1\n\n\nStartingWith\nfindByFirstnameStartingWith\nâ€¦ where x.firstname like ?1ï¼ˆå‚æ•°ä¸é™„åŠ %ç»‘å®šï¼‰\n\n\nEndingWith\nfindByFirstnameEndingWith\nâ€¦ where x.firstname like ?1ï¼ˆå‚æ•°ä¸å‰ç¼€%ç»‘å®šï¼‰\n\n\nContaining\nfindByFirstnameContaining\nâ€¦ where x.firstname like ?1ï¼ˆå‚æ•°ç»‘å®šä»¥%åŒ…è£…ï¼‰\n\n\nOrderBy\nfindByAgeOrderByLastnameDesc\nâ€¦ where x.age = ?1 order by x.lastname desc\n\n\nNot\nfindByLastnameNot\nâ€¦ where x.lastname &lt;&gt; ?1\n\n\nIn\nfindByAgeIn(Collection&lt;Age&gt; ages)\nâ€¦ where x.age in ?1\n\n\nNotIn\nfindByAgeNotIn(Collection&lt;Age&gt; ages)\nâ€¦ where x.age not in ?1\n\n\nTrue\nfindByActiveTrue()\nâ€¦ where x.active = true\n\n\nFalse\nfindByActiveFalse()\nâ€¦ where x.active = false\n\n\nIgnoreCase\nfindByFirstnameIgnoreCase\nâ€¦ where UPPER(x.firstname) = UPPER(?1)\n\n\næ¯”å¦‚æˆ‘ä»¬æƒ³è¦å®ç°æ ¹æ®ç”¨æˆ·åæ¨¡ç³ŠåŒ¹é…æŸ¥æ‰¾ç”¨æˆ·ï¼š\n@Repository\npublic interface AccountRepository extends JpaRepository&lt;Account, Integer&gt; &#123;\n\t\t&#x2F;&#x2F;æŒ‰ç…§è¡¨ä¸­çš„è§„åˆ™è¿›è¡Œåç§°æ‹¼æ¥ï¼Œä¸ç”¨åˆ»æ„å»è®°ï¼ŒIDEAä¼šæœ‰æç¤º\n    List&lt;Account&gt; findAllByUsernameLike(String str);\n&#125;\n\n@Test\nvoid test() &#123;\n    repository.findAllByUsernameLike(&quot;%T%&quot;).forEach(System.out::println);\n&#125;\n\nåˆæ¯”å¦‚æˆ‘ä»¬æƒ³åŒæ—¶æ ¹æ®ç”¨æˆ·åå’ŒIDä¸€èµ·æŸ¥è¯¢ï¼š\n@Repository\npublic interface AccountRepository extends JpaRepository&lt;Account, Integer&gt; &#123;\n\n    Account findByIdAndUsername(int id, String username);\n  &#x2F;&#x2F;å¯ä»¥ä½¿ç”¨Optionalç±»è¿›è¡ŒåŒ…è£…ï¼ŒOptional&lt;Account&gt; findByIdAndUsername(int id, String username);\n    \n    List&lt;Account&gt; findAllByUsernameLike(String str);\n&#125;\n\n@Test\nvoid test() &#123;\n    System.out.println(repository.findByIdAndUsername(1, &quot;Test&quot;));\n&#125;\n\næ¯”å¦‚æˆ‘ä»¬æƒ³åˆ¤æ–­æ•°æ®åº“ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªIDçš„ç”¨æˆ·ï¼š\n@Repository\npublic interface AccountRepository extends JpaRepository&lt;Account, Integer&gt; &#123;\n\n    Account findByIdAndUsername(int id, String username);\n\n    List&lt;Account&gt; findAllByUsernameLike(String str);\n\n    boolean existsAccountById(int id);\n&#125;\n\n@Test\nvoid test() &#123;\n    System.out.println(repository.existsAccountByUsername(&quot;Test&quot;));\n&#125;\n\næ³¨æ„è‡ªå®šä¹‰æ¡ä»¶æ“ä½œçš„æ–¹æ³•åç§°ä¸€å®šè¦éµå¾ªè§„åˆ™ï¼Œä¸ç„¶ä¼šå‡ºç°å¼‚å¸¸ï¼š\nCaused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract  ...\n\nå…³è”æŸ¥è¯¢åœ¨å®é™…å¼€å‘ä¸­ï¼Œæ¯”è¾ƒå¸¸è§çš„åœºæ™¯è¿˜æœ‰å…³è”æŸ¥è¯¢ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¼šåœ¨è¡¨ä¸­æ·»åŠ ä¸€ä¸ªå¤–é”®å­—æ®µï¼Œè€Œæ­¤å¤–é”®å­—æ®µåˆæŒ‡å‘äº†å¦ä¸€ä¸ªè¡¨ä¸­çš„æ•°æ®ï¼Œå½“æˆ‘ä»¬æŸ¥è¯¢æ•°æ®æ—¶ï¼Œå¯èƒ½ä¼šéœ€è¦å°†å…³è”æ•°æ®ä¹Ÿä¸€å¹¶è·å–ï¼Œæ¯”å¦‚æˆ‘ä»¬æƒ³è¦æŸ¥è¯¢æŸä¸ªç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯ï¼Œä¸€èˆ¬ç”¨æˆ·ç®€ç•¥ä¿¡æ¯ä¼šå•ç‹¬å­˜æ”¾ä¸€ä¸ªè¡¨ï¼Œè€Œç”¨æˆ·è¯¦ç»†ä¿¡æ¯ä¼šå•ç‹¬å­˜æ”¾åœ¨å¦ä¸€ä¸ªè¡¨ä¸­ã€‚å½“ç„¶ï¼Œé™¤äº†ç”¨æˆ·è¯¦ç»†ä¿¡æ¯ä¹‹å¤–ï¼Œå¯èƒ½åœ¨æŸäº›ç”µå•†å¹³å°è¿˜ä¼šæœ‰ç”¨æˆ·çš„è´­ä¹°è®°å½•ã€ç”¨æˆ·çš„è´­ç‰©è½¦ï¼Œäº¤æµç¤¾åŒºä¸­çš„ç”¨æˆ·å¸–å­ã€ç”¨æˆ·è¯„è®ºç­‰ï¼Œè¿™äº›éƒ½æ˜¯éœ€è¦æ ¹æ®ç”¨æˆ·ä¿¡æ¯è¿›è¡Œå…³è”æŸ¥è¯¢çš„å†…å®¹ã€‚\n\næˆ‘ä»¬çŸ¥é“ï¼Œåœ¨JPAä¸­ï¼Œæ¯å¼ è¡¨å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªå®ä½“ç±»çš„æ˜ å°„ï¼Œè€Œè¡¨ä¹‹é—´çš„å…³è”å…³ç³»ï¼Œä¹Ÿå¯ä»¥çœ‹ä½œå¯¹è±¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œæ¯”å¦‚ç”¨æˆ·è¡¨ä¸­åŒ…å«äº†ç”¨æˆ·è¯¦ç»†ä¿¡æ¯çš„IDå­—æ®µä½œä¸ºå¤–é”®ï¼Œé‚£ä¹ˆå®é™…ä¸Šå°±æ˜¯ç”¨æˆ·è¡¨å®ä½“ä¸­åŒ…æ‹¬äº†ç”¨æˆ·è¯¦ç»†ä¿¡æ¯å®ä½“å¯¹è±¡ï¼š\n@Data\n@Entity\n@Table(name &#x3D; &quot;users_detail&quot;)\npublic class AccountDetail &#123;\n\n    @Column(name &#x3D; &quot;id&quot;)\n    @GeneratedValue(strategy &#x3D; GenerationType.IDENTITY)\n    @Id\n    int id;\n\n    @Column(name &#x3D; &quot;address&quot;)\n    String address;\n\n    @Column(name &#x3D; &quot;email&quot;)\n    String email;\n\n    @Column(name &#x3D; &quot;phone&quot;)\n    String phone;\n\n    @Column(name &#x3D; &quot;real_name&quot;)\n    String realName;\n&#125;\n\nè€Œç”¨æˆ·ä¿¡æ¯å’Œç”¨æˆ·è¯¦ç»†ä¿¡æ¯ä¹‹é—´å½¢æˆäº†ä¸€å¯¹ä¸€çš„å…³ç³»ï¼Œé‚£ä¹ˆè¿™æ—¶æˆ‘ä»¬å°±å¯ä»¥ç›´æ¥åœ¨ç±»ä¸­æŒ‡å®šè¿™ç§å…³ç³»ï¼š\n@Data\n@Entity\n@Table(name &#x3D; &quot;users&quot;)\npublic class Account &#123;\n\n    @GeneratedValue(strategy &#x3D; GenerationType.IDENTITY)\n    @Column(name &#x3D; &quot;id&quot;)\n    @Id\n    int id;\n\n    @Column(name &#x3D; &quot;username&quot;)\n    String username;\n\n    @Column(name &#x3D; &quot;password&quot;)\n    String password;\n\n    @JoinColumn(name &#x3D; &quot;detail_id&quot;)   &#x2F;&#x2F;æŒ‡å®šå­˜å‚¨å¤–é”®çš„å­—æ®µåç§°\n    @OneToOne    &#x2F;&#x2F;å£°æ˜ä¸ºä¸€å¯¹ä¸€å…³ç³»\n    AccountDetail detail;\n&#125;\n\nåœ¨ä¿®æ”¹å®ä½“ç±»ä¿¡æ¯åï¼Œæˆ‘ä»¬å‘ç°åœ¨å¯åŠ¨æ—¶ä¹Ÿè¿›è¡Œäº†æ›´æ–°ï¼Œæ—¥å¿—å¦‚ä¸‹ï¼š\nHibernate: alter table users add column detail_id integer\nHibernate: create table users_detail (id integer not null auto_increment, address varchar(255), email varchar(255), phone varchar(255), real_name varchar(255), primary key (id)) engine&#x3D;InnoDB\nHibernate: alter table users add constraint FK7gb021edkxf3mdv5bs75ni6jd foreign key (detail_id) references users_detail (id)\n\næ˜¯ä¸æ˜¯æ„Ÿè§‰éå¸¸æ–¹ä¾¿ï¼éƒ½æ‡’å¾—å»æ‰‹åŠ¨æ”¹è¡¨ç»“æ„äº†ã€‚\næ¥ç€æˆ‘ä»¬å¾€ç”¨æˆ·è¯¦ç»†ä¿¡æ¯ä¸­æ·»åŠ ä¸€äº›æ•°æ®ï¼Œä¸€ä¼šæˆ‘ä»¬å¯ä»¥ç›´æ¥è¿›è¡ŒæŸ¥è¯¢ï¼š\n@Test\nvoid pageAccount() &#123;\n    repository.findById(1).ifPresent(System.out::println);\n&#125;\n\næŸ¥è¯¢åï¼Œå¯ä»¥å‘ç°ï¼Œå¾—åˆ°å¦‚ä¸‹ç»“æœï¼š\nHibernate: select account0_.id as id1_0_0_, account0_.detail_id as detail_i4_0_0_, account0_.password as password2_0_0_, account0_.username as username3_0_0_, accountdet1_.id as id1_1_1_, accountdet1_.address as address2_1_1_, accountdet1_.email as email3_1_1_, accountdet1_.phone as phone4_1_1_, accountdet1_.real_name as real_nam5_1_1_ from users account0_ left outer join users_detail accountdet1_ on account0_.detail_id&#x3D;accountdet1_.id where account0_.id&#x3D;?\nAccount(id&#x3D;1, username&#x3D;Test, password&#x3D;123456, detail&#x3D;AccountDetail(id&#x3D;1, address&#x3D;å››å·çœæˆéƒ½å¸‚é’ç¾ŠåŒº, email&#x3D;8371289@qq.com, phone&#x3D;1234567890, realName&#x3D;æœ¬ä¼Ÿ))\n\nä¹Ÿå°±æ˜¯ï¼Œåœ¨å»ºç«‹å…³ç³»ä¹‹åï¼Œæˆ‘ä»¬æŸ¥è¯¢Accountå¯¹è±¡æ—¶ï¼Œä¼šè‡ªåŠ¨å°†å…³è”æ•°æ®çš„ç»“æœä¹Ÿä¸€å¹¶è¿›è¡ŒæŸ¥è¯¢ã€‚\né‚£è¦æ˜¯æˆ‘ä»¬åªæƒ³è¦Accountçš„æ•°æ®ï¼Œä¸æƒ³è¦ç”¨æˆ·è¯¦ç»†ä¿¡æ¯æ•°æ®æ€ä¹ˆåŠå‘¢ï¼Ÿæˆ‘å¸Œæœ›åœ¨æˆ‘è¦ç”¨çš„æ—¶å€™å†è·å–è¯¦ç»†ä¿¡æ¯ï¼Œè¿™æ ·å¯ä»¥èŠ‚çœä¸€äº›ç½‘ç»œå¼€é”€ï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®æ‡’åŠ è½½ï¼Œè¿™æ ·åªæœ‰åœ¨éœ€è¦æ—¶æ‰ä¼šå‘æ•°æ®åº“è·å–ï¼š\n@JoinColumn(name &#x3D; &quot;detail_id&quot;)\n@OneToOne(fetch &#x3D; FetchType.LAZY)    &#x2F;&#x2F;å°†è·å–ç±»å‹æ”¹ä¸ºLAZY\nAccountDetail detail;\n\næ¥ç€æˆ‘ä»¬æµ‹è¯•ä¸€ä¸‹ï¼š\n@Transactional   &#x2F;&#x2F;æ‡’åŠ è½½å±æ€§éœ€è¦åœ¨äº‹åŠ¡ç¯å¢ƒä¸‹è·å–ï¼Œå› ä¸ºrepositoryæ–¹æ³•è°ƒç”¨å®ŒåSessionä¼šç«‹å³å…³é—­\n@Test\nvoid pageAccount() &#123;\n    repository.findById(1).ifPresent(account -&gt; &#123;\n        System.out.println(account.getUsername());   &#x2F;&#x2F;è·å–ç”¨æˆ·å\n        System.out.println(account.getDetail());  &#x2F;&#x2F;è·å–è¯¦ç»†ä¿¡æ¯ï¼ˆæ‡’åŠ è½½ï¼‰\n    &#125;);\n&#125;\n\næ¥ç€æˆ‘ä»¬æ¥çœ‹çœ‹æ§åˆ¶å°è¾“å‡ºäº†ä»€ä¹ˆï¼š\nHibernate: select account0_.id as id1_0_0_, account0_.detail_id as detail_i4_0_0_, account0_.password as password2_0_0_, account0_.username as username3_0_0_ from users account0_ where account0_.id&#x3D;?\nTest\nHibernate: select accountdet0_.id as id1_1_0_, accountdet0_.address as address2_1_0_, accountdet0_.email as email3_1_0_, accountdet0_.phone as phone4_1_0_, accountdet0_.real_name as real_nam5_1_0_ from users_detail accountdet0_ where accountdet0_.id&#x3D;?\nAccountDetail(id&#x3D;1, address&#x3D;å››å·çœæˆéƒ½å¸‚é’ç¾ŠåŒº, email&#x3D;8371289@qq.com, phone&#x3D;1234567890, realName&#x3D;å¢æœ¬)\n\nå¯ä»¥çœ‹åˆ°ï¼Œè·å–ç”¨æˆ·åä¹‹å‰ï¼Œå¹¶æ²¡æœ‰å»æŸ¥è¯¢ç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯ï¼Œè€Œæ˜¯å½“æˆ‘ä»¬è·å–è¯¦ç»†ä¿¡æ¯æ—¶æ‰è¿›è¡ŒæŸ¥è¯¢å¹¶è¿”å›AccountDetailå¯¹è±¡ã€‚\né‚£ä¹ˆæˆ‘ä»¬æ˜¯å¦ä¹Ÿå¯ä»¥åœ¨æ·»åŠ æ•°æ®æ—¶ï¼Œåˆ©ç”¨å®ä½“ç±»ä¹‹é—´çš„å…³è”ä¿¡æ¯ï¼Œä¸€æ¬¡æ€§æ·»åŠ ä¸¤å¼ è¡¨çš„æ•°æ®å‘¢ï¼Ÿå¯ä»¥ï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦ç¨å¾®ä¿®æ”¹ä¸€ä¸‹çº§è”å…³è”æ“ä½œè®¾å®šï¼š\n@JoinColumn(name &#x3D; &quot;detail_id&quot;)\n@OneToOne(fetch &#x3D; FetchType.LAZY, cascade &#x3D; CascadeType.ALL) &#x2F;&#x2F;è®¾ç½®å…³è”æ“ä½œä¸ºALL\nAccountDetail detail;\n\n\nALLï¼šæ‰€æœ‰æ“ä½œéƒ½è¿›è¡Œå…³è”æ“ä½œ\nPERSISTï¼šæ’å…¥æ“ä½œæ—¶æ‰è¿›è¡Œå…³è”æ“ä½œ\nREMOVEï¼šåˆ é™¤æ“ä½œæ—¶æ‰è¿›è¡Œå…³è”æ“ä½œ\nMERGEï¼šä¿®æ”¹æ“ä½œæ—¶æ‰è¿›è¡Œå…³è”æ“ä½œ\n\nå¯ä»¥å¤šä¸ªå¹¶å­˜ï¼Œæ¥ç€æˆ‘ä»¬æ¥è¿›è¡Œä¸€ä¸‹æµ‹è¯•ï¼š\n@Test\nvoid addAccount()&#123;\n    Account account &#x3D; new Account();\n    account.setUsername(&quot;Nike&quot;);\n    account.setPassword(&quot;123456&quot;);\n    AccountDetail detail &#x3D; new AccountDetail();\n    detail.setAddress(&quot;é‡åº†å¸‚æ¸ä¸­åŒºè§£æ”¾ç¢‘&quot;);\n    detail.setPhone(&quot;1234567890&quot;);\n    detail.setEmail(&quot;73281937@qq.com&quot;);\n    detail.setRealName(&quot;å¼ ä¸‰&quot;);\n  \taccount.setDetail(detail);\n    account &#x3D; repository.save(account);\n    System.out.println(&quot;æ’å…¥æ—¶ï¼Œè‡ªåŠ¨ç”Ÿæˆçš„ä¸»é”®IDä¸ºï¼š&quot;+account.getId()+&quot;ï¼Œå¤–é”®IDä¸ºï¼š&quot;+account.getDetail().getId());\n&#125;\n\nå¯ä»¥çœ‹åˆ°æ—¥å¿—ç»“æœï¼š\nHibernate: insert into users_detail (address, email, phone, real_name) values (?, ?, ?, ?)\nHibernate: insert into users (detail_id, password, username) values (?, ?, ?)\næ’å…¥æ—¶ï¼Œè‡ªåŠ¨ç”Ÿæˆçš„ä¸»é”®IDä¸ºï¼š6ï¼Œå¤–é”®IDä¸ºï¼š3\n\nç»“æŸåä¼šå‘ç°æ•°æ®åº“ä¸­ä¸¤å¼ è¡¨éƒ½åŒæ—¶å­˜åœ¨æ•°æ®ã€‚\næ¥ç€æˆ‘ä»¬æ¥çœ‹ä¸€å¯¹å¤šå…³è”ï¼Œæ¯”å¦‚æ¯ä¸ªç”¨æˆ·çš„æˆç»©ä¿¡æ¯ï¼š\n@JoinColumn(name &#x3D; &quot;uid&quot;)  &#x2F;&#x2F;æ³¨æ„è¿™é‡Œçš„nameæŒ‡çš„æ˜¯Scoreè¡¨ä¸­çš„uidå­—æ®µå¯¹åº”çš„å°±æ˜¯å½“å‰çš„ä¸»é”®ï¼Œä¼šå°†uidå¤–é”®è®¾ç½®ä¸ºå½“å‰çš„ä¸»é”®\n@OneToMany(fetch &#x3D; FetchType.LAZY, cascade &#x3D; CascadeType.REMOVE)   &#x2F;&#x2F;åœ¨ç§»é™¤Accountæ—¶ï¼Œä¸€å¹¶ç§»é™¤æ‰€æœ‰çš„æˆç»©ä¿¡æ¯ï¼Œä¾ç„¶ä½¿ç”¨æ‡’åŠ è½½\nList&lt;Score&gt; scoreList;\n\n@Data\n@Entity\n@Table(name &#x3D; &quot;users_score&quot;)   &#x2F;&#x2F;æˆç»©è¡¨ï¼Œæ³¨æ„åªå­˜æˆç»©ï¼Œä¸å­˜å­¦ç§‘ä¿¡æ¯ï¼Œå­¦ç§‘ä¿¡æ¯idåšå¤–é”®\npublic class Score &#123;\n\n    @GeneratedValue(strategy &#x3D; GenerationType.IDENTITY)\n    @Column(name &#x3D; &quot;id&quot;)\n    @Id\n    int id;\n\n    @OneToOne   &#x2F;&#x2F;ä¸€å¯¹ä¸€å¯¹åº”åˆ°å­¦ç§‘ä¸Š\n    @JoinColumn(name &#x3D; &quot;cid&quot;)\n    Subject subject;\n\n    @Column(name &#x3D; &quot;socre&quot;)\n    double score;\n\n    @Column(name &#x3D; &quot;uid&quot;)\n    int uid;\n&#125;\n\n@Data\n@Entity\n@Table(name &#x3D; &quot;subjects&quot;)   &#x2F;&#x2F;å­¦ç§‘ä¿¡æ¯è¡¨\npublic class Subject &#123;\n\n    @GeneratedValue(strategy &#x3D; GenerationType.IDENTITY)\n    @Column(name &#x3D; &quot;cid&quot;)\n    @Id\n    int cid;\n\n    @Column(name &#x3D; &quot;name&quot;)\n    String name;\n\n    @Column(name &#x3D; &quot;teacher&quot;)\n    String teacher;\n\n    @Column(name &#x3D; &quot;time&quot;)\n    int time;\n&#125;\n\nåœ¨æ•°æ®åº“ä¸­å¡«å†™ç›¸åº”æ•°æ®ï¼Œæ¥ç€æˆ‘ä»¬å°±å¯ä»¥æŸ¥è¯¢ç”¨æˆ·çš„æˆç»©ä¿¡æ¯äº†ï¼š\n@Transactional\n@Test\nvoid test() &#123;\n    repository.findById(1).ifPresent(account -&gt; &#123;\n        account.getScoreList().forEach(System.out::println);\n    &#125;);\n&#125;\n\næˆåŠŸå¾—åˆ°ç”¨æˆ·æ‰€æœ‰çš„æˆç»©ä¿¡æ¯ï¼ŒåŒ…æ‹¬å¾—åˆ†å’Œå­¦ç§‘ä¿¡æ¯ã€‚\nåŒæ ·çš„ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å°†å¯¹åº”æˆç»©ä¸­çš„æ•™å¸ˆä¿¡æ¯å•ç‹¬åˆ†å‡ºä¸€å¼ è¡¨å­˜å‚¨ï¼Œå¹¶å»ºç«‹å¤šå¯¹ä¸€çš„å…³ç³»ï¼Œå› ä¸ºå¤šé—¨è¯¾ç¨‹å¯èƒ½ç”±åŒä¸€ä¸ªè€å¸ˆæ•™æˆï¼ˆåƒä¸‡åˆ«ææ™•äº†ï¼Œä¸€å®šè¦ç†æ¸…æ¥šå…³è”å…³ç³»ï¼ŒåŒæ—¶ä¹Ÿæ˜¯è€ƒéªŒä½ çš„åŸºç¡€æ‰ä¸æ‰å®ï¼‰ï¼š\n@ManyToOne(fetch &#x3D; FetchType.LAZY)\n@JoinColumn(name &#x3D; &quot;tid&quot;)   &#x2F;&#x2F;å­˜å‚¨æ•™å¸ˆIDçš„å­—æ®µï¼Œå’Œä¸€å¯¹ä¸€æ˜¯ä¸€æ ·çš„ï¼Œä¹Ÿä¼šå½“å‰è¡¨ä¸­åˆ›ä¸ªå¤–é”®\nTeacher teacher;\n\næ¥ç€å°±æ˜¯æ•™å¸ˆå®ä½“ç±»äº†ï¼š\n@Data\n@Entity\n@Table(name &#x3D; &quot;teachers&quot;)\npublic class Teacher &#123;\n\n    @Column(name &#x3D; &quot;id&quot;)\n    @GeneratedValue(strategy &#x3D; GenerationType.IDENTITY)\n    @Id\n    int id;\n\n    @Column(name &#x3D; &quot;name&quot;)\n    String name;\n\n    @Column(name &#x3D; &quot;sex&quot;)\n    String sex;\n&#125;\n\næœ€åæˆ‘ä»¬å†è¿›è¡Œä¸€ä¸‹æµ‹è¯•ï¼š\n@Transactional\n@Test\nvoid test() &#123;\n    repository.findById(3).ifPresent(account -&gt; &#123;\n        account.getScoreList().forEach(score -&gt; &#123;\n            System.out.println(&quot;è¯¾ç¨‹åç§°ï¼š&quot;+score.getSubject().getName());\n            System.out.println(&quot;å¾—åˆ†ï¼š&quot;+score.getScore());\n            System.out.println(&quot;ä»»è¯¾æ•™å¸ˆï¼š&quot;+score.getSubject().getTeacher().getName());\n        &#125;);\n    &#125;);\n&#125;\n\næˆåŠŸå¾—åˆ°å¤šå¯¹ä¸€çš„æ•™å¸ˆä¿¡æ¯ã€‚\næœ€åæˆ‘ä»¬å†æ¥çœ‹æœ€å¤æ‚çš„æƒ…å†µï¼Œç°åœ¨æˆ‘ä»¬ä¸€é—¨è¯¾ç¨‹å¯ä»¥ç”±å¤šä¸ªè€å¸ˆæ•™æˆï¼Œè€Œä¸€ä¸ªè€å¸ˆä¹Ÿå¯ä»¥æ•™æˆå¤šä¸ªè¯¾ç¨‹ï¼Œé‚£ä¹ˆè¿™ç§æƒ…å†µå°±æ˜¯å¾ˆæ˜æ˜¾çš„å¤šå¯¹å¤šåœºæ™¯ï¼Œç°åœ¨åˆè¯¥å¦‚ä½•å®šä¹‰å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥åƒä¹‹å‰ä¸€æ ·ï¼Œæ’å…¥ä¸€å¼ ä¸­é—´è¡¨è¡¨ç¤ºæ•™æˆå…³ç³»ï¼Œè¿™ä¸ªè¡¨ä¸­ä¸“é—¨å­˜å‚¨å“ªä¸ªè€å¸ˆæ•™å“ªä¸ªç§‘ç›®ï¼š\n@ManyToMany(fetch &#x3D; FetchType.LAZY)   &#x2F;&#x2F;å¤šå¯¹å¤šåœºæ™¯\n@JoinTable(name &#x3D; &quot;teach_relation&quot;,     &#x2F;&#x2F;å¤šå¯¹å¤šä¸­é—´å…³è”è¡¨\n        joinColumns &#x3D; @JoinColumn(name &#x3D; &quot;cid&quot;),    &#x2F;&#x2F;å½“å‰å®ä½“ä¸»é”®åœ¨å…³è”è¡¨ä¸­çš„å­—æ®µåç§°\n        inverseJoinColumns &#x3D; @JoinColumn(name &#x3D; &quot;tid&quot;)   &#x2F;&#x2F;æ•™å¸ˆå®ä½“ä¸»é”®åœ¨å…³è”è¡¨ä¸­çš„å­—æ®µåç§°\n)\nList&lt;Teacher&gt; teacher;\n\næ¥ç€ï¼ŒJPAä¼šè‡ªåŠ¨åˆ›å»ºä¸€å¼ ä¸­é—´è¡¨ï¼Œå¹¶è‡ªåŠ¨è®¾ç½®å¤–é”®ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†å¤šå¯¹å¤šå…³è”ä¿¡æ¯ç¼–å†™åœ¨å…¶ä¸­äº†ã€‚\nJPQLè‡ªå®šä¹‰SQLè¯­å¥è™½ç„¶SpringDataJPAèƒ½å¤Ÿç®€åŒ–å¤§éƒ¨åˆ†æ•°æ®è·å–åœºæ™¯ï¼Œä½†æ˜¯éš¾å…ä¼šæœ‰ä¸€äº›ç‰¹æ®Šçš„åœºæ™¯ï¼Œéœ€è¦ä½¿ç”¨å¤æ‚æŸ¥è¯¢æ‰èƒ½å¤Ÿå»å®Œæˆï¼Œè¿™æ—¶ä½ åˆä¼šå‘ç°ï¼Œå¦‚æœè¦å®ç°ï¼Œåªèƒ½ç”¨å›Mybatisäº†ï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦è‡ªå·±æ‰‹åŠ¨ç¼–å†™SQLè¯­å¥ï¼Œè¿‡åº¦ä¾èµ–SpringDataJPAä¼šä½¿å¾—SQLè¯­å¥ä¸å¯æ§ã€‚\nä½¿ç”¨JPAï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åƒMybatisé‚£æ ·ï¼Œç›´æ¥ç¼–å†™SQLè¯­å¥ï¼Œä¸è¿‡å®ƒæ˜¯JPQLè¯­è¨€ï¼Œä¸åŸç”ŸSQLè¯­å¥å¾ˆç±»ä¼¼ï¼Œä½†æ˜¯å®ƒæ˜¯é¢å‘å¯¹è±¡çš„ï¼Œå½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥ç¼–å†™åŸç”ŸSQLè¯­å¥ã€‚\næ¯”å¦‚æˆ‘ä»¬è¦æ›´æ–°ç”¨æˆ·è¡¨ä¸­æŒ‡å®šIDç”¨æˆ·çš„å¯†ç ï¼š\n@Repository\npublic interface AccountRepository extends JpaRepository&lt;Account, Integer&gt; &#123;\n\n    @Transactional    &#x2F;&#x2F;DMLæ“ä½œéœ€è¦äº‹åŠ¡ç¯å¢ƒï¼Œå¯ä»¥ä¸åœ¨è¿™é‡Œå£°æ˜ï¼Œä½†æ˜¯è°ƒç”¨æ—¶ä¸€å®šè¦å¤„äºäº‹åŠ¡ç¯å¢ƒä¸‹\n    @Modifying     &#x2F;&#x2F;è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªDMLæ“ä½œ\n    @Query(&quot;update Account set password &#x3D; ?2 where id &#x3D; ?1&quot;) &#x2F;&#x2F;è¿™é‡Œæ“ä½œçš„æ˜¯ä¸€ä¸ªå®ä½“ç±»å¯¹åº”çš„è¡¨ï¼Œå‚æ•°ä½¿ç”¨?ä»£è¡¨ï¼Œåé¢æ¥ç¬¬nä¸ªå‚æ•°\n    int updatePasswordById(int id, String newPassword);\n&#125;\n\n@Test\nvoid updateAccount()&#123;\n    repository.updatePasswordById(1, &quot;654321&quot;);\n&#125;\n\nç°åœ¨æˆ‘æƒ³ä½¿ç”¨åŸç”ŸSQLæ¥å®ç°æ ¹æ®ç”¨æˆ·åç§°ä¿®æ”¹å¯†ç ï¼š\n@Transactional\n@Modifying\n@Query(value &#x3D; &quot;update users set password &#x3D; :pwd where username &#x3D; :name&quot;, nativeQuery &#x3D; true) &#x2F;&#x2F;ä½¿ç”¨åŸç”ŸSQLï¼Œå’ŒMybatisä¸€æ ·ï¼Œè¿™é‡Œä½¿ç”¨ :åç§° è¡¨ç¤ºå‚æ•°ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç»§ç»­ç”¨ä¸Šé¢é‚£ç§æ–¹å¼ã€‚\nint updatePasswordByUsername(@Param(&quot;name&quot;) String username,   &#x2F;&#x2F;æˆ‘ä»¬å¯ä»¥ä½¿ç”¨@ParamæŒ‡å®šåç§°\n                             @Param(&quot;pwd&quot;) String newPassword);\n\n@Test\nvoid updateAccount()&#123;\n    repository.updatePasswordByUsername(&quot;Admin&quot;, &quot;654321&quot;);\n&#125;\n\né€šè¿‡ç¼–å†™åŸç”ŸSQLï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šå¼¥è¡¥äº†SQLä¸å¯æ§çš„é—®é¢˜ã€‚\nè™½ç„¶JPAèƒ½å¤Ÿä¸ºæˆ‘ä»¬å¸¦æ¥éå¸¸ä¾¿æ·çš„å¼€å‘ä½“éªŒï¼Œä½†æ˜¯æ­£å¼å› ä¸ºå¤ªä¾¿æ·äº†ï¼Œä¿å§†çº§çš„ä½“éªŒæœ‰æ—¶ä¹Ÿä¼šé€‚å¾—å…¶åï¼Œå¯èƒ½é¡¹ç›®å¼€å‘åˆ°åæœŸç‰¹åˆ«åºå¤§æ—¶ï¼Œå°±åªèƒ½ä»åº•å±‚SQLè¯­å¥å¼€å§‹è¿›è¡Œä¼˜åŒ–ï¼Œè€Œç”±äºJPAå°½å¯èƒ½åœ°åœ¨å±è”½æˆ‘ä»¬å¯¹SQLè¯­å¥çš„ç¼–å†™ï¼Œæ‰€ä»¥åæœŸä¼˜åŒ–æ˜¯ä¸ªå¤§é—®é¢˜ï¼Œå¹¶ä¸”Hibernateç›¸å¯¹äºMybatisæ¥è¯´ï¼Œæ›´åŠ é‡é‡çº§ã€‚ä¸è¿‡ï¼Œåœ¨å¾®æœåŠ¡çš„æ—¶ä»£ï¼Œå•ä½“é¡¹ç›®ä¸€èˆ¬ä¸ä¼šå¤ªå¤§ï¼Œè€ŒJPAçš„åŠ£åŠ¿å¹¶æ²¡æœ‰å¤ªæ˜æ˜¾åœ°ä½“ç°å‡ºæ¥ã€‚\næœ‰å…³Mybatiså’ŒJPAçš„å¯¹æ¯”ï¼Œå¯ä»¥å‚è€ƒï¼šhttps://blog.csdn.net/u010253246/article/details/105731204\n\nExtra. å‰åç«¯åˆ†ç¦»è·¨åŸŸå¤„ç†æˆ‘ä»¬çš„é¡¹ç›®å·²ç»å¤„äºå‰åç«¯åˆ†ç¦»çŠ¶æ€äº†ï¼Œé‚£ä¹ˆå‰åç«¯åˆ†ç¦»çŠ¶æ€å’Œæˆ‘ä»¬ä¹‹å‰çš„çŠ¶æ€æœ‰ä»€ä¹ˆåŒºåˆ«çš„å‘¢ï¼Ÿ\n\nä¸åˆ†ç¦»ï¼šå‰ç«¯é¡µé¢çœ‹åˆ°çš„éƒ½æ˜¯ç”±åç«¯æ§åˆ¶ï¼Œç”±åç«¯æ¸²æŸ“é¡µé¢æˆ–é‡å®šå‘ï¼Œåç«¯éœ€è¦æ§åˆ¶å‰ç«¯çš„å±•ç¤ºï¼Œå‰ç«¯ä¸åç«¯çš„è€¦åˆåº¦å¾ˆé«˜ã€‚æ¯”å¦‚æˆ‘ä»¬ä¹‹å‰éƒ½æ˜¯ä½¿ç”¨åç«¯æ¥æ‰§è¡Œé‡å®šå‘æ“ä½œæˆ–æ˜¯ä½¿ç”¨Thymeleafæ¥å¡«å……æ•°æ®ï¼Œè€Œæœ€ç»ˆè¿”å›çš„æ˜¯æ•´ä¸ªæ¸²æŸ“å¥½çš„é¡µã€‚\n\n\n\nåˆ†ç¦»ï¼šåç«¯ä»…è¿”å›å‰ç«¯æ‰€éœ€çš„æ•°æ®ï¼Œä¸å†æ¸²æŸ“HTMLé¡µé¢ï¼Œä¸å†æ§åˆ¶å‰ç«¯çš„æ•ˆæœã€‚è‡³äºå‰ç«¯ç”¨æˆ·çœ‹åˆ°ä»€ä¹ˆæ•ˆæœï¼Œä»åç«¯è¯·æ±‚çš„æ•°æ®å¦‚ä½•åŠ è½½åˆ°å‰ç«¯ä¸­ï¼Œéƒ½ç”±å‰ç«¯é€šè¿‡JSç­‰è¿›è¡ŒåŠ¨æ€æ•°æ®å¡«å……å’Œæ¸²æŸ“ã€‚è¿™æ ·åç«¯åªè¿”å›JSONæ•°æ®ï¼Œå‰ç«¯å¤„ç†JSONæ•°æ®å¹¶å±•ç¤ºï¼Œè¿™æ ·å‰åç«¯çš„èŒè´£å°±éå¸¸æ˜ç¡®äº†ã€‚\n\n\nå®ç°å‰åç«¯åˆ†ç¦»æœ‰ä¸¤ç§æ–¹æ¡ˆï¼Œä¸€ç§æ˜¯ç›´æ¥æ”¾å…¥SpringBootçš„èµ„æºæ–‡ä»¶å¤¹ä¸‹ï¼Œä½†æ˜¯è¿™æ ·å®é™…ä¸Šè¿˜æ˜¯åœ¨ä¾é SpringBootå†…åµŒçš„TomcatæœåŠ¡å™¨è¿›è¡Œé¡µé¢å’Œé™æ€èµ„æºçš„å‘é€ï¼Œæˆ‘ä»¬ç°åœ¨å°±æ˜¯è¿™ç§æ–¹æ¡ˆã€‚\nå¦ä¸€ç§æ–¹æ¡ˆå°±æ˜¯ç›´æ¥å°†æ‰€æœ‰çš„é¡µé¢å’Œé™æ€èµ„æºå•ç‹¬æ”¾åˆ°ä»£ç†æœåŠ¡å™¨ä¸Šï¼ˆå¦‚Nginxï¼‰ï¼Œè¿™æ ·æˆ‘ä»¬åç«¯æœåŠ¡å™¨å°±ä¸å¿…å†å¤„ç†é™æ€èµ„æºå’Œé¡µé¢äº†ï¼Œä¸“å¿ƒè¿”å›æ•°æ®å³å¯ï¼Œè€Œå‰ç«¯é¡µé¢å°±éœ€è¦è®¿é—®å¦ä¸€ä¸ªæœåŠ¡å™¨æ¥è·å–ï¼Œè™½ç„¶é€»è¾‘å’Œæ˜ç¡®ï¼Œä½†æ˜¯è¿™æ ·ä¼šå‡ºç°è·¨åŸŸé—®é¢˜ï¼Œå®é™…ä¸Šå°±æ˜¯æˆ‘ä»¬ä¹‹å‰æ‰€è¯´çš„è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼Œä¸ºäº†é˜²æ­¢è¿™ç§ä¸å®‰å…¨çš„è¡Œä¸ºå‘ç”Ÿï¼Œæ‰€ä»¥å¯¹å¼‚æ­¥è¯·æ±‚ä¼šè¿›è¡Œä¸€å®šçš„é™åˆ¶ã€‚\nè¿™é‡Œï¼Œæˆ‘ä»¬å°†å‰ç«¯é¡µé¢å’Œåç«¯é¡µé¢ç›´æ¥åˆ†ç¦»è¿›è¡Œæµ‹è¯•ï¼Œåœ¨ç™»é™†æ—¶å¾—åˆ°å¦‚ä¸‹é”™è¯¯ï¼š\nAccess to XMLHttpRequest at &#39;http:&#x2F;&#x2F;localhost:8080&#x2F;api&#x2F;auth&#x2F;login&#39; from origin &#39;http:&#x2F;&#x2F;localhost:63342&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\n\nå¯ä»¥å¾ˆæ¸…æ¥šåœ°çœ‹åˆ°ï¼Œåœ¨Ajaxå‘é€å¼‚æ­¥è¯·æ±‚æ—¶ï¼Œæˆ‘ä»¬çš„è¯·æ±‚è¢«é˜»æ­¢ï¼ŒåŸå› æ˜¯åœ¨å“åº”å¤´ä¸­æ²¡æœ‰åŒ…å«Access-Control-Allow-Originï¼Œä¹Ÿå°±è¡¨ç¤ºï¼Œå¦‚æœæœåŠ¡ç«¯å…è®¸è·¨åŸŸè¯·æ±‚ï¼Œé‚£ä¹ˆä¼šåœ¨å“åº”å¤´ä¸­æ·»åŠ ä¸€ä¸ªAccess-Control-Allow-Originå­—æ®µï¼Œå¦‚æœä¸å…è®¸è·¨åŸŸï¼Œå°±åƒç°åœ¨è¿™æ ·ã€‚é‚£ä¹ˆï¼Œä»€ä¹ˆæ‰ç®—æ˜¯è·¨åŸŸå‘¢ï¼š\n\nè¯·æ±‚åè®®å¦‚httpã€httpsä¸åŒ\nè¯·æ±‚çš„åœ°å€&#x2F;åŸŸåä¸åŒ\nç«¯å£ä¸åŒ\n\nå› ä¸ºæˆ‘ä»¬ç°åœ¨ç›¸å½“äºå‰ç«¯é¡µé¢è®¿é—®çš„æ˜¯é™æ€èµ„æºæœåŠ¡å™¨ï¼Œè€Œåç«¯æ•°æ®æ˜¯ç”±æˆ‘ä»¬çš„SpringBooté¡¹ç›®æä¾›ï¼Œå®ƒä»¬æ˜¯ä¸¤ä¸ªä¸åŒçš„æœåŠ¡å™¨ï¼Œæ‰€ä»¥åœ¨å®æœåŠ¡å™¨è¯·æ±‚èµ„æºæ—¶ï¼Œä¼šè¢«åˆ¤æ–­ä¸ºå­˜åœ¨å®‰å…¨é£é™©ã€‚\nä½†æ˜¯ç°åœ¨ï¼Œç”±äºæˆ‘ä»¬å‰åç«¯æ˜¯åˆ†ç¦»çŠ¶æ€ï¼Œæˆ‘ä»¬å¸Œæœ›çš„æ˜¯èƒ½å¤Ÿå®ç°è·¨åŸŸè¯·æ±‚ï¼Œè¿™æ—¶æˆ‘ä»¬å°±éœ€è¦æ·»åŠ ä¸€ä¸ªè¿‡æ»¤å™¨æ¥å¤„ç†è·¨åŸŸé—®é¢˜ï¼š\n@Bean\npublic CorsFilter corsFilter() &#123;\n    &#x2F;&#x2F;åˆ›å»ºCorsConfigurationå¯¹è±¡åæ·»åŠ é…ç½®\n    CorsConfiguration config &#x3D; new CorsConfiguration();\n    &#x2F;&#x2F;è®¾ç½®æ”¾è¡Œå“ªäº›åŸå§‹åŸŸï¼Œè¿™é‡Œç›´æ¥è®¾ç½®ä¸ºæ‰€æœ‰\n    config.addAllowedOriginPattern(&quot;*&quot;);\n  \t&#x2F;&#x2F;ä½ å¯ä»¥å•ç‹¬è®¾ç½®æ”¾è¡Œå“ªäº›åŸå§‹åŸŸ config.addAllowedOrigin(&quot;http:&#x2F;&#x2F;localhost:2222&quot;);\n    &#x2F;&#x2F;æ”¾è¡Œå“ªäº›åŸå§‹è¯·æ±‚å¤´éƒ¨ä¿¡æ¯\n    config.addAllowedHeader(&quot;*&quot;);\n    &#x2F;&#x2F;æ”¾è¡Œå“ªäº›è¯·æ±‚æ–¹å¼ï¼Œ*ä»£è¡¨æ‰€æœ‰\n    config.addAllowedMethod(&quot;*&quot;);\n    &#x2F;&#x2F;æ˜¯å¦å…è®¸å‘é€Cookieï¼Œå¿…é¡»è¦å¼€å¯ï¼Œå› ä¸ºæˆ‘ä»¬çš„JSESSIONIDéœ€è¦åœ¨Cookieä¸­æºå¸¦\n    config.setAllowCredentials(true);\n    &#x2F;&#x2F;æ˜ å°„è·¯å¾„\n    UrlBasedCorsConfigurationSource corsConfigurationSource &#x3D; new UrlBasedCorsConfigurationSource();\n    corsConfigurationSource.registerCorsConfiguration(&quot;&#x2F;**&quot;, config);\n    &#x2F;&#x2F;è¿”å›CorsFilter\n    return new CorsFilter(corsConfigurationSource);\n&#125;\n\nè¿™æ ·ï¼Œæˆ‘ä»¬çš„SpringBooté¡¹ç›®å°±æ”¯æŒè·¨åŸŸè®¿é—®äº†ï¼Œæ¥ç€æˆ‘ä»¬å†æ¥å°è¯•è¿›è¡Œç™»é™†ï¼Œå¯ä»¥å‘ç°å·²ç»èƒ½å¤Ÿæ­£å¸¸è®¿é—®äº†ï¼Œå¹¶ä¸”å“åº”å¤´ä¸­åŒ…å«äº†ä»¥ä¸‹ä¿¡æ¯ï¼š\nVary: Access-Control-Request-Method\nVary: Access-Control-Request-Headers\nAccess-Control-Allow-Origin: http:&#x2F;&#x2F;localhost:63342\nAccess-Control-Expose-Headers: *\nAccess-Control-Allow-Credentials: true\n\nå¯ä»¥çœ‹åˆ°æˆ‘ä»¬å½“å‰è®¿é—®çš„åŸå§‹åŸŸå·²ç»è¢«æ”¾è¡Œäº†ã€‚\nä½†æ˜¯è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬çš„Ajaxè¯·æ±‚ä¸­æ²¡æœ‰æºå¸¦Cookieä¿¡æ¯ï¼ˆè¿™ä¸ªæŒ‰ç†è¯´å±äºå‰ç«¯çŸ¥è¯†äº†ï¼‰è¿™é‡Œæˆ‘ä»¬ç¨å¾®æ”¹ä¸€ä¸‹ï¼Œä¸ç„¶æˆ‘ä»¬çš„è¯·æ±‚æ— æ³•ç¡®è®¤èº«ä»½ï¼š\nfunction get(url, success)&#123;\n    $.ajax(&#123;\n        type: &quot;get&quot;,\n        url: url,\n        async: true,\n        dataType: &#39;json&#39;,\n        xhrFields: &#123;\n            withCredentials: true\n        &#125;,\n        success: success\n    &#125;);\n&#125;\n\nfunction post(url, data, success)&#123;\n    $.ajax(&#123;\n        type: &quot;post&quot;,\n        url: url,\n        async: true,\n        data: data,\n        dataType: &#39;json&#39;,\n        xhrFields: &#123;\n            withCredentials: true\n        &#125;,\n        success: success\n    &#125;);\n&#125;\n\næ·»åŠ ä¸¤ä¸ªå°è£…å¥½çš„æ–¹æ³•ï¼Œå¹¶ä¸”å°†withCredentialså¼€å¯ï¼Œè¿™æ ·åœ¨å‘é€å¼‚æ­¥è¯·æ±‚æ—¶ï¼Œå°±ä¼šæºå¸¦Cookieä¿¡æ¯äº†ã€‚\n åœ¨å­¦ä¹ å®ŒæˆLinuxä¹‹åï¼Œæˆ‘ä»¬ä¼šè®²è§£å¦‚ä½•åœ¨LinuxæœåŠ¡å™¨ä¸Šéƒ¨ç½²Nginxåå‘ä»£ç†æœåŠ¡å™¨ã€‚\n\næ¥å£ç®¡ç†ï¼šSwaggeråœ¨å‰åç«¯åˆ†ç¦»é¡¹ç›®ä¸­ï¼Œå‰ç«¯äººå‘˜éœ€è¦çŸ¥é“æˆ‘ä»¬åç«¯ä¼šæä¾›ä»€ä¹ˆæ•°æ®ï¼Œæ ¹æ®åç«¯æä¾›çš„æ•°æ®æ¥è¿›è¡Œå‰ç«¯é¡µé¢æ¸²æŸ“ï¼ˆåœ¨ä¹‹å‰æˆ‘ä»¬ä¹Ÿæ¼”ç¤ºè¿‡ï¼‰è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±éœ€è¦ç¼–å†™ä¸€ä¸ªAPIæ–‡æ¡£ï¼Œä»¥ä¾¿å‰ç«¯äººå‘˜éšæ—¶æŸ¥é˜…ã€‚\nä½†æ˜¯è¿™æ ·çš„ä¸€ä¸ªæ–‡æ¡£ï¼Œæˆ‘ä»¬ä¹Ÿä¸å¯èƒ½å•ç‹¬å†™ä¸€ä¸ªé¡¹ç›®å»è¿›è¡Œç»´æŠ¤ï¼Œå¹¶ä¸”éšç€æˆ‘ä»¬çš„åç«¯é¡¹ç›®ä¸æ–­æ›´æ–°ï¼Œæ–‡æ¡£ä¹Ÿéœ€è¦è·Ÿéšæ›´æ–°ï¼Œè¿™æ˜¾ç„¶æ˜¯å¾ˆéº»çƒ¦çš„ä¸€ä»¶äº‹æƒ…ï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰ä¸€ç§æ¯”è¾ƒå¥½çš„è§£å†³æ–¹æ¡ˆå‘¢ï¼Ÿ\nå½“ç„¶æœ‰ï¼Œé‚£å°±æ˜¯ä¸è¢œå“¥ï¼šSwagger\nèµ°è¿›SwaggerSwaggerçš„ä¸»è¦åŠŸèƒ½å¦‚ä¸‹ï¼š\n\næ”¯æŒ API è‡ªåŠ¨ç”ŸæˆåŒæ­¥çš„åœ¨çº¿æ–‡æ¡£ï¼šä½¿ç”¨ Swagger åå¯ä»¥ç›´æ¥é€šè¿‡ä»£ç ç”Ÿæˆæ–‡æ¡£ï¼Œä¸å†éœ€è¦è‡ªå·±æ‰‹åŠ¨ç¼–å†™æ¥å£æ–‡æ¡£äº†ï¼Œå¯¹ç¨‹åºå‘˜æ¥è¯´éå¸¸æ–¹ä¾¿ï¼Œå¯ä»¥èŠ‚çº¦å†™æ–‡æ¡£çš„æ—¶é—´å»å­¦ä¹ æ–°æŠ€æœ¯ã€‚\næä¾› Web é¡µé¢åœ¨çº¿æµ‹è¯• APIï¼šå…‰æœ‰æ–‡æ¡£è¿˜ä¸å¤Ÿï¼ŒSwagger ç”Ÿæˆçš„æ–‡æ¡£è¿˜æ”¯æŒåœ¨çº¿æµ‹è¯•ã€‚å‚æ•°å’Œæ ¼å¼éƒ½å®šå¥½äº†ï¼Œç›´æ¥åœ¨ç•Œé¢ä¸Šè¾“å…¥å‚æ•°å¯¹åº”çš„å€¼å³å¯åœ¨çº¿æµ‹è¯•æ¥å£ã€‚\n\nç»“åˆSpringæ¡†æ¶ï¼ˆSpring-foxï¼‰ï¼ŒSwaggerå¯ä»¥å¾ˆè½»æ¾åœ°åˆ©ç”¨æ³¨è§£ä»¥åŠæ‰«ææœºåˆ¶ï¼Œæ¥å¿«é€Ÿç”Ÿæˆåœ¨çº¿æ–‡æ¡£ï¼Œä»¥å®ç°å½“æˆ‘ä»¬é¡¹ç›®å¯åŠ¨ä¹‹åï¼Œå‰ç«¯å¼€å‘äººå‘˜å°±å¯ä»¥æ‰“å¼€Swaggeræä¾›çš„å‰ç«¯é¡µé¢ï¼ŒæŸ¥çœ‹å’Œæµ‹è¯•æ¥å£ã€‚ä¾èµ–å¦‚ä¸‹ï¼š\n&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;&#x2F;groupId&gt;\n    &lt;artifactId&gt;springfox-boot-starter&lt;&#x2F;artifactId&gt;\n    &lt;version&gt;3.0.0&lt;&#x2F;version&gt;\n&lt;&#x2F;dependency&gt;\n\nSpringBoot 2.6ä»¥ä¸Šç‰ˆæœ¬ä¿®æ”¹äº†è·¯å¾„åŒ¹é…è§„åˆ™ï¼Œä½†æ˜¯Swagger3è¿˜ä¸æ”¯æŒï¼Œè¿™é‡Œæ¢å›ä¹‹å‰çš„ï¼Œä¸ç„¶å¯åŠ¨ç›´æ¥æŠ¥é”™ï¼š\nspring:\n\tmvc:\n\t\tpathmatch:\n      matching-strategy: ant_path_matcher\n\né¡¹ç›®å¯åŠ¨åï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æ‰“å¼€ï¼šhttp://localhost:8080/swagger-ui/index.htmlï¼Œè¿™ä¸ªé¡µé¢ï¼ˆè¦æ˜¯è§‰å¾—ä¸‘ï¼ŒUIæ˜¯å¯ä»¥æ¢çš„ï¼Œæ”¯æŒç¬¬ä¸‰æ–¹ï¼‰ä¼šæ˜¾ç¤ºæ‰€æœ‰çš„APIæ–‡æ¡£ï¼ŒåŒ…æ‹¬æ¥å£çš„è·¯å¾„ã€æ”¯æŒçš„æ–¹æ³•ã€æ¥å£çš„æè¿°ç­‰ï¼Œå¹¶ä¸”æˆ‘ä»¬å¯ä»¥ç›´æ¥å¯¹APIæ¥å£è¿›è¡Œæµ‹è¯•ï¼Œéå¸¸æ–¹ä¾¿ã€‚\næˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªé…ç½®ç±»å»é…ç½®é¡µé¢çš„ç›¸å…³ä¿¡æ¯ï¼š\n@Configuration\npublic class SwaggerConfiguration &#123;\n\n    @Bean\n    public Docket docket() &#123;\n        return new Docket(DocumentationType.OAS_30).apiInfo(\n                new ApiInfoBuilder()\n                        .contact(new Contact(&quot;ä½ çš„åå­—&quot;, &quot;https:&#x2F;&#x2F;www.bilibili.com&quot;, &quot;javastudy111*@163.com&quot;))\n                        .title(&quot;å›¾ä¹¦ç®¡ç†ç³»ç»Ÿ - åœ¨çº¿APIæ¥å£æ–‡æ¡£&quot;)\n                        .build()\n        );\n    &#125;\n&#125;\n\næ¥å£ä¿¡æ¯é…ç½®è™½ç„¶Swaggerçš„UIç•Œé¢å·²ç»å¯ä»¥å¾ˆå¥½åœ°å±•ç¤ºåç«¯æä¾›çš„æ¥å£ä¿¡æ¯äº†ï¼Œä½†æ˜¯éå¸¸çš„æ··ä¹±ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•é…ç½®æ¥å£çš„ä¸€äº›æè¿°ä¿¡æ¯ã€‚\né¦–å…ˆæˆ‘ä»¬çš„é¡µé¢ä¸­å®Œå…¨ä¸éœ€è¦æ˜¾ç¤ºErrorControllerç›¸å…³çš„APIï¼Œæ‰€ä»¥æˆ‘ä»¬é…ç½®ä¸€ä¸‹é€‰æ‹©å“ªäº›Controlleræ‰ä¼šç”ŸæˆAPIä¿¡æ¯ï¼š\n@Bean\npublic Docket docket() &#123;\n    ApiInfo info &#x3D; new ApiInfoBuilder()\n            .contact(new Contact(&quot;ä½ çš„åå­—&quot;, &quot;https:&#x2F;&#x2F;www.bilibili.com&quot;, &quot;javastudy111@163.com&quot;))\n            .title(&quot;å›¾ä¹¦ç®¡ç†ç³»ç»Ÿ - åœ¨çº¿APIæ¥å£æ–‡æ¡£&quot;)\n            .description(&quot;è¿™æ˜¯ä¸€ä¸ªå›¾ä¹¦ç®¡ç†ç³»ç»Ÿçš„åç«¯APIæ–‡æ¡£ï¼Œæ¬¢è¿å‰ç«¯äººå‘˜æŸ¥é˜…ï¼&quot;)\n            .build();\n    return new Docket(DocumentationType.OAS_30)\n            .apiInfo(info)\n            .select()       &#x2F;&#x2F;å¯¹é¡¹ç›®ä¸­çš„æ‰€æœ‰APIæ¥å£è¿›è¡Œé€‰æ‹©\n            .apis(RequestHandlerSelectors.basePackage(&quot;com.example.controller&quot;))\n            .build();\n&#125;\n\næ¥ç€æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•ä¸ºä¸€ä¸ªControllerç¼–å†™APIæè¿°ä¿¡æ¯ï¼š\n@Api(tags &#x3D; &quot;è´¦æˆ·éªŒè¯æ¥å£&quot;, description &#x3D; &quot;åŒ…æ‹¬ç”¨æˆ·ç™»å½•ã€æ³¨å†Œã€éªŒè¯ç è¯·æ±‚ç­‰æ“ä½œã€‚&quot;)\n@RestController\n@RequestMapping(&quot;&#x2F;api&#x2F;auth&quot;)\npublic class AuthApiController &#123;\n\næˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨ç±»åç§°ä¸Šé¢æ·»åŠ @Apiæ³¨è§£ï¼Œå¹¶å¡«å†™ç›¸å…³ä¿¡æ¯ï¼Œæ¥ä¸ºå½“å‰çš„Controllerè®¾ç½®æè¿°ä¿¡æ¯ã€‚\næ¥ç€æˆ‘ä»¬å¯ä»¥ä¸ºæ‰€æœ‰çš„è¯·æ±‚æ˜ å°„é…ç½®æè¿°ä¿¡æ¯ï¼š\n@ApiResponses(&#123;\n        @ApiResponse(code &#x3D; 200, message &#x3D; &quot;é‚®ä»¶å‘é€æˆåŠŸ&quot;),  \n        @ApiResponse(code &#x3D; 500, message &#x3D; &quot;é‚®ä»¶å‘é€å¤±è´¥&quot;)   &#x2F;&#x2F;ä¸åŒè¿”å›çŠ¶æ€ç æè¿°\n&#125;)\n@ApiOperation(&quot;è¯·æ±‚é‚®ä»¶éªŒè¯ç &quot;)   &#x2F;&#x2F;æ¥å£æè¿°\n@GetMapping(&quot;&#x2F;verify-code&quot;)\npublic RestBean&lt;Void&gt; verifyCode(@ApiParam(&quot;é‚®ç®±åœ°å€&quot;)   &#x2F;&#x2F;è¯·æ±‚å‚æ•°çš„æè¿°\n                                 @RequestParam(&quot;email&quot;) String email)&#123;\n\n@ApiIgnore     &#x2F;&#x2F;å¿½ç•¥æ­¤è¯·æ±‚æ˜ å°„\n@PostMapping(&quot;&#x2F;login-success&quot;)\npublic RestBean&lt;Void&gt; loginSuccess()&#123;\n    return new RestBean&lt;&gt;(200, &quot;ç™»é™†æˆåŠŸ&quot;);\n&#125;\n\næˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸ºå®ä½“ç±»é…ç½®ç›¸å…³çš„æè¿°ä¿¡æ¯ï¼š\n@Data\n@ApiModel(description &#x3D; &quot;å“åº”å®ä½“å°è£…ç±»&quot;)\n@AllArgsConstructor\npublic class RestBean&lt;T&gt; &#123;\n\n    @ApiModelProperty(&quot;çŠ¶æ€ç &quot;)\n    int code;\n    @ApiModelProperty(&quot;çŠ¶æ€ç æè¿°&quot;)\n    String reason;\n    @ApiModelProperty(&quot;æ•°æ®å®ä½“&quot;)\n    T data;\n\n    public RestBean(int code, String reason) &#123;\n        this.code &#x3D; code;\n        this.reason &#x3D; reason;\n    &#125;\n&#125;\n\nè¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨æ–‡æ¡£ä¸­æŸ¥çœ‹å®ä½“ç±»ç®€ä»‹ä»¥åŠå„ä¸ªå±æ€§çš„ä»‹ç»äº†ã€‚\næœ€åæˆ‘ä»¬å†é…ç½®ä¸€ä¸‹å¤šç¯å¢ƒï¼š\n&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;dev&lt;&#x2F;id&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;true&lt;&#x2F;activeByDefault&gt;\n        &lt;&#x2F;activation&gt;\n        &lt;properties&gt;\n            &lt;environment&gt;dev&lt;&#x2F;environment&gt;\n        &lt;&#x2F;properties&gt;\n    &lt;&#x2F;profile&gt;\n    &lt;profile&gt;\n        &lt;id&gt;prod&lt;&#x2F;id&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;false&lt;&#x2F;activeByDefault&gt;\n        &lt;&#x2F;activation&gt;\n        &lt;properties&gt;\n            &lt;environment&gt;prod&lt;&#x2F;environment&gt;\n        &lt;&#x2F;properties&gt;\n    &lt;&#x2F;profile&gt;\n&lt;&#x2F;profiles&gt;\n\n&lt;resources&gt;\n    &lt;resource&gt;\n        &lt;directory&gt;src&#x2F;main&#x2F;resources&lt;&#x2F;directory&gt;\n        &lt;excludes&gt;\n            &lt;exclude&gt;application*.yaml&lt;&#x2F;exclude&gt;\n        &lt;&#x2F;excludes&gt;\n    &lt;&#x2F;resource&gt;\n    &lt;resource&gt;\n        &lt;directory&gt;src&#x2F;main&#x2F;resources&lt;&#x2F;directory&gt;\n        &lt;filtering&gt;true&lt;&#x2F;filtering&gt;\n        &lt;includes&gt;\n            &lt;include&gt;application.yaml&lt;&#x2F;include&gt;\n            &lt;include&gt;application-$&#123;environment&#125;.yaml&lt;&#x2F;include&gt;\n        &lt;&#x2F;includes&gt;\n    &lt;&#x2F;resource&gt;\n&lt;&#x2F;resources&gt;\n\né¦–å…ˆåœ¨Mavenä¸­æ·»åŠ ä¸¤ä¸ªç¯å¢ƒï¼Œæ¥ç€æˆ‘ä»¬é…ç½®ä¸€ä¸‹ä¸åŒç¯å¢ƒçš„é…ç½®æ–‡ä»¶ï¼š\n  jpa:\n    show-sql: false\n    hibernate:\n      ddl-auto: update\nspringfox:\n  documentation:\n    enabled: false\n\nåœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œæˆ‘ä»¬é€‰æ‹©ä¸å¼€å¯Swaggeræ–‡æ¡£ä»¥åŠJPAçš„æ•°æ®åº“æ“ä½œæ—¥å¿—ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ ¹æ®æƒ…å†µé€‰æ‹©ä¸¤å¥—ç¯å¢ƒäº†ã€‚\n","slug":"SpringBootç¬”è®°ï¼ˆå››ï¼‰","date":"2022-03-05T14:39:01.865Z","categories_index":"SpringBootç¬”è®°","tags_index":"SpringBootç¬”è®°","author_index":"YangChao"},{"id":"25a60a06ed42cd757ab0410c2846114a","title":"SpringBootç¬”è®°ï¼ˆä¸‰ï¼‰","content":"\nRedisæ•°æ®åº“çµé­‚æ‹·é—®ï¼šä¸æ˜¯å­¦äº†MySQLå—ï¼Œå­˜æ•°æ®ä¹Ÿèƒ½å­˜äº†å•Šï¼Œåˆå­¦ä¸€ä¸ªæ•°æ®åº“å¹²å˜›ï¼Ÿ\nåœ¨å‰é¢æˆ‘ä»¬å­¦ä¹ äº†MySQLæ•°æ®åº“ï¼Œå®ƒæ˜¯ä¸€ç§ä¼ ç»Ÿçš„å…³ç³»å‹æ•°æ®åº“ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨MySQLæ¥æ›´å¥½åœ°ç®¡ç†å’Œç»„ç»‡æˆ‘ä»¬çš„æ•°æ®ï¼Œè™½ç„¶åœ¨å°å‹Webåº”ç”¨ä¸‹ï¼Œåªéœ€è¦ä¸€ä¸ªMySQL+Mybatisè‡ªå¸¦çš„ç¼“å­˜ç³»ç»Ÿå°±å¯ä»¥èƒœä»»å¤§éƒ¨åˆ†çš„æ•°æ®å­˜å‚¨å·¥ä½œã€‚ä½†æ˜¯MySQLçš„ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œå®ƒçš„æ•°æ®å§‹ç»ˆæ˜¯å­˜å‚¨åœ¨ç¡¬ç›˜ä¸Šçš„ï¼Œå¯¹äºæˆ‘ä»¬çš„ç”¨æˆ·ä¿¡æ¯è¿™ç§ä¸éœ€è¦ç»å¸¸å‘ç”Ÿä¿®æ”¹çš„å†…å®¹ï¼Œä½¿ç”¨MySQLå­˜å‚¨ç¡®å®å¯ä»¥ï¼Œä½†æ˜¯å¦‚æœæ˜¯å¿«é€Ÿæ›´æ–°æˆ–æ˜¯é¢‘ç¹ä½¿ç”¨çš„æ•°æ®ï¼Œæ¯”å¦‚å¾®åšçƒ­æœã€åŒåä¸€ç§’æ€ï¼Œè¿™äº›æ•°æ®ä¸ä»…è¦æ±‚æœåŠ¡å™¨éœ€è¦æä¾›æ›´é«˜çš„å“åº”é€Ÿåº¦ï¼Œè€Œä¸”è¿˜éœ€è¦é¢å¯¹çŸ­æ—¶é—´å†…ä¸Šç™¾ä¸‡ç”šè‡³ä¸Šåƒä¸‡æ¬¡è®¿é—®ï¼Œè€ŒMySQLçš„ç£ç›˜IOè¯»å†™æ€§èƒ½å®Œå…¨ä¸èƒ½æ»¡è¶³ä¸Šé¢çš„éœ€æ±‚ï¼Œèƒ½å¤Ÿæ»¡è¶³ä¸Šè¿°éœ€æ±‚çš„åªæœ‰å†…å­˜ï¼Œå› ä¸ºé€Ÿåº¦è¿œé«˜äºç£ç›˜IOã€‚\nå› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦å¯»æ‰¾ä¸€ç§æ›´å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œæ¥å­˜å‚¨ä¸Šè¿°è¿™ç±»ç‰¹æ®Šæ•°æ®ï¼Œå¼¥è¡¥MySQLçš„ä¸è¶³ï¼Œä»¥åº”å¯¹å¤§æ•°æ®æ—¶ä»£çš„é‡é‡è€ƒéªŒã€‚\nNoSQLæ¦‚è®ºNoSQLå…¨ç§°æ˜¯Not Only SQLï¼ˆä¸ä»…ä»…æ˜¯SQLï¼‰å®ƒæ˜¯ä¸€ç§éå…³ç³»å‹æ•°æ®åº“ï¼Œç›¸æ¯”ä¼ ç»ŸSQLå…³ç³»å‹æ•°æ®åº“ï¼Œå®ƒï¼š\n\nä¸ä¿è¯å…³ç³»æ•°æ®çš„ACIDç‰¹æ€§\nå¹¶ä¸éµå¾ªSQLæ ‡å‡†\næ¶ˆé™¤æ•°æ®ä¹‹é—´å…³è”æ€§\n\nä¹ä¸€çœ‹ï¼Œè¿™ç©æ„ä¸æ¯”MySQLåƒåœ¾ï¼Ÿæˆ‘ä»¬å†æ¥çœ‹çœ‹å®ƒçš„ä¼˜åŠ¿ï¼š\n\nè¿œè¶…ä¼ ç»Ÿå…³ç³»å‹æ•°æ®åº“çš„æ€§èƒ½\néå¸¸æ˜“äºæ‰©å±•\næ•°æ®æ¨¡å‹æ›´åŠ çµæ´»\né«˜å¯ç”¨\n\nè¿™æ ·ï¼ŒNoSQLçš„ä¼˜åŠ¿ä¸€ä¸‹å°±å‡ºæ¥äº†ï¼Œè¿™ä¸å°±æ˜¯æˆ‘ä»¬æ­£è¦å¯»æ‰¾çš„é«˜å¹¶å‘æµ·é‡æ•°æ®çš„è§£å†³æ–¹æ¡ˆå—ï¼\nNoSQLæ•°æ®åº“åˆ†ä¸ºä»¥ä¸‹å‡ ç§ï¼š\n\né”®å€¼å­˜å‚¨æ•°æ®åº“ï¼šæ‰€æœ‰çš„æ•°æ®éƒ½æ˜¯ä»¥é”®å€¼æ–¹å¼å­˜å‚¨çš„ï¼Œç±»ä¼¼äºæˆ‘ä»¬ä¹‹å‰å­¦è¿‡çš„HashMapï¼Œä½¿ç”¨èµ·æ¥éå¸¸ç®€å•æ–¹ä¾¿ï¼Œæ€§èƒ½ä¹Ÿéå¸¸é«˜ã€‚\nåˆ—å­˜å‚¨æ•°æ®åº“ï¼šè¿™éƒ¨åˆ†æ•°æ®åº“é€šå¸¸æ˜¯ç”¨æ¥åº”å¯¹åˆ†å¸ƒå¼å­˜å‚¨çš„æµ·é‡æ•°æ®ã€‚é”®ä»ç„¶å­˜åœ¨ï¼Œä½†æ˜¯å®ƒä»¬çš„ç‰¹ç‚¹æ˜¯æŒ‡å‘äº†å¤šä¸ªåˆ—ã€‚\næ–‡æ¡£å‹æ•°æ®åº“ï¼šå®ƒæ˜¯ä»¥ä¸€ç§ç‰¹å®šçš„æ–‡æ¡£æ ¼å¼å­˜å‚¨æ•°æ®ï¼Œæ¯”å¦‚JSONæ ¼å¼ï¼Œåœ¨å¤„ç†ç½‘é¡µç­‰å¤æ‚æ•°æ®æ—¶ï¼Œæ–‡æ¡£å‹æ•°æ®åº“æ¯”ä¼ ç»Ÿé”®å€¼æ•°æ®åº“çš„æŸ¥è¯¢æ•ˆç‡æ›´é«˜ã€‚\nå›¾å½¢æ•°æ®åº“ï¼šåˆ©ç”¨ç±»ä¼¼äºå›¾çš„æ•°æ®ç»“æ„å­˜å‚¨æ•°æ®ï¼Œç»“åˆå›¾ç›¸å…³ç®—æ³•å®ç°é«˜é€Ÿè®¿é—®ã€‚\n\nå…¶ä¸­æˆ‘ä»¬è¦å­¦ä¹ çš„Redisæ•°æ®åº“ï¼Œå°±æ˜¯ä¸€ä¸ªå¼€æºçš„é”®å€¼å­˜å‚¨æ•°æ®åº“ï¼Œæ‰€æœ‰çš„æ•°æ®å…¨éƒ¨å­˜æ”¾åœ¨å†…å­˜ä¸­ï¼Œå®ƒçš„æ€§èƒ½å¤§å¤§é«˜äºç£ç›˜IOï¼Œå¹¶ä¸”å®ƒä¹Ÿå¯ä»¥æ”¯æŒæ•°æ®æŒä¹…åŒ–ï¼Œä»–è¿˜æ”¯æŒæ¨ªå‘æ‰©å±•ã€ä¸»ä»å¤åˆ¶ç­‰ã€‚\nå®é™…ç”Ÿäº§ä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šé…åˆä½¿ç”¨Rediså’ŒMySQLä»¥å‘æŒ¥å®ƒä»¬å„è‡ªçš„ä¼˜åŠ¿ï¼Œå–é•¿è¡¥çŸ­ã€‚\nRediså®‰è£…å’Œéƒ¨ç½²æˆ‘ä»¬è¿™é‡Œè¿˜æ˜¯ä½¿ç”¨Windowså®‰è£…RedisæœåŠ¡å™¨ï¼Œä½†æ˜¯å®˜æ–¹æŒ‡å®šæ˜¯å®‰è£…åˆ°LinuxæœåŠ¡å™¨ä¸Šï¼Œæˆ‘ä»¬åé¢å­¦ä¹ äº†Linuxä¹‹åï¼Œå†æ¥å®‰è£…åˆ°LinuxæœåŠ¡å™¨ä¸Šã€‚ç”±äºå®˜æ–¹å¹¶æ²¡æœ‰æä¾›Windowsç‰ˆæœ¬çš„å®‰è£…åŒ…ï¼Œæˆ‘ä»¬éœ€è¦å¦å¤–å¯»æ‰¾ï¼š\n\nå®˜ç½‘åœ°å€ï¼šhttps://redis.io\nGitHub Windowsç‰ˆæœ¬ç»´æŠ¤åœ°å€ï¼šhttps://github.com/tporadowski/redis/releases\n\n\nåŸºæœ¬æ“ä½œåœ¨æˆ‘ä»¬ä¹‹å‰ä½¿ç”¨MySQLæ—¶ï¼Œæˆ‘ä»¬éœ€è¦å…ˆåœ¨æ•°æ®åº“ä¸­åˆ›å»ºä¸€å¼ è¡¨ï¼Œå¹¶å®šä¹‰å¥½è¡¨çš„æ¯ä¸ªå­—æ®µå†…å®¹ï¼Œæœ€åå†é€šè¿‡insertè¯­å¥å‘è¡¨ä¸­æ·»åŠ æ•°æ®ï¼Œè€ŒRediså¹¶ä¸å…·æœ‰MySQLé‚£æ ·çš„ä¸¥æ ¼çš„è¡¨ç»“æ„ï¼ŒRedisæ˜¯ä¸€ä¸ªé”®å€¼æ•°æ®åº“ï¼Œå› æ­¤ï¼Œå¯ä»¥åƒMapä¸€æ ·çš„æ“ä½œæ–¹å¼ï¼Œé€šè¿‡é”®å€¼å¯¹å‘Redisæ•°æ®åº“ä¸­æ·»åŠ æ•°æ®ï¼ˆæ“ä½œèµ·æ¥ç±»ä¼¼äºå‘ä¸€ä¸ªHashMapä¸­å­˜æ”¾æ•°æ®ï¼‰\nåœ¨Redisä¸‹ï¼Œæ•°æ®åº“æ˜¯ç”±ä¸€ä¸ªæ•´æ•°ç´¢å¼•æ ‡è¯†ï¼Œè€Œä¸æ˜¯ç”±ä¸€ä¸ªæ•°æ®åº“åç§°ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è¿æ¥Redisæ•°æ®åº“ä¹‹åï¼Œä¼šä½¿ç”¨0å·æ•°æ®åº“ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡Redisé…ç½®æ–‡ä»¶ä¸­çš„å‚æ•°æ¥ä¿®æ”¹æ•°æ®åº“æ€»æ•°ï¼Œé»˜è®¤ä¸º16ä¸ªã€‚\næˆ‘ä»¬å¯ä»¥é€šè¿‡selectè¯­å¥è¿›è¡Œåˆ‡æ¢ï¼š\nselect åºå·;\n\næ•°æ®æ“ä½œæˆ‘ä»¬æ¥çœ‹çœ‹ï¼Œå¦‚ä½•å‘Redisæ•°æ®åº“ä¸­æ·»åŠ æ•°æ®ï¼š\nset &lt;key&gt; &lt;value&gt;\n-- ä¸€æ¬¡æ€§å¤šä¸ª\nmset [&lt;key&gt; &lt;value&gt;]...\n\næ‰€æœ‰å­˜å…¥çš„æ•°æ®é»˜è®¤ä¼šä»¥å­—ç¬¦ä¸²çš„å½¢å¼ä¿å­˜ï¼Œé”®å€¼å…·æœ‰ä¸€å®šçš„å‘½åè§„èŒƒï¼Œä»¥æ–¹ä¾¿æˆ‘ä»¬å¯ä»¥å¿«é€Ÿå®šä½æˆ‘ä»¬çš„æ•°æ®å±äºå“ªä¸€ä¸ªéƒ¨åˆ†ï¼Œæ¯”å¦‚ç”¨æˆ·çš„æ•°æ®ï¼š\n-- ä½¿ç”¨å†’å·æ¥è¿›è¡Œæ¿å—åˆ†å‰²ï¼Œæ¯”å¦‚ä¸‹é¢è¡¨ç¤ºç”¨æˆ·XXXçš„ä¿¡æ¯ä¸­çš„nameå±æ€§ï¼Œå€¼ä¸ºlbw\nset user:info:ç”¨æˆ·ID:name lbw\n\næˆ‘ä»¬å¯ä»¥é€šè¿‡é”®å€¼è·å–å­˜å…¥çš„å€¼ï¼š\nget &lt;key&gt;\n\nä½ ä»¥ä¸ºRediså°±ä»…ä»…åªæ˜¯å­˜å–ä¸ªæ•°æ®å—ï¼Ÿå®ƒè¿˜æ”¯æŒæ•°æ®çš„è¿‡æœŸæ—¶é—´è®¾å®šï¼š\nset &lt;key&gt; &lt;value&gt; EX ç§’\nset &lt;key&gt; &lt;value&gt; PX æ¯«ç§’\n\nå½“æ•°æ®åˆ°è¾¾æŒ‡å®šæ—¶é—´æ—¶ï¼Œä¼šè¢«è‡ªåŠ¨åˆ é™¤ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥å•ç‹¬ä¸ºå…¶ä»–çš„é”®å€¼å¯¹è®¾ç½®è¿‡æœŸæ—¶é—´ï¼š\nexpire &lt;key&gt; ç§’\n\né€šè¿‡ä¸‹é¢çš„å‘½ä»¤æ¥æŸ¥è¯¢æŸä¸ªé”®å€¼å¯¹çš„è¿‡æœŸæ—¶é—´è¿˜å‰©å¤šå°‘ï¼š\nttl &lt;key&gt;\n-- æ¯«ç§’æ˜¾ç¤º\npttl &lt;key&gt;\n-- è½¬æ¢ä¸ºæ°¸ä¹…\npersist &lt;key&gt;\n\né‚£ä¹ˆå½“æˆ‘ä»¬æƒ³ç›´æ¥åˆ é™¤è¿™ä¸ªæ•°æ®æ—¶å‘¢ï¼Ÿç›´æ¥ä½¿ç”¨ï¼š\ndel &lt;key&gt;...\n\nåˆ é™¤å‘½ä»¤å¯ä»¥åŒæ—¶æ‹¼æ¥å¤šä¸ªé”®å€¼ä¸€èµ·åˆ é™¤ã€‚\nå½“æˆ‘ä»¬æƒ³è¦æŸ¥çœ‹æ•°æ®åº“ä¸­æ‰€æœ‰çš„é”®å€¼æ—¶ï¼š\nkeys *\n\nä¹Ÿå¯ä»¥æŸ¥è¯¢æŸä¸ªé”®æ˜¯å¦å­˜åœ¨ï¼š\nexists &lt;key&gt;...\n\nè¿˜å¯ä»¥éšæœºæ‹¿ä¸€ä¸ªé”®ï¼š\nrandomkey\n\næˆ‘ä»¬å¯ä»¥å°†ä¸€ä¸ªæ•°æ®åº“ä¸­çš„å†…å®¹ç§»åŠ¨åˆ°å¦ä¸€ä¸ªæ•°æ®åº“ä¸­ï¼š\nmove &lt;key&gt; æ•°æ®åº“åºå·\n\nä¿®æ”¹ä¸€ä¸ªé”®ä¸ºå¦ä¸€ä¸ªé”®ï¼š\nrename &lt;key&gt; &lt;æ–°çš„åç§°&gt;\n-- ä¸‹é¢è¿™ä¸ªä¼šæ£€æŸ¥æ–°çš„åç§°æ˜¯å¦å·²ç»å­˜åœ¨\nrenamex &lt;key&gt; &lt;æ–°çš„åç§°&gt;\n\nå¦‚æœå­˜æ”¾çš„æ•°æ®æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å¯¹å…¶è¿›è¡Œè‡ªå¢è‡ªå‡æ“ä½œï¼š\n-- ç­‰ä»·äºa &#x3D; a + 1\nincr &lt;key&gt;\n-- ç­‰ä»·äºa &#x3D; a + b\nincrby &lt;key&gt; b\n-- ç­‰ä»·äºa &#x3D; a - 1\ndecr &lt;key&gt;\n\næœ€åå°±æ˜¯æŸ¥çœ‹å€¼çš„æ•°æ®ç±»å‹ï¼š\ntype &lt;key&gt;\n\nRedisæ•°æ®åº“ä¹Ÿæ”¯æŒå¤šç§æ•°æ®ç±»å‹ï¼Œä½†æ˜¯å®ƒæ›´åå‘äºæˆ‘ä»¬åœ¨Javaä¸­è®¤è¯†çš„é‚£äº›æ•°æ®ç±»å‹ã€‚\næ•°æ®ç±»å‹ä»‹ç»ä¸€ä¸ªé”®å€¼å¯¹é™¤äº†å­˜å‚¨ä¸€ä¸ªStringç±»å‹çš„å€¼ä»¥å¤–ï¼Œè¿˜æ”¯æŒå¤šç§å¸¸ç”¨çš„æ•°æ®ç±»å‹ã€‚\nHashè¿™ç§ç±»å‹æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªHashMapï¼Œä¹Ÿå°±æ˜¯åµŒå¥—äº†ä¸€ä¸ªHashMapç½¢äº†ï¼Œåœ¨Javaä¸­å°±åƒè¿™æ ·ï¼š\n#Redisé»˜è®¤å­˜Stringç±»ä¼¼äºè¿™æ ·ï¼š\nMap&lt;String, String&gt; hash &#x3D; new HashMap&lt;&gt;();\n#Rediså­˜Hashç±»å‹çš„æ•°æ®ç±»ä¼¼äºè¿™æ ·ï¼š\nMap&lt;String, Map&lt;String, String&gt;&gt; hash &#x3D; new HashMap&lt;&gt;();\n\nå®ƒæ¯”è¾ƒé€‚åˆå­˜å‚¨ç±»è¿™æ ·çš„æ•°æ®ï¼Œç”±äºå€¼æœ¬èº«åˆæ˜¯ä¸€ä¸ªMapï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åœ¨æ­¤Mapä¸­æ”¾å…¥ç±»çš„å„ç§å±æ€§å’Œå€¼ï¼Œä»¥å®ç°ä¸€ä¸ªHashæ•°æ®ç±»å‹å­˜å‚¨ä¸€ä¸ªç±»çš„æ•°æ®ã€‚\næˆ‘ä»¬å¯ä»¥åƒè¿™æ ·æ¥æ·»åŠ ä¸€ä¸ªHashç±»å‹çš„æ•°æ®ï¼š\nhset &lt;key&gt; [&lt;å­—æ®µ&gt; &lt;å€¼&gt;]...\n\næˆ‘ä»¬å¯ä»¥ç›´æ¥è·å–ï¼š\nhget &lt;key&gt; &lt;å­—æ®µ&gt;\n-- å¦‚æœæƒ³è¦ä¸€æ¬¡æ€§è·å–æ‰€æœ‰çš„å­—æ®µå’Œå€¼\nhgetall &lt;key&gt;\n\nåŒæ ·çš„ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ¤æ–­æŸä¸ªå­—æ®µæ˜¯å¦å­˜åœ¨ï¼š\nhexists &lt;key&gt; &lt;å­—æ®µ&gt;\n\nåˆ é™¤Hashä¸­çš„æŸä¸ªå­—æ®µï¼š\nhdel &lt;key&gt;\n\næˆ‘ä»¬å‘ç°ï¼Œåœ¨æ“ä½œä¸€ä¸ªHashæ—¶ï¼Œå®é™…ä¸Šå°±æ˜¯æˆ‘ä»¬æ™®é€šæ“ä½œå‘½ä»¤å‰é¢æ·»åŠ ä¸€ä¸ªhï¼Œè¿™æ ·å°±èƒ½ä»¥åŒæ ·çš„æ–¹å¼å»æ“ä½œHashé‡Œé¢å­˜æ”¾çš„é”®å€¼å¯¹äº†ï¼Œè¿™é‡Œå°±ä¸ä¸€ä¸€åˆ—å‡ºæ‰€æœ‰çš„æ“ä½œäº†ã€‚æˆ‘ä»¬æ¥çœ‹çœ‹å‡ ä¸ªæ¯”è¾ƒç‰¹æ®Šçš„ã€‚\næˆ‘ä»¬ç°åœ¨æƒ³è¦çŸ¥é“Hashä¸­ä¸€å…±å­˜äº†å¤šå°‘ä¸ªé”®å€¼å¯¹ï¼š\nhlen &lt;key&gt;\n\næˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸€æ¬¡æ€§è·å–æ‰€æœ‰å­—æ®µçš„å€¼ï¼š\nhvals &lt;key&gt;\n\nå”¯ä¸€éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒHashä¸­åªèƒ½å­˜æ”¾å­—ç¬¦ä¸²å€¼ï¼Œä¸å…è®¸å‡ºç°åµŒå¥—çš„çš„æƒ…å†µã€‚\nListæˆ‘ä»¬æ¥ç€æ¥çœ‹Listç±»å‹ï¼Œå®é™…ä¸Šè¿™ä¸ªçŒœéƒ½çŸ¥é“ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œè€Œåˆ—è¡¨ä¸­å­˜æ”¾ä¸€ç³»åˆ—çš„å­—ç¬¦ä¸²ï¼Œå®ƒæ”¯æŒéšæœºè®¿é—®ï¼Œæ”¯æŒåŒç«¯æ“ä½œï¼Œå°±åƒæˆ‘ä»¬ä½¿ç”¨Javaä¸­çš„LinkedListä¸€æ ·ã€‚\næˆ‘ä»¬å¯ä»¥ç›´æ¥å‘ä¸€ä¸ªå·²å­˜åœ¨æˆ–æ˜¯ä¸å­˜åœ¨çš„Listä¸­æ·»åŠ æ•°æ®ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œä¼šè‡ªåŠ¨åˆ›å»ºï¼š\n-- å‘åˆ—è¡¨å¤´éƒ¨æ·»åŠ å…ƒç´ \nlpush &lt;key&gt; &lt;element&gt;...\n-- å‘åˆ—è¡¨å°¾éƒ¨æ·»åŠ å…ƒç´ \nrpush &lt;key&gt; &lt;element&gt;...\n-- åœ¨æŒ‡å®šå…ƒç´ å‰é¢&#x2F;åé¢æ’å…¥å…ƒç´ \nlinsert &lt;key&gt; before&#x2F;after &lt;æŒ‡å®šå…ƒç´ &gt; &lt;element&gt;\n\nåŒæ ·çš„ï¼Œè·å–å…ƒç´ ä¹Ÿéå¸¸ç®€å•ï¼š\n-- æ ¹æ®ä¸‹æ ‡è·å–å…ƒç´ \nlindex &lt;key&gt; &lt;ä¸‹æ ‡&gt;\n-- è·å–å¹¶ç§»é™¤å¤´éƒ¨å…ƒç´ \nlpop &lt;key&gt;\n-- è·å–å¹¶ç§»é™¤å°¾éƒ¨å…ƒç´ \nrpop &lt;key&gt;\n-- è·å–æŒ‡å®šèŒƒå›´å†…çš„\nlrange &lt;key&gt; start stop\n\næ³¨æ„ä¸‹æ ‡å¯ä»¥ä½¿ç”¨è´Ÿæ•°æ¥è¡¨ç¤ºä»ååˆ°å‰æ•°çš„æ•°å­—ï¼ˆPythonï¼šæè¿™å„¿æŠ„å‘¢æ˜¯å§ï¼‰:\n-- è·å–åˆ—è¡¨aä¸­çš„å…¨éƒ¨å…ƒç´ \nlrange a 0 -1\n\næ²¡æƒ³åˆ°å§ï¼Œpushå’Œpopè¿˜èƒ½è¿ç€ç”¨å‘¢ï¼š\n-- ä»å‰ä¸€ä¸ªæ•°ç»„çš„æœ€åå–ä¸€ä¸ªæ•°å‡ºæ¥æ”¾åˆ°å¦ä¸€ä¸ªæ•°ç»„çš„å¤´éƒ¨ï¼Œå¹¶è¿”å›å…ƒç´ \nrpoplpush å½“å‰æ•°ç»„ ç›®æ ‡æ•°ç»„\n\nå®ƒè¿˜æ”¯æŒé˜»å¡æ“ä½œï¼Œç±»ä¼¼äºç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ï¼Œæ¯”å¦‚æˆ‘ä»¬æƒ³è¦ç­‰å¾…åˆ—è¡¨ä¸­æœ‰äº†æ•°æ®åå†è¿›è¡Œpopæ“ä½œï¼š\n-- å¦‚æœåˆ—è¡¨ä¸­æ²¡æœ‰å…ƒç´ ï¼Œé‚£ä¹ˆå°±ç­‰å¾…ï¼Œå¦‚æœæŒ‡å®šæ—¶é—´ï¼ˆç§’ï¼‰å†…è¢«æ·»åŠ äº†æ•°æ®ï¼Œé‚£ä¹ˆå°±æ‰§è¡Œpopæ“ä½œï¼Œå¦‚æœè¶…æ—¶å°±ä½œåºŸï¼Œæ”¯æŒåŒæ—¶ç­‰å¾…å¤šä¸ªåˆ—è¡¨ï¼Œåªè¦å…¶ä¸­ä¸€ä¸ªåˆ—è¡¨æœ‰å…ƒç´ äº†ï¼Œé‚£ä¹ˆå°±èƒ½æ‰§è¡Œ\nblpop &lt;key&gt;... timeout\n\nSetå’ŒSortedSetSeté›†åˆå…¶å®å°±åƒJavaä¸­çš„HashSetä¸€æ ·ï¼ˆæˆ‘ä»¬åœ¨JavaSEä¸­å·²ç»è®²è§£è¿‡äº†ï¼ŒHashSetæœ¬è´¨ä¸Šå°±æ˜¯åˆ©ç”¨äº†ä¸€ä¸ªHashMapï¼Œä½†æ˜¯Valueéƒ½æ˜¯å›ºå®šå¯¹è±¡ï¼Œä»…ä»…æ˜¯Keyä¸åŒï¼‰å®ƒä¸å…è®¸å‡ºç°é‡å¤å…ƒç´ ï¼Œä¸æ”¯æŒéšæœºè®¿é—®ï¼Œä½†æ˜¯èƒ½å¤Ÿåˆ©ç”¨Hashè¡¨æä¾›æé«˜çš„æŸ¥æ‰¾æ•ˆç‡ã€‚\nå‘Setä¸­æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå€¼ï¼š\nsadd &lt;key&gt; &lt;value&gt;...\n\næŸ¥çœ‹Seté›†åˆä¸­æœ‰å¤šå°‘ä¸ªå€¼ï¼š\nscard &lt;key&gt;\n\nåˆ¤æ–­é›†åˆä¸­æ˜¯å¦åŒ…å«ï¼š\n-- æ˜¯å¦åŒ…å«æŒ‡å®šå€¼\nsismember &lt;key&gt; &lt;value&gt;\n-- åˆ—å‡ºæ‰€æœ‰å€¼\nsmembers &lt;key&gt;\n\né›†åˆä¹‹é—´çš„è¿ç®—ï¼š\n-- é›†åˆä¹‹é—´çš„å·®é›†\nsdiff &lt;key1&gt; &lt;key2&gt;\n-- é›†åˆä¹‹é—´çš„äº¤é›†\nsinter &lt;key1&gt; &lt;key2&gt;\n-- æ±‚å¹¶é›†\nsunion &lt;key1&gt; &lt;key2&gt;\n-- å°†é›†åˆä¹‹é—´çš„å·®é›†å­˜åˆ°ç›®æ ‡é›†åˆä¸­\nsdiffstore ç›®æ ‡ &lt;key1&gt; &lt;key2&gt;\n-- åŒä¸Š\nsinterstore ç›®æ ‡ &lt;key1&gt; &lt;key2&gt;\n-- åŒä¸Š\nsunionstore ç›®æ ‡ &lt;key1&gt; &lt;key2&gt;\n\nç§»åŠ¨æŒ‡å®šå€¼åˆ°å¦ä¸€ä¸ªé›†åˆä¸­ï¼š\nsmove &lt;key&gt; ç›®æ ‡ value \n\nç§»é™¤æ“ä½œï¼š\n-- éšæœºç§»é™¤ä¸€ä¸ªå¹¸è¿å„¿\nspop &lt;key&gt;\n-- ç§»é™¤æŒ‡å®š\nsrem &lt;key&gt; &lt;value&gt;...\n\né‚£ä¹ˆå¦‚æœæˆ‘ä»¬è¦æ±‚Seté›†åˆä¸­çš„æ•°æ®æŒ‰ç…§æˆ‘ä»¬æŒ‡å®šçš„é¡ºåºè¿›è¡Œæ’åˆ—æ€ä¹ˆåŠå‘¢ï¼Ÿè¿™æ—¶å°±å¯ä»¥ä½¿ç”¨SortedSetï¼Œå®ƒæ”¯æŒæˆ‘ä»¬ä¸ºæ¯ä¸ªå€¼è®¾å®šä¸€ä¸ªåˆ†æ•°ï¼Œåˆ†æ•°çš„å¤§å°å†³å®šäº†å€¼çš„ä½ç½®ï¼Œæ‰€ä»¥å®ƒæ˜¯æœ‰åºçš„ã€‚\næˆ‘ä»¬å¯ä»¥æ·»åŠ ä¸€ä¸ªå¸¦åˆ†æ•°çš„å€¼ï¼š\nzadd &lt;key&gt; [&lt;value&gt; &lt;score&gt;]...\n\nåŒæ ·çš„ï¼š\n-- æŸ¥è¯¢æœ‰å¤šå°‘ä¸ªå€¼\nzcard &lt;key&gt;\n-- ç§»é™¤\nzrem &lt;key&gt; &lt;value&gt;...\n-- è·å–åŒºé—´å†…çš„æ‰€æœ‰\nzrange &lt;key&gt; start stop\n\nç”±äºæ‰€æœ‰çš„å€¼éƒ½æœ‰ä¸€ä¸ªåˆ†æ•°ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ ¹æ®åˆ†æ•°æ®µæ¥è·å–ï¼š\n-- é€šè¿‡åˆ†æ•°æ®µæŸ¥çœ‹\nzrangebyscore &lt;key&gt; start stop [withscores] [limit]\n-- ç»Ÿè®¡åˆ†æ•°æ®µå†…çš„æ•°é‡\nzcount &lt;key&gt;  start stop\n-- æ ¹æ®åˆ†æ•°è·å–æŒ‡å®šå€¼çš„æ’å\nzrank &lt;key&gt; &lt;value&gt;\n\nhttps://www.jianshu.com/p/32b9fe8c20e1\næœ‰å…³Bitmapã€HyperLogLogå’ŒGeospatialç­‰æ•°æ®ç±»å‹ï¼Œè¿™é‡Œæš‚æ—¶ä¸åšä»‹ç»ï¼Œæ„Ÿå…´è¶£å¯ä»¥è‡ªè¡Œäº†è§£ã€‚\n\næŒä¹…åŒ–æˆ‘ä»¬çŸ¥é“ï¼ŒRedisæ•°æ®åº“ä¸­çš„æ•°æ®éƒ½æ˜¯å­˜æ”¾åœ¨å†…å­˜ä¸­ï¼Œè™½ç„¶å¾ˆé«˜æ•ˆï¼Œä½†æ˜¯è¿™æ ·å­˜åœ¨ä¸€ä¸ªéå¸¸ä¸¥é‡çš„é—®é¢˜ï¼Œå¦‚æœçªç„¶åœç”µï¼Œé‚£æˆ‘ä»¬çš„æ•°æ®ä¸å°±å…¨éƒ¨ä¸¢å¤±äº†å—ï¼Ÿå®ƒä¸åƒç¡¬ç›˜ä¸Šçš„æ•°æ®ï¼Œæ–­ç”µä¾ç„¶èƒ½å¤Ÿä¿å­˜ã€‚\nè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±éœ€è¦æŒä¹…åŒ–ï¼Œæˆ‘ä»¬éœ€è¦å°†æˆ‘ä»¬çš„æ•°æ®å¤‡ä»½åˆ°ç¡¬ç›˜ä¸Šï¼Œé˜²æ­¢æ–­ç”µæˆ–æ˜¯æœºå™¨æ•…éšœå¯¼è‡´çš„æ•°æ®ä¸¢å¤±ã€‚\næŒä¹…åŒ–çš„å®ç°æ–¹å¼æœ‰ä¸¤ç§æ–¹æ¡ˆï¼šä¸€ç§æ˜¯ç›´æ¥ä¿å­˜å½“å‰å·²ç»å­˜å‚¨çš„æ•°æ®ï¼Œç›¸å½“äºå¤åˆ¶å†…å­˜ä¸­çš„æ•°æ®åˆ°ç¡¬ç›˜ä¸Šï¼Œéœ€è¦æ¢å¤æ•°æ®æ—¶ç›´æ¥è¯»å–å³å¯ï¼›è¿˜æœ‰ä¸€ç§å°±æ˜¯ä¿å­˜æˆ‘ä»¬å­˜æ”¾æ•°æ®çš„æ‰€æœ‰è¿‡ç¨‹ï¼Œéœ€è¦æ¢å¤æ•°æ®æ—¶ï¼Œåªéœ€è¦å°†æ•´ä¸ªè¿‡ç¨‹å®Œæ•´åœ°é‡æ¼”ä¸€éå°±èƒ½ä¿è¯ä¸ä¹‹å‰æ•°æ®åº“ä¸­çš„å†…å®¹ä¸€è‡´ã€‚\nRDBRDBå°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„ç¬¬ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œé‚£ä¹ˆå¦‚ä½•å°†æ•°æ®ä¿å­˜åˆ°æœ¬åœ°å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‘½ä»¤ï¼š\nsave\n-- æ³¨æ„ä¸Šé¢è¿™ä¸ªå‘½ä»¤æ˜¯ç›´æ¥ä¿å­˜ï¼Œä¼šå ç”¨ä¸€å®šçš„æ—¶é—´ï¼Œä¹Ÿå¯ä»¥å•ç‹¬å¼€ä¸€ä¸ªå­è¿›ç¨‹åå°æ‰§è¡Œä¿å­˜\nbgsave\n\næ‰§è¡Œåï¼Œä¼šåœ¨æœåŠ¡ç«¯ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªdump.rdbæ–‡ä»¶ï¼Œè€Œè¿™ä¸ªæ–‡ä»¶ä¸­å°±ä¿å­˜äº†å†…å­˜ä¸­å­˜æ”¾çš„æ•°æ®ï¼Œå½“æœåŠ¡å™¨é‡å¯åï¼Œä¼šè‡ªåŠ¨åŠ è½½é‡Œé¢çš„å†…å®¹åˆ°å¯¹åº”æ•°æ®åº“ä¸­ã€‚ä¿å­˜åæˆ‘ä»¬å¯ä»¥å…³é—­æœåŠ¡å™¨ï¼š\nshutdown\n\né‡å¯åå¯ä»¥çœ‹åˆ°æ•°æ®ä¾ç„¶å­˜åœ¨ã€‚\n\nè™½ç„¶è¿™ç§æ–¹å¼éå¸¸æ–¹ä¾¿ï¼Œä½†æ˜¯ç”±äºä¼šå®Œæ•´å¤åˆ¶æ‰€æœ‰çš„æ•°æ®ï¼Œå¦‚æœæ•°æ®åº“ä¸­çš„æ•°æ®é‡æ¯”è¾ƒå¤§ï¼Œé‚£ä¹ˆå¤åˆ¶ä¸€æ¬¡å¯èƒ½å°±éœ€è¦èŠ±è´¹å¤§é‡çš„æ—¶é—´ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ¯éš”ä¸€æ®µæ—¶é—´è‡ªåŠ¨è¿›è¡Œä¿å­˜ï¼›è¿˜æœ‰å°±æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬åŸºæœ¬ä¸Šéƒ½æ˜¯åœ¨è¿›è¡Œè¯»æ“ä½œï¼Œè€Œæ²¡æœ‰è¿›è¡Œå†™æ“ä½œï¼Œå®é™…ä¸Šåªéœ€è¦å¶å°”ä¿å­˜ä¸€æ¬¡å³å¯ï¼Œå› ä¸ºæ•°æ®å‡ ä¹æ²¡æœ‰æ€ä¹ˆå˜åŒ–ï¼Œå¯èƒ½ä¸¤æ¬¡ä¿å­˜çš„éƒ½æ˜¯ä¸€æ ·çš„æ•°æ®ã€‚\næˆ‘ä»¬å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®è‡ªåŠ¨ä¿å­˜ï¼Œå¹¶è®¾å®šåœ¨ä¸€æ®µæ—¶é—´å†…å†™å…¥å¤šå°‘æ•°æ®æ—¶ï¼Œæ‰§è¡Œä¸€æ¬¡ä¿å­˜æ“ä½œï¼š\nsave 300 10 # 300ç§’ï¼ˆ5åˆ†é’Ÿï¼‰å†…æœ‰10ä¸ªå†™å…¥\nsave 60 10000 # 60ç§’ï¼ˆ1åˆ†é’Ÿï¼‰å†…æœ‰10000ä¸ªå†™å…¥\n\né…ç½®çš„saveä½¿ç”¨çš„éƒ½æ˜¯bgsaveåå°æ‰§è¡Œã€‚\nAOFè™½ç„¶RDBèƒ½å¤Ÿå¾ˆå¥½åœ°è§£å†³æ•°æ®æŒä¹…åŒ–é—®é¢˜ï¼Œä½†æ˜¯å®ƒçš„ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼šæ¯æ¬¡éƒ½éœ€è¦å»å®Œæ•´åœ°ä¿å­˜æ•´ä¸ªæ•°æ®åº“ä¸­çš„æ•°æ®ï¼ŒåŒæ—¶åå°ä¿å­˜è¿‡ç¨‹ä¸­ä¹Ÿä¼šäº§ç”Ÿé¢å¤–çš„å†…å­˜å¼€é”€ï¼Œæœ€ä¸¥é‡çš„æ˜¯å®ƒå¹¶ä¸æ˜¯å®æ—¶ä¿å­˜çš„ï¼Œå¦‚æœåœ¨è‡ªåŠ¨ä¿å­˜è§¦å‘ä¹‹å‰æœåŠ¡å™¨å´©æºƒï¼Œé‚£ä¹ˆä¾ç„¶ä¼šå¯¼è‡´å°‘é‡æ•°æ®çš„ä¸¢å¤±ã€‚\nè€ŒAOFå°±æ˜¯å¦ä¸€ç§æ–¹å¼ï¼Œå®ƒä¼šä»¥æ—¥å¿—çš„å½¢å¼å°†æˆ‘ä»¬æ¯æ¬¡æ‰§è¡Œçš„å‘½ä»¤éƒ½è¿›è¡Œä¿å­˜ï¼ŒæœåŠ¡å™¨é‡å¯æ—¶ä¼šå°†æ‰€æœ‰å‘½ä»¤ä¾æ¬¡æ‰§è¡Œï¼Œé€šè¿‡è¿™ç§é‡æ¼”çš„æ–¹å¼å°†æ•°æ®æ¢å¤ï¼Œè¿™æ ·å°±èƒ½å¾ˆå¥½è§£å†³å®æ—¶æ€§å­˜å‚¨é—®é¢˜ã€‚\n\nä½†æ˜¯ï¼Œæˆ‘ä»¬å¤šä¹…å†™ä¸€æ¬¡æ—¥å¿—å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥è‡ªå·±é…ç½®ä¿å­˜ç­–ç•¥ï¼Œæœ‰ä¸‰ç§ç­–ç•¥ï¼š\n\nalwaysï¼šæ¯æ¬¡æ‰§è¡Œå†™æ“ä½œéƒ½ä¼šä¿å­˜ä¸€æ¬¡\neverysecï¼šæ¯ç§’ä¿å­˜ä¸€æ¬¡ï¼ˆé»˜è®¤é…ç½®ï¼‰ï¼Œè¿™æ ·å°±ç®—ä¸¢å¤±æ•°æ®ä¹Ÿåªä¼šä¸¢ä¸€ç§’ä»¥å†…çš„æ•°æ®\nnoï¼šçœ‹ç³»ç»Ÿå¿ƒæƒ…ä¿å­˜\n\nå¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®ï¼š\n# æ³¨æ„å¾—æ”¹æˆä¹Ÿæ˜¯\nappendonly yes\n\n# appendfsync always\nappendfsync everysec\n# appendfsync no\n\né‡å¯æœåŠ¡å™¨åï¼Œå¯ä»¥çœ‹åˆ°æœåŠ¡å™¨ç›®å½•ä¸‹å¤šäº†ä¸€ä¸ªappendonly.aofæ–‡ä»¶ï¼Œå­˜å‚¨çš„å°±æ˜¯æˆ‘ä»¬æ‰§è¡Œçš„å‘½ä»¤ã€‚\n AOFçš„ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œæ¯æ¬¡æœåŠ¡å™¨å¯åŠ¨éƒ½éœ€è¦è¿›è¡Œè¿‡ç¨‹é‡æ¼”ï¼Œç›¸æ¯”RDBæ›´åŠ è€—è´¹æ—¶é—´ï¼Œå¹¶ä¸”éšç€æˆ‘ä»¬çš„æ“ä½œå˜å¤šï¼Œä¸æ–­ç´¯è®¡ï¼Œå¯èƒ½åˆ°æœ€åæˆ‘ä»¬çš„aofæ–‡ä»¶ä¼šå˜å¾—æ— æ¯”å·¨å¤§ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ”¹è¿›æ–¹æ¡ˆæ¥ä¼˜åŒ–è¿™äº›é—®é¢˜ã€‚\nRedisæœ‰ä¸€ä¸ªAOFé‡å†™æœºåˆ¶è¿›è¡Œä¼˜åŒ–ï¼Œæ¯”å¦‚æˆ‘ä»¬æ‰§è¡Œäº†è¿™æ ·çš„è¯­å¥ï¼š\nlpush test 666\nlpush test 777\nlpush test 888\n\nå®é™…ä¸Šç”¨ä¸€æ¡è¯­å¥ä¹Ÿå¯ä»¥å®ç°ï¼š\nlpush test 666 777 888\n\næ­£æ˜¯å¦‚æ­¤ï¼Œåªè¦æˆ‘ä»¬èƒ½å¤Ÿä¿è¯æœ€ç»ˆçš„é‡æ¼”ç»“æœå’ŒåŸæœ‰è¯­å¥çš„ç»“æœä¸€è‡´ï¼Œæ— è®ºè¯­å¥å¦‚ä½•ä¿®æ”¹éƒ½å¯ä»¥ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼å°†å¤šæ¡è¯­å¥è¿›è¡Œå‹ç¼©ã€‚\næˆ‘ä»¬å¯ä»¥è¾“å…¥å‘½ä»¤æ¥æ‰‹åŠ¨æ‰§è¡Œé‡å†™æ“ä½œï¼š\nbgrewriteaof\n\næˆ–æ˜¯åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®è‡ªåŠ¨é‡å†™ï¼š\n# ç™¾åˆ†æ¯”è®¡ç®—ï¼Œè¿™é‡Œä¸å¤šä»‹ç»\nauto-aof-rewrite-percentage 100\n# å½“è¾¾åˆ°è¿™ä¸ªå¤§å°æ—¶ï¼Œè§¦å‘è‡ªåŠ¨é‡å†™\nauto-aof-rewrite-min-size 64mb\n\nè‡³æ­¤ï¼Œæˆ‘ä»¬å°±å®Œæˆäº†ä¸¤ç§æŒä¹…åŒ–æ–¹æ¡ˆçš„ä»‹ç»ï¼Œæœ€åæˆ‘ä»¬å†æ¥è¿›è¡Œä¸€ä¸‹æ€»ç»“ï¼š\n\nAOFï¼š\nä¼˜ç‚¹ï¼šå­˜å‚¨é€Ÿåº¦å¿«ã€æ¶ˆè€—èµ„æºå°‘ã€æ”¯æŒå®æ—¶å­˜å‚¨\nç¼ºç‚¹ï¼šåŠ è½½é€Ÿåº¦æ…¢ã€æ•°æ®ä½“ç§¯å¤§\n\n\nRDBï¼š\nä¼˜ç‚¹ï¼šåŠ è½½é€Ÿåº¦å¿«ã€æ•°æ®ä½“ç§¯å°\nç¼ºç‚¹ï¼šå­˜å‚¨é€Ÿåº¦æ…¢å¤§é‡æ¶ˆè€—èµ„æºã€ä¼šå‘ç”Ÿæ•°æ®ä¸¢å¤±\n\n\n\n\näº‹åŠ¡å’Œé”æœºåˆ¶å’ŒMySQLä¸€æ ·ï¼Œåœ¨Redisä¸­ä¹Ÿæœ‰äº‹åŠ¡æœºåˆ¶ï¼Œå½“æˆ‘ä»¬éœ€è¦ä¿è¯å¤šæ¡å‘½ä»¤ä¸€æ¬¡æ€§å®Œæ•´æ‰§è¡Œè€Œä¸­é€”ä¸å—åˆ°å…¶ä»–å‘½ä»¤å¹²æ‰°æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨äº‹åŠ¡æœºåˆ¶ã€‚\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‘½ä»¤æ¥ç›´æ¥å¼€å¯äº‹åŠ¡ï¼š\nmulti\n\nå½“æˆ‘ä»¬è¾“å…¥å®Œæ‰€æœ‰è¦æ‰§è¡Œçš„å‘½ä»¤æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤æ¥ç«‹å³æ‰§è¡Œäº‹åŠ¡ï¼š\nexec\n\næˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸­é€”å–æ¶ˆäº‹åŠ¡ï¼š\ndiscard\n\nå®é™…ä¸Šæ•´ä¸ªäº‹åŠ¡æ˜¯åˆ›å»ºäº†ä¸€ä¸ªå‘½ä»¤é˜Ÿåˆ—ï¼Œå®ƒä¸åƒMySQLé‚£ç§åœ¨äº‹åŠ¡ä¸­ä¹Ÿèƒ½å•ç‹¬å¾—åˆ°ç»“æœï¼Œè€Œæ˜¯æˆ‘ä»¬æå‰å°†æ‰€æœ‰çš„å‘½ä»¤è£…åœ¨é˜Ÿåˆ—ä¸­ï¼Œä½†æ˜¯å¹¶ä¸ä¼šæ‰§è¡Œï¼Œè€Œæ˜¯ç­‰æˆ‘ä»¬æäº¤äº‹åŠ¡çš„æ—¶å€™å†ç»Ÿä¸€æ‰§è¡Œã€‚\né”åˆæåˆ°é”äº†ï¼Œå®é™…ä¸Šè¿™ä¸ªæ¦‚å¿µå¯¹æˆ‘ä»¬æ¥è¯´å·²ç»ä¸ç®—æ˜¯é™Œç”Ÿäº†ã€‚å®é™…ä¸Šåœ¨Redisä¸­ä¹Ÿä¼šå‡ºç°å¤šä¸ªå‘½ä»¤åŒæ—¶ç«äº‰åŒä¸€ä¸ªæ•°æ®çš„æƒ…å†µï¼Œæ¯”å¦‚ç°åœ¨æœ‰ä¸¤æ¡å‘½ä»¤åŒæ—¶æ‰§è¡Œï¼Œä»–ä»¬éƒ½è¦å»ä¿®æ”¹açš„å€¼ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™å°±åªèƒ½åŠ¨ç”¨é”æœºåˆ¶æ¥ä¿è¯åŒä¸€æ—¶é—´åªèƒ½æœ‰ä¸€ä¸ªå‘½ä»¤æ“ä½œã€‚\nè™½ç„¶Redisä¸­ä¹Ÿæœ‰é”æœºåˆ¶ï¼Œä½†æ˜¯å®ƒæ˜¯ä¸€ç§ä¹è§‚é”ï¼Œä¸åŒäºMySQLï¼Œæˆ‘ä»¬åœ¨MySQLä¸­è®¤è¯†çš„é”æ˜¯æ‚²è§‚é”ï¼Œé‚£ä¹ˆä»€ä¹ˆæ˜¯ä¹è§‚é”ä»€ä¹ˆæ˜¯æ‚²è§‚é”å‘¢ï¼Ÿ\n\næ‚²è§‚é”ï¼šæ—¶åˆ»è®¤ä¸ºåˆ«äººä¼šæ¥æŠ¢å èµ„æºï¼Œç¦æ­¢ä¸€åˆ‡å¤–æ¥è®¿é—®ï¼Œç›´åˆ°é‡Šæ”¾é”ï¼Œå…·æœ‰å¼ºçƒˆçš„æ’ä»–æ€§è´¨ã€‚\nä¹è§‚é”ï¼šå¹¶ä¸è®¤ä¸ºä¼šæœ‰äººæ¥æŠ¢å èµ„æºï¼Œæ‰€ä»¥ä¼šç›´æ¥å¯¹æ•°æ®è¿›è¡Œæ“ä½œï¼Œåœ¨æ“ä½œæ—¶å†å»éªŒè¯æ˜¯å¦æœ‰å…¶ä»–äººæŠ¢å èµ„æºã€‚\n\nRedisä¸­å¯ä»¥ä½¿ç”¨watchæ¥ç›‘è§†ä¸€ä¸ªç›®æ ‡ï¼Œå¦‚æœæ‰§è¡Œäº‹åŠ¡ä¹‹å‰è¢«ç›‘è§†ç›®æ ‡å‘ç”Ÿäº†ä¿®æ”¹ï¼Œåˆ™å–æ¶ˆæœ¬æ¬¡äº‹åŠ¡ï¼š\nwatch\n\næˆ‘ä»¬å¯ä»¥å¼€ä¸¤ä¸ªå®¢æˆ·ç«¯è¿›è¡Œæµ‹è¯•ã€‚\nå–æ¶ˆç›‘è§†å¯ä»¥ä½¿ç”¨ï¼š\nunwatch\n\nè‡³æ­¤ï¼ŒRedisçš„åŸºç¡€å†…å®¹å°±è®²è§£å®Œæ¯•äº†ï¼Œåœ¨ä¹‹åçš„SpringCloudé˜¶æ®µï¼Œæˆ‘ä»¬è¿˜ä¼šå»è®²è§£é›†ç¾¤ç›¸å…³çš„çŸ¥è¯†ï¼ŒåŒ…æ‹¬ä¸»ä»å¤åˆ¶ã€å“¨å…µæ¨¡å¼ç­‰ã€‚\n\nä½¿ç”¨Javaä¸Redisäº¤äº’æ—¢ç„¶äº†è§£äº†å¦‚ä½•é€šè¿‡å‘½ä»¤çª—å£æ“ä½œRedisæ•°æ®åº“ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•ä½¿ç”¨Javaæ¥æ“ä½œå‘¢ï¼Ÿ\nè¿™é‡Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨åˆ°Jedisæ¡†æ¶ï¼Œå®ƒèƒ½å¤Ÿå®ç°Javaä¸Redisæ•°æ®åº“çš„äº¤äº’ï¼Œä¾èµ–ï¼š\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;redis.clients&lt;&#x2F;groupId&gt;\n        &lt;artifactId&gt;jedis&lt;&#x2F;artifactId&gt;\n        &lt;version&gt;4.0.0&lt;&#x2F;version&gt;\n    &lt;&#x2F;dependency&gt;\n&lt;&#x2F;dependencies&gt;\n\nåŸºæœ¬æ“ä½œæˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•è¿æ¥Redisæ•°æ®åº“ï¼Œéå¸¸ç®€å•ï¼Œåªéœ€è¦åˆ›å»ºä¸€ä¸ªå¯¹è±¡å³å¯ï¼š\npublic static void main(String[] args) &#123;\n    &#x2F;&#x2F;åˆ›å»ºJediså¯¹è±¡\n    Jedis jedis &#x3D; new Jedis(&quot;localhost&quot;, 6379);\n  \t\n  \t&#x2F;&#x2F;ä½¿ç”¨ä¹‹åå…³é—­è¿æ¥\n  \tjedis.close();\n&#125;\n\né€šè¿‡Jediså¯¹è±¡ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥è°ƒç”¨å‘½ä»¤çš„åŒåæ–¹æ³•æ¥æ‰§è¡ŒRediså‘½ä»¤äº†ï¼Œæ¯”å¦‚ï¼š\npublic static void main(String[] args) &#123;\n    &#x2F;&#x2F;ç›´æ¥ä½¿ç”¨try-with-resouseï¼Œçœå»close\n    try(Jedis jedis &#x3D; new Jedis(&quot;192.168.10.3&quot;, 6379))&#123;\n        jedis.set(&quot;test&quot;, &quot;lbwnb&quot;);   &#x2F;&#x2F;ç­‰åŒäº set test lbwnb å‘½ä»¤\n        System.out.println(jedis.get(&quot;test&quot;));  &#x2F;&#x2F;ç­‰åŒäº get test å‘½ä»¤\n    &#125;\n&#125;\n\nHashç±»å‹çš„æ•°æ®ä¹Ÿæ˜¯è¿™æ ·ï¼š\npublic static void main(String[] args) &#123;\n    try(Jedis jedis &#x3D; new Jedis(&quot;192.168.10.3&quot;, 6379))&#123;\n        jedis.hset(&quot;hhh&quot;, &quot;name&quot;, &quot;sxc&quot;);   &#x2F;&#x2F;ç­‰åŒäº hset hhh name sxc\n        jedis.hset(&quot;hhh&quot;, &quot;sex&quot;, &quot;19&quot;);    &#x2F;&#x2F;ç­‰åŒäº hset hhh age 19\n        jedis.hgetAll(&quot;hhh&quot;).forEach((k, v) -&gt; System.out.println(k+&quot;: &quot;+v));\n    &#125;\n&#125;\n\næˆ‘ä»¬æ¥ç€æ¥çœ‹çœ‹åˆ—è¡¨æ“ä½œï¼š\npublic static void main(String[] args) &#123;\n    try(Jedis jedis &#x3D; new Jedis(&quot;192.168.10.3&quot;, 6379))&#123;\n        jedis.lpush(&quot;mylist&quot;, &quot;111&quot;, &quot;222&quot;, &quot;333&quot;);  &#x2F;&#x2F;ç­‰åŒäº lpush mylist 111 222 333 å‘½ä»¤\n        jedis.lrange(&quot;mylist&quot;, 0, -1)\n                .forEach(System.out::println);    &#x2F;&#x2F;ç­‰åŒäº lrange mylist 0 -1\n    &#125;\n&#125;\n\nå®é™…ä¸Šæˆ‘ä»¬åªéœ€è¦æŒ‰ç…§å¯¹åº”çš„æ“ä½œå»è°ƒç”¨åŒåæ–¹æ³•å³å¯ï¼Œæ‰€æœ‰çš„ç±»å‹å°è£…Jediså·²ç»å¸®åŠ©æˆ‘ä»¬å®Œæˆäº†ã€‚\nSpringBootæ•´åˆRedisæˆ‘ä»¬æ¥ç€æ¥çœ‹å¦‚ä½•åœ¨SpringBooté¡¹ç›®ä¸­æ•´åˆRedisæ“ä½œæ¡†æ¶ï¼Œåªéœ€è¦ä¸€ä¸ªstarterå³å¯ï¼Œä½†æ˜¯å®ƒåº•å±‚æ²¡æœ‰ç”¨Jedisï¼Œè€Œæ˜¯Lettuceï¼š\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-redis&lt;&#x2F;artifactId&gt;\n&lt;&#x2F;dependency&gt;\n\nstarteræä¾›çš„é»˜è®¤é…ç½®ä¼šå»è¿æ¥æœ¬åœ°çš„RedisæœåŠ¡å™¨ï¼Œå¹¶ä½¿ç”¨0å·æ•°æ®åº“ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥æ‰‹åŠ¨è¿›è¡Œä¿®æ”¹ï¼š\nspring:\n  redis:\n  \t#RedisæœåŠ¡å™¨åœ°å€\n    host: 192.168.10.3\n    #ç«¯å£\n    port: 6379\n    #ä½¿ç”¨å‡ å·æ•°æ®åº“\n    database: 0\n\nstarterå·²ç»ç»™æˆ‘ä»¬æä¾›äº†ä¸¤ä¸ªé»˜è®¤çš„æ¨¡æ¿ç±»ï¼š\n@Configuration(\n    proxyBeanMethods &#x3D; false\n)\n@ConditionalOnClass(&#123;RedisOperations.class&#125;)\n@EnableConfigurationProperties(&#123;RedisProperties.class&#125;)\n@Import(&#123;LettuceConnectionConfiguration.class, JedisConnectionConfiguration.class&#125;)\npublic class RedisAutoConfiguration &#123;\n    public RedisAutoConfiguration() &#123;\n    &#125;\n\n    @Bean\n    @ConditionalOnMissingBean(\n        name &#x3D; &#123;&quot;redisTemplate&quot;&#125;\n    )\n    @ConditionalOnSingleCandidate(RedisConnectionFactory.class)\n    public RedisTemplate&lt;Object, Object&gt; redisTemplate(RedisConnectionFactory redisConnectionFactory) &#123;\n        RedisTemplate&lt;Object, Object&gt; template &#x3D; new RedisTemplate();\n        template.setConnectionFactory(redisConnectionFactory);\n        return template;\n    &#125;\n\n    @Bean\n    @ConditionalOnMissingBean\n    @ConditionalOnSingleCandidate(RedisConnectionFactory.class)\n    public StringRedisTemplate stringRedisTemplate(RedisConnectionFactory redisConnectionFactory) &#123;\n        return new StringRedisTemplate(redisConnectionFactory);\n    &#125;\n&#125;\n\né‚£ä¹ˆå¦‚ä½•å»ä½¿ç”¨è¿™ä¸¤ä¸ªæ¨¡æ¿ç±»å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ç›´æ¥æ³¨å…¥StringRedisTemplateæ¥ä½¿ç”¨æ¨¡æ¿ï¼š\n@SpringBootTest\nclass SpringBootTestApplicationTests &#123;\n\n    @Autowired\n    StringRedisTemplate template;\n\n    @Test\n    void contextLoads() &#123;\n        ValueOperations&lt;String, String&gt; operations &#x3D; template.opsForValue();\n        operations.set(&quot;c&quot;, &quot;xxxxx&quot;);   &#x2F;&#x2F;è®¾ç½®å€¼\n        System.out.println(operations.get(&quot;c&quot;));   &#x2F;&#x2F;è·å–å€¼\n      \t\n        template.delete(&quot;c&quot;);    &#x2F;&#x2F;åˆ é™¤é”®\n        System.out.println(template.hasKey(&quot;c&quot;));   &#x2F;&#x2F;åˆ¤æ–­æ˜¯å¦åŒ…å«é”®\n    &#125;\n\n&#125;\n\nå®é™…ä¸Šæ‰€æœ‰çš„å€¼çš„æ“ä½œéƒ½è¢«å°è£…åˆ°äº†ValueOperationså¯¹è±¡ä¸­ï¼Œè€Œæ™®é€šçš„é”®æ“ä½œç›´æ¥é€šè¿‡æ¨¡æ¿å¯¹è±¡å°±å¯ä»¥ä½¿ç”¨äº†ï¼Œå¤§è‡´ä½¿ç”¨æ–¹å¼å…¶å®å’ŒJedisä¸€è‡´ã€‚\næˆ‘ä»¬æ¥ç€æ¥çœ‹çœ‹äº‹åŠ¡æ“ä½œï¼Œç”±äºSpringæ²¡æœ‰ä¸“é—¨çš„Redisäº‹åŠ¡ç®¡ç†å™¨ï¼Œæ‰€ä»¥åªèƒ½å€Ÿç”¨JDBCæä¾›çš„ï¼Œåªä¸è¿‡æ— æ‰€è°“ï¼Œæ­£å¸¸æƒ…å†µä¸‹åæ­£æˆ‘ä»¬ä¹Ÿè¦ç”¨åˆ°è¿™ç©æ„ï¼š\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-jdbc&lt;&#x2F;artifactId&gt;\n&lt;&#x2F;dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;&#x2F;groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;&#x2F;artifactId&gt;\n&lt;&#x2F;dependency&gt;\n\n@Service\npublic class RedisService &#123;\n\n    @Resource\n    StringRedisTemplate template;\n\n    @PostConstruct\n    public void init()&#123;\n        template.setEnableTransactionSupport(true);   &#x2F;&#x2F;éœ€è¦å¼€å¯äº‹åŠ¡\n    &#125;\n\n    @Transactional    &#x2F;&#x2F;éœ€è¦æ·»åŠ æ­¤æ³¨è§£\n    public void test()&#123;\n        template.multi();\n        template.opsForValue().set(&quot;d&quot;, &quot;xxxxx&quot;);\n        template.exec();\n    &#125;\n&#125;\n\næˆ‘ä»¬è¿˜å¯ä»¥ä¸ºRedisTemplateå¯¹è±¡é…ç½®ä¸€ä¸ªSerializeræ¥å®ç°å¯¹è±¡çš„JSONå­˜å‚¨ï¼š\n@Test\nvoid contextLoad2() &#123;\n    &#x2F;&#x2F;æ³¨æ„Studentéœ€è¦å®ç°åºåˆ—åŒ–æ¥å£æ‰èƒ½å­˜å…¥Redis\n    template.opsForValue().set(&quot;student&quot;, new Student());\n    System.out.println(template.opsForValue().get(&quot;student&quot;));\n&#125;\n\n\nä½¿ç”¨Redisåšç¼“å­˜æˆ‘ä»¬å¯ä»¥è½»æ¾åœ°ä½¿ç”¨Redisæ¥å®ç°ä¸€äº›æ¡†æ¶çš„ç¼“å­˜å’Œå…¶ä»–å­˜å‚¨ã€‚\nMybatisäºŒçº§ç¼“å­˜è¿˜è®°å¾—æˆ‘ä»¬åœ¨å­¦ä¹ Mybatisè®²è§£çš„ç¼“å­˜æœºåˆ¶å—ï¼Œæˆ‘ä»¬å½“æ—¶ä»‹ç»äº†äºŒçº§ç¼“å­˜ï¼Œå®ƒæ˜¯Mapperçº§åˆ«çš„ç¼“å­˜ï¼Œèƒ½å¤Ÿä½œç”¨ä¸æ‰€æœ‰ä¼šè¯ã€‚ä½†æ˜¯å½“æ—¶æˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªé—®é¢˜ï¼Œç”±äºMybatisçš„é»˜è®¤äºŒçº§ç¼“å­˜åªèƒ½æ˜¯å•æœºçš„ï¼Œå¦‚æœå­˜åœ¨å¤šå°æœåŠ¡å™¨è®¿é—®åŒä¸€ä¸ªæ•°æ®åº“ï¼Œå®é™…ä¸ŠäºŒçº§ç¼“å­˜åªä¼šåœ¨å„è‡ªçš„æœåŠ¡å™¨ä¸Šç”Ÿæ•ˆï¼Œä½†æ˜¯æˆ‘ä»¬å¸Œæœ›çš„æ˜¯å¤šå°æœåŠ¡å™¨éƒ½èƒ½ä½¿ç”¨åŒä¸€ä¸ªäºŒçº§ç¼“å­˜ï¼Œè¿™æ ·å°±ä¸ä¼šé€ æˆè¿‡å¤šçš„èµ„æºæµªè´¹ã€‚\n\næˆ‘ä»¬å¯ä»¥å°†Redisä½œä¸ºMybatisçš„äºŒçº§ç¼“å­˜ï¼Œè¿™æ ·å°±èƒ½å®ç°å¤šå°æœåŠ¡å™¨ä½¿ç”¨åŒä¸€ä¸ªäºŒçº§ç¼“å­˜ï¼Œå› ä¸ºå®ƒä»¬åªéœ€è¦è¿æ¥åŒä¸€ä¸ªRedisæœåŠ¡å™¨å³å¯ï¼Œæ‰€æœ‰çš„ç¼“å­˜æ•°æ®å…¨éƒ¨å­˜å‚¨åœ¨RedisæœåŠ¡å™¨ä¸Šã€‚æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨å®ç°Mybatisæä¾›çš„Cacheæ¥å£ï¼Œè¿™é‡Œæˆ‘ä»¬ç®€å•ç¼–å†™ä¸€ä¸‹ï¼š\n&#x2F;&#x2F;å®ç°Mybatisçš„Cacheæ¥å£\npublic class RedisMybatisCache implements Cache &#123;\n\n    private final String id;\n    private static RedisTemplate&lt;Object, Object&gt; template;\n\n   \t&#x2F;&#x2F;æ³¨æ„æ„é€ æ–¹æ³•å¿…é¡»å¸¦ä¸€ä¸ªStringç±»å‹çš„å‚æ•°æ¥æ”¶id\n    public RedisMybatisCache(String id)&#123;\n        this.id &#x3D; id;\n    &#125;\n\n  \t&#x2F;&#x2F;åˆå§‹åŒ–æ—¶é€šè¿‡é…ç½®ç±»å°†RedisTemplateç»™è¿‡æ¥\n    public static void setTemplate(RedisTemplate&lt;Object, Object&gt; template) &#123;\n        RedisMybatisCache.template &#x3D; template;\n    &#125;\n\n    @Override\n    public String getId() &#123;\n        return id;\n    &#125;\n\n    @Override\n    public void putObject(Object o, Object o1) &#123;\n      \t&#x2F;&#x2F;è¿™é‡Œç›´æ¥å‘Redisæ•°æ®åº“ä¸­ä¸¢æ•°æ®å³å¯ï¼Œoå°±æ˜¯Keyï¼Œo1å°±æ˜¯Valueï¼Œ60ç§’ä¸ºè¿‡æœŸæ—¶é—´\n        template.opsForValue().set(o, o1, 60, TimeUnit.SECONDS);\n    &#125;\n\n    @Override\n    public Object getObject(Object o) &#123;\n      \t&#x2F;&#x2F;è¿™é‡Œæ ¹æ®Keyç›´æ¥ä»Redisæ•°æ®åº“ä¸­è·å–å€¼å³å¯\n        return template.opsForValue().get(o);\n    &#125;\n\n    @Override\n    public Object removeObject(Object o) &#123;\n      \t&#x2F;&#x2F;æ ¹æ®Keyåˆ é™¤\n        return template.delete(o);\n    &#125;\n\n    @Override\n    public void clear() &#123;\n      \t&#x2F;&#x2F;ç”±äºtemplateä¸­æ²¡å°è£…æ¸…é™¤æ“ä½œï¼Œåªèƒ½é€šè¿‡connectionæ¥æ‰§è¡Œ\n\t\t\t\ttemplate.execute((RedisCallback&lt;Void&gt;) connection -&gt; &#123;\n          \t&#x2F;&#x2F;é€šè¿‡connectionå¯¹è±¡æ‰§è¡Œæ¸…ç©ºæ“ä½œ\n            connection.flushDb();\n            return null;\n        &#125;);\n    &#125;\n\n    @Override\n    public int getSize() &#123;\n      \t&#x2F;&#x2F;è¿™é‡Œä¹Ÿæ˜¯ä½¿ç”¨connectionå¯¹è±¡æ¥è·å–å½“å‰çš„Keyæ•°é‡\n        return template.execute(RedisServerCommands::dbSize).intValue();\n    &#125;\n&#125;\n\nç¼“å­˜ç±»ç¼–å†™å®Œæˆåï¼Œæˆ‘ä»¬æ¥ç€æ¥ç¼–å†™é…ç½®ç±»ï¼š\n@Configuration\npublic class MainConfiguration &#123;\n    @Resource\n    RedisTemplate&lt;Object, Object&gt; template;\n\n    @PostConstruct\n    public void init()&#123;\n      \t&#x2F;&#x2F;æŠŠRedisTemplateç»™åˆ°RedisMybatisCache\n        RedisMybatisCache.setTemplate(template);\n    &#125;\n&#125;\n\næœ€åæˆ‘ä»¬åœ¨Mapperä¸Šå¯ç”¨æ­¤ç¼“å­˜å³å¯ï¼š\n&#x2F;&#x2F;åªéœ€è¦ä¿®æ”¹ç¼“å­˜å®ç°ç±»implementationä¸ºæˆ‘ä»¬çš„RedisMybatisCacheå³å¯\n@CacheNamespace(implementation &#x3D; RedisMybatisCache.class)\n@Mapper\npublic interface MainMapper &#123;\n\n    @Select(&quot;select name from student where sid &#x3D; 1&quot;)\n    String getSid();\n&#125;\n\næœ€åæˆ‘ä»¬æä¾›ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹æ¥æŸ¥çœ‹å½“å‰çš„äºŒçº§ç¼“å­˜æ˜¯å¦ç”Ÿæ•ˆï¼š\n@SpringBootTest\nclass SpringBootTestApplicationTests &#123;\n\n\n    @Resource\n    MainMapper mapper;\n\n    @Test\n    void contextLoads() &#123;\n        System.out.println(mapper.getSid());\n        System.out.println(mapper.getSid());\n        System.out.println(mapper.getSid());\n    &#125;\n\n&#125;\n\næ‰‹åŠ¨ä½¿ç”¨å®¢æˆ·ç«¯æŸ¥çœ‹Redisæ•°æ®åº“ï¼Œå¯ä»¥çœ‹åˆ°å·²ç»æœ‰ä¸€æ¡Mybatisç”Ÿæˆçš„ç¼“å­˜æ•°æ®äº†ã€‚\nTokenæŒä¹…åŒ–å­˜å‚¨æˆ‘ä»¬ä¹‹å‰ä½¿ç”¨SpringSecurityæ—¶ï¼Œremember-meçš„Tokenæ˜¯æ”¯æŒæŒä¹…åŒ–å­˜å‚¨çš„ï¼Œè€Œæˆ‘ä»¬å½“æ—¶æ˜¯å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ï¼Œé‚£ä¹ˆTokenä¿¡æ¯èƒ½å¦å­˜å‚¨åœ¨ç¼“å­˜ä¸­å‘¢ï¼Œå½“ç„¶ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨å®ç°ä¸€ä¸ªï¼š\n&#x2F;&#x2F;å®ç°PersistentTokenRepositoryæ¥å£\n@Component\npublic class RedisTokenRepository implements PersistentTokenRepository &#123;\n  \t&#x2F;&#x2F;Keyåç§°å‰ç¼€ï¼Œç”¨äºåŒºåˆ†\n    private final static String REMEMBER_ME_KEY &#x3D; &quot;spring:security:rememberMe:&quot;;\n    @Resource\n    RedisTemplate&lt;Object, Object&gt; template;\n\n    @Override\n    public void createNewToken(PersistentRememberMeToken token) &#123;\n      \t&#x2F;&#x2F;è¿™é‡Œè¦æ”¾ä¸¤ä¸ªï¼Œä¸€ä¸ªå­˜seriesId-&gt;Tokenï¼Œä¸€ä¸ªå­˜username-&gt;seriesIdï¼Œå› ä¸ºåˆ é™¤æ—¶æ˜¯é€šè¿‡usernameåˆ é™¤\n        template.opsForValue().set(REMEMBER_ME_KEY+&quot;username:&quot;+token.getUsername(), token.getSeries());\n        template.expire(REMEMBER_ME_KEY+&quot;username:&quot;+token.getUsername(), 1, TimeUnit.DAYS);\n        this.setToken(token);\n    &#125;\n\n  \t&#x2F;&#x2F;å…ˆè·å–ï¼Œç„¶åä¿®æ”¹åˆ›å»ºä¸€ä¸ªæ–°çš„ï¼Œå†æ”¾å…¥\n    @Override\n    public void updateToken(String series, String tokenValue, Date lastUsed) &#123;\n        PersistentRememberMeToken token &#x3D; this.getToken(series);\n        if(token !&#x3D; null)\n           this.setToken(new PersistentRememberMeToken(token.getUsername(), series, tokenValue, lastUsed));\n    &#125;\n\n    @Override\n    public PersistentRememberMeToken getTokenForSeries(String seriesId) &#123;\n        return this.getToken(seriesId);\n    &#125;\n\n  \t&#x2F;&#x2F;é€šè¿‡usernameæ‰¾seriesIdç›´æ¥åˆ é™¤è¿™ä¸¤ä¸ª\n    @Override\n    public void removeUserTokens(String username) &#123;\n        String series &#x3D; (String) template.opsForValue().get(REMEMBER_ME_KEY+&quot;username:&quot;+username);\n        template.delete(REMEMBER_ME_KEY+series);\n        template.delete(REMEMBER_ME_KEY+&quot;username:&quot;+username);\n    &#125;\n\n  \n  \t&#x2F;&#x2F;ç”±äºPersistentRememberMeTokenæ²¡å®ç°åºåˆ—åŒ–æ¥å£ï¼Œè¿™é‡Œåªèƒ½ç”¨Hashæ¥å­˜å‚¨äº†ï¼Œæ‰€ä»¥å•ç‹¬ç¼–å†™ä¸€ä¸ªsetå’Œgetæ“ä½œ\n    private PersistentRememberMeToken getToken(String series)&#123;\n        Map&lt;Object, Object&gt; map &#x3D; template.opsForHash().entries(REMEMBER_ME_KEY+series);\n        if(map.isEmpty()) return null;\n        return new PersistentRememberMeToken(\n                (String) map.get(&quot;username&quot;),\n                (String) map.get(&quot;series&quot;),\n                (String) map.get(&quot;tokenValue&quot;),\n                new Date(Long.parseLong((String) map.get(&quot;date&quot;))));\n    &#125;\n\n    private void setToken(PersistentRememberMeToken token)&#123;\n        Map&lt;String, String&gt; map &#x3D; new HashMap&lt;&gt;();\n        map.put(&quot;username&quot;, token.getUsername());\n        map.put(&quot;series&quot;, token.getSeries());\n        map.put(&quot;tokenValue&quot;, token.getTokenValue());\n        map.put(&quot;date&quot;, &quot;&quot;+token.getDate().getTime());\n        template.opsForHash().putAll(REMEMBER_ME_KEY+token.getSeries(), map);\n        template.expire(REMEMBER_ME_KEY+token.getSeries(), 1, TimeUnit.DAYS);\n    &#125;\n&#125;\n\næ¥ç€æŠŠéªŒè¯Serviceå®ç°äº†ï¼š\n@Service\npublic class AuthService implements UserDetailsService &#123;\n\n    @Resource\n    UserMapper mapper;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException &#123;\n        Account account &#x3D; mapper.getAccountByUsername(username);\n        if(account &#x3D;&#x3D; null) throw new UsernameNotFoundException(&quot;&quot;);\n        return User\n                .withUsername(username)\n                .password(account.getPassword())\n                .roles(account.getRole())\n                .build();\n    &#125;\n&#125;\n\nMapperä¹Ÿå®‰æ’ä¸Šï¼š\n@Data\npublic class Account implements Serializable &#123;\n    int id;\n    String username;\n    String password;\n    String role;\n&#125;\n\n@CacheNamespace(implementation &#x3D; MybatisRedisCache.class)\n@Mapper\npublic interface UserMapper &#123;\n\n    @Select(&quot;select * from users where username &#x3D; #&#123;username&#125;&quot;)\n    Account getAccountByUsername(String username);\n&#125;\n\næœ€åé…ç½®æ–‡ä»¶é…ä¸€æ³¢ï¼š\n@Override\nprotected void configure(HttpSecurity http) throws Exception &#123;\n    http\n            .authorizeRequests()\n            .anyRequest().authenticated()\n            .and()\n            .formLogin()\n            .and()\n            .rememberMe()\n            .tokenRepository(repository);\n&#125;\n\n@Override\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception &#123;\n    auth\n            .userDetailsService(service)\n            .passwordEncoder(new BCryptPasswordEncoder());\n&#125;\n\nOKï¼Œå¯åŠ¨æœåŠ¡å™¨éªŒè¯ä¸€ä¸‹å§ã€‚\n\nä¸‰å¤§ç¼“å­˜é—®é¢˜æ³¨æ„ï¼šè¿™éƒ¨åˆ†å†…å®¹ä½œä¸ºé€‰å­¦å†…å®¹ã€‚\nè™½ç„¶æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ç¼“å­˜æ¥å¤§å¹…åº¦æå‡æˆ‘ä»¬ç¨‹åºçš„æ•°æ®è·å–æ•ˆç‡ï¼Œä½†æ˜¯ä½¿ç”¨ç¼“å­˜ä¹Ÿå­˜åœ¨ç€ä¸€äº›æ½œåœ¨çš„é—®é¢˜ã€‚\nç¼“å­˜ç©¿é€\nå½“æˆ‘ä»¬å»æŸ¥è¯¢ä¸€ä¸ªä¸€å®šä¸å­˜åœ¨çš„æ•°æ®ï¼Œæ¯”å¦‚Mybatisåœ¨ç¼“å­˜æ˜¯æœªå‘½ä¸­çš„æƒ…å†µä¸‹éœ€è¦ä»æ•°æ®åº“æŸ¥è¯¢ï¼ŒæŸ¥ä¸åˆ°æ•°æ®åˆ™ä¸å†™å…¥ç¼“å­˜ï¼Œè¿™å°†å¯¼è‡´è¿™ä¸ªä¸å­˜åœ¨çš„æ•°æ®æ¯æ¬¡è¯·æ±‚éƒ½è¦åˆ°æ•°æ®åº“å»æŸ¥è¯¢ï¼Œé€ æˆç¼“å­˜ç©¿é€ã€‚\nè¿™æ˜¾ç„¶æ˜¯å¾ˆæµªè´¹èµ„æºçš„ï¼Œæˆ‘ä»¬å¸Œæœ›çš„æ˜¯ï¼Œå¦‚æœè¿™ä¸ªæ•°æ®ä¸å­˜åœ¨ï¼Œä¸ºä»€ä¹ˆç¼“å­˜è¿™ä¸€å±‚ä¸ç›´æ¥è¿”å›ç©ºå‘¢ï¼Œè¿™æ—¶å°±ä¸å¿…å†å»æŸ¥æ•°æ®åº“äº†ï¼Œä½†æ˜¯ä¹Ÿæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œç¼“å­˜ä¸å»æŸ¥æ•°æ®åº“æ€ä¹ˆçŸ¥é“æ•°æ®åº“é‡Œé¢åˆ°åº•æœ‰æ²¡æœ‰è¿™ä¸ªæ•°æ®å‘¢ï¼Ÿ\nè¿™æ—¶æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨å¸ƒéš†è¿‡æ»¤å™¨æ¥è¿›è¡Œåˆ¤æ–­ã€‚ä»€ä¹ˆæ˜¯å¸ƒéš†è¿‡æ»¤å™¨ï¼Ÿï¼ˆå½“ç„¶ä¸æ˜¯æ‰“è¾…åŠ©çš„é‚£ä¸ªå¸ƒéš†ï¼Œåªä¸è¿‡ä¹ŸæŒºåƒï¼Œè¾…åŠ©å¸ƒéš†ä¹Ÿæ˜¯æŒ¡å­å¼¹çš„ï¼‰\n\nä½¿ç”¨å¸ƒéš†è¿‡æ»¤å™¨ï¼Œèƒ½å¤Ÿå‘Šè¯‰ä½ æŸæ ·ä¸œè¥¿ä¸€å®šä¸å­˜åœ¨æˆ–æ˜¯æŸæ ·ä¸œè¥¿å¯èƒ½å­˜åœ¨ã€‚\nå¸ƒéš†è¿‡æ»¤å™¨æœ¬è´¨æ˜¯ä¸€ä¸ªå­˜æ”¾äºŒè¿›åˆ¶ä½çš„bitæ•°ç»„ï¼Œå¦‚æœæˆ‘ä»¬è¦æ·»åŠ ä¸€ä¸ªå€¼åˆ°å¸ƒéš†è¿‡æ»¤å™¨ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨Nä¸ªä¸åŒçš„å“ˆå¸Œå‡½æ•°æ¥ç”ŸæˆNä¸ªå“ˆå¸Œå€¼ï¼Œå¹¶å¯¹æ¯ä¸ªç”Ÿæˆçš„å“ˆå¸Œå€¼æŒ‡å‘çš„bitä½ç½®1ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œä¸€å…±æ·»åŠ äº†ä¸‰ä¸ªå€¼abcã€‚\næ¥ç€æˆ‘ä»¬ç»™ä¸€ä¸ªdï¼Œé‚£ä¹ˆè¿™æ—¶å°±å¯ä»¥è¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœè¯´dè®¡ç®—çš„Nä¸ªå“ˆå¸Œå€¼çš„ä½ç½®ä¸Šéƒ½æ˜¯1ï¼Œé‚£ä¹ˆå°±è¯´æ˜då¯èƒ½å­˜åœ¨ï¼›è¿™æ—¶å€™åˆæ¥äº†ä¸ªeï¼Œè®¡ç®—åæˆ‘ä»¬å‘ç°æœ‰ä¸€ä¸ªä½ç½®ä¸Šçš„å€¼æ˜¯0ï¼Œè¿™æ—¶å°±å¯ä»¥ç›´æ¥æ–­å®šeä¸€å®šä¸å­˜åœ¨ã€‚\nç¼“å­˜å‡»ç©¿\næŸä¸ª Key å±äºçƒ­ç‚¹æ•°æ®ï¼Œè®¿é—®éå¸¸é¢‘ç¹ï¼ŒåŒä¸€æ—¶é—´å¾ˆå¤šäººéƒ½åœ¨è®¿é—®ï¼Œåœ¨è¿™ä¸ªKeyå¤±æ•ˆçš„ç¬é—´ï¼Œå¤§é‡çš„è¯·æ±‚åˆ°æ¥ï¼Œè¿™æ—¶å‘ç°ç¼“å­˜ä¸­æ²¡æœ‰æ•°æ®ï¼Œå°±å…¨éƒ½ç›´æ¥è¯·æ±‚æ•°æ®åº“ï¼Œç›¸å½“äºå‡»ç©¿äº†ç¼“å­˜å±éšœï¼Œç›´æ¥æ”»å‡»æ•´ä¸ªç³»ç»Ÿæ ¸å¿ƒã€‚\nè¿™ç§æƒ…å†µä¸‹ï¼Œæœ€å¥½çš„è§£å†³åŠæ³•å°±æ˜¯ä¸è®©Keyé‚£ä¹ˆå¿«è¿‡æœŸï¼Œå¦‚æœä¸€ä¸ªKeyå¤„äºé«˜é¢‘è®¿é—®ï¼Œé‚£ä¹ˆå¯ä»¥é€‚å½“åœ°å»¶é•¿è¿‡æœŸæ—¶é—´ã€‚\nç¼“å­˜é›ªå´©\nå½“ä½ çš„RedisæœåŠ¡å™¨ç‚¸äº†æˆ–æ˜¯å¤§é‡çš„Keyåœ¨åŒä¸€æ—¶é—´è¿‡æœŸï¼Œè¿™æ—¶ç›¸å½“äºç¼“å­˜ç›´æ¥GGäº†ï¼Œé‚£ä¹ˆå¦‚æœè¿™æ—¶åˆæœ‰å¾ˆå¤šçš„è¯·æ±‚æ¥è®¿é—®ä¸åŒçš„æ•°æ®ï¼ŒåŒä¸€æ—¶é—´å†…ç¼“å­˜æœåŠ¡å™¨å°±å¾—å‘æ•°æ®åº“å¤§é‡å‘èµ·è¯·æ±‚æ¥é‡æ–°å»ºç«‹ç¼“å­˜ï¼Œå¾ˆå®¹æ˜“æŠŠæ•°æ®åº“ä¹ŸæGGã€‚\nè§£å†³è¿™ç§é—®é¢˜æœ€å¥½çš„åŠæ³•å°±æ˜¯è®¾ç½®é«˜å¯ç”¨ï¼Œä¹Ÿå°±æ˜¯æ­å»ºRedisé›†ç¾¤ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é‡‡å–ä¸€äº›æœåŠ¡ç†”æ–­é™çº§æœºåˆ¶ï¼Œè¿™äº›å†…å®¹æˆ‘ä»¬ä¼šåœ¨SpringCloudé˜¶æ®µå†è¿›è¡Œæ¢è®¨ã€‚\n","slug":"SpringBootç¬”è®°ï¼ˆä¸‰ï¼‰","date":"2022-03-05T14:38:57.839Z","categories_index":"SpringBootç¬”è®°","tags_index":"SpringBootç¬”è®°","author_index":"YangChao"},{"id":"8a03b6cf044356a33316079da4b482e4","title":"SpringBootç¬”è®°ï¼ˆäºŒï¼‰","content":"Gitç‰ˆæœ¬æ§åˆ¶æ³¨æ„ï¼šå¼€å§‹å­¦ä¹ ä¹‹å‰ï¼Œç¡®ä¿è‡ªå·±çš„ç½‘ç»œå¯ä»¥ç•…é€šçš„è¿æ¥Githubï¼šhttps://github.comï¼Œè¿™ä¸ªæ˜¯ä¸€ä¸ªå›½å¤–ç½‘ç«™ï¼Œè¿èµ·æ¥ç‰¹åˆ«å¡ï¼Œè‡³äºç”¨ä»€ä¹ˆæ–¹å¼å®ç°æµç•…è®¿é—®ï¼Œæ‡‚çš„éƒ½æ‡‚ã€‚\nå…¶å®ç‰ˆæœ¬æ§åˆ¶åœ¨æˆ‘ä»¬çš„ç”Ÿæ´»ä¸­æ— å¤„ä¸åœ¨ï¼Œæ¯”å¦‚ä½ çš„æœŸæœ«æˆ–æ˜¯æ¯•ä¸šç­”è¾©è®ºæ–‡ï¼Œç”±äºä½ å†™å¾—ä¸è§„èŒƒæˆ–æ˜¯è€å¸ˆä¸æ»¡æ„ï¼Œä½ çš„è€å¸ˆå¯èƒ½ä¼šè®©ä½ æ”¹äº†åˆæ”¹ï¼Œäºæ˜¯å°±ä¼šå‡ºç°ä¸‹é¢è¿™ç§æƒ…å†µï¼š\n\næˆ‘ä»¬æ‰‹é‡Œçš„è®ºæ–‡å¯èƒ½ä¼šç»è¿‡å¤šæ¬¡ç‰ˆæœ¬è¿­ä»£ï¼Œæœ€ç»ˆæˆ‘ä»¬ä¼šé€‰å–ä¸€ä¸ªæœ€å¥½çš„ç‰ˆæœ¬ä½œä¸ºæœ€ç»ˆæäº¤çš„è®ºæ–‡ã€‚ä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶ä¸ä»…ä»…æ˜¯ä¸ºäº†å»è®°å½•ç‰ˆæœ¬è¿­ä»£å†å²ï¼Œæ›´æ˜¯ä¸ºäº†èƒ½å¤Ÿéšæ—¶å›é€€åˆ°ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œå®ç°æ—¶é—´å›æº¯ã€‚åŒæ—¶ï¼Œå¯èƒ½æˆ‘ä»¬çš„è®ºæ–‡æ˜¯å¤šä¸ªäººä¸€åŒå®Œæˆï¼Œé‚£ä¹ˆå¤šä¸ªäººå¦‚ä½•å»å®ç°åŒæ­¥ï¼Œå¦‚ä½•ä¿è¯æ¯ä¸ªäººæäº¤çš„æ›´æ”¹éƒ½èƒ½å¤Ÿæ­£å¸¸æ±‡æ€»ï¼Œå¦‚ä½•è§£å†³å†²çªï¼Œè¿™äº›é—®é¢˜éƒ½éœ€è¦ä¸€ä¸ªä¼˜ç§€çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿæ¥è§£å†³ã€‚\nèµ°è¿›Gitæˆ‘ä»¬å¼€å‘çš„é¡¹ç›®ï¼Œä¹Ÿéœ€è¦ä¸€ä¸ªåˆé€‚çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿæ¥ååŠ©æˆ‘ä»¬æ›´å¥½åœ°ç®¡ç†ç‰ˆæœ¬è¿­ä»£ï¼Œè€ŒGitæ­£æ˜¯å› æ­¤è€Œè¯ç”Ÿçš„ï¼ˆæœ‰å…³Gitçš„å†å²ï¼Œè¿™é‡Œå°±ä¸å¤šåšé˜è¿°äº†ï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥è‡ªè¡Œäº†è§£ï¼Œæ˜¯ä¸€ä½é¡¶çº§å¤§ä½¬åœ¨ä¸€æ€’ä¹‹ä¸‹åªèŠ±äº†2å‘¨æ—¶é—´ç”¨Cè¯­è¨€å¼€å‘çš„ï¼Œä¹‹åçš„ç« èŠ‚è¿˜ä¼šé‡åˆ°ä»–ï¼‰\né¦–å…ˆæˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹Gitæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼š\n\nå¯ä»¥çœ‹åˆ°ï¼Œå®ƒå¤§è‡´åˆ†ä¸º4ä¸ªæ¿å—ï¼š\n\nå·¥ä½œç›®å½•ï¼šå­˜æ”¾æˆ‘ä»¬æ­£åœ¨å†™çš„ä»£ç ï¼ˆå½“æˆ‘ä»¬æ–°ç‰ˆæœ¬å¼€å‘å®Œæˆä¹‹åï¼Œå°±å¯ä»¥è¿›è¡Œæ–°ç‰ˆæœ¬çš„æäº¤ï¼‰\næš‚å­˜åŒºï¼šæš‚æ—¶ä¿å­˜å¾…æäº¤çš„å†…å®¹ï¼ˆæ–°ç‰ˆæœ¬æäº¤åä¼šå­˜æ”¾åˆ°æœ¬åœ°ä»“åº“ï¼‰\næœ¬åœ°ä»“åº“ï¼šä½äºæˆ‘ä»¬ç”µè„‘ä¸Šçš„ä¸€ä¸ªç‰ˆæœ¬æ§åˆ¶ä»“åº“ï¼ˆå­˜æ”¾çš„å°±æ˜¯å½“å‰é¡¹ç›®å„ä¸ªç‰ˆæœ¬ä»£ç çš„å¢åˆ ä¿¡æ¯ï¼‰\nè¿œç¨‹ä»“åº“ï¼šä½äºæœåŠ¡å™¨ä¸Šçš„ç‰ˆæœ¬æ§åˆ¶ä»“åº“ï¼ˆæœåŠ¡å™¨ä¸Šçš„ç‰ˆæœ¬ä¿¡æ¯å¯ä»¥ç”±æœ¬åœ°ä»“åº“æ¨é€ä¸Šå»ï¼Œä¹Ÿå¯ä»¥ä»æœåŠ¡å™¨æŠ“å–åˆ°æœ¬åœ°ä»“åº“ï¼‰\n\nå®ƒæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼çš„æ§åˆ¶ç³»ç»Ÿï¼Œå› æ­¤ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬æ¯ä¸ªäººçš„ç”µè„‘ä¸Šéƒ½æœ‰ä¸€ä¸ªæœ¬åœ°ä»“åº“ï¼Œç”±å¤§å®¶å…±åŒå‘è¿œç¨‹ä»“åº“å»æ¨é€ç‰ˆæœ¬è¿­ä»£ä¿¡æ¯ã€‚\né€šè¿‡è¿™ä¸€ç³»åˆ—æ“ä½œï¼Œæˆ‘ä»¬å°±å¯ä»¥å®ç°æ¯å¼€å‘å®Œä¸€ä¸ªç‰ˆæœ¬æˆ–æ˜¯ä¸€ä¸ªåŠŸèƒ½ï¼Œå°±æäº¤ä¸€æ¬¡æ–°ç‰ˆæœ¬ï¼Œè¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¾ˆå¥½åœ°æ§åˆ¶é¡¹ç›®çš„ç‰ˆæœ¬è¿­ä»£ï¼Œæƒ³å›é€€åˆ°ä¹‹å‰çš„ç‰ˆæœ¬éšæ—¶éƒ½å¯ä»¥å›é€€ï¼Œæƒ³æŸ¥çœ‹æ–°ç‰ˆæœ¬æ·»åŠ æˆ–æ˜¯åˆ é™¤äº†ä»€ä¹ˆä»£ç ï¼Œéšæ—¶éƒ½å¯ä»¥æŸ¥çœ‹ã€‚\nå®‰è£…Gité¦–å…ˆè¯·å‰å¾€Gitå®˜ç½‘å»ä¸‹è½½æœ€æ–°çš„å®‰è£…åŒ…ï¼šhttps://git-scm.com/download/win\nè¿™æ‰‹æŠŠæ‰‹æ¼”ç¤ºä¸€ä¸‹å¦‚ä½•å®‰è£…Gitç¯å¢ƒã€‚\nå®‰è£…å®Œæˆåï¼Œéœ€è¦è®¾å®šç”¨æˆ·åå’Œé‚®ç®±æ¥åŒºåˆ†ä¸åŒçš„ç”¨æˆ·ï¼š\ngit config --global user.name &quot;Your Name&quot;\ngit config --global user.email &quot;email@example.com&quot;\n\nåŸºæœ¬å‘½ä»¤ä»‹ç»åˆ›å»ºæœ¬åœ°ä»“åº“æˆ‘ä»¬å¯ä»¥å°†ä»»æ„ä¸€ä¸ªæ–‡ä»¶å¤¹ä½œä¸ºä¸€ä¸ªæœ¬åœ°ä»“åº“ï¼Œè¾“å…¥ï¼š\ngit init\n\nè¾“å…¥åï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª.gitç›®å½•ï¼Œæ³¨æ„è¿™ä¸ªç›®å½•æ˜¯ä¸€ä¸ªéšè—ç›®å½•ï¼Œè€Œå½“å‰ç›®å½•å°±æ˜¯æˆ‘ä»¬çš„å·¥ä½œç›®å½•ã€‚\nåˆ›å»ºæˆåŠŸåï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹ä¸€ä¸‹å½“å‰çš„ä¸€ä¸ªçŠ¶æ€ï¼Œè¾“å…¥ï¼š\ngit status\n\nå¦‚æœå·²ç»æˆåŠŸé…ç½®ä¸ºGitæœ¬åœ°ä»“åº“ï¼Œé‚£ä¹ˆè¾“å…¥åå¯ä»¥çœ‹åˆ°ï¼š\nOn branch master\n\nNo commits yet\n\nè¿™è¡¨ç¤ºæˆ‘ä»¬è¿˜æ²¡æœ‰å‘ä»“åº“ä¸­æäº¤ä»»ä½•å†…å®¹ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªç©ºçš„çŠ¶æ€ã€‚\næ·»åŠ å’Œæäº¤æ¥ç€æˆ‘ä»¬æ¥çœ‹çœ‹ï¼Œå¦‚ä½•ä½¿ç”¨gitæ¥ç®¡ç†æˆ‘ä»¬æ–‡æ¡£çš„ç‰ˆæœ¬ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–‡æœ¬æ–‡æ¡£ï¼Œéšä¾¿å†™å…¥ä¸€ç‚¹å†…å®¹ï¼Œæ¥ç€è¾“å…¥ï¼š\ngit status\n\næˆ‘ä»¬ä¼šå¾—åˆ°å¦‚ä¸‹æç¤ºï¼š\nUntracked files:\n  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)\n\thello.txt\n\nnothing added to commit but untracked files present (use &quot;git add&quot; to track)\n\nå…¶ä¸­Untracked filesæ˜¯æœªè¿½è¸ªæ–‡ä»¶çš„æ„æ€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä¸€ä¸ªæ–‡ä»¶å¤„äºæœªè¿½è¸ªçŠ¶æ€ï¼Œé‚£ä¹ˆgitä¸ä¼šè®°å½•å®ƒçš„å˜åŒ–ï¼Œå§‹ç»ˆå°†å…¶å½“åšä¸€ä¸ªæ–°åˆ›å»ºçš„æ–‡ä»¶ï¼Œè¿™é‡Œæˆ‘ä»¬å°†å…¶æ·»åŠ åˆ°æš‚å­˜åŒºï¼Œé‚£ä¹ˆå®ƒä¼šè‡ªåŠ¨å˜ä¸ºè¢«è¿½è¸ªçŠ¶æ€ï¼š\ngit add hello.txt #ä¹Ÿå¯ä»¥ add . ä¸€æ¬¡æ€§æ·»åŠ ç›®å½•ä¸‹æ‰€æœ‰çš„\n\nå†æ¬¡æŸ¥çœ‹å½“å‰çŠ¶æ€ï¼š\nChanges to be committed:\n  (use &quot;git rm --cached &lt;file&gt;...&quot; to unstage)\n\tnew file:   hello.txt\n\nç°åœ¨æ–‡ä»¶åç§°çš„é¢œè‰²å˜æˆäº†ç»¿è‰²ï¼Œå¹¶ä¸”æ˜¯å¤„äºChanges to be committedä¸‹é¢ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬çš„hello.txtç°åœ¨å·²ç»è¢«æ·»åŠ åˆ°æš‚å­˜åŒºäº†ã€‚\næ¥ç€æˆ‘ä»¬æ¥å°è¯•å°†å…¶æäº¤åˆ°Gitæœ¬åœ°ä»“åº“ä¸­ï¼Œæ³¨æ„éœ€è¦è¾“å…¥æäº¤çš„æè¿°ä»¥ä¾¿åç»­æŸ¥çœ‹ï¼Œæ¯”å¦‚ä½ è¿™æ¬¡æäº¤ä¿®æ”¹äº†æˆ–æ˜¯æ–°å¢äº†å“ªäº›å†…å®¹ï¼š\ngit commit -m &#39;Hello World&#39;\n\næ¥ç€æˆ‘ä»¬å¯ä»¥æŸ¥çœ‹æˆ‘ä»¬çš„æäº¤è®°å½•ï¼š\ngit log\ngit log --graph\n\næˆ‘ä»¬è¿˜å¯ä»¥æŸ¥çœ‹æœ€è¿‘ä¸€æ¬¡å˜æ›´çš„è¯¦ç»†å†…å®¹ï¼š\ngit show [ä¹Ÿå¯ä»¥åŠ ä¸Šcommit IDæŸ¥çœ‹æŒ‡å®šçš„æäº¤è®°å½•]\n\nå†æ¬¡æŸ¥çœ‹å½“å‰çŠ¶æ€ï¼Œå·²ç»æ˜¯æ¸…ç©ºçŠ¶æ€äº†ï¼š\nOn branch master\nnothing to commit, working tree clean\n\næ¥ç€æˆ‘ä»¬å¯ä»¥å°è¯•ä¿®æ”¹ä¸€ä¸‹æˆ‘ä»¬çš„æ–‡æœ¬æ–‡æ¡£ï¼Œç”±äºå½“å‰æ–‡ä»¶å·²ç»æ˜¯è¢«è¿½è¸ªçŠ¶æ€ï¼Œé‚£ä¹ˆgitä¼šå»è·Ÿè¸ªå®ƒçš„å˜åŒ–ï¼Œå¦‚æœè¯´æ–‡ä»¶å‘ç”Ÿäº†ä¿®æ”¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å†æ¬¡æŸ¥çœ‹çŠ¶æ€ä¼šå¾—åˆ°ä¸‹é¢çš„ç»“æœï¼š\nChanges not staged for commit:\n  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)\n  (use &quot;git restore &lt;file&gt;...&quot; to discard changes in working directory)\n\tmodified:   hello.txt\n\nä¹Ÿå°±æ˜¯è¯´ç°åœ¨æ­¤æ–‡ä»¶æ˜¯å¤„äºå·²ä¿®æ”¹çŠ¶æ€ï¼Œæˆ‘ä»¬å¦‚æœä¿®æ”¹å¥½äº†ï¼Œå°±å¯ä»¥æäº¤æˆ‘ä»¬çš„æ–°ç‰ˆæœ¬åˆ°æœ¬åœ°ä»“åº“ä¸­ï¼š\ngit add .\ngit commit -m &#39;Modify Text&#39;\n\næ¥ç€æˆ‘ä»¬æ¥æŸ¥è¯¢ä¸€ä¸‹æäº¤è®°å½•ï¼Œå¯ä»¥çœ‹åˆ°ä¸€å…±æœ‰ä¸¤æ¬¡æäº¤è®°å½•ã€‚\næˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ª.gitignoreæ–‡ä»¶æ¥ç¡®å®šä¸€ä¸ªæ–‡ä»¶å¿½ç•¥åˆ—è¡¨ï¼Œå¦‚æœå¿½ç•¥åˆ—è¡¨ä¸­çš„æ–‡ä»¶å­˜åœ¨ä¸”ä¸æ˜¯è¢«è¿½è¸ªçŠ¶æ€ï¼Œé‚£ä¹ˆgitä¸ä¼šå¯¹å…¶è¿›è¡Œä»»ä½•æ£€æŸ¥ï¼š\n# è¿™æ ·å°±ä¼šåŒ¹é…æ‰€æœ‰ä»¥txtç»“å°¾çš„æ–‡ä»¶\n*.txt\n# è™½ç„¶ä¸Šé¢æ’é™¤äº†æ‰€æœ‰txtç»“å°¾çš„æ–‡ä»¶ï¼Œä½†æ˜¯è¿™ä¸ªä¸æ’é™¤\n!666.txt\n# ä¹Ÿå¯ä»¥ç›´æ¥æŒ‡å®šä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å°†å…¨éƒ¨å¿½ç•¥\ntest&#x2F;\n# ç›®å½•ä¸­æ‰€æœ‰ä»¥txtç»“å°¾çš„æ–‡ä»¶ï¼Œä½†ä¸åŒ…æ‹¬å­ç›®å½•\nxxx&#x2F;*.txt\n# ç›®å½•ä¸­æ‰€æœ‰ä»¥txtç»“å°¾çš„æ–‡ä»¶ï¼ŒåŒ…æ‹¬å­ç›®å½•\nxxx&#x2F;**&#x2F;*.txt\n\nåˆ›å»ºåï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹æ˜¯å¦è¿˜ä¼šæ£€æµ‹åˆ°æˆ‘ä»¬å¿½ç•¥çš„æ–‡ä»¶ã€‚\nå›æ»šå½“æˆ‘ä»¬æƒ³è¦å›é€€åˆ°è¿‡å»çš„ç‰ˆæœ¬æ—¶ï¼Œå°±å¯ä»¥æ‰§è¡Œå›æ»šæ“ä½œï¼Œæ‰§è¡Œåï¼Œå¯ä»¥å°†å·¥ä½œç©ºé—´çš„å†…å®¹æ¢å¤åˆ°æŒ‡å®šæäº¤çš„çŠ¶æ€ï¼š\ngit reset --hard commitID\n\næ‰§è¡Œåï¼Œä¼šç›´æ¥é‡ç½®ä¸ºé‚£ä¸ªæ—¶å€™çš„çŠ¶æ€ã€‚å†æ¬¡æŸ¥çœ‹æäº¤æ—¥å¿—ï¼Œæˆ‘ä»¬å‘ç°ä¹‹åçš„æ—¥å¿—å…¨éƒ¨æ¶ˆå¤±äº†ã€‚\né‚£ä¹ˆè¦æ˜¯ç°åœ¨æˆ‘åˆæƒ³å›å»å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥é€šè¿‡æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯çš„æ‰€æœ‰æ“ä½œè®°å½•ï¼š\ngit reflog\n\nè¿™æ ·å°±èƒ½æ‰¾åˆ°ä¹‹å‰çš„commitIDï¼Œå†æ¬¡é‡ç½®å³å¯ã€‚\nåˆ†æ”¯åˆ†æ”¯å°±åƒæˆ‘ä»¬æ ‘ä¸Šçš„ä¸€ä¸ªæ ‘æä¸€æ ·ï¼Œå®ƒä»¬å¯èƒ½ä¸€å¼€å§‹çš„æ—¶å€™æ˜¯åŒä¸€æ ¹æ ‘æï¼Œä½†æ˜¯é•¿ç€é•¿ç€å°±å¼€å§‹åˆ†é“æ‰¬é•³äº†ï¼Œè¿™å°±æ˜¯åˆ†æ”¯ã€‚æˆ‘ä»¬çš„ä»£ç ä¹Ÿæ˜¯è¿™æ ·ï¼Œå¯èƒ½ä¸€å¼€å§‹å†™åŸºç¡€åŠŸèƒ½çš„æ—¶å€™ä½¿ç”¨çš„æ˜¯å•ä¸ªåˆ†æ”¯ï¼Œä½†æ˜¯æŸä¸€å¤©æˆ‘ä»¬å¸Œæœ›åŸºäºè¿™äº›åŸºç¡€çš„åŠŸèƒ½ï¼ŒæŠŠæˆ‘ä»¬çš„é¡¹ç›®åšæˆä¸¤ä¸ªä¸åŒæ–¹å‘çš„é¡¹ç›®ï¼Œæ¯”å¦‚ä¸€ä¸ªæ–¹å‘åšWebç½‘ç«™ï¼Œå¦ä¸€ä¸ªæ–¹å‘åšæ¸¸æˆæœåŠ¡ç«¯ã€‚\nå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸€ä¸ªä¸»å¹²ä¸Šåˆ†å‡ºNä¸ªåˆ†æ”¯ï¼Œåˆ†åˆ«å¯¹å¤šä¸ªåˆ†æ”¯çš„ä»£ç è¿›è¡Œç»´æŠ¤ã€‚\nåˆ›å»ºåˆ†æ”¯æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹å½“å‰ä»“åº“ä¸­å­˜åœ¨çš„åˆ†æ”¯ï¼š\ngit branch\n\næˆ‘ä»¬å‘ç°ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯æœ‰ä¸€ä¸ªmasteråˆ†æ”¯çš„ï¼Œå¹¶ä¸”æˆ‘ä»¬ä½¿ç”¨çš„ä¹Ÿæ˜¯masteråˆ†æ”¯ï¼Œä¸€èˆ¬æƒ…å†µä¸‹masteråˆ†æ”¯éƒ½æ˜¯æ­£å¼ç‰ˆæœ¬çš„æ›´æ–°ï¼Œè€Œå…¶ä»–åˆ†æ”¯ä¸€èˆ¬æ˜¯å¼€å‘ä¸­æ‰é¢‘ç¹æ›´æ–°çš„ã€‚æˆ‘ä»¬æ¥ç€æ¥åŸºäºå½“å‰åˆ†æ”¯åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯ï¼š\ngit branch test\n# å¯¹åº”çš„åˆ é™¤åˆ†æ”¯æ˜¯\ngit branch -d yyds\n\nç°åœ¨æˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹æ–‡ä»¶ï¼Œæäº¤ï¼Œå†æŸ¥çœ‹ä¸€ä¸‹æäº¤æ—¥å¿—ï¼š\ngit commit -a -m &#39;branch master commit&#39;\n\né€šè¿‡æ·»åŠ -aæ¥è‡ªåŠ¨å°†æœªæ”¾å…¥æš‚å­˜åŒºçš„å·²ä¿®æ”¹æ–‡ä»¶æ”¾å…¥æš‚å­˜åŒºå¹¶æ‰§è¡Œæäº¤æ“ä½œã€‚æŸ¥çœ‹æ—¥å¿—ï¼Œæˆ‘ä»¬å‘ç°ç°åœ¨æˆ‘ä»¬çš„æäº¤åªç”Ÿæ•ˆäºmasteråˆ†æ”¯ï¼Œè€Œæ–°åˆ›å»ºçš„åˆ†æ”¯å¹¶æ²¡æœ‰å‘ç”Ÿä¿®æ”¹ã€‚\næˆ‘ä»¬å°†åˆ†æ”¯åˆ‡æ¢åˆ°å¦ä¸€ä¸ªåˆ†æ”¯ï¼š\ngit checkout test\n\næˆ‘ä»¬ä¼šå‘ç°ï¼Œæ–‡ä»¶å˜æˆäº†æ­¤åˆ†æ”¯åˆ›å»ºçš„æ—¶çš„çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä¸åŒåˆ†æ”¯ä¸‹æˆ‘ä»¬çš„æ–‡ä»¶å†…å®¹æ˜¯ç›¸äº’éš”ç¦»çš„ã€‚\næˆ‘ä»¬ç°åœ¨å†æ¥æäº¤ä¸€æ¬¡å˜æ›´ï¼Œä¼šå‘ç°å®ƒåªç”Ÿæ•ˆåœ¨yydsåˆ†æ”¯ä¸Šã€‚æˆ‘ä»¬å¯ä»¥çœ‹çœ‹å½“å‰çš„åˆ†æ”¯çŠ¶æ€ï¼š\ngit log --all --graph\n\nåˆå¹¶åˆ†æ”¯æˆ‘ä»¬ä¹Ÿå¯ä»¥å°†ä¸¤ä¸ªåˆ†æ”¯æ›´æ–°çš„å†…å®¹æœ€ç»ˆåˆå¹¶åˆ°åŒä¸€ä¸ªåˆ†æ”¯ä¸Šï¼Œæˆ‘ä»¬å…ˆåˆ‡æ¢å›ä¸»åˆ†æ”¯ï¼š\ngit checkout master\n\næ¥ç€ä½¿ç”¨åˆ†æ”¯åˆå¹¶å‘½ä»¤ï¼š\ngit merge test\n\nä¼šå¾—åˆ°å¦‚ä¸‹æç¤ºï¼š\nAuto-merging hello.txt\nCONFLICT (content): Merge conflict in hello.txt\nAutomatic merge failed; fix conflicts and then commit the result.\n\nåœ¨åˆå¹¶è¿‡ç¨‹ä¸­äº§ç”Ÿäº†å†²çªï¼Œå› ä¸ºä¸¤ä¸ªåˆ†æ”¯éƒ½å¯¹hello.txtæ–‡ä»¶è¿›è¡Œäº†ä¿®æ”¹ï¼Œé‚£ä¹ˆç°åœ¨è¦åˆå¹¶åœ¨ä¸€èµ·ï¼Œåˆ°åº•ä¿ç•™è°çš„helloæ–‡ä»¶å‘¢ï¼Ÿ\næˆ‘ä»¬å¯ä»¥æŸ¥çœ‹ä¸€ä¸‹æ˜¯å“ªé‡Œå‘ç”Ÿäº†å†²çªï¼š\ngit diff\n\nå› æ­¤ï¼Œç°åœ¨æˆ‘ä»¬å°†masteråˆ†æ”¯çš„ç‰ˆæœ¬å›é€€åˆ°ä¿®æ”¹hello.txtä¹‹å‰æˆ–æ˜¯ç›´æ¥ä¿®æ”¹ä¸ºæœ€æ–°ç‰ˆæœ¬çš„å†…å®¹ï¼Œè¿™æ ·å°±ä¸ä¼šæœ‰å†²çªäº†ï¼Œæ¥ç€å†æ‰§è¡Œä¸€æ¬¡åˆå¹¶æ“ä½œï¼Œç°åœ¨ä¸¤ä¸ªåˆ†æ”¯æˆåŠŸåˆå¹¶ä¸ºåŒä¸€ä¸ªåˆ†æ”¯ã€‚\nå˜åŸºåˆ†æ”¯é™¤äº†ç›´æ¥åˆå¹¶åˆ†æ”¯ä»¥å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è¿›è¡Œå˜åŸºæ“ä½œï¼Œå®ƒè·Ÿåˆå¹¶ä¸åŒï¼Œåˆå¹¶æ˜¯åˆ†æ”¯å›åˆ°ä¸»å¹²çš„è¿‡ç¨‹ï¼Œè€Œå˜åŸºæ˜¯ç›´æ¥ä¿®æ”¹åˆ†æ”¯å¼€å§‹çš„ä½ç½®ï¼Œæ¯”å¦‚æˆ‘ä»¬å¸Œæœ›å°†yydså˜åŸºåˆ°masterä¸Šï¼Œé‚£ä¹ˆyydsä¼šå°†åˆ†æ”¯èµ·ç‚¹ç§»åŠ¨åˆ°masteræœ€åä¸€æ¬¡æäº¤ä½ç½®ï¼š\ngit rebase master\n\nå˜åŸºåï¼Œyydsåˆ†æ”¯ç›¸å½“äºåŒæ­¥äº†æ­¤å‰masteråˆ†æ”¯çš„å…¨éƒ¨æäº¤ã€‚\nä¼˜é€‰æˆ‘ä»¬è¿˜å¯ä»¥é€‰æ‹©å…¶å°†ä»–åˆ†æ”¯ä¸Šçš„æäº¤ä½œç”¨äºå½“å‰åˆ†æ”¯ä¸Šï¼Œè¿™ç§æ“ä½œç§°ä¸ºcherrypickï¼š\ngit cherry-pick &lt;commit id&gt;:å•ç‹¬åˆå¹¶ä¸€ä¸ªæäº¤\n\nè¿™é‡Œæˆ‘ä»¬åœ¨masteråˆ†æ”¯ä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶ï¼Œæäº¤æ­¤æ¬¡æ›´æ–°ï¼Œæ¥ç€é€šè¿‡cherry-pickçš„æ–¹å¼å°†æ­¤æ¬¡æ›´æ–°ä½œç”¨äºteståˆ†æ”¯ä¸Šã€‚\n\nä½¿ç”¨IDEAç‰ˆæœ¬æ§åˆ¶è™½ç„¶å‰é¢æˆ‘ä»¬åŸºæœ¬è®²è§£äº†gitçš„å‘½ä»¤è¡Œä½¿ç”¨æ–¹æ³•ï¼Œä½†æ˜¯æ²¡æœ‰ä¸€ä¸ªå›¾å½¢åŒ–ç•Œé¢ï¼Œå§‹ç»ˆä¼šæ„Ÿè§‰åˆ°å¾ˆæŠ½è±¡ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨IDEAæ¥æ¼”ç¤ºï¼ŒIDEAå†…éƒ¨é›†æˆäº†gitæ¨¡å—ï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬çš„gitç‰ˆæœ¬ç®¡ç†å›¾å½¢åŒ–æ˜¾ç¤ºï¼Œå½“ç„¶é™¤äº†IDEAä¹Ÿæœ‰ä¸€äº›ç‹¬ç«‹çš„è½¯ä»¶æ¯”å¦‚ï¼šSourceTreeï¼ˆæŒºå¥½ç”¨ï¼‰\næ‰“å¼€IDEAåï¼Œæ‰¾åˆ°ç‰ˆæœ¬æ§æ¨¡å—ï¼Œæˆ‘ä»¬ç›´æ¥ç‚¹å‡»åˆ›å»ºæœ¬åœ°ä»“åº“ï¼Œå®ƒä¼šè‡ªåŠ¨å°†å½“å‰é¡¹ç›®çš„æ ¹ç›®å½•ä½œä¸ºæˆ‘ä»¬çš„æœ¬åœ°ä»“åº“ï¼Œè€Œæˆ‘ä»¬ç¼–å†™çš„æ‰€æœ‰ä»£ç å’Œé¡¹ç›®ç›®å½•ä¸‹å…¶ä»–çš„æ–‡ä»¶éƒ½å¯ä»¥è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ã€‚\næˆ‘ä»¬å‘ç°æ‰€æœ‰é¡¹ç›®ä¸­æ­£åœ¨ç¼–å†™çš„ç±»æ–‡ä»¶å…¨éƒ¨å˜çº¢äº†ï¼Œä¹Ÿå°±æ˜¯å¤„äºæœªè¿½è¸ªçŠ¶æ€ï¼Œæ¥ç€æˆ‘ä»¬è¿›è¡Œç¬¬ä¸€æ¬¡åˆå§‹åŒ–æäº¤ï¼Œæäº¤ä¹‹åæˆ‘ä»¬å¯ä»¥åœ¨ä¸‹æ–¹çœ‹åˆ°æ‰€æœ‰çš„æœ¬åœ°ä»“åº“æäº¤è®°å½•ã€‚\næ¥ç€æˆ‘ä»¬æ¥æ•´åˆä¸€ä¸‹Webç¯å¢ƒï¼Œåˆ›å»ºæ–°çš„ç±»ä¹‹åï¼ŒIDEAä¼šæç¤ºæˆ‘ä»¬æ˜¯å¦å°†æ–‡ä»¶æ·»åŠ åˆ°Gitï¼Œä¹Ÿå°±æ˜¯æ˜¯å¦æ”¾å…¥æš‚å­˜åŒºå¹¶å¼€å¯è¿½è¸ªï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å¯¹æ¯”ä¸¤æ¬¡ä»£ç çš„ç›¸åŒå’Œä¸åŒä¹‹å¤„ã€‚\næ¥ç€æˆ‘ä»¬æ¥æ¼”ç¤ºä¸€ä¸‹åˆ†æ”¯åˆ›å»ºå’Œåˆ†æ”¯ç®¡ç†ã€‚\n\nè¿œç¨‹ä»“åº“è¿œç¨‹ä»“åº“å®é™…ä¸Šå°±æ˜¯ä½äºæœåŠ¡å™¨ä¸Šçš„ä»“åº“ï¼Œå®ƒèƒ½åœ¨è¿œç«¯ä¿å­˜æˆ‘ä»¬çš„ç‰ˆæœ¬å†å²ï¼Œå¹¶ä¸”å¯ä»¥å®ç°å¤šäººåŒæ—¶åˆä½œç¼–å†™é¡¹ç›®ï¼Œæ¯ä¸ªäººéƒ½èƒ½å¤ŸåŒæ­¥ä»–äººçš„ç‰ˆæœ¬ï¼Œèƒ½å¤Ÿçœ‹åˆ°ä»–äººçš„ç‰ˆæœ¬æäº¤ï¼Œç›¸å½“äºå°†æˆ‘ä»¬çš„ä»£ç æ”¾åœ¨æœåŠ¡å™¨ä¸Šè¿›è¡Œæ‰˜ç®¡ã€‚\nè¿œç¨‹ä»“åº“æœ‰å…¬æœ‰å’Œç§æœ‰çš„ï¼Œå…¬æœ‰çš„è¿œç¨‹ä»“åº“æœ‰GitHubã€ç äº‘ã€Codingç­‰ï¼Œä»–ä»¬éƒ½æ˜¯å¯¹å¤–å¼€æ”¾çš„ï¼Œæˆ‘ä»¬æ³¨å†Œè´¦å·ä¹‹åå°±å¯ä»¥ä½¿ç”¨è¿œç¨‹ä»“åº“è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ï¼Œå…¶ä¸­æœ€å¤§çš„å°±æ˜¯GitHubï¼Œä½†æ˜¯å®ƒæœåŠ¡å™¨åœ¨å›½å¤–ï¼Œæˆ‘ä»¬å›½å†…è¿æ¥å¯èƒ½ä¼šæœ‰ä¸€ç‚¹å¡ã€‚ç§æœ‰çš„ä¸€èˆ¬æ˜¯GitLabè¿™ç§è‡ªä¸»æ­å»ºçš„è¿œç¨‹ä»“åº“ç§æœï¼Œåœ¨å…¬å¸ä¸­æ¯”è¾ƒå¸¸ç”¨ï¼Œå®ƒåªå¯¹å…¬å¸å†…éƒ¨å¼€æ”¾ï¼Œä¸å¯¹å¤–å¼€æ”¾ã€‚\nè¿™é‡Œæˆ‘ä»¬ä»¥GitHubåšè®²è§£ï¼Œå®˜ç½‘ï¼šhttps://github.comï¼Œé¦–å…ˆå®Œæˆç”¨æˆ·æ³¨å†Œã€‚\nè¿œç¨‹è´¦æˆ·è®¤è¯å’Œæ¨é€æ¥ç€æˆ‘ä»¬å°±å¯ä»¥åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„è¿œç¨‹ä»“åº“äº†ã€‚\nåˆ›å»ºä»“åº“åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ¨é€æ¥å°†æœ¬åœ°ä»“åº“ä¸­çš„å†…å®¹æ¨é€åˆ°è¿œç¨‹ä»“åº“ã€‚\ngit remote add åç§° è¿œç¨‹ä»“åº“åœ°å€\ngit push è¿œç¨‹ä»“åº“åç§° æœ¬åœ°åˆ†æ”¯åç§°[:è¿œç«¯åˆ†æ”¯åç§°]\n\næ³¨æ„pushåé¢ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯è¿œç«¯åç§°ï¼Œè¿˜æœ‰ä¸€ä¸ªå°±æ˜¯æœ¬åœ°åˆ†æ”¯åç§°ï¼Œä½†æ˜¯å¦‚æœæœ¬åœ°åˆ†æ”¯åç§°å’Œè¿œç«¯åˆ†æ”¯åç§°ä¸€è‡´ï¼Œé‚£ä¹ˆä¸ç”¨æŒ‡å®šè¿œç«¯åˆ†æ”¯åç§°ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬å¸Œæœ›æ¨é€çš„åˆ†æ”¯åœ¨è¿œç«¯æ²¡æœ‰åŒåçš„ï¼Œé‚£ä¹ˆéœ€è¦é¢å¤–æŒ‡å®šã€‚æ¨é€å‰éœ€è¦ç™»é™†è´¦æˆ·ï¼ŒGitHubç°åœ¨ä¸å…è®¸ä½¿ç”¨ç”¨æˆ·åå¯†ç éªŒè¯ï¼Œåªå…è®¸ä½¿ç”¨ä¸ªäººAccessTokenæ¥éªŒè¯èº«ä»½ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å…ˆå»ç”Ÿæˆä¸€ä¸ªTokenæ‰å¯ä»¥ã€‚\næ¨é€åï¼Œæˆ‘ä»¬å‘ç°è¿œç¨‹ä»“åº“ä¸­çš„å†…å®¹å·²ç»ä¸æˆ‘ä»¬æœ¬åœ°ä»“åº“ä¸­çš„å†…å®¹ä¿æŒä¸€è‡´äº†ï¼Œæ³¨æ„ï¼Œè¿œç¨‹ä»“åº“ä¹Ÿå¯ä»¥æœ‰å¾ˆå¤šä¸ªåˆ†æ”¯ã€‚\nä½†æ˜¯è¿™æ ·æ¯”è¾ƒéº»çƒ¦ï¼Œæˆ‘ä»¬æ¯æ¬¡éƒ½éœ€è¦å»è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œæœ‰æ²¡æœ‰ä¸€åŠ³æ°¸é€¸çš„æ–¹æ³•å‘¢ï¼Ÿå½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨SSHæ¥å®ç°ä¸€æ¬¡æ€§æ ¡éªŒï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æœ¬åœ°ç”Ÿæˆä¸€ä¸ªrsaå…¬é’¥ï¼š\nssh-keygen -t rsa\ncat ~&#x2F;.ssh&#x2F;github.pub\n\næ¥ç€æˆ‘ä»¬éœ€è¦åœ¨GitHubä¸Šä¸Šä¼ æˆ‘ä»¬çš„å…¬é’¥ï¼Œå½“æˆ‘ä»¬å†æ¬¡å»è®¿é—®GitHubæ—¶ï¼Œä¼šè‡ªåŠ¨éªŒè¯ï¼Œå°±æ— éœ€è¿›è¡Œç™»å½•äº†ï¼Œä¹‹ååœ¨Linuxéƒ¨åˆ†æˆ‘ä»¬ä¼šè¯¦ç»†è®²è§£SSHçš„åŸç†ã€‚\næ¥ç€æˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹å·¥ä½œåŒºçš„å†…å®¹ï¼Œæäº¤åˆ°æœ¬åœ°ä»“åº“åï¼Œå†æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼Œæäº¤çš„è¿‡ç¨‹ä¸­æˆ‘ä»¬æ³¨æ„è§‚å¯Ÿæäº¤è®°å½•ï¼š\ngit commit -a -m &#39;Modify files&#39;\ngit log --all --oneline --graph\ngit push origin master \ngit log --all --oneline --graph\n\næˆ‘ä»¬å¯ä»¥å°†è¿œç«¯å’Œæœ¬åœ°çš„åˆ†æ”¯è¿›è¡Œç»‘å®šï¼Œç»‘å®šåå°±ä¸éœ€è¦æŒ‡å®šåˆ†æ”¯åç§°äº†ï¼š\ngit push --set-upstream origin master:master\ngit push origin\n\nåœ¨ä¸€ä¸ªæœ¬åœ°ä»“åº“å¯¹åº”ä¸€ä¸ªè¿œç¨‹ä»“åº“çš„æƒ…å†µä¸‹ï¼Œè¿œç¨‹ä»“åº“åŸºæœ¬ä¸Šå°±æ˜¯çº¯ç²¹çš„ä»£ç æ‰˜ç®¡äº†ï¼ˆäº‘ç›˜é‚£ç§æ„Ÿè§‰ï¼Œå°±çº¯ç²¹æ˜¯å­˜ä½ ä»£ç çš„ï¼‰\nå…‹éš†é¡¹ç›®å¦‚æœæˆ‘ä»¬å·²ç»å­˜åœ¨ä¸€ä¸ªè¿œç¨‹ä»“åº“çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦åœ¨è¿œç¨‹ä»“åº“çš„ä»£ç ä¸Šç»§ç»­ç¼–å†™ä»£ç ï¼Œè¿™ä¸ªæ—¶å€™æ€ä¹ˆåŠå‘¢ï¼Ÿ\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨å…‹éš†æ“ä½œæ¥å°†è¿œç«¯ä»“åº“çš„å†…å®¹å…¨éƒ¨å¤åˆ¶åˆ°æœ¬åœ°ï¼š\ngit clone è¿œç¨‹ä»“åº“åœ°å€\n\nè¿™æ ·æœ¬åœ°å°±èƒ½å¤Ÿç›´æ¥ä¸è¿œç¨‹ä¿æŒåŒæ­¥ã€‚\næŠ“å–ã€æ‹‰å–å’Œå†²çªè§£å†³æˆ‘ä»¬æ¥ç€æ¥çœ‹ï¼Œå¦‚æœè¿™ä¸ªæ—¶å€™ï¼Œå‡ºç°å¤šä¸ªæœ¬åœ°ä»“åº“å¯¹åº”ä¸€ä¸ªè¿œç¨‹ä»“åº“çš„æƒ…å†µä¸‹ï¼Œæ¯”å¦‚ä¸€ä¸ªå›¢é˜Ÿé‡Œé¢ï¼ŒNä¸ªäººéƒ½åœ¨ä½¿ç”¨åŒä¸€ä¸ªè¿œç¨‹ä»“åº“ï¼Œä½†æ˜¯ä»–ä»¬å„è‡ªåªè´Ÿè´£ç¼–å†™å’Œæ¨é€è‡ªå·±ä¸šåŠ¡éƒ¨åˆ†çš„ä»£ç ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„ååŒå·¥ä½œï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±éœ€è¦åè°ƒã€‚\næ¯”å¦‚ç¨‹åºå‘˜Aå®Œæˆäº†ä»–çš„æ¨¡å—ï¼Œé‚£ä¹ˆä»–å°±å¯ä»¥æäº¤ä»£ç å¹¶æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼Œè¿™æ—¶ç¨‹åºå‘˜Bä¹Ÿè¦å¼€å§‹å†™ä»£ç äº†ï¼Œç”±äºè¿œç¨‹ä»“åº“æœ‰å…¶ä»–ç¨‹åºå‘˜çš„æäº¤è®°å½•ï¼Œå› æ­¤ç¨‹åºå‘˜Bçš„æœ¬åœ°ä»“åº“å’Œè¿œç¨‹ä»“åº“ä¸ä¸€è‡´ï¼Œè¿™æ—¶å°±éœ€è¦æœ‰å…ˆè¿›è¡Œpullæ“ä½œï¼Œè·å–è¿œç¨‹ä»“åº“ä¸­æœ€æ–°çš„æäº¤ï¼š\ngit fetch è¿œç¨‹ä»“åº“ #æŠ“å–ï¼šåªè·å–ä½†ä¸åˆå¹¶è¿œç«¯åˆ†æ”¯ï¼Œåé¢éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨åˆå¹¶æ‰èƒ½æäº¤\ngit pull è¿œç¨‹ä»“åº“ #æ‹‰å–ï¼šè·å–+åˆå¹¶\n\nåœ¨ç¨‹åºå‘˜Bæ‹‰å–äº†æœ€æ–°çš„ç‰ˆæœ¬åï¼Œå†ç¼–å†™è‡ªå·±çš„ä»£ç ç„¶åæäº¤å°±å¯ä»¥å®ç°å¤šäººåˆä½œç¼–å†™é¡¹ç›®äº†ï¼Œå¹¶ä¸”åœ¨æ‹‰å–è¿‡ç¨‹ä¸­å°±èƒ½å°†åˆ«äººæäº¤çš„å†…å®¹åŒæ­¥åˆ°æœ¬åœ°ï¼Œå¼€å‘æ•ˆç‡å¤§å¤§æå‡ã€‚\nå¦‚æœå·¥ä½œä¸­å­˜åœ¨ä¸åè°ƒçš„åœ°æ–¹ï¼Œæ¯”å¦‚ç°åœ¨æˆ‘ä»¬æœ¬åœ°æœ‰ä¸¤ä¸ªä»“åº“ï¼Œä¸€ä¸ªä»“åº“å»ä¿®æ”¹hello.txtå¹¶ç›´æ¥æäº¤ï¼Œå¦ä¸€ä¸ªä»“åº“ä¹Ÿä¿®æ”¹hello.txtå¹¶ç›´æ¥æäº¤ï¼Œä¼šå¾—åˆ°å¦‚ä¸‹é”™è¯¯ï¼š\nTo https:&#x2F;&#x2F;github.com&#x2F;xx&#x2F;xxx.git\n ! [rejected]        master -&gt; master (fetch first)\nerror: failed to push some refs to &#39;https:&#x2F;&#x2F;github.com&#x2F;xx&#x2F;xxx.git&#39;\nhint: Updates were rejected because the remote contains work that you do\nhint: not have locally. This is usually caused by another repository pushing\nhint: to the same ref. You may want to first integrate the remote changes\nhint: (e.g., &#39;git pull ...&#39;) before pushing again.\nhint: See the &#39;Note about fast-forwards&#39; in &#39;git push --help&#39; for details.\n\nä¸€æ—¦ä¸€ä¸ªæœ¬åœ°ä»“åº“æ¨é€äº†ä»£ç ï¼Œé‚£ä¹ˆå¦ä¸€ä¸ªæœ¬åœ°ä»“åº“çš„æ¨é€ä¼šè¢«æ‹’ç»ï¼ŒåŸå› æ˜¯å½“å‰æ–‡ä»¶å·²ç»è¢«å…¶ä»–çš„æ¨é€ç»™ä¿®æ”¹äº†ï¼Œæˆ‘ä»¬è¿™è¾¹ç›¸å½“äºæ˜¯å¦ä¸€ä¸ªç‰ˆæœ¬ï¼Œå’Œä¹‹å‰ä¸¤ä¸ªåˆ†æ”¯åˆå¹¶ä¸€æ ·ï¼Œäº§ç”Ÿäº†å†²çªï¼Œå› æ­¤æˆ‘ä»¬åªèƒ½å»è§£å†³å†²çªé—®é¢˜ã€‚\nå¦‚æœè¿œç¨‹ä»“åº“ä¸­çš„æäº¤å’Œæœ¬åœ°ä»“åº“ä¸­çš„æäº¤æ²¡æœ‰å»ç¼–å†™åŒä¸€ä¸ªæ–‡ä»¶ï¼Œé‚£ä¹ˆå°±å¯ä»¥ç›´æ¥æ‹‰å–ï¼š\ngit pull è¿œç¨‹ä»“åº“\n\næ‹‰å–åä¼šè‡ªåŠ¨è¿›è¡Œåˆå¹¶ï¼Œåˆå¹¶å®Œæˆä¹‹åæˆ‘ä»¬å†æäº¤å³å¯ã€‚\nä½†æ˜¯å¦‚æœä¸¤æ¬¡æäº¤éƒ½ä¿®æ”¹äº†åŒä¸€ä¸ªæ–‡ä»¶ï¼Œé‚£ä¹ˆå°±ä¼šé‡åˆ°å’Œå¤šåˆ†æ”¯åˆå¹¶ä¸€æ ·çš„æƒ…å†µï¼Œåœ¨åˆå¹¶æ—¶ä¼šäº§ç”Ÿå†²çªï¼Œè¿™æ—¶å°±éœ€è¦æˆ‘ä»¬è‡ªå·±å»è§£å†³å†²çªäº†ã€‚\næˆ‘ä»¬å¯ä»¥åœ¨IDEAä¸­æ¼”ç¤ºä¸€ä¸‹ï¼Œå®é™…å¼€å‘åœºæ™¯ä¸‹å¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜ã€‚\n\nè‡³æ­¤ï¼ŒGitç‰ˆæœ¬æ§åˆ¶å°±è®²è§£åˆ°è¿™é‡Œï¼Œä¸‹ä¸€ç« æˆ‘ä»¬ä¼šç»§ç»­è®¤è¯†ä¸€ä¸ªå…¨æ–°çš„æ•°æ®åº“ï¼šRedisã€‚\n\n","slug":"SpringBootç¬”è®°ï¼ˆäºŒï¼‰","date":"2022-03-05T14:38:53.811Z","categories_index":"SpringBootç¬”è®°","tags_index":"SpringBootç¬”è®°","author_index":"YangChao"},{"id":"0437f348450cd4420692493db6677cff","title":"SpringBootç¬”è®°ï¼ˆä¸€ï¼‰","content":"\nSpringBootä¸€ç«™å¼å¼€å‘å®˜ç½‘ï¼šhttps://spring.io/projects/spring-boot\n\n\n\n\n\n\n\n\n\nSpring Bootå¯ä»¥è½»æ¾åˆ›å»ºç‹¬ç«‹çš„ã€åŸºäºSpringçš„ç”Ÿäº§çº§åº”ç”¨ç¨‹åºï¼Œå®ƒå¯ä»¥è®©ä½ â€œè¿è¡Œå³å¯â€ã€‚å¤§å¤šæ•°Spring Bootåº”ç”¨ç¨‹åºåªéœ€è¦å°‘é‡çš„Springé…ç½®ã€‚\nSpringBootåŠŸèƒ½ï¼š\n\nåˆ›å»ºç‹¬ç«‹çš„Springåº”ç”¨ç¨‹åº\nç›´æ¥åµŒå…¥Tomcatã€Jettyæˆ–Undertowï¼ˆæ— éœ€éƒ¨ç½²WARåŒ…ï¼Œæ‰“åŒ…æˆJaræœ¬èº«å°±æ˜¯ä¸€ä¸ªå¯ä»¥è¿è¡Œçš„åº”ç”¨ç¨‹åºï¼‰\næä¾›ä¸€ç«™å¼çš„â€œstarterâ€ä¾èµ–é¡¹ï¼Œä»¥ç®€åŒ–Mavené…ç½®ï¼ˆéœ€è¦æ•´åˆä»€ä¹ˆæ¡†æ¶ï¼Œç›´æ¥å¯¼å¯¹åº”æ¡†æ¶çš„starterä¾èµ–ï¼‰\nå°½å¯èƒ½è‡ªåŠ¨é…ç½®Springå’Œç¬¬ä¸‰æ–¹åº“ï¼ˆé™¤éç‰¹æ®Šæƒ…å†µï¼Œå¦åˆ™å‡ ä¹ä¸éœ€è¦ä½ è¿›è¡Œä»€ä¹ˆé…ç½®ï¼‰\næä¾›ç”Ÿäº§å°±ç»ªåŠŸèƒ½ï¼Œå¦‚æŒ‡æ ‡ã€è¿è¡ŒçŠ¶å†µæ£€æŸ¥å’Œå¤–éƒ¨åŒ–é…ç½®\næ²¡æœ‰ä»£ç ç”Ÿæˆï¼Œä¹Ÿæ²¡æœ‰XMLé…ç½®çš„è¦æ±‚ï¼ˆXMLæ˜¯ä»€ä¹ˆï¼Œå¥½åƒå—ï¼‰\n\nSpringBootæ˜¯ç°åœ¨æœ€ä¸»æµçš„å¼€å‘æ¡†æ¶ï¼Œå®ƒæä¾›äº†ä¸€ç«™å¼çš„å¼€å‘ä½“éªŒï¼Œå¤§å¹…åº¦æé«˜äº†æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡ã€‚\nèµ°è¿›SpringBootåœ¨SSMé˜¶æ®µï¼Œå½“æˆ‘ä»¬éœ€è¦æ­å»ºä¸€ä¸ªåŸºäºSpringå…¨å®¶æ¡¶çš„Webåº”ç”¨ç¨‹åºæ—¶ï¼Œæˆ‘ä»¬ä¸å¾—ä¸åšå¤§é‡çš„ä¾èµ–å¯¼å…¥å’Œæ¡†æ¶æ•´åˆç›¸å…³çš„Beanå®šä¹‰ï¼Œå…‰æ˜¯æ•´åˆæ¡†æ¶å°±èŠ±è´¹äº†æˆ‘ä»¬å¤§é‡çš„æ—¶é—´ï¼Œä½†æ˜¯å®é™…ä¸Šæˆ‘ä»¬å‘ç°ï¼Œæ•´åˆæ¡†æ¶å…¶å®åŸºæœ¬éƒ½æ˜¯ä¸€äº›å›ºå®šæµç¨‹ï¼Œæˆ‘ä»¬æ¯åˆ›å»ºä¸€ä¸ªæ–°çš„Webåº”ç”¨ç¨‹åºï¼ŒåŸºæœ¬éƒ½ä¼šä½¿ç”¨åŒæ ·çš„æ–¹å¼å»æ•´åˆæ¡†æ¶ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥å°†ä¸€äº›é‡å¤çš„é…ç½®ä½œä¸ºçº¦å®šï¼Œåªè¦æ¡†æ¶éµå®ˆè¿™ä¸ªçº¦å®šï¼Œä¸ºæˆ‘ä»¬æä¾›é»˜è®¤çš„é…ç½®å°±å¥½ï¼Œè¿™æ ·å°±ä¸ç”¨æˆ‘ä»¬å†å»é…ç½®äº†ï¼Œçº¦å®šä¼˜äºé…ç½®ï¼\nè€ŒSpringBootæ­£æ˜¯å°†è¿™äº›è¿‡ç¨‹å¤§å¹…åº¦è¿›è¡Œäº†ç®€åŒ–ï¼Œå®ƒå¯ä»¥è‡ªåŠ¨è¿›è¡Œé…ç½®ï¼Œæˆ‘ä»¬åªéœ€è¦å¯¼å…¥å¯¹åº”çš„å¯åŠ¨å™¨ï¼ˆstarterï¼‰ä¾èµ–å³å¯ã€‚\nå®Œæˆæœ¬é˜¶æ®µçš„å­¦ä¹ ï¼ŒåŸºæœ¬èƒ½å¤Ÿèƒœä»»éƒ¨åˆ†ç½‘ç«™ç³»ç»Ÿçš„åç«¯å¼€å‘å·¥ä½œï¼Œä¹Ÿå»ºè®®åŒå­¦ä»¬å­¦ä¹ å®ŒSpringBootä¹‹åå¯»æ‰¾åˆé€‚çš„é˜Ÿå‹å»å‚åŠ è®¡ç®—æœºé¡¹ç›®ç›¸å…³çš„é«˜æ ¡ç«èµ›ã€‚\næˆ‘ä»¬å¯ä»¥é€šè¿‡IDEAæ¥æ¼”ç¤ºå¦‚ä½•å¿«é€Ÿåˆ›å»ºä¸€ä¸ªSpringBooté¡¹ç›®ï¼Œå¹¶ä¸”æ— éœ€ä»»ä½•é…ç½®ï¼Œå°±å¯ä»¥å®ç°Beanæ³¨å†Œã€‚\nSpringBooté¡¹ç›®æ–‡ä»¶ç»“æ„æˆ‘ä»¬åœ¨åˆ›å»ºSpringBooté¡¹ç›®ä¹‹åï¼Œé¦–å…ˆä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªä¸»ç±»ï¼Œè€Œä¸»ç±»ä¸­çš„mainæ–¹æ³•ä¸­è°ƒç”¨äº†SpringApplicationç±»çš„é™æ€æ–¹æ³•æ¥å¯åŠ¨æ•´ä¸ªSpringBooté¡¹ç›®ï¼Œå¹¶ä¸”æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸»ç±»çš„ä¸Šæ–¹æœ‰ä¸€ä¸ª@SpringBootApplicationæ³¨è§£ï¼š\n@SpringBootApplication\npublic class SpringBootTestApplication &#123;\n\n    public static void main(String[] args) &#123;\n        SpringApplication.run(SpringBootTestApplication.class, args);\n    &#125;\n\n&#125;\n\nåŒæ—¶è¿˜è‡ªå¸¦äº†ä¸€ä¸ªæµ‹è¯•ç±»ï¼Œæµ‹è¯•ç±»çš„ä¸Šæ–¹ä»…æ·»åŠ äº†ä¸€ä¸ª@SpringBootTestæ³¨è§£ï¼š\n@SpringBootTest\nclass SpringBootTestApplicationTests &#123;\n\n    @Test\n    void contextLoads() &#123;\n        \n    &#125;\n\n&#125;\n\næˆ‘ä»¬æ¥ç€æ¥çœ‹Mavenä¸­å†™äº†å“ªäº›å†…å®¹ï¼š\n&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;\n&lt;project xmlns&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0&quot; xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;\n         xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0 https:&#x2F;&#x2F;maven.apache.org&#x2F;xsd&#x2F;maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;&#x2F;modelVersion&gt;\n  \t&lt;!--  çˆ¶å·¥ç¨‹  --&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;&#x2F;artifactId&gt;\n        &lt;version&gt;2.6.2&lt;&#x2F;version&gt;\n        &lt;relativePath&#x2F;&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;&#x2F;parent&gt;\n    &lt;groupId&gt;com.example&lt;&#x2F;groupId&gt;\n    &lt;artifactId&gt;springboot-study&lt;&#x2F;artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;&#x2F;version&gt;\n    &lt;name&gt;SpringBootTest&lt;&#x2F;name&gt;\n    &lt;description&gt;SpringBootTest&lt;&#x2F;description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;&#x2F;java.version&gt;\n    &lt;&#x2F;properties&gt;\n    &lt;dependencies&gt;\n        &lt;!--  spring-boot-starter SpringBootæ ¸å¿ƒå¯åŠ¨å™¨  --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;&#x2F;artifactId&gt;\n        &lt;&#x2F;dependency&gt;\n        &lt;!--  spring-boot-starter-test SpringBootæµ‹è¯•æ¨¡å—å¯åŠ¨å™¨  --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;&#x2F;artifactId&gt;\n            &lt;scope&gt;test&lt;&#x2F;scope&gt;\n        &lt;&#x2F;dependency&gt;\n    &lt;&#x2F;dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;!--  SpringBoot Mavenæ’ä»¶ï¼Œæ‰“åŒ…Jaréƒ½ä¸ç”¨ä½ æ“å¿ƒäº†   --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;&#x2F;artifactId&gt;\n            &lt;&#x2F;plugin&gt;\n        &lt;&#x2F;plugins&gt;\n    &lt;&#x2F;build&gt;\n\n&lt;&#x2F;project&gt;\n\né™¤äº†ä»¥ä¸Šè¿™äº›æ–‡ä»¶ä»¥å¤–ï¼Œæˆ‘ä»¬çš„é¡¹ç›®ç›®å½•ä¸‹è¿˜æœ‰ï¼š\n\n.gitignore  -  Gitå¿½ç•¥åå•ï¼Œä¸‹ä¸€ç« æˆ‘ä»¬ä¼šä¸“é—¨è®²è§£Gitç‰ˆæœ¬æ§åˆ¶ã€‚\napplication.properties   -    SpringBootçš„é…ç½®æ–‡ä»¶ï¼Œæ‰€æœ‰ä¾èµ–çš„é…ç½®éƒ½åœ¨è¿™é‡Œç¼–å†™ï¼Œä½†æ˜¯ä¸€èˆ¬æƒ…å†µä¸‹åªéœ€è¦é…ç½®å¿…è¦é¡¹å³å¯ã€‚\n\n\næ•´åˆWebç›¸å…³æ¡†æ¶æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ï¼Œæ—¢ç„¶æˆ‘ä»¬å‰é¢æåˆ°SpringBootä¼šå†…åµŒä¸€ä¸ªTomcatæœåŠ¡å™¨ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬çš„Jaræ‰“åŒ…åï¼Œç›¸å½“äºå°±æ˜¯ä¸€ä¸ªå¯ä»¥ç›´æ¥è¿è¡Œçš„åº”ç”¨ç¨‹åºï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å¦‚ä½•åˆ›å»ºä¸€ä¸ªSpringBootWebé¡¹ç›®ã€‚\nè¿™é‡Œæˆ‘ä»¬æ¼”ç¤ºä½¿ç”¨IDEAæ¥åˆ›å»ºä¸€ä¸ªåŸºäºSpringBootçš„Webåº”ç”¨ç¨‹åºã€‚\nå®ƒæ˜¯çœŸçš„å¿«åˆ›å»ºå®Œæˆåï¼Œç›´æ¥å¼€å¯é¡¹ç›®ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥è®¿é—®ï¼šhttp://localhost:8080/ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä½†æ˜¯ç”±äºæˆ‘ä»¬æ²¡æœ‰ç¼–å†™ä»»ä½•çš„è¯·æ±‚æ˜ å°„ï¼Œæ‰€ä»¥æ²¡æœ‰æ•°æ®ã€‚æˆ‘ä»¬å¯ä»¥æ¥çœ‹çœ‹æ—¥å¿—ï¼š\n2022-01-06 22:17:46.308  INFO 853 --- [           main] c.example.SpringBootWebTestApplication   : Starting SpringBootWebTestApplication using Java 1.8.0_312 on NagodeMacBook-Pro.local with PID 853 (&#x2F;Users&#x2F;nagocoler&#x2F;Downloads&#x2F;SpringBootWebTest&#x2F;target&#x2F;classes started by nagocoler in &#x2F;Users&#x2F;nagocoler&#x2F;Downloads&#x2F;SpringBootWebTest)\n2022-01-06 22:17:46.309  INFO 853 --- [           main] c.example.SpringBootWebTestApplication   : No active profile set, falling back to default profiles: default\n2022-01-06 22:17:46.629  INFO 853 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-01-06 22:17:46.632  INFO 853 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-01-06 22:17:46.632  INFO 853 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat&#x2F;9.0.56]\n2022-01-06 22:17:46.654  INFO 853 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[&#x2F;]       : Initializing Spring embedded WebApplicationContext\n2022-01-06 22:17:46.654  INFO 853 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 325 ms\n2022-01-06 22:17:46.780  INFO 853 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\n2022-01-06 22:17:46.785  INFO 853 --- [           main] c.example.SpringBootWebTestApplication   : Started SpringBootWebTestApplication in 0.62 seconds (JVM running for 0.999)\n2022-01-06 22:18:02.979  INFO 853 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[&#x2F;]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\n2022-01-06 22:18:02.979  INFO 853 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\n2022-01-06 22:18:02.980  INFO 853 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n\næˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæ—¥å¿—ä¸­é™¤äº†æœ€åŸºæœ¬çš„SpringBootå¯åŠ¨æ—¥å¿—ä»¥å¤–ï¼Œè¿˜æ–°å¢äº†å†…åµŒWebæœåŠ¡å™¨ï¼ˆTomcatï¼‰çš„å¯åŠ¨æ—¥å¿—ï¼Œå¹¶ä¸”æ˜¾ç¤ºäº†å½“å‰WebæœåŠ¡å™¨æ‰€å¼€æ”¾çš„ç«¯å£ï¼Œå¹¶ä¸”è‡ªåŠ¨å¸®åŠ©æˆ‘ä»¬åˆå§‹åŒ–äº†DispatcherServletï¼Œä½†æ˜¯æˆ‘ä»¬åªæ˜¯åˆ›å»ºäº†é¡¹ç›®ï¼Œå¯¼å…¥äº†webç›¸å…³çš„starterä¾èµ–ï¼Œæ²¡æœ‰è¿›è¡Œä»»ä½•çš„é…ç½®ï¼Œå®é™…ä¸Šå®ƒä½¿ç”¨çš„æ˜¯starteræä¾›çš„é»˜è®¤é…ç½®è¿›è¡Œåˆå§‹åŒ–çš„ã€‚\nç”±äºSpringBootæ˜¯è‡ªåŠ¨æ‰«æçš„ï¼Œå› æ­¤æˆ‘ä»¬ç›´æ¥åˆ›å»ºä¸€ä¸ªControllerå³å¯è¢«åŠ è½½ï¼š\n@Controller\npublic class MainController &#123;\n\n  \t&#x2F;&#x2F;ç›´æ¥è®¿é—®http:&#x2F;&#x2F;localhost:8080&#x2F;indexå³å¯ï¼Œä¸ç”¨åŠ webåº”ç”¨ç¨‹åºåç§°äº†\n    @RequestMapping(&quot;&#x2F;index&quot;)\n    @ResponseBody\n    public String index()&#123;\n        return &quot;ä½ å¥½ï¼Œæ¬¢è¿è®¿é—®ä¸»é¡µï¼&quot;;\n    &#125;\n&#125;\n\næˆ‘ä»¬å‡ ä¹æ²¡æœ‰åšä»»ä½•é…ç½®ï¼Œä½†æ˜¯å¯ä»¥ç›´æ¥å¼€å§‹é…ç½®Controllerï¼ŒSpringBootåˆ›å»ºä¸€ä¸ªWebé¡¹ç›®çš„é€Ÿåº¦å°±æ˜¯è¿™ä¹ˆå¿«ï¼\nå®ƒè¿˜å¯ä»¥è‡ªåŠ¨è¯†åˆ«ç±»å‹ï¼Œå¦‚æœæˆ‘ä»¬è¿”å›çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ç±»å‹çš„æ•°æ®ï¼Œé‚£ä¹ˆå®ƒä¼šè‡ªåŠ¨è½¬æ¢ä¸ºJSONæ•°æ®æ ¼å¼ï¼Œæ— éœ€é…ç½®ï¼š\n@Data\npublic class Student &#123;\n    int sid;\n    String name;\n    String sex;\n&#125;\n\n@RequestMapping(&quot;&#x2F;student&quot;)\n@ResponseBody\npublic Student student()&#123;\n    Student student &#x3D; new Student();\n    student.setName(&quot;å°æ˜&quot;);\n    student.setSex(&quot;ç”·&quot;);\n    student.setSid(10);\n    return student;\n&#125;\n\næœ€åæµè§ˆå™¨èƒ½å¤Ÿç›´æ¥å¾—åˆ°application/jsonçš„å“åº”æ•°æ®ï¼Œå°±æ˜¯è¿™ä¹ˆæ–¹ä¾¿ã€‚\nä¿®æ”¹Webç›¸å…³é…ç½®å¦‚æœæˆ‘ä»¬éœ€è¦ä¿®æ”¹WebæœåŠ¡å™¨çš„ç«¯å£æˆ–æ˜¯ä¸€äº›å…¶ä»–çš„å†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨application.propertiesä¸­è¿›è¡Œä¿®æ”¹ï¼Œå®ƒæ˜¯æ•´ä¸ªSpringBootçš„é…ç½®æ–‡ä»¶ï¼š\n# ä¿®æ”¹ç«¯å£ä¸º80\nserver.port&#x3D;80\n\næˆ‘ä»¬è¿˜å¯ä»¥ç¼–å†™è‡ªå®šä¹‰çš„é…ç½®é¡¹ï¼Œå¹¶åœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­é€šè¿‡@Valueç›´æ¥æ³¨å…¥ï¼š\ntest.data&#x3D;100\n\n@Controller\npublic class MainController &#123;\n\n    @Value(&quot;$&#123;test.data&#125;&quot;)\n    int data;\n\né€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ›´å¥½åœ°å°†ä¸€äº›éœ€è¦é¢‘ç¹ä¿®æ”¹çš„é…ç½®é¡¹å†™åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œå¹¶é€šè¿‡æ³¨è§£æ–¹å¼å»è·å–å€¼ã€‚\né…ç½®æ–‡ä»¶é™¤äº†ä½¿ç”¨propertiesæ ¼å¼ä»¥å¤–ï¼Œè¿˜æœ‰ä¸€ç§å«åšyamlæ ¼å¼ï¼Œå®ƒçš„è¯­æ³•å¦‚ä¸‹ï¼š\nä¸€çº§ç›®å½•:\n\täºŒçº§ç›®å½•:\n\t  ä¸‰çº§ç›®å½•1: å€¼\n\t  ä¸‰çº§ç›®å½•2: å€¼\n\t  ä¸‰çº§ç›®å½•List: \n\t  - å…ƒç´ 1\n\t  - å…ƒç´ 2\n\t  - å…ƒç´ 3\n\næˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæ¯ä¸€çº§ç›®å½•éƒ½æ˜¯é€šè¿‡ç¼©è¿›ï¼ˆä¸èƒ½ä½¿ç”¨Tabï¼Œåªèƒ½ä½¿ç”¨ç©ºæ ¼ï¼‰åŒºåˆ†ï¼Œå¹¶ä¸”é”®å’Œå€¼ä¹‹é—´éœ€è¦æ·»åŠ å†’å·+ç©ºæ ¼æ¥è¡¨ç¤ºã€‚\nSpringBootä¹Ÿæ”¯æŒè¿™ç§æ ¼å¼çš„é…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†application.propertiesä¿®æ”¹ä¸ºapplication.ymlæˆ–æ˜¯application.yamlæ¥ä½¿ç”¨YAMLè¯­æ³•ç¼–å†™é…ç½®ï¼š\nserver:\n  port: 80\n\næ•´åˆSpringSecurityä¾èµ–æˆ‘ä»¬æ¥ç€æ¥æ•´åˆä¸€ä¸‹SpringSecurityä¾èµ–ï¼Œç»§ç»­æ„Ÿå—SpringBootå¸¦æ¥çš„å…‰é€Ÿå¼€å‘ä½“éªŒï¼Œåªéœ€è¦å¯¼å…¥SpringSecurityçš„Starterä¾èµ–å³å¯ï¼š\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-security&lt;&#x2F;artifactId&gt;\n&lt;&#x2F;dependency&gt;\n\nå¯¼å…¥ä¾èµ–åï¼Œæˆ‘ä»¬ç›´æ¥å¯åŠ¨SpringBootåº”ç”¨ç¨‹åºï¼Œå¯ä»¥å‘ç°SpringSecurityå·²ç»ç”Ÿæ•ˆäº†ã€‚\nå¹¶ä¸”SpringSecurityä¼šè‡ªåŠ¨ä¸ºæˆ‘ä»¬ç”Ÿæˆä¸€ä¸ªé»˜è®¤ç”¨æˆ·userï¼Œå®ƒçš„å¯†ç ä¼šå‡ºç°åœ¨æ—¥å¿—ä¸­ï¼š\n2022-01-06 23:10:51.329  INFO 2901 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-01-06 23:10:51.329  INFO 2901 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat&#x2F;9.0.56]\n2022-01-06 23:10:51.350  INFO 2901 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[&#x2F;]       : Initializing Spring embedded WebApplicationContext\n2022-01-06 23:10:51.351  INFO 2901 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 341 ms\n2022-01-06 23:10:51.469  INFO 2901 --- [           main] .s.s.UserDetailsServiceAutoConfiguration : \n\nUsing generated security password: ff24bee3-e1b7-4309-9609-d32618baf5cb\n\n\nå…¶ä¸­ff24bee3-e1b7-4309-9609-d32618baf5cbå°±æ˜¯éšæœºç”Ÿæˆçš„ä¸€ä¸ªå¯†ç ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ­¤ç”¨æˆ·ç™»å½•ã€‚\næˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­ç›´æ¥é…ç½®ï¼š\nspring:\n  security:\n    user:\n      name: test   # ç”¨æˆ·å\n      password: 123456  # å¯†ç \n      roles:   # è§’è‰²\n      - user\n      - admin\n\nå®é™…ä¸Šè¿™æ ·çš„é…ç½®æ–¹å¼å°±æ˜¯ä¸€ä¸ªinMemoryAuthenticationï¼Œåªæ˜¯æˆ‘ä»¬å¯ä»¥ç›´æ¥é…ç½®è€Œå·²ã€‚\nå½“ç„¶ï¼Œé¡µé¢çš„æ§åˆ¶å’Œæ•°æ®åº“éªŒè¯æˆ‘ä»¬è¿˜æ˜¯éœ€è¦æä¾›WebSecurityConfigurerAdapterçš„å®ç°ç±»å»å®Œæˆï¼š\n@Configuration\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter &#123;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception &#123;\n        http\n                .authorizeRequests()\n                .antMatchers(&quot;&#x2F;login&quot;).permitAll()\n                .anyRequest().hasRole(&quot;user&quot;)\n                .and()\n                .formLogin();\n    &#125;\n&#125;\n\næ³¨æ„è¿™é‡Œä¸éœ€è¦å†æ·»åŠ @EnableWebSecurityäº†ï¼Œå› ä¸ºstarterä¾èµ–å·²ç»å¸®æˆ‘ä»¬æ·»åŠ äº†ã€‚\nä½¿ç”¨äº†SpringBootä¹‹åï¼Œæˆ‘ä»¬å‘ç°ï¼Œéœ€è¦ä»€ä¹ˆåŠŸèƒ½ï¼Œåªéœ€è¦å¯¼å…¥å¯¹åº”çš„starterä¾èµ–å³å¯ï¼Œç”šè‡³éƒ½ä¸éœ€è¦ä½ å»è¿›è¡Œé¢å¤–çš„é…ç½®ï¼Œä½ åªéœ€è¦å…³æ³¨ä¾èµ–æœ¬èº«çš„å¿…è¦è®¾ç½®å³å¯ï¼Œå¤§å¤§æé«˜äº†æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡ã€‚\n\næ•´åˆMybatisæ¡†æ¶æˆ‘ä»¬æ¥ç€æ¥çœ‹å¦‚ä½•æ•´åˆMybatisæ¡†æ¶ï¼ŒåŒæ ·çš„ï¼Œæˆ‘ä»¬åªéœ€è¦å¯¼å…¥å¯¹åº”çš„starterä¾èµ–å³å¯ï¼š\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mybatis.spring.boot&lt;&#x2F;groupId&gt;\n    &lt;artifactId&gt;mybatis-spring-boot-starter&lt;&#x2F;artifactId&gt;\n    &lt;version&gt;2.2.0&lt;&#x2F;version&gt;\n&lt;&#x2F;dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;&#x2F;groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;&#x2F;artifactId&gt;\n&lt;&#x2F;dependency&gt;\n\nå¯¼å…¥ä¾èµ–åï¼Œç›´æ¥å¯åŠ¨ä¼šæŠ¥é”™ï¼Œæ˜¯å› ä¸ºæœ‰å¿…è¦çš„é…ç½®æˆ‘ä»¬æ²¡æœ‰å»ç¼–å†™ï¼Œæˆ‘ä»¬éœ€è¦æŒ‡å®šæ•°æ®æºçš„ç›¸å…³ä¿¡æ¯ï¼š\nspring:\n  datasource:\n    url: jdbc:mysql:&#x2F;&#x2F;localhost:3306\n    username: root\n    password: 123456\n    driver-class-name: com.mysql.cj.jdbc.Driver\n\nå†æ¬¡å¯åŠ¨ï¼ŒæˆåŠŸã€‚\næˆ‘ä»¬å‘ç°æ—¥å¿—ä¸­ä¼šå‡ºç°è¿™æ ·ä¸€å¥è¯ï¼š\n2022-01-07 12:32:09.106  WARN 6917 --- [           main] o.m.s.mapper.ClassPathMapperScanner      : No MyBatis mapper was found in &#39;[com.example]&#39; package. Please check your configuration.\n\nè¿™æ˜¯Mybatisè‡ªåŠ¨æ‰«æè¾“å‡ºçš„è¯­å¥ï¼Œå¯¼å…¥ä¾èµ–åï¼Œæˆ‘ä»¬ä¸éœ€è¦å†å»è®¾ç½®Mybatisçš„ç›¸å…³Beanäº†ï¼Œä¹Ÿä¸éœ€è¦æ·»åŠ ä»»ä½•@MapperSacnæ³¨è§£ï¼Œå› ä¸ºstarterå·²ç»å¸®åŠ©æˆ‘ä»¬åšäº†ï¼Œå®ƒä¼šè‡ªåŠ¨æ‰«æé¡¹ç›®ä¸­æ·»åŠ äº†@Mapperæ³¨è§£çš„æ¥å£ï¼Œç›´æ¥å°†å…¶æ³¨å†Œä¸ºBeanï¼Œä¸éœ€è¦è¿›è¡Œä»»ä½•é…ç½®ã€‚\n@Mapper\npublic interface MainMapper &#123;\n    @Select(&quot;select * from users where username &#x3D; #&#123;username&#125;&quot;)\n    UserData findUserByName(String username);\n&#125;\n\nå½“ç„¶ï¼Œå¦‚æœä½ è§‰å¾—æ¯ä¸ªæ¥å£éƒ½å»åŠ ä¸€ä¸ª@Mapperæ¯”è¾ƒéº»çƒ¦çš„è¯ä¹Ÿå¯ä»¥ç”¨å›ä¹‹å‰çš„æ–¹å¼ï¼Œç›´æ¥@MapperScanä½¿ç”¨åŒ…æ‰«æã€‚\næ·»åŠ Mapperä¹‹åï¼Œä½¿ç”¨æ–¹æ³•å’ŒSSMé˜¶æ®µæ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶ä¸SpringSecurityç»“åˆä½¿ç”¨ï¼š\n@Service\npublic class UserAuthService implements UserDetailsService &#123;\n\n    @Resource\n    MainMapper mapper;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException &#123;\n        UserData data &#x3D; mapper.findUserByName(username);\n        if(data &#x3D;&#x3D; null) throw new UsernameNotFoundException(&quot;ç”¨æˆ· &quot;+username+&quot; ç™»å½•å¤±è´¥ï¼Œç”¨æˆ·åä¸å­˜åœ¨ï¼&quot;);\n        return User\n                .withUsername(data.getUsername())\n                .password(data.getPassword())\n                .roles(data.getRole())\n                .build();\n    &#125;\n&#125;\n\næœ€åé…ç½®ä¸€ä¸‹è‡ªå®šä¹‰éªŒè¯å³å¯ï¼Œæ³¨æ„è¿™æ ·ä¹‹å‰é…ç½®æ–‡ä»¶é‡Œé¢é…ç½®çš„ç”¨æˆ·å°±å¤±æ•ˆäº†ï¼š\n@Override\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception &#123;\n    auth\n            .userDetailsService(service)\n            .passwordEncoder(new BCryptPasswordEncoder());\n&#125;\n\nåœ¨é¦–æ¬¡ä½¿ç”¨æ—¶ï¼Œæˆ‘ä»¬å‘ç°æ—¥å¿—ä¸­è¾“å‡ºä»¥ä»¥ä¸‹è¯­å¥ï¼š\n2022-01-07 12:39:40.559  INFO 6930 --- [nio-8080-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2022-01-07 12:39:41.033  INFO 6930 --- [nio-8080-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n\nå®é™…ä¸Šï¼ŒSpringBootä¼šè‡ªåŠ¨ä¸ºMybatisé…ç½®æ•°æ®æºï¼Œé»˜è®¤ä½¿ç”¨çš„å°±æ˜¯HikariCPæ•°æ®æºã€‚\n\næ•´åˆThymeleafæ¡†æ¶æ•´åˆThymeleafä¹Ÿåªéœ€å¯¼å…¥å¯¹åº”çš„starterå³å¯ï¼š\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;&#x2F;artifactId&gt;\n&lt;&#x2F;dependency&gt;\n\næ¥ç€æˆ‘ä»¬åªéœ€è¦ç›´æ¥ä½¿ç”¨å³å¯ï¼š\n@RequestMapping(&quot;&#x2F;index&quot;)\npublic String index()&#123;\n    return &quot;index&quot;;\n&#125;\n\nä½†æ˜¯æ³¨æ„ï¼Œè¿™æ ·åªèƒ½æ­£å¸¸è§£æHTMLé¡µé¢ï¼Œä½†æ˜¯jsã€cssç­‰é™æ€èµ„æºæˆ‘ä»¬éœ€è¦è¿›è¡Œè·¯å¾„æŒ‡å®šï¼Œä¸ç„¶æ— æ³•è®¿é—®ï¼Œæˆ‘ä»¬åœ¨é…æ–‡ä»¶ä¸­é…ç½®ä¸€ä¸‹é™æ€èµ„æºçš„è®¿é—®å‰ç¼€ï¼š\nspring:\n\tmvc:\n  \tstatic-path-pattern: &#x2F;static&#x2F;**\n\næ¥ç€æˆ‘ä»¬åƒä¹‹å‰ä¸€æ ·ï¼ŒæŠŠç™»é™†é¡µé¢å®ç°ä¸€ä¸‹å§ã€‚\n&lt;html lang&#x3D;&quot;en&quot; xmlns:th&#x3D;http:&#x2F;&#x2F;www.thymeleaf.org\nxmlns:sec&#x3D;http:&#x2F;&#x2F;www.thymeleaf.org&#x2F;extras&#x2F;spring-security&gt;\n\n\næ—¥å¿—ç³»ç»ŸSpringBootä¸ºæˆ‘ä»¬æä¾›äº†ä¸°å¯Œçš„æ—¥å¿—ç³»ç»Ÿï¼Œå®ƒå‡ ä¹æ˜¯å¼€ç®±å³ç”¨çš„ã€‚\næ—¥å¿—é—¨é¢å’Œæ—¥å¿—å®ç°æˆ‘ä»¬é¦–å…ˆè¦åŒºåˆ†ä¸€ä¸‹ï¼Œä»€ä¹ˆæ˜¯æ—¥å¿—é—¨é¢ï¼ˆFacadeï¼‰ä»€ä¹ˆæ˜¯æ—¥å¿—å®ç°ï¼Œæˆ‘ä»¬ä¹‹å‰å­¦ä¹ çš„JULå®é™…ä¸Šå°±æ˜¯ä¸€ç§æ—¥å¿—å®ç°ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨JULä¸ºæˆ‘ä»¬æä¾›çš„æ—¥å¿—æ¡†æ¶æ¥è§„èŒƒåŒ–æ‰“å°æ—¥å¿—ï¼Œè€Œæ—¥å¿—é—¨é¢ï¼Œå¦‚Slf4jï¼Œæ˜¯æŠŠä¸åŒçš„æ—¥å¿—ç³»ç»Ÿçš„å®ç°è¿›è¡Œäº†å…·ä½“çš„æŠ½è±¡åŒ–ï¼Œåªæä¾›äº†ç»Ÿä¸€çš„æ—¥å¿—ä½¿ç”¨æ¥å£ï¼Œä½¿ç”¨æ—¶åªéœ€è¦æŒ‰ç…§å…¶æä¾›çš„æ¥å£æ–¹æ³•è¿›è¡Œè°ƒç”¨å³å¯ï¼Œç”±äºå®ƒåªæ˜¯ä¸€ä¸ªæ¥å£ï¼Œå¹¶ä¸æ˜¯ä¸€ä¸ªå…·ä½“çš„å¯ä»¥ç›´æ¥å•ç‹¬ä½¿ç”¨çš„æ—¥å¿—æ¡†æ¶ï¼Œæ‰€ä»¥æœ€ç»ˆæ—¥å¿—çš„æ ¼å¼ã€è®°å½•çº§åˆ«ã€è¾“å‡ºæ–¹å¼ç­‰éƒ½è¦é€šè¿‡æ¥å£ç»‘å®šçš„å…·ä½“çš„æ—¥å¿—ç³»ç»Ÿæ¥å®ç°ï¼Œè¿™äº›å…·ä½“çš„æ—¥å¿—ç³»ç»Ÿå°±æœ‰log4jã€logbackã€java.util.loggingç­‰ï¼Œå®ƒä»¬æ‰å®ç°äº†å…·ä½“çš„æ—¥å¿—ç³»ç»Ÿçš„åŠŸèƒ½ã€‚\næ—¥å¿—é—¨é¢å’Œæ—¥å¿—å®ç°å°±åƒJDBCå’Œæ•°æ®åº“é©±åŠ¨ä¸€æ ·ï¼Œä¸€ä¸ªæ˜¯ç”»å¤§é¥¼çš„ï¼Œä¸€ä¸ªæ˜¯çœŸçš„å»åšé¥¼çš„ã€‚\n\nä½†æ˜¯ç°åœ¨æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼Œä¸åŒçš„æ¡†æ¶å¯èƒ½ä½¿ç”¨äº†ä¸åŒçš„æ—¥å¿—æ¡†æ¶ï¼Œå¦‚æœè¿™ä¸ªæ—¶å€™å‡ºç°ä¼—å¤šæ—¥å¿—æ¡†æ¶å¹¶å­˜çš„æƒ…å†µï¼Œæˆ‘ä»¬ç°åœ¨å¸Œæœ›çš„æ˜¯æ‰€æœ‰çš„æ¡†æ¶ä¸€å¾‹ä½¿ç”¨æ—¥å¿—é—¨é¢ï¼ˆSlf4jï¼‰è¿›è¡Œæ—¥å¿—æ‰“å°ï¼Œè¿™æ—¶è¯¥æ€ä¹ˆå»è§£å†³ï¼Ÿæˆ‘ä»¬ä¸å¯èƒ½å°†å…¶ä»–æ¡†æ¶ä¾èµ–çš„æ—¥å¿—æ¡†æ¶æ›¿æ¢æ‰ï¼Œç›´æ¥æ›´æ¢ä¸ºSlf4jå§ï¼Œè¿™æ ·æ˜¾ç„¶ä¸ç°å®ã€‚\nè¿™æ—¶ï¼Œå¯ä»¥é‡‡å–ç±»ä¼¼äºå·æ¢æ¢æŸ±çš„åšæ³•ï¼Œåªä¿ç•™ä¸åŒæ—¥å¿—æ¡†æ¶çš„æ¥å£å’Œç±»å®šä¹‰ç­‰å…³é”®ä¿¡æ¯ï¼Œè€Œå°†å®ç°å…¨éƒ¨å®šå‘ä¸ºSlf4jè°ƒç”¨ã€‚ç›¸å½“äºæœ‰ç€å’ŒåŸæœ‰æ—¥å¿—æ¡†æ¶ä¸€æ ·çš„å¤–å£³ï¼Œå¯¹äºå…¶ä»–æ¡†æ¶æ¥è¯´ä¾ç„¶å¯ä»¥ä½¿ç”¨å¯¹åº”çš„ç±»è¿›è¡Œæ“ä½œï¼Œè€Œå…·ä½“å¦‚ä½•æ‰§è¡Œï¼ŒçœŸæ­£çš„å†…å¿ƒå·²ç»æ˜¯Slf4jçš„äº†ã€‚\n\næ‰€ä»¥ï¼ŒSpringBootä¸ºäº†ç»Ÿä¸€æ—¥å¿—æ¡†æ¶çš„ä½¿ç”¨ï¼Œåšäº†è¿™äº›äº‹æƒ…ï¼š\n\nç›´æ¥å°†å…¶ä»–ä¾èµ–ä»¥å‰çš„æ—¥å¿—æ¡†æ¶å‰”é™¤\nå¯¼å…¥å¯¹åº”æ—¥å¿—æ¡†æ¶çš„Slf4jä¸­é—´åŒ…\nå¯¼å…¥è‡ªå·±å®˜æ–¹æŒ‡å®šçš„æ—¥å¿—å®ç°ï¼Œå¹¶ä½œä¸ºSlf4jçš„æ—¥å¿—å®ç°å±‚\n\nåœ¨SpringBootä¸­æ‰“å°æ—¥å¿—ä¿¡æ¯SpringBootä½¿ç”¨çš„æ˜¯Slf4jä½œä¸ºæ—¥å¿—é—¨é¢ï¼ŒLogbackï¼ˆLogback æ˜¯log4j æ¡†æ¶çš„ä½œè€…å¼€å‘çš„æ–°ä¸€ä»£æ—¥å¿—æ¡†æ¶ï¼Œå®ƒæ•ˆç‡æ›´é«˜ã€èƒ½å¤Ÿé€‚åº”è¯¸å¤šçš„è¿è¡Œç¯å¢ƒï¼ŒåŒæ—¶å¤©ç„¶æ”¯æŒSLF4Jï¼‰ä½œä¸ºæ—¥å¿—å®ç°ï¼Œå¯¹åº”çš„ä¾èµ–ä¸ºï¼š\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-logging&lt;&#x2F;artifactId&gt;\n&lt;&#x2F;dependency&gt;\n\næ­¤ä¾èµ–å·²ç»è¢«åŒ…å«äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¦‚æœéœ€è¦æ‰“å°æ—¥å¿—ï¼Œå¯ä»¥åƒè¿™æ ·ï¼š\n@RequestMapping(&quot;&#x2F;login&quot;)\npublic String login()&#123;\n    Logger logger &#x3D; LoggerFactory.getLogger(MainController.class);\n    logger.info(&quot;ç”¨æˆ·è®¿é—®äº†ä¸€æ¬¡ç™»é™†ç•Œé¢&quot;);\n    return &quot;login&quot;;\n&#125;\n\nå› ä¸ºæˆ‘ä»¬ä½¿ç”¨äº†Lombokï¼Œæ‰€ä»¥ç›´æ¥ä¸€ä¸ªæ³¨è§£ä¹Ÿå¯ä»¥æå®šå“¦ï¼š\n@Slf4j\n@Controller\npublic class MainController &#123;\n\n    @RequestMapping(&quot;&#x2F;login&quot;)\n    public String login()&#123;\n        log.info(&quot;ç”¨æˆ·è®¿é—®äº†ä¸€æ¬¡ç™»é™†ç•Œé¢&quot;);\n        return &quot;login&quot;;\n    &#125;\n\næ—¥å¿—çº§åˆ«ä»ä½åˆ°é«˜åˆ†ä¸ºTRACE &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATALï¼ŒSpringBooté»˜è®¤åªä¼šæ‰“å°INFOä»¥ä¸Šçº§åˆ«çš„ä¿¡æ¯ã€‚\né…ç½®Logbackæ—¥å¿—Logbackå®˜ç½‘ï¼šhttps://logback.qos.ch\nå’ŒJULä¸€æ ·ï¼ŒLogbackä¹Ÿèƒ½å®ç°å®šåˆ¶åŒ–ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™å¯¹åº”çš„é…ç½®æ–‡ä»¶ï¼ŒSpringBootæ¨èå°†é…ç½®æ–‡ä»¶åç§°å‘½åä¸ºlogback-spring.xmlè¡¨ç¤ºè¿™æ˜¯SpringBootä¸‹Logbackä¸“ç”¨çš„é…ç½®ï¼Œå¯ä»¥ä½¿ç”¨SpringBoot çš„é«˜çº§Proï¬leåŠŸèƒ½ï¼Œå®ƒçš„å†…å®¹ç±»ä¼¼äºè¿™æ ·ï¼š\n&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;!-- é…ç½® --&gt;\n&lt;&#x2F;configuration&gt;\n\næœ€å¤–å±‚ç”±configurationåŒ…è£¹ï¼Œä¸€æ—¦ç¼–å†™ï¼Œé‚£ä¹ˆå°±ä¼šæ›¿æ¢é»˜è®¤çš„é…ç½®ï¼Œæ‰€ä»¥å¦‚æœå†…éƒ¨ä»€ä¹ˆéƒ½ä¸å†™çš„è¯ï¼Œé‚£ä¹ˆä¼šå¯¼è‡´æˆ‘ä»¬çš„SpringBooté¡¹ç›®æ²¡æœ‰é…ç½®ä»»ä½•æ—¥å¿—è¾“å‡ºæ–¹å¼ï¼Œæ§åˆ¶å°ä¹Ÿä¸ä¼šæ‰“å°æ—¥å¿—ã€‚\næˆ‘ä»¬æ¥ç€æ¥çœ‹å¦‚ä½•é…ç½®ä¸€ä¸ªæ§åˆ¶å°æ—¥å¿—æ‰“å°ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å¯¼å…¥å¹¶ä½¿ç”¨SpringBootä¸ºæˆ‘ä»¬é¢„è®¾å¥½çš„æ—¥å¿—æ ¼å¼ï¼Œåœ¨org/springframework/boot/logging/logback/defaults.xmlä¸­å·²ç»å¸®æˆ‘ä»¬æŠŠæ—¥å¿—çš„è¾“å‡ºæ ¼å¼å®šä¹‰å¥½äº†ï¼Œæˆ‘ä»¬åªéœ€è¦è®¾ç½®å¯¹åº”çš„appenderå³å¯ï¼š\n&lt;included&gt;\n   &lt;conversionRule conversionWord&#x3D;&quot;clr&quot; converterClass&#x3D;&quot;org.springframework.boot.logging.logback.ColorConverter&quot; &#x2F;&gt;\n   &lt;conversionRule conversionWord&#x3D;&quot;wex&quot; converterClass&#x3D;&quot;org.springframework.boot.logging.logback.WhitespaceThrowableProxyConverter&quot; &#x2F;&gt;\n   &lt;conversionRule conversionWord&#x3D;&quot;wEx&quot; converterClass&#x3D;&quot;org.springframework.boot.logging.logback.ExtendedWhitespaceThrowableProxyConverter&quot; &#x2F;&gt;\n\n   &lt;property name&#x3D;&quot;CONSOLE_LOG_PATTERN&quot; value&#x3D;&quot;$&#123;CONSOLE_LOG_PATTERN:-%clr(%d&#123;$&#123;LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS&#125;&#125;)&#123;faint&#125; %clr($&#123;LOG_LEVEL_PATTERN:-%5p&#125;) %clr($&#123;PID:- &#125;)&#123;magenta&#125; %clr(---)&#123;faint&#125; %clr([%15.15t])&#123;faint&#125; %clr(%-40.40logger&#123;39&#125;)&#123;cyan&#125; %clr(:)&#123;faint&#125; %m%n$&#123;LOG_EXCEPTION_CONVERSION_WORD:-%wEx&#125;&#125;&quot;&#x2F;&gt;\n   &lt;property name&#x3D;&quot;CONSOLE_LOG_CHARSET&quot; value&#x3D;&quot;$&#123;CONSOLE_LOG_CHARSET:-$&#123;file.encoding:-UTF-8&#125;&#125;&quot;&#x2F;&gt;\n   &lt;property name&#x3D;&quot;FILE_LOG_PATTERN&quot; value&#x3D;&quot;$&#123;FILE_LOG_PATTERN:-%d&#123;$&#123;LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS&#125;&#125; $&#123;LOG_LEVEL_PATTERN:-%5p&#125; $&#123;PID:- &#125; --- [%t] %-40.40logger&#123;39&#125; : %m%n$&#123;LOG_EXCEPTION_CONVERSION_WORD:-%wEx&#125;&#125;&quot;&#x2F;&gt;\n   &lt;property name&#x3D;&quot;FILE_LOG_CHARSET&quot; value&#x3D;&quot;$&#123;FILE_LOG_CHARSET:-$&#123;file.encoding:-UTF-8&#125;&#125;&quot;&#x2F;&gt;\n\n   &lt;logger name&#x3D;&quot;org.apache.catalina.startup.DigesterFactory&quot; level&#x3D;&quot;ERROR&quot;&#x2F;&gt;\n   &lt;logger name&#x3D;&quot;org.apache.catalina.util.LifecycleBase&quot; level&#x3D;&quot;ERROR&quot;&#x2F;&gt;\n   &lt;logger name&#x3D;&quot;org.apache.coyote.http11.Http11NioProtocol&quot; level&#x3D;&quot;WARN&quot;&#x2F;&gt;\n   &lt;logger name&#x3D;&quot;org.apache.sshd.common.util.SecurityUtils&quot; level&#x3D;&quot;WARN&quot;&#x2F;&gt;\n   &lt;logger name&#x3D;&quot;org.apache.tomcat.util.net.NioSelectorPool&quot; level&#x3D;&quot;WARN&quot;&#x2F;&gt;\n   &lt;logger name&#x3D;&quot;org.eclipse.jetty.util.component.AbstractLifeCycle&quot; level&#x3D;&quot;ERROR&quot;&#x2F;&gt;\n   &lt;logger name&#x3D;&quot;org.hibernate.validator.internal.util.Version&quot; level&#x3D;&quot;WARN&quot;&#x2F;&gt;\n   &lt;logger name&#x3D;&quot;org.springframework.boot.actuate.endpoint.jmx&quot; level&#x3D;&quot;WARN&quot;&#x2F;&gt;\n&lt;&#x2F;included&gt;\n\nå¯¼å…¥åï¼Œæˆ‘ä»¬åˆ©ç”¨é¢„è®¾çš„æ—¥å¿—æ ¼å¼åˆ›å»ºä¸€ä¸ªæ§åˆ¶å°æ—¥å¿—æ‰“å°ï¼š\n&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;!--  å¯¼å…¥å…¶ä»–é…ç½®æ–‡ä»¶ï¼Œä½œä¸ºé¢„è®¾  --&gt;\n    &lt;include resource&#x3D;&quot;org&#x2F;springframework&#x2F;boot&#x2F;logging&#x2F;logback&#x2F;defaults.xml&quot; &#x2F;&gt;\n\n    &lt;!--  Appenderä½œä¸ºæ—¥å¿—æ‰“å°å™¨é…ç½®ï¼Œè¿™é‡Œå‘½åéšæ„  --&gt;\n    &lt;!--  ch.qos.logback.core.ConsoleAppenderæ˜¯ä¸“ç”¨äºæ§åˆ¶å°çš„Appender  --&gt;\n    &lt;appender name&#x3D;&quot;CONSOLE&quot; class&#x3D;&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;$&#123;CONSOLE_LOG_PATTERN&#125;&lt;&#x2F;pattern&gt;\n            &lt;charset&gt;$&#123;CONSOLE_LOG_CHARSET&#125;&lt;&#x2F;charset&gt;\n        &lt;&#x2F;encoder&gt;\n    &lt;&#x2F;appender&gt;\n\n    &lt;!--  æŒ‡å®šæ—¥å¿—è¾“å‡ºçº§åˆ«ï¼Œä»¥åŠå¯ç”¨çš„Appenderï¼Œè¿™é‡Œå°±ä½¿ç”¨äº†æˆ‘ä»¬ä¸Šé¢çš„ConsoleAppender  --&gt;\n    &lt;root level&#x3D;&quot;INFO&quot;&gt;\n        &lt;appender-ref ref&#x3D;&quot;CONSOLE&quot;&#x2F;&gt;\n    &lt;&#x2F;root&gt;\n&lt;&#x2F;configuration&gt;\n\né…ç½®å®Œæˆåï¼Œæˆ‘ä»¬å‘ç°æ§åˆ¶å°å·²ç»å¯ä»¥æ­£å¸¸æ‰“å°æ—¥å¿—ä¿¡æ¯äº†ã€‚\næ¥ç€æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•å¼€å¯æ–‡ä»¶æ‰“å°ï¼Œæˆ‘ä»¬åªéœ€è¦é…ç½®ä¸€ä¸ªå¯¹åº”çš„Appenderå³å¯ï¼š\n&lt;!--  ch.qos.logback.core.rolling.RollingFileAppenderç”¨äºæ–‡ä»¶æ—¥å¿—è®°å½•ï¼Œå®ƒæ”¯æŒæ»šåŠ¨  --&gt;\n&lt;appender name&#x3D;&quot;FILE&quot; class&#x3D;&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;$&#123;FILE_LOG_PATTERN&#125;&lt;&#x2F;pattern&gt;\n        &lt;charset&gt;$&#123;FILE_LOG_CHARSET&#125;&lt;&#x2F;charset&gt;\n    &lt;&#x2F;encoder&gt;\n    &lt;!--  è‡ªå®šä¹‰æ»šåŠ¨ç­–ç•¥ï¼Œé˜²æ­¢æ—¥å¿—æ–‡ä»¶æ— é™å˜å¤§ï¼Œä¹Ÿå°±æ˜¯æ—¥å¿—æ–‡ä»¶å†™åˆ°ä»€ä¹ˆæ—¶å€™ä¸ºæ­¢ï¼Œé‡æ–°åˆ›å»ºä¸€ä¸ªæ–°çš„æ—¥å¿—æ–‡ä»¶å¼€å§‹å†™  --&gt;\n    &lt;rollingPolicy class&#x3D;&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\n        &lt;!--  æ–‡ä»¶ä¿å­˜ä½ç½®ä»¥åŠæ–‡ä»¶å‘½åè§„åˆ™ï¼Œè¿™é‡Œç”¨åˆ°äº†%d&#123;yyyy-MM-dd&#125;è¡¨ç¤ºå½“å‰æ—¥æœŸï¼Œ%iè¡¨ç¤ºè¿™ä¸€å¤©çš„ç¬¬Nä¸ªæ—¥å¿—  --&gt;\n        &lt;FileNamePattern&gt;log&#x2F;%d&#123;yyyy-MM-dd&#125;-spring-%i.log&lt;&#x2F;FileNamePattern&gt;\n        &lt;!--  åˆ°æœŸè‡ªåŠ¨æ¸…ç†æ—¥å¿—æ–‡ä»¶  --&gt;\n        &lt;cleanHistoryOnStart&gt;true&lt;&#x2F;cleanHistoryOnStart&gt;\n        &lt;!--  æœ€å¤§æ—¥å¿—ä¿ç•™æ—¶é—´  --&gt;\n        &lt;maxHistory&gt;7&lt;&#x2F;maxHistory&gt;\n        &lt;!--  æœ€å¤§å•ä¸ªæ—¥å¿—æ–‡ä»¶å¤§å°  --&gt;\n        &lt;maxFileSize&gt;10MB&lt;&#x2F;maxFileSize&gt;\n    &lt;&#x2F;rollingPolicy&gt;\n&lt;&#x2F;appender&gt;\n\n&lt;!--  æŒ‡å®šæ—¥å¿—è¾“å‡ºçº§åˆ«ï¼Œä»¥åŠå¯ç”¨çš„Appenderï¼Œè¿™é‡Œå°±ä½¿ç”¨äº†æˆ‘ä»¬ä¸Šé¢çš„ConsoleAppender  --&gt;\n&lt;root level&#x3D;&quot;INFO&quot;&gt;\n    &lt;appender-ref ref&#x3D;&quot;CONSOLE&quot;&#x2F;&gt;\n    &lt;appender-ref ref&#x3D;&quot;FILE&quot;&#x2F;&gt;\n&lt;&#x2F;root&gt;\n\né…ç½®å®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ—¥å¿—æ–‡ä»¶ä¹Ÿèƒ½è‡ªåŠ¨ç”Ÿæˆäº†ã€‚\næˆ‘ä»¬ä¹Ÿå¯ä»¥é­”æ”¹å®˜æ–¹æä¾›çš„æ—¥å¿—æ ¼å¼ï¼Œå®˜æ–¹æ–‡æ¡£ï¼šhttps://logback.qos.ch/manual/layouts.html\nè¿™é‡Œéœ€è¦æåŠçš„æ˜¯MDCæœºåˆ¶ï¼ŒLogbackå†…ç½®çš„æ—¥å¿—å­—æ®µè¿˜æ˜¯æ¯”è¾ƒå°‘ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦æ‰“å°æœ‰å…³ä¸šåŠ¡çš„æ›´å¤šçš„å†…å®¹ï¼ŒåŒ…æ‹¬è‡ªå®šä¹‰çš„ä¸€äº›æ•°æ®ï¼Œéœ€è¦å€ŸåŠ©logback MDCæœºåˆ¶ï¼ŒMDCä¸ºâ€œMapped Diagnostic Contextâ€ï¼ˆæ˜ å°„è¯Šæ–­ä¸Šä¸‹æ–‡ï¼‰ï¼Œå³å°†ä¸€äº›è¿è¡Œæ—¶çš„ä¸Šä¸‹æ–‡æ•°æ®é€šè¿‡logbackæ‰“å°å‡ºæ¥ï¼›æ­¤æ—¶æˆ‘ä»¬éœ€è¦å€ŸåŠ©org.sl4j.MDCç±»ã€‚\næ¯”å¦‚æˆ‘ä»¬ç°åœ¨éœ€è¦è®°å½•æ˜¯å“ªä¸ªç”¨æˆ·è®¿é—®æˆ‘ä»¬ç½‘ç«™çš„æ—¥å¿—ï¼Œåªè¦æ˜¯æ­¤ç”¨æˆ·è®¿é—®æˆ‘ä»¬ç½‘ç«™ï¼Œéƒ½ä¼šåœ¨æ—¥å¿—ä¸­æºå¸¦è¯¥ç”¨æˆ·çš„IDï¼Œæˆ‘ä»¬å¸Œæœ›æ¯æ¡æ—¥å¿—ä¸­éƒ½æºå¸¦è¿™æ ·ä¸€æ®µä¿¡æ¯æ–‡æœ¬ï¼Œè€Œå®˜æ–¹æä¾›çš„å­—æ®µæ— æ³•å®ç°æ­¤åŠŸèƒ½ï¼Œè¿™æ—¶å°±éœ€è¦ä½¿ç”¨MDCæœºåˆ¶ï¼š\n@Slf4j\n@Controller\npublic class MainController &#123;\n\n    @RequestMapping(&quot;&#x2F;login&quot;)\n    public String login()&#123;\n      \t&#x2F;&#x2F;è¿™é‡Œå°±ç”¨Sessionä»£æ›¿IDå§\n        MDC.put(&quot;reqId&quot;, request.getSession().getId());\n        log.info(&quot;ç”¨æˆ·è®¿é—®äº†ä¸€æ¬¡ç™»é™†ç•Œé¢&quot;);\n        return &quot;login&quot;;\n    &#125;\n\né€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å°±å¯ä»¥å‘æ—¥å¿—ä¸­ä¼ å…¥è‡ªå®šä¹‰å‚æ•°äº†ï¼Œæˆ‘ä»¬æ—¥å¿—ä¸­æ·»åŠ è¿™æ ·ä¸€ä¸ªå ä½ç¬¦%X&#123;é”®å€¼&#125;ï¼Œåå­—ä¿æŒä¸€è‡´ï¼š\n%clr([%X&#123;reqId&#125;])&#123;faint&#125; \n\nè¿™æ ·å½“æˆ‘ä»¬å‘MDCä¸­æ·»åŠ ä¿¡æ¯åï¼Œåªè¦æ˜¯å½“å‰çº¿ç¨‹ï¼ˆæœ¬è´¨æ˜¯ThreadLocalå®ç°ï¼‰ä¸‹è¾“å‡ºçš„æ—¥å¿—ï¼Œéƒ½ä¼šè‡ªåŠ¨æ›¿æ¢å ä½ç¬¦ã€‚\nè‡ªå®šä¹‰Banneræˆ‘ä»¬åœ¨ä¹‹å‰å‘ç°ï¼Œå®é™…ä¸ŠBanneréƒ¨åˆ†å’Œæ—¥å¿—éƒ¨åˆ†æ˜¯ç‹¬ç«‹çš„ï¼ŒSpringBootå¯åŠ¨åï¼Œä¼šå…ˆæ‰“å°Banneréƒ¨åˆ†ï¼Œé‚£ä¹ˆè¿™ä¸ªBanneréƒ¨åˆ†æ˜¯å¦å¯ä»¥è‡ªå®šä¹‰å‘¢ï¼Ÿç­”æ¡ˆæ˜¯å¯ä»¥çš„ã€‚\næˆ‘ä»¬å¯ä»¥ç›´æ¥æ¥é…ç½®æ–‡ä»¶æ‰€åœ¨ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸ºbanner.txtçš„æ–‡æœ¬æ–‡æ¡£ï¼Œå†…å®¹éšä¾¿ä½ ï¼š\n&#x2F;&#x2F;                          _ooOoo_                               &#x2F;&#x2F;\n&#x2F;&#x2F;                         o8888888o                              &#x2F;&#x2F;\n&#x2F;&#x2F;                         88&quot; . &quot;88                              &#x2F;&#x2F;\n&#x2F;&#x2F;                         (| ^_^ |)                              &#x2F;&#x2F;\n&#x2F;&#x2F;                         O\\  &#x3D;  &#x2F;O                              &#x2F;&#x2F;\n&#x2F;&#x2F;                      ____&#x2F;&#96;---&#39;\\____                           &#x2F;&#x2F;\n&#x2F;&#x2F;                    .&#39;  \\\\|     |&#x2F;&#x2F;  &#96;.                         &#x2F;&#x2F;\n&#x2F;&#x2F;                   &#x2F;  \\\\|||  :  |||&#x2F;&#x2F;  \\                        &#x2F;&#x2F;\n&#x2F;&#x2F;                  &#x2F;  _||||| -:- |||||-  \\                       &#x2F;&#x2F;\n&#x2F;&#x2F;                  |   | \\\\\\  -  &#x2F;&#x2F;&#x2F; |   |                       &#x2F;&#x2F;\n&#x2F;&#x2F;                  | \\_|  &#39;&#39;\\---&#x2F;&#39;&#39;  |   |                       &#x2F;&#x2F;\n&#x2F;&#x2F;                  \\  .-\\__  &#96;-&#96;  ___&#x2F;-. &#x2F;                       &#x2F;&#x2F;\n&#x2F;&#x2F;                ___&#96;. .&#39;  &#x2F;--.--\\  &#96;. . ___                     &#x2F;&#x2F;\n&#x2F;&#x2F;              .&quot;&quot; &#39;&lt;  &#96;.___\\_&lt;|&gt;_&#x2F;___.&#39;  &gt;&#39;&quot;&quot;.                  &#x2F;&#x2F;\n&#x2F;&#x2F;            | | :  &#96;- \\&#96;.;&#96;\\ _ &#x2F;&#96;;.&#96;&#x2F; - &#96; : | |                 &#x2F;&#x2F;\n&#x2F;&#x2F;            \\  \\ &#96;-.   \\_ __\\ &#x2F;__ _&#x2F;   .-&#96; &#x2F;  &#x2F;                 &#x2F;&#x2F;\n&#x2F;&#x2F;      &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#96;-.____&#96;-.___\\_____&#x2F;___.-&#96;____.-&#39;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;         &#x2F;&#x2F;\n&#x2F;&#x2F;                           &#96;&#x3D;---&#x3D;&#39;                              &#x2F;&#x2F;\n&#x2F;&#x2F;      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^        &#x2F;&#x2F;\n&#x2F;&#x2F;             ä½›ç¥–ä¿ä½‘          æ°¸æ— BUG         æ°¸ä¸ä¿®æ”¹             &#x2F;&#x2F;\n\nå¯ä»¥ä½¿ç”¨åœ¨çº¿ç”Ÿæˆç½‘ç«™è¿›è¡Œç”Ÿæˆè‡ªå·±çš„ä¸ªæ€§Bannerï¼šhttps://www.bootschool.net/ascii\næˆ‘ä»¬ç”šè‡³è¿˜å¯ä»¥ä½¿ç”¨é¢œè‰²ä»£ç æ¥ä¸ºæ–‡æœ¬åˆ‡æ¢é¢œè‰²ï¼š\n$&#123;AnsiColor.BRIGHT_GREEN&#125;  &#x2F;&#x2F;ç»¿è‰²\n\nä¹Ÿå¯ä»¥è·å–ä¸€äº›å¸¸ç”¨çš„å˜é‡ä¿¡æ¯ï¼š\n$&#123;AnsiColor.YELLOW&#125; å½“å‰ Spring Boot ç‰ˆæœ¬ï¼š$&#123;spring-boot.version&#125;\n\nç©çš„å¼€å¿ƒï¼\n\nå¤šç¯å¢ƒé…ç½®åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬é¡¹ç›®ä¼šæœ‰å¤šä¸ªç¯å¢ƒã€‚ä¾‹å¦‚å¼€å‘ç¯å¢ƒï¼ˆdevelopï¼‰ä¹Ÿå°±æ˜¯æˆ‘ä»¬ç ”å‘è¿‡ç¨‹ä¸­ç–¯ç‹‚æ•²ä»£ç ä¿®BUGé˜¶æ®µï¼Œç”Ÿäº§ç¯å¢ƒï¼ˆproduction ï¼‰é¡¹ç›®å¼€å‘å¾—å·®ä¸å¤šäº†ï¼Œå¯ä»¥æ”¾åœ¨æœåŠ¡å™¨ä¸Šè·‘äº†ã€‚ä¸åŒçš„ç¯å¢ƒä¸‹ï¼Œå¯èƒ½æˆ‘ä»¬çš„é…ç½®æ–‡ä»¶ä¹Ÿå­˜åœ¨ä¸åŒï¼Œä½†æ˜¯æˆ‘ä»¬ä¸å¯èƒ½åˆ‡æ¢ç¯å¢ƒçš„æ—¶å€™åˆå»é‡æ–°å†™ä¸€æ¬¡é…ç½®æ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†å¤šä¸ªç¯å¢ƒçš„é…ç½®æ–‡ä»¶æå‰å†™å¥½ï¼Œè¿›è¡Œè‡ªç”±åˆ‡æ¢ã€‚\nç”±äºSpringBootåªä¼šè¯»å–application.propertiesæˆ–æ˜¯application.ymlæ–‡ä»¶ï¼Œé‚£ä¹ˆæ€ä¹ˆæ‰èƒ½å®ç°è‡ªç”±åˆ‡æ¢å‘¢ï¼ŸSpringBootç»™æˆ‘ä»¬æä¾›äº†ä¸€ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶æŒ‡å®šï¼š\nspring:\n  profiles:\n    active: dev\n\næ¥ç€æˆ‘ä»¬åˆ†åˆ«åˆ›å»ºä¸¤ä¸ªç¯å¢ƒçš„é…ç½®æ–‡ä»¶ï¼Œapplication-dev.ymlå’Œapplication-prod.ymlåˆ†åˆ«è¡¨ç¤ºå¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒçš„é…ç½®æ–‡ä»¶ï¼Œæ¯”å¦‚å¼€å‘ç¯å¢ƒæˆ‘ä»¬ä½¿ç”¨çš„æœåŠ¡å™¨ç«¯å£ä¸º8080ï¼Œè€Œç”Ÿäº§ç¯å¢ƒä¸‹å¯èƒ½å°±éœ€è¦è®¾ç½®ä¸º80æˆ–æ˜¯443ç«¯å£ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™å°±éœ€è¦ä¸åŒç¯å¢ƒä¸‹çš„é…ç½®æ–‡ä»¶è¿›è¡ŒåŒºåˆ†ï¼š\nserver:\n  port: 8080\n\nserver:\n  port: 80\n\nè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥çµæ´»åˆ‡æ¢ç”Ÿäº§ç¯å¢ƒå’Œå¼€å‘ç¯å¢ƒä¸‹çš„é…ç½®æ–‡ä»¶äº†ã€‚\nSpringBootè‡ªå¸¦çš„Logbackæ—¥å¿—ç³»ç»Ÿä¹Ÿæ˜¯æ”¯æŒå¤šç¯å¢ƒé…ç½®çš„ï¼Œæ¯”å¦‚æˆ‘ä»¬æƒ³åœ¨å¼€å‘ç¯å¢ƒä¸‹è¾“å‡ºæ—¥å¿—åˆ°æ§åˆ¶å°ï¼Œè€Œç”Ÿäº§ç¯å¢ƒä¸‹åªéœ€è¦è¾“å‡ºåˆ°æ–‡ä»¶å³å¯ï¼Œè¿™æ—¶å°±éœ€è¦è¿›è¡Œç¯å¢ƒé…ç½®ï¼š\n&lt;springProfile name&#x3D;&quot;dev&quot;&gt;\n    &lt;root level&#x3D;&quot;INFO&quot;&gt;\n        &lt;appender-ref ref&#x3D;&quot;CONSOLE&quot;&#x2F;&gt;\n        &lt;appender-ref ref&#x3D;&quot;FILE&quot;&#x2F;&gt;\n    &lt;&#x2F;root&gt;\n&lt;&#x2F;springProfile&gt;\n\n&lt;springProfile name&#x3D;&quot;prod&quot;&gt;\n    &lt;root level&#x3D;&quot;INFO&quot;&gt;\n        &lt;appender-ref ref&#x3D;&quot;FILE&quot;&#x2F;&gt;\n    &lt;&#x2F;root&gt;\n&lt;&#x2F;springProfile&gt;\n\næ³¨æ„springProfileæ˜¯åŒºåˆ†å¤§å°å†™çš„ï¼\né‚£å¦‚æœæˆ‘ä»¬å¸Œæœ›ç”Ÿäº§ç¯å¢ƒä¸­ä¸è¦æ‰“åŒ…å¼€å‘ç¯å¢ƒä¸‹çš„é…ç½®æ–‡ä»¶å‘¢ï¼Œæˆ‘ä»¬ç›®å‰è™½ç„¶å¯ä»¥åˆ‡æ¢å¼€å‘ç¯å¢ƒï¼Œä½†æ˜¯æ‰“åŒ…çš„æ—¶å€™ä¾ç„¶æ˜¯æ‰€æœ‰é…ç½®æ–‡ä»¶å…¨éƒ¨æ‰“åŒ…ï¼Œè¿™æ ·æ€»æ„Ÿè§‰è¿˜æ¬ ç¼ºä¸€ç‚¹å®Œç¾ï¼Œå› æ­¤ï¼Œæ‰“åŒ…çš„é—®é¢˜å°±åªèƒ½æ‰¾Mavenè§£å†³äº†ï¼ŒMavenä¹Ÿå¯ä»¥è®¾ç½®å¤šç¯å¢ƒï¼š\n&lt;!--åˆ†åˆ«è®¾ç½®å¼€å‘ï¼Œç”Ÿäº§ç¯å¢ƒ--&gt;\n&lt;profiles&gt;\n    &lt;!-- å¼€å‘ç¯å¢ƒ --&gt;\n    &lt;profile&gt;\n        &lt;id&gt;dev&lt;&#x2F;id&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;true&lt;&#x2F;activeByDefault&gt;\n        &lt;&#x2F;activation&gt;\n        &lt;properties&gt;\n            &lt;environment&gt;dev&lt;&#x2F;environment&gt;\n        &lt;&#x2F;properties&gt;\n    &lt;&#x2F;profile&gt;\n    &lt;!-- ç”Ÿäº§ç¯å¢ƒ --&gt;\n    &lt;profile&gt;\n        &lt;id&gt;prod&lt;&#x2F;id&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;false&lt;&#x2F;activeByDefault&gt;\n        &lt;&#x2F;activation&gt;\n        &lt;properties&gt;\n            &lt;environment&gt;prod&lt;&#x2F;environment&gt;\n        &lt;&#x2F;properties&gt;\n    &lt;&#x2F;profile&gt;\n&lt;&#x2F;profiles&gt;\n\næ¥ç€ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®ç¯å¢ƒçš„ä¸åŒï¼Œæ’é™¤å…¶ä»–ç¯å¢ƒçš„é…ç½®æ–‡ä»¶ï¼š\n&lt;resources&gt;\n&lt;!--æ’é™¤é…ç½®æ–‡ä»¶--&gt;\n    &lt;resource&gt;\n        &lt;directory&gt;src&#x2F;main&#x2F;resources&lt;&#x2F;directory&gt;\n        &lt;!--å…ˆæ’é™¤æ‰€æœ‰çš„é…ç½®æ–‡ä»¶--&gt;\n        &lt;excludes&gt;\n            &lt;!--ä½¿ç”¨é€šé…ç¬¦ï¼Œå½“ç„¶å¯ä»¥å®šä¹‰å¤šä¸ªexcludeæ ‡ç­¾è¿›è¡Œæ’é™¤--&gt;\n            &lt;exclude&gt;application*.yml&lt;&#x2F;exclude&gt;\n        &lt;&#x2F;excludes&gt;\n    &lt;&#x2F;resource&gt;\n\n    &lt;!--æ ¹æ®æ¿€æ´»æ¡ä»¶å¼•å…¥æ‰“åŒ…æ‰€éœ€çš„é…ç½®å’Œæ–‡ä»¶--&gt;\n    &lt;resource&gt;\n        &lt;directory&gt;src&#x2F;main&#x2F;resources&lt;&#x2F;directory&gt;\n        &lt;!--å¼•å…¥æ‰€éœ€ç¯å¢ƒçš„é…ç½®æ–‡ä»¶--&gt;\n        &lt;filtering&gt;true&lt;&#x2F;filtering&gt;\n        &lt;includes&gt;\n            &lt;include&gt;application.yml&lt;&#x2F;include&gt;\n            &lt;!--æ ¹æ®mavené€‰æ‹©ç¯å¢ƒå¯¼å…¥é…ç½®æ–‡ä»¶--&gt;\n            &lt;include&gt;application-$&#123;environment&#125;.yml&lt;&#x2F;include&gt;\n        &lt;&#x2F;includes&gt;\n    &lt;&#x2F;resource&gt;\n&lt;&#x2F;resources&gt;\n\næ¥ç€ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å°†Mavenä¸­çš„environmentå±æ€§ï¼Œä¼ é€’ç»™SpringBootçš„é…ç½®æ–‡ä»¶ï¼Œåœ¨æ„å»ºæ—¶æ›¿æ¢ä¸ºå¯¹åº”çš„å€¼ï¼š\nspring:\n  profiles:\n    active: &#39;@environment@&#39;  #æ³¨æ„YAMLé…ç½®æ–‡ä»¶éœ€è¦åŠ å•å¼•å·ï¼Œå¦åˆ™ä¼šæŠ¥é”™\n\nè¿™æ ·ï¼Œæ ¹æ®æˆ‘ä»¬Mavenç¯å¢ƒçš„åˆ‡æ¢ï¼ŒSpringBootçš„é…ç½®æ–‡ä»¶ä¹Ÿä¼šè¿›è¡Œå¯¹åº”çš„åˆ‡æ¢ã€‚\næœ€åæˆ‘ä»¬æ‰“å¼€Mavenæ ç›®ï¼Œå°±å¯ä»¥è‡ªç”±åˆ‡æ¢äº†ï¼Œç›´æ¥å‹¾é€‰å³å¯ï¼Œæ³¨æ„åˆ‡æ¢ç¯å¢ƒä¹‹åè¦é‡æ–°åŠ è½½ä¸€ä¸‹Mavené¡¹ç›®ï¼Œä¸ç„¶ä¸ä¼šç”Ÿæ•ˆï¼\n\næ‰“åŒ…è¿è¡Œç°åœ¨æˆ‘ä»¬çš„SpringBooté¡¹ç›®ç¼–å†™å®Œæˆäº†ï¼Œé‚£ä¹ˆå¦‚ä½•æ‰“åŒ…è¿è¡Œå‘¢ï¼Ÿéå¸¸ç®€å•ï¼Œåªéœ€è¦ç‚¹å‡»Mavenç”Ÿå‘½å‘¨æœŸä¸­çš„packageå³å¯ï¼Œå®ƒä¼šè‡ªåŠ¨å°†å…¶æ‰“åŒ…ä¸ºå¯ç›´æ¥è¿è¡Œçš„JaråŒ…ï¼Œç¬¬ä¸€æ¬¡æ‰“åŒ…å¯èƒ½ä¼šèŠ±è´¹ä¸€äº›æ—¶é—´ä¸‹è½½éƒ¨åˆ†ä¾èµ–çš„æºç ä¸€èµ·æ‰“åŒ…è¿›Jaræ–‡ä»¶ã€‚\næˆ‘ä»¬å‘ç°åœ¨æ‰“åŒ…çš„è¿‡ç¨‹ä¸­è¿˜ä¼šå®Œæ•´çš„å°†é¡¹ç›®è·‘ä¸€éè¿›è¡Œæµ‹è¯•ï¼Œå¦‚æœæˆ‘ä»¬ä¸æƒ³æµ‹è¯•ç›´æ¥æ‰“åŒ…ï¼Œå¯ä»¥æ‰‹åŠ¨ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š\nmvn package  -DskipTests\n\næ‰“åŒ…åï¼Œæˆ‘ä»¬ä¼šç›´æ¥å¾—åˆ°ä¸€ä¸ªåä¸ºspringboot-study-0.0.1-SNAPSHOT.jarçš„æ–‡ä»¶ï¼Œè¿™æ—¶åœ¨CMDçª—å£ä¸­è¾“å…¥å‘½ä»¤ï¼š\njava -jar springboot-study-0.0.1-SNAPSHOT.jar\n\nè¾“å…¥åï¼Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„Javaé¡¹ç›®æˆåŠŸè¿è¡Œèµ·æ¥äº†ï¼Œå¦‚æœæ‰‹åŠ¨å…³é—­çª—å£ä¼šå¯¼è‡´æ•´ä¸ªé¡¹ç›®ç»ˆæ­¢è¿è¡Œã€‚\n\nå†è°ˆSpringæ¡†æ¶æ³¨æ„ï¼šå¼€å§‹æœ¬éƒ¨åˆ†å‰ï¼Œå»ºè®®å…ˆå®ŒæˆSSMé˜¶æ®µçš„Springæºç è®²è§£éƒ¨åˆ†ã€‚\næˆ‘ä»¬åœ¨SpringBooté˜¶æ®µï¼Œéœ€è¦ç»§ç»­æ‰©å……Springæ¡†æ¶çš„ç›¸å…³çŸ¥è¯†ï¼Œæ¥å·©å›ºå’Œå¼ºåŒ–å¯¹äºSpringæ¡†æ¶çš„è®¤è¯†ã€‚\nä»»åŠ¡è°ƒåº¦ä¸ºäº†æ‰§è¡ŒæŸäº›ä»»åŠ¡ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦ä¸€äº›éå¸¸è§„çš„æ“ä½œï¼Œæ¯”å¦‚æˆ‘ä»¬å¸Œæœ›ä½¿ç”¨å¤šçº¿ç¨‹æ¥å¤„ç†æˆ‘ä»¬çš„ç»“æœæˆ–æ˜¯æ‰§è¡Œä¸€äº›å®šæ—¶ä»»åŠ¡ï¼Œåˆ°è¾¾æŒ‡å®šæ—¶é—´å†å»æ‰§è¡Œã€‚\nè¿™æ—¶æˆ‘ä»¬é¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹æ¥å¤„ç†ï¼Œæˆ–æ˜¯ä½¿ç”¨TimerTaskæ¥å®Œæˆå®šæ—¶ä»»åŠ¡ï¼Œä½†æ˜¯æˆ‘ä»¬æœ‰äº†Springæ¡†æ¶ä¹‹åï¼Œå°±ä¸ç”¨è¿™æ ·äº†ï¼Œå› ä¸ºSpringæ¡†æ¶ä¸ºæˆ‘ä»¬æä¾›äº†æ›´åŠ ä¾¿æ·çš„æ–¹å¼è¿›è¡Œä»»åŠ¡è°ƒåº¦ã€‚\nå¼‚æ­¥ä»»åŠ¡éœ€è¦ä½¿ç”¨Springå¼‚æ­¥ä»»åŠ¡æ”¯æŒï¼Œæˆ‘ä»¬éœ€è¦åœ¨é…ç½®ç±»ä¸Šæ·»åŠ @EnableAsyncæˆ–æ˜¯åœ¨SpringBootçš„å¯åŠ¨ç±»ä¸Šæ·»åŠ ä¹Ÿå¯ä»¥ã€‚\n@EnableAsync\n@SpringBootApplication\npublic class SpringBootWebTestApplication &#123;\n    public static void main(String[] args) &#123;\n        SpringApplication.run(SpringBootWebTestApplication.class, args);\n    &#125;\n&#125;\n\næ¥ç€æˆ‘ä»¬åªéœ€è¦åœ¨éœ€è¦å¼‚æ­¥æ‰§è¡Œçš„æ–¹æ³•ä¸Šï¼Œæ·»åŠ @Asyncæ³¨è§£å³å¯å°†æ­¤æ–¹æ³•æ ‡è®°ä¸ºå¼‚æ­¥ï¼Œå½“æ­¤æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œä¼šå¼‚æ­¥æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯æ–°å¼€ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œï¼Œä¸æ˜¯åœ¨å½“å‰çº¿ç¨‹æ‰§è¡Œã€‚\n@Service\npublic class TestService &#123;\n\n    @Async\n    public void test()&#123;\n        try &#123;\n            Thread.sleep(3000);\n            System.out.println(&quot;æˆ‘æ˜¯å¼‚æ­¥ä»»åŠ¡ï¼&quot;);\n        &#125; catch (InterruptedException e) &#123;\n            e.printStackTrace();\n        &#125;\n    &#125;\n&#125;\n\n@RequestMapping(&quot;&#x2F;login&quot;)\npublic String login(HttpServletRequest request)&#123;\n    service.test();\n    System.out.println(&quot;æˆ‘æ˜¯åŒæ­¥ä»»åŠ¡ï¼&quot;);\n    return &quot;login&quot;;\n&#125;\n\nå®é™…ä¸Šè¿™ä¹Ÿæ˜¯å¾—ç›ŠäºAOPæœºåˆ¶ï¼Œé€šè¿‡çº¿ç¨‹æ± å®ç°ï¼Œä½†æ˜¯ä¹Ÿè¦æ³¨æ„ï¼Œæ­£æ˜¯å› ä¸ºå®ƒæ˜¯AOPæœºåˆ¶çš„äº§ç‰©ï¼Œæ‰€ä»¥å®ƒåªèƒ½æ˜¯åœ¨Beanä¸­æ‰ä¼šç”Ÿæ•ˆï¼\nä½¿ç”¨ @Async æ³¨é‡Šçš„æ–¹æ³•å¯ä»¥è¿”å› â€˜voidâ€™ æˆ– â€œFutureâ€ ç±»å‹ï¼ŒFutureæ˜¯ä¸€ç§ç”¨äºæ¥æ”¶ä»»åŠ¡æ‰§è¡Œç»“æœçš„ä¸€ç§ç±»å‹ï¼Œæˆ‘ä»¬ä¼šåœ¨Javaå¹¶å‘ç¼–ç¨‹ä¸­è¿›è¡Œè®²è§£ï¼Œè¿™é‡Œæš‚æ—¶ä¸åšä»‹ç»ã€‚\nå®šæ—¶ä»»åŠ¡çœ‹å®Œäº†å¼‚æ­¥ä»»åŠ¡ï¼Œæˆ‘ä»¬æ¥ç€æ¥çœ‹å®šæ—¶ä»»åŠ¡ï¼Œå®šæ—¶ä»»åŠ¡å…¶å®å°±æ˜¯æŒ‡å®šåœ¨å“ªä¸ªæ—¶å€™å†å»æ‰§è¡Œï¼Œåœ¨JavaSEé˜¶æ®µæˆ‘ä»¬ä½¿ç”¨è¿‡TimerTaskæ¥æ‰§è¡Œå®šæ—¶ä»»åŠ¡ã€‚\nSpringä¸­çš„å®šæ—¶ä»»åŠ¡æ˜¯å…¨å±€æ€§è´¨çš„ï¼Œå½“æˆ‘ä»¬çš„Springç¨‹åºå¯åŠ¨åï¼Œé‚£ä¹ˆå®šæ—¶ä»»åŠ¡ä¹Ÿå°±è·Ÿç€å¯åŠ¨äº†ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é…ç½®ç±»ä¸Šæ·»åŠ @EnableSchedulingæˆ–æ˜¯åœ¨SpringBootçš„å¯åŠ¨ç±»ä¸Šæ·»åŠ ä¹Ÿå¯ï¼š\n@EnableAsync\n@EnableScheduling\n@SpringBootApplication\npublic class SpringBootWebTestApplication &#123;\n    public static void main(String[] args) &#123;\n        SpringApplication.run(SpringBootWebTestApplication.class, args);\n    &#125;\n&#125;\n\næ¥ç€æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªå®šæ—¶ä»»åŠ¡é…ç½®ç±»ï¼Œåœ¨é…ç½®ç±»é‡Œé¢ç¼–å†™å®šæ—¶ä»»åŠ¡ï¼š\n@Configuration\npublic class ScheduleConfiguration &#123;\n\n    @Scheduled(fixedRate &#x3D; 2000)\n    public void task()&#123;\n        System.out.println(&quot;æˆ‘æ˜¯å®šæ—¶ä»»åŠ¡ï¼&quot;+new Date());\n    &#125;\n&#125;\n\næˆ‘ä»¬æ³¨æ„åˆ° @Scheduledä¸­æœ‰å¾ˆå¤šå‚æ•°ï¼Œæˆ‘ä»¬éœ€è¦æŒ‡å®šâ€™cronâ€™, â€˜fixedDelay(String)â€™, or â€˜fixedRate(String)â€™çš„å…¶ä¸­ä¸€ä¸ªï¼Œå¦åˆ™æ— æ³•åˆ›å»ºå®šæ—¶ä»»åŠ¡ï¼Œä»–ä»¬çš„åŒºåˆ«å¦‚ä¸‹ï¼š\n\nfixedDelayï¼šåœ¨ä¸Šä¸€æ¬¡å®šæ—¶ä»»åŠ¡æ‰§è¡Œå®Œä¹‹åï¼Œé—´éš”å¤šä¹…ç»§ç»­æ‰§è¡Œã€‚\nfixedRateï¼šæ— è®ºä¸Šä¸€æ¬¡å®šæ—¶ä»»åŠ¡æœ‰æ²¡æœ‰æ‰§è¡Œå®Œæˆï¼Œä¸¤æ¬¡ä»»åŠ¡ä¹‹é—´çš„æ—¶é—´é—´éš”ã€‚\ncronï¼šä½¿ç”¨cronè¡¨è¾¾å¼æ¥æŒ‡å®šä»»åŠ¡è®¡åˆ’ã€‚\n\nè¿™é‡Œé‡ç‚¹è®²è§£ä¸€ä¸‹cronè¡¨è¾¾å¼ï¼šhttps://blog.csdn.net/sunnyzyq/article/details/98597252\nç›‘å¬å™¨ç›‘å¬å™¨å¯¹æˆ‘ä»¬æ¥è¯´ä¹Ÿæ˜¯ä¸€ä¸ªæ¯”è¾ƒé™Œç”Ÿçš„æ¦‚å¿µï¼Œé‚£ä¹ˆä½•è°“ç›‘å¬å‘¢ï¼Ÿ\nç›‘å¬å®é™…ä¸Šå°±æ˜¯ç­‰å¾…æŸä¸ªäº‹ä»¶çš„è§¦å‘ï¼Œå½“äº‹ä»¶è§¦å‘æ—¶ï¼Œå¯¹åº”äº‹ä»¶çš„ç›‘å¬å™¨å°±ä¼šè¢«é€šçŸ¥ã€‚\n@Component\npublic class TestListener implements ApplicationListener&lt;ContextRefreshedEvent&gt; &#123;\n    @Override\n    public void onApplicationEvent(ContextRefreshedEvent event) &#123;\n        System.out.println(event.getApplicationContext());\n    &#125;\n&#125;\n\né€šè¿‡ç›‘å¬äº‹ä»¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨å¯¹åº”çš„æ—¶æœºè¿›è¡Œä¸€äº›é¢å¤–çš„å¤„ç†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ–­ç‚¹è°ƒè¯•æ¥æŸ¥çœ‹ä¸€ä¸ªäº‹ä»¶æ˜¯å¦‚ä½•å‘ç”Ÿï¼Œä»¥åŠå¦‚ä½•é€šçŸ¥ç›‘å¬å™¨çš„ã€‚\né€šè¿‡é˜…è¯»æºç ï¼Œæˆ‘ä»¬å¾—çŸ¥ï¼Œä¸€ä¸ªäº‹ä»¶å®é™…ä¸Šå°±æ˜¯é€šè¿‡publishEventæ–¹æ³•æ¥è¿›è¡Œå‘å¸ƒçš„ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå®šä¹‰æˆ‘ä»¬è‡ªå·±é¡¹ç›®ä¸­çš„äº‹ä»¶ï¼Œå¹¶æ³¨å†Œå¯¹åº”çš„ç›‘å¬å™¨è¿›è¡Œå¤„ç†ã€‚\npublic class TestEvent extends ApplicationEvent &#123;   &#x2F;&#x2F;éœ€è¦ç»§æ‰¿ApplicationEvent\n    public TestEvent(Object source) &#123;\n        super(source);\n    &#125;\n&#125;\n\n@Component\npublic class TestListener implements ApplicationListener&lt;TestEvent&gt; &#123;\n\n    @Override\n    public void onApplicationEvent(TestEvent event) &#123;\n        System.out.println(&quot;è‡ªå®šä¹‰äº‹ä»¶å‘ç”Ÿäº†ï¼š&quot;+event.getSource());\n    &#125;\n&#125;\n\n@Resource\nApplicationContext context;\n\n@RequestMapping(&quot;&#x2F;login&quot;)\npublic String login(HttpServletRequest request)&#123;\n    context.publishEvent(new TestEvent(&quot;æœ‰äººè®¿é—®äº†ç™»å½•ç•Œé¢ï¼&quot;));\n    return &quot;login&quot;;\n&#125;\n\nè¿™æ ·ï¼Œæˆ‘ä»¬å°±å®ç°äº†è‡ªå®šä¹‰äº‹ä»¶å‘å¸ƒå’Œç›‘å¬ã€‚\nAwareç³»åˆ—æ¥å£æˆ‘ä»¬åœ¨ä¹‹å‰è®²è§£Springæºç æ—¶ï¼Œç»å¸¸ä¼šå‘ç°æŸäº›ç±»çš„å®šä¹‰ä¸Šï¼Œé™¤äº†æˆ‘ä»¬å½“æ—¶è®²è§£çš„ç»§æ‰¿å…³ç³»ä»¥å¤–ï¼Œè¿˜å®ç°äº†ä¸€äº›æ¥å£ï¼Œä»–ä»¬çš„åç§°åŸºæœ¬éƒ½æ˜¯xxxxAwareï¼Œæ¯”å¦‚æˆ‘ä»¬åœ¨è®²è§£SpringSecurityçš„æºç ä¸­ï¼ŒAbstractAuthenticationProcessingFilterç±»å°±æ˜¯è¿™æ ·ï¼š\npublic abstract class AbstractAuthenticationProcessingFilter extends GenericFilterBean implements ApplicationEventPublisherAware, MessageSourceAware &#123;\n    protected ApplicationEventPublisher eventPublisher;\n    protected AuthenticationDetailsSource&lt;HttpServletRequest, ?&gt; authenticationDetailsSource &#x3D; new WebAuthenticationDetailsSource();\n    private AuthenticationManager authenticationManager;\n    ...\n\næˆ‘ä»¬å‘ç°å®ƒé™¤äº†ç»§æ‰¿è‡ªGenericFilterBeanä¹‹å¤–ï¼Œè¿˜å®ç°äº†ApplicationEventPublisherAwareå’ŒMessageSourceAwareæ¥å£ï¼Œé‚£ä¹ˆè¿™äº›Awareæ¥å£åˆ°åº•æ˜¯å¹²å˜›çš„å‘¢ï¼Ÿ\nAwareçš„ä¸­æ–‡æ„æ€ä¸ºæ„ŸçŸ¥ã€‚ç®€å•æ¥è¯´ï¼Œä»–å°±æ˜¯ä¸€ä¸ªæ ‡è¯†ï¼Œå®ç°æ­¤æ¥å£çš„ç±»ä¼šè·å¾—æŸäº›æ„ŸçŸ¥èƒ½åŠ›ï¼ŒSpringå®¹å™¨ä¼šåœ¨Beanè¢«åŠ è½½æ—¶ï¼Œæ ¹æ®ç±»å®ç°çš„æ„ŸçŸ¥æ¥å£ï¼Œä¼šè°ƒç”¨ç±»ä¸­å®ç°çš„å¯¹åº”æ„ŸçŸ¥æ–¹æ³•ã€‚\næ¯”å¦‚AbstractAuthenticationProcessingFilterå°±å®ç°äº†ApplicationEventPublisherAwareæ¥å£ï¼Œæ­¤æ¥å£çš„æ„ŸçŸ¥åŠŸèƒ½ä¸ºäº‹ä»¶å‘å¸ƒå™¨ï¼Œåœ¨BeanåŠ è½½æ—¶ï¼Œä¼šè°ƒç”¨å®ç°ç±»ä¸­çš„setApplicationEventPublisheræ–¹æ³•ï¼Œè€ŒAbstractAuthenticationProcessingFilterç±»åˆ™åˆ©ç”¨æ­¤æ–¹æ³•ï¼Œåœ¨BeanåŠ è½½é˜¶æ®µè·å¾—äº†å®¹å™¨çš„äº‹ä»¶å‘å¸ƒå™¨ï¼Œä»¥ä¾¿ä¹‹åå‘å¸ƒäº‹ä»¶ä½¿ç”¨ã€‚\npublic void setApplicationEventPublisher(ApplicationEventPublisher eventPublisher) &#123;\n    this.eventPublisher &#x3D; eventPublisher;   &#x2F;&#x2F;ç›´æ¥å­˜åˆ°æˆå‘˜å˜é‡\n&#125;\n\nprotected void successfulAuthentication(HttpServletRequest request, HttpServletResponse response, FilterChain chain, Authentication authResult) throws IOException, ServletException &#123;\n    SecurityContext context &#x3D; SecurityContextHolder.createEmptyContext();\n    context.setAuthentication(authResult);\n    SecurityContextHolder.setContext(context);\n    if (this.logger.isDebugEnabled()) &#123;\n        this.logger.debug(LogMessage.format(&quot;Set SecurityContextHolder to %s&quot;, authResult));\n    &#125;\n\n    this.rememberMeServices.loginSuccess(request, response, authResult);\n  \t&#x2F;&#x2F;åœ¨è¿™é‡Œä½¿ç”¨\n    if (this.eventPublisher !&#x3D; null) &#123;\n        this.eventPublisher.publishEvent(new InteractiveAuthenticationSuccessEvent(authResult, this.getClass()));\n    &#125;\n\n    this.successHandler.onAuthenticationSuccess(request, response, authResult);\n&#125;\n\nåŒæ ·çš„ï¼Œé™¤äº†ApplicationEventPublisherAwareæ¥å£å¤–ï¼Œæˆ‘ä»¬å†æ¥æ¼”ç¤ºä¸€ä¸ªæ¥å£ï¼Œæ¯”å¦‚ï¼š\n@Service\npublic class TestService implements BeanNameAware &#123;\n    @Override\n    public void setBeanName(String s) &#123;\n        System.out.println(s);\n    &#125;\n&#125;\n\nBeanNameAwareå°±æ˜¯æ„ŸçŸ¥Beanåç§°çš„ä¸€ä¸ªæ¥å£ï¼Œå½“Beanè¢«åŠ è½½æ—¶ï¼Œä¼šè°ƒç”¨setBeanNameæ–¹æ³•å¹¶å°†Beanåç§°ä½œä¸ºå‚æ•°ä¼ é€’ã€‚\næœ‰å…³æ‰€æœ‰çš„Awareè¿™é‡Œå°±ä¸ä¸€ä¸€åˆ—ä¸¾äº†ã€‚\n\næ¢ç©¶SpringBootå®ç°åŸç†æ³¨æ„ï¼šéš¾åº¦è¾ƒå¤§ï¼Œæœ¬ç‰ˆå—ä½œä¸ºé€‰å­¦å†…å®¹ï¼Œåœ¨å¼€å§‹å‰ï¼Œå¿…é¡»å®ŒæˆSSMé˜¶æ®µæºç è§£æéƒ¨åˆ†çš„å­¦ä¹ ã€‚\næˆ‘ä»¬åœ¨å‰é¢çš„å­¦ä¹ ä¸­åˆ‡å®æ„Ÿå—åˆ°äº†SpringBootä¸ºæˆ‘ä»¬å¸¦æ¥çš„ä¾¿æ·ï¼Œé‚£ä¹ˆå®ƒä¸ºä½•èƒ½å¤Ÿå®ç°å¦‚æ­¤å¿«æ·çš„å¼€å‘æ¨¡å¼ï¼Œstarteråˆæ˜¯ä¸€ä¸ªæ€æ ·çš„å­˜åœ¨ï¼Œå®ƒæ˜¯å¦‚ä½•è¿›è¡Œè‡ªåŠ¨é…ç½®çš„ï¼Œæˆ‘ä»¬ç°åœ¨å°±å¼€å§‹ç ”ç©¶ã€‚\nå¯åŠ¨åŸç†é¦–å…ˆæˆ‘ä»¬æ¥çœ‹çœ‹ï¼ŒSpringBooté¡¹ç›®å¯åŠ¨ä¹‹åï¼Œåšäº†ä»€ä¹ˆäº‹æƒ…ï¼ŒSpringApplicationä¸­çš„é™æ€runæ–¹æ³•ï¼š\npublic static ConfigurableApplicationContext run(Class&lt;?&gt; primarySource, String... args) &#123;\n    return run(new Class[]&#123;primarySource&#125;, args);\n&#125;\n\nå¥—å¨ƒå¦‚ä¸‹ï¼š\npublic static ConfigurableApplicationContext run(Class&lt;?&gt;[] primarySources, String[] args) &#123;\n    return (new SpringApplication(primarySources)).run(args);\n&#125;\n\næˆ‘ä»¬å‘ç°ï¼Œè¿™é‡Œç›´æ¥newäº†ä¸€ä¸ªæ–°çš„SpringApplicationå¯¹è±¡ï¼Œä¼ å…¥æˆ‘ä»¬çš„ä¸»ç±»ä½œä¸ºæ„é€ æ–¹æ³•å‚æ•°ï¼Œå¹¶è°ƒç”¨äº†éstaticçš„runæ–¹æ³•ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æ„é€ æ–¹æ³•é‡Œé¢åšäº†ä»€ä¹ˆäº‹æƒ…ï¼š\npublic SpringApplication(ResourceLoader resourceLoader, Class&lt;?&gt;... primarySources) &#123;\n    ...\n    this.resourceLoader &#x3D; resourceLoader;\n    Assert.notNull(primarySources, &quot;PrimarySources must not be null&quot;);\n    this.primarySources &#x3D; new LinkedHashSet(Arrays.asList(primarySources));\n  \t&#x2F;&#x2F;è¿™é‡Œæ˜¯å…³é”®ï¼Œè¿™é‡Œä¼šåˆ¤æ–­å½“å‰SpringBootåº”ç”¨ç¨‹åºæ˜¯å¦ä¸ºWebé¡¹ç›®ï¼Œå¹¶è¿”å›å½“å‰çš„é¡¹ç›®ç±»å‹\n  \t&#x2F;&#x2F;deduceFromClasspathæ˜¯æ ¹æ®ç±»è·¯å¾„ä¸‹åˆ¤æ–­æ˜¯å¦åŒ…å«SpringBootWebä¾èµ–ï¼Œå¦‚æœä¸åŒ…å«å°±æ˜¯NONEç±»å‹ï¼ŒåŒ…å«å°±æ˜¯SERVLETç±»å‹\n    this.webApplicationType &#x3D; WebApplicationType.deduceFromClasspath();\n    this.bootstrapRegistryInitializers &#x3D; new ArrayList(this.getSpringFactoriesInstances(BootstrapRegistryInitializer.class));\n  \t&#x2F;&#x2F;åˆ›å»ºæ‰€æœ‰ApplicationContextInitializerå®ç°ç±»çš„å¯¹è±¡\n    this.setInitializers(this.getSpringFactoriesInstances(ApplicationContextInitializer.class));\n    this.setListeners(this.getSpringFactoriesInstances(ApplicationListener.class));\n    this.mainApplicationClass &#x3D; this.deduceMainApplicationClass();\n&#125;\n\nå…³é”®å°±åœ¨è¿™é‡Œäº†ï¼Œå®ƒæ˜¯å¦‚ä½•çŸ¥é“å“ªäº›ç±»æ˜¯ApplicationContextInitializerçš„å®ç°ç±»çš„å‘¢ï¼Ÿ\nè¿™é‡Œå°±è¦æåˆ°spring.factoriesäº†ï¼Œå®ƒæ˜¯ Spring ä»¿é€ Java SPIå®ç°çš„ä¸€ç§ç±»åŠ è½½æœºåˆ¶ã€‚å®ƒåœ¨ META-INF&#x2F;spring.factories æ–‡ä»¶ä¸­é…ç½®æ¥å£çš„å®ç°ç±»åç§°ï¼Œç„¶ååœ¨ç¨‹åºä¸­è¯»å–è¿™äº›é…ç½®æ–‡ä»¶å¹¶å®ä¾‹åŒ–ã€‚è¿™ç§è‡ªå®šä¹‰çš„SPIæœºåˆ¶æ˜¯ Spring Boot Starter å®ç°çš„åŸºç¡€ã€‚\nSPIçš„å¸¸è§ä¾‹å­ï¼š\n\næ•°æ®åº“é©±åŠ¨åŠ è½½æ¥å£å®ç°ç±»çš„åŠ è½½ï¼šJDBCåŠ è½½ä¸åŒç±»å‹æ•°æ®åº“çš„é©±åŠ¨\næ—¥å¿—é—¨é¢æ¥å£å®ç°ç±»åŠ è½½ï¼šSLF4JåŠ è½½ä¸åŒæä¾›å•†çš„æ—¥å¿—å®ç°ç±»\n\nè¯´ç™½äº†å°±æ˜¯äººå®¶å®šä¹‰æ¥å£ï¼Œä½†æ˜¯å®ç°å¯èƒ½æœ‰å¾ˆå¤šç§ï¼Œä½†æ˜¯æ ¸å¿ƒåªæä¾›æ¥å£ï¼Œéœ€è¦æˆ‘ä»¬æŒ‰éœ€é€‰æ‹©å¯¹åº”çš„å®ç°ï¼Œè¿™ç§æ–¹å¼æ˜¯é«˜åº¦è§£è€¦çš„ã€‚\næˆ‘ä»¬æ¥çœ‹çœ‹getSpringFactoriesInstancesæ–¹æ³•åšäº†ä»€ä¹ˆï¼š\nprivate &lt;T&gt; Collection&lt;T&gt; getSpringFactoriesInstances(Class&lt;T&gt; type, Class&lt;?&gt;[] parameterTypes, Object... args) &#123;\n  \t&#x2F;&#x2F;è·å–å½“å‰çš„ç±»åŠ è½½å™¨\n    ClassLoader classLoader &#x3D; this.getClassLoader();\n  \t&#x2F;&#x2F;è·å–æ‰€æœ‰ä¾èµ–ä¸­ META-INF&#x2F;spring.factories ä¸­é…ç½®çš„å¯¹åº”æ¥å£ç±»çš„å®ç°ç±»åˆ—è¡¨\n    Set&lt;String&gt; names &#x3D; new LinkedHashSet(SpringFactoriesLoader.loadFactoryNames(type, classLoader));\n  \t&#x2F;&#x2F;æ ¹æ®ä¸Šæ–¹åˆ—è¡¨ï¼Œä¾æ¬¡åˆ›å»ºå®ä¾‹å¯¹è±¡  \n  List&lt;T&gt; instances &#x3D; this.createSpringFactoriesInstances(type, parameterTypes, classLoader, args, names);\n  \t&#x2F;&#x2F;æ ¹æ®å¯¹åº”ç±»ä¸Šçš„Orderæ¥å£æˆ–æ˜¯æ³¨è§£è¿›è¡Œæ’åº\n    AnnotationAwareOrderComparator.sort(instances);\n  \t&#x2F;&#x2F;è¿”å›å®ä¾‹\n    return instances;\n&#125;\n\nå…¶ä¸­SpringFactoriesLoader.loadFactoryNamesæ­£æ˜¯è¯»å–é…ç½®çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œæˆ‘ä»¬åé¢è¿˜ä¼šé‡åˆ°ã€‚\næ¥ç€æˆ‘ä»¬æ¥çœ‹runæ–¹æ³•é‡Œé¢åšäº†ä»€ä¹ˆäº‹æƒ…ã€‚\npublic ConfigurableApplicationContext run(String... args) &#123;\n    long startTime &#x3D; System.nanoTime();\n    DefaultBootstrapContext bootstrapContext &#x3D; this.createBootstrapContext();\n    ConfigurableApplicationContext context &#x3D; null;\n    this.configureHeadlessProperty();\n  \t&#x2F;&#x2F;è·å–æ‰€æœ‰çš„SpringApplicationRunListenerï¼Œå¹¶é€šçŸ¥å¯åŠ¨äº‹ä»¶ï¼Œé»˜è®¤åªæœ‰ä¸€ä¸ªå®ç°ç±»EventPublishingRunListener\n  \t&#x2F;&#x2F;EventPublishingRunListenerä¼šå°†åˆå§‹åŒ–å„ä¸ªé˜¶æ®µçš„äº‹ä»¶è½¬å‘ç»™æ‰€æœ‰ç›‘å¬å™¨\n    SpringApplicationRunListeners listeners &#x3D; this.getRunListeners(args);\n    listeners.starting(bootstrapContext, this.mainApplicationClass);\n\n    try &#123;\n      \t&#x2F;&#x2F;ç¯å¢ƒé…ç½®\n        ApplicationArguments applicationArguments &#x3D; new DefaultApplicationArguments(args);\n        ConfigurableEnvironment environment &#x3D; this.prepareEnvironment(listeners, bootstrapContext, applicationArguments);\n        this.configureIgnoreBeanInfo(environment);\n      \t&#x2F;&#x2F;æ‰“å°Banner\n        Banner printedBanner &#x3D; this.printBanner(environment);\n      \t&#x2F;&#x2F;åˆ›å»ºApplicationContextï¼Œæ³¨æ„è¿™é‡Œä¼šæ ¹æ®æ˜¯å¦ä¸ºWebå®¹å™¨ä½¿ç”¨ä¸åŒçš„ApplicationContextå®ç°ç±»\n        context &#x3D; this.createApplicationContext();\n        context.setApplicationStartup(this.applicationStartup);\n      \t&#x2F;&#x2F;åˆå§‹åŒ–ApplicationContext\n        this.prepareContext(bootstrapContext, context, environment, listeners, applicationArguments, printedBanner);\n      \t&#x2F;&#x2F;æ‰§è¡ŒApplicationContextçš„refreshæ–¹æ³•\n        this.refreshContext(context);\n        this.afterRefresh(context, applicationArguments);\n        Duration timeTakenToStartup &#x3D; Duration.ofNanos(System.nanoTime() - startTime);\n        if (this.logStartupInfo) &#123;\n            (new StartupInfoLogger(this.mainApplicationClass)).logStarted(this.getApplicationLog(), timeTakenToStartup);\n        &#125;\n        ....\n&#125;\n\næˆ‘ä»¬å‘ç°ï¼Œå®é™…ä¸ŠSpringBootå°±æ˜¯Springçš„ä¸€å±‚å£³ç½¢äº†ï¼Œç¦»ä¸å¼€æœ€å…³é”®çš„ApplicationContextï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å¯åŠ¨åä¼šè‡ªåŠ¨é…ç½®ä¸€ä¸ªApplicationContextï¼Œåªä¸è¿‡æ˜¯è¿›è¡Œäº†å¤§é‡çš„æ‰©å±•ã€‚\næˆ‘ä»¬æ¥çœ‹ApplicationContextæ˜¯æ€ä¹ˆæ¥çš„ï¼Œæ‰“å¼€createApplicationContextæ–¹æ³•ï¼š\nprotected ConfigurableApplicationContext createApplicationContext() &#123;\n    return this.applicationContextFactory.create(this.webApplicationType);\n&#125;\n\næˆ‘ä»¬å‘ç°åœ¨æ„é€ æ–¹æ³•ä¸­applicationContextFactoryç›´æ¥ä½¿ç”¨çš„æ˜¯DEFAULTï¼š\nthis.applicationContextFactory &#x3D; ApplicationContextFactory.DEFAULT;\n\nApplicationContextFactory DEFAULT &#x3D; (webApplicationType) -&gt; &#123;\n    try &#123;\n        switch(webApplicationType) &#123;\n        case SERVLET:\n            return new AnnotationConfigServletWebServerApplicationContext();\n        case REACTIVE:\n            return new AnnotationConfigReactiveWebServerApplicationContext();\n        default:\n            return new AnnotationConfigApplicationContext();\n        &#125;\n    &#125; catch (Exception var2) &#123;\n        throw new IllegalStateException(&quot;Unable create a default ApplicationContext instance, you may need a custom ApplicationContextFactory&quot;, var2);\n    &#125;\n&#125;;\n\nConfigurableApplicationContext create(WebApplicationType webApplicationType);\n\nDEFAULTæ˜¯ç›´æ¥ç¼–å†™çš„ä¸€ä¸ªåŒ¿åå†…éƒ¨ç±»ï¼Œå…¶å®å·²ç»å¾ˆæ˜ç¡®äº†ï¼Œæ­£æ˜¯æ ¹æ®webApplicationTypeç±»å‹è¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœæ˜¯SERVLETï¼Œé‚£ä¹ˆä¹…è¿”å›ä¸“ç”¨äºWebç¯å¢ƒçš„AnnotationConfigServletWebServerApplicationContextå¯¹è±¡ï¼ˆSpringBootä¸­æ–°å¢çš„ï¼‰ï¼Œå¦åˆ™è¿”å›æ™®é€šçš„AnnotationConfigApplicationContextå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯åˆ°è¿™é‡Œä¸ºæ­¢ï¼ŒSpringçš„å®¹å™¨å°±åŸºæœ¬å·²ç»ç¡®å®šäº†ã€‚\næ³¨æ„AnnotationConfigApplicationContextæ˜¯Springæ¡†æ¶æä¾›çš„ç±»ï¼Œä»è¿™é‡Œå¼€å§‹ç›¸å½“äºæˆ‘ä»¬åœ¨è®²Springçš„åº•å±‚æºç äº†ï¼Œæˆ‘ä»¬ç»§ç»­æ·±å…¥ï¼ŒAnnotationConfigApplicationContextå¯¹è±¡åœ¨åˆ›å»ºè¿‡ç¨‹ä¸­ä¼šåˆ›å»ºAnnotatedBeanDefinitionReaderï¼Œå®ƒæ˜¯ç”¨äºé€šè¿‡æ³¨è§£è§£æBeanå®šä¹‰çš„å·¥å…·ç±»ï¼š\npublic AnnotationConfigApplicationContext() &#123;\n    StartupStep createAnnotatedBeanDefReader &#x3D; this.getApplicationStartup().start(&quot;spring.context.annotated-bean-reader.create&quot;);\n    this.reader &#x3D; new AnnotatedBeanDefinitionReader(this);\n    createAnnotatedBeanDefReader.end();\n    this.scanner &#x3D; new ClassPathBeanDefinitionScanner(this);\n&#125;\n\nå…¶æ„é€ æ–¹æ³•ï¼š\npublic AnnotatedBeanDefinitionReader(BeanDefinitionRegistry registry, Environment environment) &#123;\n    ...\n    &#x2F;&#x2F;è¿™é‡Œä¼šæ³¨å†Œå¾ˆå¤šçš„åç½®å¤„ç†å™¨\n    AnnotationConfigUtils.registerAnnotationConfigProcessors(this.registry);\n&#125;\n\npublic static Set&lt;BeanDefinitionHolder&gt; registerAnnotationConfigProcessors(BeanDefinitionRegistry registry, @Nullable Object source) &#123;\n    DefaultListableBeanFactory beanFactory &#x3D; unwrapDefaultListableBeanFactory(registry);\n    ....\n    Set&lt;BeanDefinitionHolder&gt; beanDefs &#x3D; new LinkedHashSet(8);\n    RootBeanDefinition def;\n    if (!registry.containsBeanDefinition(&quot;org.springframework.context.annotation.internalConfigurationAnnotationProcessor&quot;)) &#123;\n      \t&#x2F;&#x2F;æ³¨å†Œäº†ConfigurationClassPostProcessorç”¨äºå¤„ç†@Configurationã€@Importç­‰æ³¨è§£\n      \t&#x2F;&#x2F;æ³¨æ„è¿™é‡Œæ˜¯å…³é”®ï¼Œä¹‹åSelectorè¿˜è¦è®²åˆ°å®ƒ\n      \t&#x2F;&#x2F;å®ƒæ˜¯ç»§æ‰¿è‡ªBeanDefinitionRegistryPostProcessorï¼Œæ‰€ä»¥å®ƒçš„æ‰§è¡Œæ—¶é—´åœ¨Beanå®šä¹‰åŠ è½½å®Œæˆåï¼ŒBeanåˆå§‹åŒ–ä¹‹å‰\n        def &#x3D; new RootBeanDefinition(ConfigurationClassPostProcessor.class);\n        def.setSource(source);\n        beanDefs.add(registerPostProcessor(registry, def, &quot;org.springframework.context.annotation.internalConfigurationAnnotationProcessor&quot;));\n    &#125;\n\n    if (!registry.containsBeanDefinition(&quot;org.springframework.context.annotation.internalAutowiredAnnotationProcessor&quot;)) &#123;\n      \t&#x2F;&#x2F;AutowiredAnnotationBeanPostProcessorç”¨äºå¤„ç†@Valueç­‰æ³¨è§£è‡ªåŠ¨æ³¨å…¥\n        def &#x3D; new RootBeanDefinition(AutowiredAnnotationBeanPostProcessor.class);\n        def.setSource(source);\n        beanDefs.add(registerPostProcessor(registry, def, &quot;org.springframework.context.annotation.internalAutowiredAnnotationProcessor&quot;));\n    &#125;\n  \n  \t...\n\nå›åˆ°SpringBootï¼Œæˆ‘ä»¬æœ€åæ¥çœ‹ï¼ŒprepareContextæ–¹æ³•ä¸­åˆåšäº†ä»€ä¹ˆäº‹æƒ…ï¼š\nprivate void prepareContext(DefaultBootstrapContext bootstrapContext, ConfigurableApplicationContext context, ConfigurableEnvironment environment, SpringApplicationRunListeners listeners, ApplicationArguments applicationArguments, Banner printedBanner) &#123;\n  \t&#x2F;&#x2F;ç¯å¢ƒé…ç½®\n    context.setEnvironment(environment);\n    this.postProcessApplicationContext(context);\n    this.applyInitializers(context);\n    listeners.contextPrepared(context);\n    bootstrapContext.close(context);\n    if (this.logStartupInfo) &#123;\n        this.logStartupInfo(context.getParent() &#x3D;&#x3D; null);\n        this.logStartupProfileInfo(context);\n    &#125;\n\n  \t&#x2F;&#x2F;å°†Banneræ³¨å†Œä¸ºBean\n    ConfigurableListableBeanFactory beanFactory &#x3D; context.getBeanFactory();\n    beanFactory.registerSingleton(&quot;springApplicationArguments&quot;, applicationArguments);\n    if (printedBanner !&#x3D; null) &#123;\n        beanFactory.registerSingleton(&quot;springBootBanner&quot;, printedBanner);\n    &#125;\n\n    if (beanFactory instanceof AbstractAutowireCapableBeanFactory) &#123;\n        ((AbstractAutowireCapableBeanFactory)beanFactory).setAllowCircularReferences(this.allowCircularReferences);\n        if (beanFactory instanceof DefaultListableBeanFactory) &#123;\n            ((DefaultListableBeanFactory)beanFactory).setAllowBeanDefinitionOverriding(this.allowBeanDefinitionOverriding);\n        &#125;\n    &#125;\n\n    if (this.lazyInitialization) &#123;\n        context.addBeanFactoryPostProcessor(new LazyInitializationBeanFactoryPostProcessor());\n    &#125;\n\n  \t&#x2F;&#x2F;è¿™é‡Œä¼šè·å–æˆ‘ä»¬ä¸€å¼€å§‹ä¼ å…¥çš„é¡¹ç›®ä¸»ç±»\n    Set&lt;Object&gt; sources &#x3D; this.getAllSources();\n    Assert.notEmpty(sources, &quot;Sources must not be empty&quot;);\n  \t&#x2F;&#x2F;è¿™é‡Œä¼šå°†æˆ‘ä»¬çš„ä¸»ç±»ç›´æ¥æ³¨å†Œä¸ºBeanï¼Œè¿™æ ·å°±å¯ä»¥é€šè¿‡æ³¨è§£åŠ è½½äº†\n    this.load(context, sources.toArray(new Object[0]));\n    listeners.contextLoaded(context);\n&#125;\n\nå› æ­¤ï¼Œåœ¨prepareContextæ‰§è¡Œå®Œæˆä¹‹åï¼Œæˆ‘ä»¬çš„ä¸»ç±»æˆåŠŸå®ŒæˆBeanæ³¨å†Œï¼Œæ¥ä¸‹æ¥ï¼Œå°±è¯¥ç±»ä¸Šæ³¨è§£å¤§æ˜¾èº«æ‰‹äº†ã€‚\nè‡ªåŠ¨é…ç½®åŸç†æ—¢ç„¶ä¸»ç±»å·²ç»åœ¨åˆå§‹é˜¶æ®µæ³¨å†Œä¸ºBeanï¼Œé‚£ä¹ˆåœ¨åŠ è½½æ—¶ï¼Œå°±ä¼šæ ¹æ®æ³¨è§£å®šä¹‰ï¼Œè¿›è¡Œæ›´å¤šçš„é¢å¤–æ“ä½œã€‚æ‰€ä»¥æˆ‘ä»¬æ¥çœ‹çœ‹ä¸»ç±»ä¸Šçš„@SpringBootApplicationæ³¨è§£åšäº†ä»€ä¹ˆäº‹æƒ…ã€‚\n@Target(&#123;ElementType.TYPE&#125;)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Inherited\n@SpringBootConfiguration\n@EnableAutoConfiguration\n@ComponentScan(\n    excludeFilters &#x3D; &#123;@Filter(\n    type &#x3D; FilterType.CUSTOM,\n    classes &#x3D; &#123;TypeExcludeFilter.class&#125;\n), @Filter(\n    type &#x3D; FilterType.CUSTOM,\n    classes &#x3D; &#123;AutoConfigurationExcludeFilter.class&#125;\n)&#125;\n)\npublic @interface SpringBootApplication &#123;\n\næˆ‘ä»¬å‘ç°ï¼Œ@SpringBootApplicationä¸Šæ·»åŠ äº†@ComponentScanæ³¨è§£ï¼Œæ­¤æ³¨è§£æˆ‘ä»¬æ­¤å‰å·²ç»è®¤è¯†è¿‡äº†ï¼Œä½†æ˜¯è¿™é‡Œå¹¶æ²¡æœ‰é…ç½®å…·ä½“æ‰«æçš„åŒ…ï¼Œå› æ­¤å®ƒä¼šè‡ªåŠ¨å°†å£°æ˜æ­¤æ¥å£çš„ç±»æ‰€åœ¨çš„åŒ…ä½œä¸ºbasePackageï¼Œå› æ­¤å½“æ·»åŠ @SpringBootApplicationä¹‹åä¹Ÿå°±ç­‰äºç›´æ¥å¼€å¯äº†è‡ªåŠ¨æ‰«æï¼Œä½†æ˜¯ä¸€å®šæ³¨æ„ä¸èƒ½åœ¨ä¸»ç±»ä¹‹å¤–çš„åŒ…è¿›è¡ŒBeanå®šä¹‰ï¼Œå¦åˆ™æ— æ³•æ‰«æåˆ°ï¼Œéœ€è¦æ‰‹åŠ¨é…ç½®ã€‚\næ¥ç€æˆ‘ä»¬æ¥çœ‹ç¬¬äºŒä¸ªæ³¨è§£@EnableAutoConfigurationï¼Œå®ƒå°±æ˜¯è‡ªåŠ¨é…ç½®çš„æ ¸å¿ƒäº†ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å®ƒæ˜¯å¦‚ä½•å®šä¹‰çš„ï¼š\n@Target(&#123;ElementType.TYPE&#125;)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Inherited\n@AutoConfigurationPackage\n@Import(&#123;AutoConfigurationImportSelector.class&#125;)\npublic @interface EnableAutoConfiguration &#123;\n\nè€å¥—è·¯äº†ï¼Œç›´æ¥ä¸€æ‰‹@Importï¼Œé€šè¿‡è¿™ç§æ–¹å¼æ¥å°†ä¸€äº›å¤–éƒ¨çš„BeanåŠ è½½åˆ°å®¹å™¨ä¸­ã€‚æˆ‘ä»¬æ¥çœ‹çœ‹AutoConfigurationImportSelectoråšäº†ä»€ä¹ˆäº‹æƒ…ï¼š\npublic class AutoConfigurationImportSelector implements DeferredImportSelector, BeanClassLoaderAware, ResourceLoaderAware, BeanFactoryAware, EnvironmentAware, Ordered &#123;\n\t\t...\n&#125;\n\næˆ‘ä»¬çœ‹åˆ°å®ƒå®ç°äº†å¾ˆå¤šæ¥å£ï¼ŒåŒ…æ‹¬å¤§é‡çš„Awareæ¥å£ï¼Œå®é™…ä¸Šå°±æ˜¯ä¸ºäº†æ„ŸçŸ¥æŸäº›å¿…è¦çš„å¯¹è±¡ï¼Œå¹¶å°†å…¶å­˜åˆ°å½“å‰ç±»ä¸­ã€‚\nå…¶ä¸­æœ€æ ¸å¿ƒçš„æ˜¯DeferredImportSelectoræ¥å£ï¼Œå®ƒæ˜¯ImportSelectorçš„å­ç±»ï¼Œå®ƒå®šä¹‰äº†selectImportsæ–¹æ³•ï¼Œç”¨äºè¿”å›éœ€è¦åŠ è½½çš„ç±»åç§°ï¼Œåœ¨SpringåŠ è½½ImportSelectorç±»å‹çš„Beanæ—¶ï¼Œä¼šè°ƒç”¨æ­¤æ–¹æ³•æ¥è·å–æ›´å¤šéœ€è¦åŠ è½½çš„ç±»ï¼Œå¹¶å°†è¿™äº›ç±»ä¸€å¹¶æ³¨å†Œä¸ºBeanï¼š\npublic interface ImportSelector &#123;\n    String[] selectImports(AnnotationMetadata importingClassMetadata);\n\n    @Nullable\n    default Predicate&lt;String&gt; getExclusionFilter() &#123;\n        return null;\n    &#125;\n&#125;\n\nåˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬äº†è§£äº†ä¸¤ç§ä½¿ç”¨@Importæœ‰ç‰¹æ®Šæœºåˆ¶çš„æ¥å£ï¼šImportSelectorï¼ˆè¿™é‡Œç”¨åˆ°çš„ï¼‰å’ŒImportBeanDefinitionRegistrarï¼ˆä¹‹å‰Mybatis-springæºç æœ‰è®²ï¼‰å½“ç„¶è¿˜æœ‰æ™®é€šçš„@Configurationé…ç½®ç±»ã€‚\næˆ‘ä»¬å¯ä»¥æ¥é˜…è¯»ä¸€ä¸‹ConfigurationClassPostProcessorçš„æºç ï¼Œçœ‹çœ‹å®ƒåˆ°åº•æ˜¯å¦‚ä½•å¤„ç†@Importçš„ï¼š\npublic void processConfigBeanDefinitions(BeanDefinitionRegistry registry) &#123;\n    List&lt;BeanDefinitionHolder&gt; configCandidates &#x3D; new ArrayList();\n  \t&#x2F;&#x2F;æ³¨æ„è¿™ä¸ªé˜¶æ®µä»…ä»…æ˜¯å·²ç»å®Œæˆæ‰«æäº†æ‰€æœ‰çš„Beanï¼Œå¾—åˆ°äº†æ‰€æœ‰çš„BeanDefinitionï¼Œä½†æ˜¯è¿˜æ²¡æœ‰è¿›è¡Œä»»ä½•åŒºåˆ†\n  \t&#x2F;&#x2F;candidateæ˜¯å€™é€‰è€…çš„æ„æ€ï¼Œä¸€ä¼šä¼šå°†æ ‡è®°äº†@Configurationçš„ç±»ä½œä¸ºConfigurationClassåŠ å…¥åˆ°configCandidatesä¸­\n    String[] candidateNames &#x3D; registry.getBeanDefinitionNames();\n    String[] var4 &#x3D; candidateNames;\n    int var5 &#x3D; candidateNames.length;\n\n    for(int var6 &#x3D; 0; var6 &lt; var5; ++var6) &#123;\n        String beanName &#x3D; var4[var6];\n        BeanDefinition beanDef &#x3D; registry.getBeanDefinition(beanName);\n        if (beanDef.getAttribute(ConfigurationClassUtils.CONFIGURATION_CLASS_ATTRIBUTE) !&#x3D; null) &#123;\n            if (this.logger.isDebugEnabled()) &#123;\n                this.logger.debug(&quot;Bean definition has already been processed as a configuration class: &quot; + beanDef);\n            &#125;\n        &#125; else if (ConfigurationClassUtils.checkConfigurationClassCandidate(beanDef, this.metadataReaderFactory)) &#123;   &#x2F;&#x2F;åˆ¤æ–­æ˜¯å¦æ·»åŠ äº†@Configurationæ³¨è§£\n            configCandidates.add(new BeanDefinitionHolder(beanDef, beanName));\n        &#125;\n    &#125;\n\n    if (!configCandidates.isEmpty()) &#123;\n        &#x2F;&#x2F;...çœç•¥\n\n      \t&#x2F;&#x2F;è¿™é‡Œåˆ›å»ºäº†ä¸€ä¸ªConfigurationClassParserç”¨äºè§£æé…ç½®ç±»\n        ConfigurationClassParser parser &#x3D; new ConfigurationClassParser(this.metadataReaderFactory, this.problemReporter, this.environment, this.resourceLoader, this.componentScanBeanNameGenerator, registry);\n      \t&#x2F;&#x2F;æ‰€æœ‰é…ç½®ç±»çš„BeanDefinitionHolderåˆ—è¡¨\n        Set&lt;BeanDefinitionHolder&gt; candidates &#x3D; new LinkedHashSet(configCandidates);\n      \t&#x2F;&#x2F;å·²ç»è§£æå®Œæˆçš„ç±»\n        HashSet alreadyParsed &#x3D; new HashSet(configCandidates.size());\n\n        do &#123;\n            &#x2F;&#x2F;è¿™é‡Œçœç•¥ï¼Œç›´åˆ°æ‰€æœ‰çš„é…ç½®ç±»å…¨éƒ¨è§£æå®Œæˆ\n          \t&#x2F;&#x2F;æ³¨æ„åœ¨å¾ªç¯è¿‡ç¨‹ä¸­å¯èƒ½ä¼šç”±äº@Importæ–°å¢æ›´å¤šçš„å¾…è§£æé…ç½®ç±»ï¼Œä¸€å¾‹ä¸¢è¿›candidatesé›†åˆä¸­\n        &#125; while(!candidates.isEmpty());\n\n        ...\n\n    &#125;\n&#125;\n\næˆ‘ä»¬æ¥ç€æ¥çœ‹ï¼ŒConfigurationClassParseræ˜¯å¦‚ä½•è¿›è¡Œè§£æçš„ï¼š\nprotected void processConfigurationClass(ConfigurationClass configClass, Predicate&lt;String&gt; filter) throws IOException &#123;\n  \t&#x2F;&#x2F;@Conditionalç›¸å…³æ³¨è§£å¤„ç†\n  \t&#x2F;&#x2F;åé¢ä¼šè®²\n    if (!this.conditionEvaluator.shouldSkip(configClass.getMetadata(), ConfigurationPhase.PARSE_CONFIGURATION)) &#123;\n        ...\n        &#125;\n\n        ConfigurationClassParser.SourceClass sourceClass &#x3D; this.asSourceClass(configClass, filter);\n\n        do &#123;\n          \t&#x2F;&#x2F;æ ¸å¿ƒ\n            sourceClass &#x3D; this.doProcessConfigurationClass(configClass, sourceClass, filter);\n        &#125; while(sourceClass !&#x3D; null);\n\n        this.configurationClasses.put(configClass, configClass);\n    &#125;\n&#125;\n\næœ€åæˆ‘ä»¬å†æ¥çœ‹æœ€æ ¸å¿ƒçš„doProcessConfigurationClassæ–¹æ³•ï¼š\nprotected final SourceClass doProcessConfigurationClass(ConfigurationClass configClass, SourceClass sourceClass)\n    ...\n\n    processImports(configClass, sourceClass, getImports(sourceClass), true);    &#x2F;&#x2F; å¤„ç†Importæ³¨è§£\n\n\t\t...\n\n    return null;\n&#125;\n\nprivate void processImports(ConfigurationClass configClass, ConfigurationClassParser.SourceClass currentSourceClass, Collection&lt;ConfigurationClassParser.SourceClass&gt; importCandidates, Predicate&lt;String&gt; exclusionFilter, boolean checkForCircularImports) &#123;\n    if (!importCandidates.isEmpty()) &#123;\n        if (checkForCircularImports &amp;&amp; this.isChainedImportOnStack(configClass)) &#123;\n            this.problemReporter.error(new ConfigurationClassParser.CircularImportProblem(configClass, this.importStack));\n        &#125; else &#123;\n            this.importStack.push(configClass);\n\n            try &#123;\n                Iterator var6 &#x3D; importCandidates.iterator();\n\n                while(var6.hasNext()) &#123;\n                    ConfigurationClassParser.SourceClass candidate &#x3D; (ConfigurationClassParser.SourceClass)var6.next();\n                    Class candidateClass;\n                  \t&#x2F;&#x2F;å¦‚æœæ˜¯ImportSelectorç±»å‹ï¼Œç»§ç»­è¿›è¡Œè¿è¡Œ\n                    if (candidate.isAssignable(ImportSelector.class)) &#123;\n                        candidateClass &#x3D; candidate.loadClass();\n                        ImportSelector selector &#x3D; (ImportSelector)ParserStrategyUtils.instantiateClass(candidateClass, ImportSelector.class, this.environment, this.resourceLoader, this.registry);\n                        Predicate&lt;String&gt; selectorFilter &#x3D; selector.getExclusionFilter();\n                        if (selectorFilter !&#x3D; null) &#123;\n                            exclusionFilter &#x3D; exclusionFilter.or(selectorFilter);\n                        &#125;\n\t\t\t\t\t\t\t\t\t&#x2F;&#x2F;å¦‚æœæ˜¯DeferredImportSelectorçš„å®ç°ç±»ï¼Œé‚£ä¹ˆä¼šèµ°deferredImportSelectorHandlerçš„handleæ–¹æ³•\n                        if (selector instanceof DeferredImportSelector) &#123;\n                            this.deferredImportSelectorHandler.handle(configClass, (DeferredImportSelector)selector);\n                          &#x2F;&#x2F;å¦åˆ™å°±æŒ‰ç…§æ­£å¸¸çš„ImportSelectorç±»å‹è¿›è¡ŒåŠ è½½\n                        &#125; else &#123;\n                          \t&#x2F;&#x2F;è°ƒç”¨selectImportsæ–¹æ³•è·å–æ‰€æœ‰éœ€è¦åŠ è½½çš„ç±»\n                            String[] importClassNames &#x3D; selector.selectImports(currentSourceClass.getMetadata());\n                            Collection&lt;ConfigurationClassParser.SourceClass&gt; importSourceClasses &#x3D; this.asSourceClasses(importClassNames, exclusionFilter);\n                          \t&#x2F;&#x2F;é€’å½’å¤„ç†ï¼Œç›´åˆ°æ²¡æœ‰\n                            this.processImports(configClass, currentSourceClass, importSourceClasses, exclusionFilter, false);\n                        &#125;\n                      &#x2F;&#x2F;åˆ¤æ–­æ˜¯å¦ä¸ºImportBeanDefinitionRegistrarç±»å‹\n                    &#125; else if (candidate.isAssignable(ImportBeanDefinitionRegistrar.class)) &#123;\n                        candidateClass &#x3D; candidate.loadClass();\n                        ImportBeanDefinitionRegistrar registrar &#x3D; (ImportBeanDefinitionRegistrar)ParserStrategyUtils.instantiateClass(candidateClass, ImportBeanDefinitionRegistrar.class, this.environment, this.resourceLoader, this.registry);\n                      \t&#x2F;&#x2F;å¾€configClassä¸¢ImportBeanDefinitionRegistrarä¿¡æ¯è¿›å»ï¼Œä¹‹åå†å¤„ç†\n                        configClass.addImportBeanDefinitionRegistrar(registrar, currentSourceClass.getMetadata());\n                      &#x2F;&#x2F;å¦åˆ™æŒ‰æ™®é€šçš„é…ç½®ç±»è¿›è¡Œå¤„ç†\n                    &#125; else &#123;\n                        this.importStack.registerImport(currentSourceClass.getMetadata(), candidate.getMetadata().getClassName());\n                        this.processConfigurationClass(candidate.asConfigClass(configClass), exclusionFilter);\n                    &#125;\n                &#125;\n            &#125; catch (BeanDefinitionStoreException var17) &#123;\n                throw var17;\n            &#125; catch (Throwable var18) &#123;\n                throw new BeanDefinitionStoreException(&quot;Failed to process import candidates for configuration class [&quot; + configClass.getMetadata().getClassName() + &quot;]&quot;, var18);\n            &#125; finally &#123;\n                this.importStack.pop();\n            &#125;\n        &#125;\n\n    &#125;\n&#125;\n\nä¸éš¾æ³¨æ„åˆ°ï¼Œè™½ç„¶è¿™é‡Œé¢å¤–å¤„ç†äº†ImportSelectorå¯¹è±¡ï¼Œä½†æ˜¯è¿˜é’ˆå¯¹ImportSelectorçš„å­æ¥å£DeferredImportSelectorè¿›è¡Œäº†é¢å¤–å¤„ç†ï¼ŒDeferredæ˜¯å»¶è¿Ÿçš„æ„æ€ï¼Œå®ƒæ˜¯ä¸€ä¸ªå»¶è¿Ÿæ‰§è¡Œçš„ImportSelectorï¼Œå¹¶ä¸ä¼šç«‹å³è¿›å¤„ç†ï¼Œè€Œæ˜¯ä¸¢è¿›DeferredImportSelectorHandlerï¼Œå¹¶ä¸”åœ¨parseæ–¹æ³•çš„æœ€åè¿›è¡Œå¤„ç†ï¼š\npublic void parse(Set&lt;BeanDefinitionHolder&gt; configCandidates) &#123;\n     ...\n\n    this.deferredImportSelectorHandler.process();\n&#125;\n\næˆ‘ä»¬æ¥ç€æ¥çœ‹DeferredImportSelectoræ­£å¥½å°±æœ‰ä¸€ä¸ªprocessæ–¹æ³•ï¼š\npublic interface DeferredImportSelector extends ImportSelector &#123;\n    @Nullable\n    default Class&lt;? extends DeferredImportSelector.Group&gt; getImportGroup() &#123;\n        return null;\n    &#125;\n\n    public interface Group &#123;\n        void process(AnnotationMetadata metadata, DeferredImportSelector selector);\n\n        Iterable&lt;DeferredImportSelector.Group.Entry&gt; selectImports();\n\n        public static class Entry &#123;\n          ...\n\næœ€åç»è¿‡ConfigurationClassParserå¤„ç†å®Œæˆåï¼Œé€šè¿‡parser.getConfigurationClasses()å°±èƒ½å¾—åˆ°é€šè¿‡é…ç½®ç±»å¯¼å…¥äº†å“ªäº›é¢å¤–çš„é…ç½®ç±»ã€‚æœ€åå°†è¿™äº›é…ç½®ç±»å…¨éƒ¨æ³¨å†ŒBeanDefinitionï¼Œç„¶åå°±å¯ä»¥äº¤ç»™æ¥ä¸‹æ¥çš„Beanåˆå§‹åŒ–è¿‡ç¨‹å»å¤„ç†äº†ã€‚\nthis.reader.loadBeanDefinitions(configClasses);\n\næœ€åæˆ‘ä»¬å†å»çœ‹loadBeanDefinitionsæ˜¯å¦‚ä½•è¿è¡Œçš„ï¼š\npublic void loadBeanDefinitions(Set&lt;ConfigurationClass&gt; configurationModel) &#123;\n    ConfigurationClassBeanDefinitionReader.TrackedConditionEvaluator trackedConditionEvaluator &#x3D; new ConfigurationClassBeanDefinitionReader.TrackedConditionEvaluator();\n    Iterator var3 &#x3D; configurationModel.iterator();\n\n    while(var3.hasNext()) &#123;\n        ConfigurationClass configClass &#x3D; (ConfigurationClass)var3.next();\n        this.loadBeanDefinitionsForConfigurationClass(configClass, trackedConditionEvaluator);\n    &#125;\n\n&#125;\n\nprivate void loadBeanDefinitionsForConfigurationClass(ConfigurationClass configClass, ConfigurationClassBeanDefinitionReader.TrackedConditionEvaluator trackedConditionEvaluator) &#123;\n    if (trackedConditionEvaluator.shouldSkip(configClass)) &#123;\n        String beanName &#x3D; configClass.getBeanName();\n        if (StringUtils.hasLength(beanName) &amp;&amp; this.registry.containsBeanDefinition(beanName)) &#123;\n            this.registry.removeBeanDefinition(beanName);\n        &#125;\n\n        this.importRegistry.removeImportingClass(configClass.getMetadata().getClassName());\n    &#125; else &#123;\n        if (configClass.isImported()) &#123;\n            this.registerBeanDefinitionForImportedConfigurationClass(configClass);  &#x2F;&#x2F;æ³¨å†Œé…ç½®ç±»è‡ªå·±\n        &#125;\n\n        Iterator var3 &#x3D; configClass.getBeanMethods().iterator();\n\n        while(var3.hasNext()) &#123;\n            BeanMethod beanMethod &#x3D; (BeanMethod)var3.next();\n            this.loadBeanDefinitionsForBeanMethod(beanMethod); &#x2F;&#x2F;æ³¨å†Œ@Beanæ³¨è§£æ ‡è¯†çš„æ–¹æ³•\n        &#125;\n\n      \t&#x2F;&#x2F;æ³¨å†Œ&#96;@ImportResource&#96;å¼•å…¥çš„XMLé…ç½®æ–‡ä»¶ä¸­è¯»å–çš„beanå®šä¹‰\n        this.loadBeanDefinitionsFromImportedResources(configClass.getImportedResources());\n     \t &#x2F;&#x2F;æ³¨å†ŒconfigClassä¸­ç»è¿‡è§£æåä¿å­˜çš„æ‰€æœ‰ImportBeanDefinitionRegistrarï¼Œæ³¨å†Œå¯¹åº”çš„BeanDefinition\n        this.loadBeanDefinitionsFromRegistrars(configClass.getImportBeanDefinitionRegistrars());\n    &#125;\n&#125;\n\nè¿™æ ·ï¼Œæ•´ä¸ª@Configurationé…ç½®ç±»çš„åº•å±‚é…ç½®æµç¨‹æˆ‘ä»¬å°±å¤§è‡´äº†è§£äº†ã€‚æ¥ç€æˆ‘ä»¬æ¥çœ‹AutoConfigurationImportSelectoræ˜¯å¦‚ä½•å®ç°è‡ªåŠ¨é…ç½®çš„ï¼Œå¯ä»¥çœ‹åˆ°å†…éƒ¨ç±»AutoConfigurationGroupçš„processæ–¹æ³•ï¼Œå®ƒæ˜¯çˆ¶æ¥å£çš„å®ç°ï¼Œå› ä¸ºçˆ¶æ¥å£æ˜¯DeferredImportSelectorï¼Œé‚£ä¹ˆå¾ˆå®¹æ˜“å¾—çŸ¥ï¼Œå®é™…ä¸Šæœ€åä¼šè°ƒç”¨processæ–¹æ³•è·å–æ‰€æœ‰çš„è‡ªåŠ¨é…ç½®ç±»ï¼š\npublic void process(AnnotationMetadata annotationMetadata, DeferredImportSelector deferredImportSelector) &#123;\n    Assert.state(deferredImportSelector instanceof AutoConfigurationImportSelector, () -&gt; &#123;\n        return String.format(&quot;Only %s implementations are supported, got %s&quot;, AutoConfigurationImportSelector.class.getSimpleName(), deferredImportSelector.getClass().getName());\n    &#125;);\n  \t&#x2F;&#x2F;è·å–æ‰€æœ‰çš„Entryï¼Œå…¶å®å°±æ˜¯ï¼Œè¯»å–spring.factoriesæ¥æŸ¥çœ‹æœ‰å“ªäº›è‡ªåŠ¨é…ç½®ç±»\n    AutoConfigurationImportSelector.AutoConfigurationEntry autoConfigurationEntry &#x3D; ((AutoConfigurationImportSelector)deferredImportSelector).getAutoConfigurationEntry(annotationMetadata);\n    this.autoConfigurationEntries.add(autoConfigurationEntry);\n    Iterator var4 &#x3D; autoConfigurationEntry.getConfigurations().iterator();\n\n    while(var4.hasNext()) &#123;\n        String importClassName &#x3D; (String)var4.next();\n        this.entries.putIfAbsent(importClassName, annotationMetadata);\n    &#125;\n\n&#125;\n\næˆ‘ä»¬æ¥ç€æ¥çœ‹getAutoConfigurationEntryæ–¹æ³•ï¼š\nprotected AutoConfigurationImportSelector.AutoConfigurationEntry getAutoConfigurationEntry(AnnotationMetadata annotationMetadata) &#123;\n  \t&#x2F;&#x2F;åˆ¤æ–­æ˜¯å¦å¼€å¯äº†è‡ªåŠ¨é…ç½®ï¼Œæ˜¯çš„ï¼Œè‡ªåŠ¨é…ç½®å¯ä»¥å…³\n    if (!this.isEnabled(annotationMetadata)) &#123;\n        return EMPTY_ENTRY;\n    &#125; else &#123;\n      \t&#x2F;&#x2F;æ ¹æ®æ³¨è§£å®šä¹‰è·å–ä¸€äº›å±æ€§\n        AnnotationAttributes attributes &#x3D; this.getAttributes(annotationMetadata);\n      \t&#x2F;&#x2F;å¾—åˆ°spring.factoriesæ–‡ä»¶ä¸­æ‰€æœ‰éœ€è¦è‡ªåŠ¨é…ç½®çš„ç±»\n        List&lt;String&gt; configurations &#x3D; this.getCandidateConfigurations(annotationMetadata, attributes);\n        ... è¿™é‡Œå…ˆçœ‹å‰åŠéƒ¨åˆ†\n    &#125;\n&#125;\n\næ³¨æ„è¿™é‡Œå¹¶ä¸æ˜¯spring.factoriesæ–‡ä»¶ä¸­æ‰€æœ‰çš„è‡ªåŠ¨é…ç½®ç±»éƒ½ä¼šè¢«åŠ è½½ï¼Œå®ƒä¼šæ ¹æ®@Conditionæ³¨è§£çš„æ¡ä»¶è¿›è¡ŒåŠ è½½ã€‚è¿™æ ·å°±èƒ½å®ç°æˆ‘ä»¬éœ€è¦ä»€ä¹ˆæ¨¡å—æ·»åŠ å¯¹åº”ä¾èµ–å°±å¯ä»¥å®ç°è‡ªåŠ¨é…ç½®äº†ã€‚\næ‰€æœ‰çš„æºç çœ‹ä¸æ‡‚ï¼Œéƒ½æºè‡ªäºä½ çš„å¿ƒä¸­æ²¡æœ‰å½¢æˆä¸€ä¸ªå®Œæ•´çš„é—­ç¯ï¼ä¸€æ—¦ä¸€æ¡çº¿æ¨åˆ°å¤´ï¼Œé—­ç¯å½¢æˆï¼Œæ‰€æœ‰ç–‘æƒ‘è¿åˆƒè€Œè§£ã€‚\nè‡ªå®šä¹‰Starteræˆ‘ä»¬ä»¿ç…§Mybatisæ¥ç¼–å†™ä¸€ä¸ªè‡ªå·±çš„starterï¼ŒMybatisçš„starteråŒ…å«ä¸¤ä¸ªéƒ¨åˆ†ï¼š\n&lt;project xmlns&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0&quot; xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot; xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;maven.apache.org&#x2F;POM&#x2F;4.0.0 http:&#x2F;&#x2F;maven.apache.org&#x2F;xsd&#x2F;maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;&#x2F;modelVersion&gt;\n  &lt;parent&gt;\n    &lt;groupId&gt;org.mybatis.spring.boot&lt;&#x2F;groupId&gt;\n    &lt;artifactId&gt;mybatis-spring-boot&lt;&#x2F;artifactId&gt;\n    &lt;version&gt;2.2.0&lt;&#x2F;version&gt;\n  &lt;&#x2F;parent&gt;\n  &lt;!--  starteræœ¬èº«åªåšä¾èµ–é›†ä¸­ç®¡ç†ï¼Œä¸ç¼–å†™ä»»ä½•ä»£ç   --&gt;\n  &lt;artifactId&gt;mybatis-spring-boot-starter&lt;&#x2F;artifactId&gt;\n  &lt;name&gt;mybatis-spring-boot-starter&lt;&#x2F;name&gt;\n  &lt;properties&gt;\n    &lt;module.name&gt;org.mybatis.spring.boot.starter&lt;&#x2F;module.name&gt;\n  &lt;&#x2F;properties&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter&lt;&#x2F;artifactId&gt;\n    &lt;&#x2F;dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-jdbc&lt;&#x2F;artifactId&gt;\n    &lt;&#x2F;dependency&gt;\n    &lt;!--  ç¼–å†™çš„ä¸“ç”¨é…ç½®æ¨¡å—   --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.mybatis.spring.boot&lt;&#x2F;groupId&gt;\n      &lt;artifactId&gt;mybatis-spring-boot-autoconfigure&lt;&#x2F;artifactId&gt;\n    &lt;&#x2F;dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.mybatis&lt;&#x2F;groupId&gt;\n      &lt;artifactId&gt;mybatis&lt;&#x2F;artifactId&gt;\n    &lt;&#x2F;dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.mybatis&lt;&#x2F;groupId&gt;\n      &lt;artifactId&gt;mybatis-spring&lt;&#x2F;artifactId&gt;\n    &lt;&#x2F;dependency&gt;\n  &lt;&#x2F;dependencies&gt;\n&lt;&#x2F;project&gt;\n\nå› æ­¤æˆ‘ä»¬ä¹Ÿå°†æˆ‘ä»¬è‡ªå·±çš„starterè¿™æ ·è®¾è®¡ï¼š\næˆ‘ä»¬è®¾è®¡ä¸‰ä¸ªæ¨¡å—ï¼š\n\nspring-boot-helloï¼šåŸºç¡€ä¸šåŠ¡åŠŸèƒ½æ¨¡å—\nspring-boot-starter-helloï¼šå¯åŠ¨å™¨\nspring-boot-autoconifgurer-helloï¼šè‡ªåŠ¨é…ç½®ä¾èµ–\n\né¦–å…ˆæ˜¯åŸºç¡€ä¸šåŠ¡åŠŸèƒ½æ¨¡å—ï¼Œè¿™é‡Œæˆ‘ä»¬éšä¾¿åˆ›å»ºä¸€ä¸ªç±»å°±å¯ä»¥äº†ï¼š\npublic class HelloWorldService &#123;\n\t\n&#125;\n\nå¯åŠ¨å™¨ä¸»è¦åšä¾èµ–ç®¡ç†ï¼Œè¿™é‡Œå°±ä¸å†™ä»»ä½•ä»£ç ï¼Œåªå†™pomæ–‡ä»¶ï¼š\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.example&lt;&#x2F;groupId&gt;\n        &lt;artifactId&gt;spring-boot-autoconfigurer-hello&lt;&#x2F;artifactId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;&#x2F;version&gt;\n    &lt;&#x2F;dependency&gt;\n&lt;&#x2F;dependencies&gt;\n\nå¯¼å…¥autoconfigureræ¨¡å—ä½œä¸ºä¾èµ–å³å¯ï¼Œæ¥ç€æˆ‘ä»¬å»ç¼–å†™autoconfigureræ¨¡å—ï¼Œé¦–å…ˆå¯¼å…¥ä¾èµ–ï¼š\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;\n        &lt;artifactId&gt;spring-boot-autoconfigure&lt;&#x2F;artifactId&gt;\n        &lt;version&gt;2.6.2&lt;&#x2F;version&gt;\n    &lt;&#x2F;dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;\n        &lt;artifactId&gt;spring-boot-configuration-processor&lt;&#x2F;artifactId&gt;\n        &lt;version&gt;2.6.2&lt;&#x2F;version&gt;\n        &lt;optional&gt;true&lt;&#x2F;optional&gt;\n    &lt;&#x2F;dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.example&lt;&#x2F;groupId&gt;\n        &lt;artifactId&gt;spring-boot-hello&lt;&#x2F;artifactId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;&#x2F;version&gt;\n    &lt;&#x2F;dependency&gt;\n&lt;&#x2F;dependencies&gt;\n\næ¥ç€åˆ›å»ºä¸€ä¸ªHelloWorldAutoConfigurationä½œä¸ºè‡ªåŠ¨é…ç½®ç±»ï¼š\n@Configuration(proxyBeanMethods &#x3D; false)\n@ConditionalOnWebApplication\n@ConditionalOnClass(HelloWorldService.class)\n@EnableConfigurationProperties(HelloWorldProperties.class)\npublic class HelloWorldAutoConfiguration &#123;\n\n    Logger logger &#x3D; Logger.getLogger(this.getClass().getName());\n\n    @Resource\n    HelloWorldProperties properties;\n\n    @Bean\n    public HelloWorldService helloWorldService()&#123;\n        logger.info(&quot;è‡ªå®šä¹‰starteré¡¹ç›®å·²å¯åŠ¨ï¼&quot;);\n        logger.info(&quot;è¯»å–åˆ°è‡ªå®šä¹‰é…ç½®ï¼š&quot;+properties.getValue());\n        return new HelloWorldService();\n    &#125;\n&#125;\n\nå¯¹åº”çš„é…ç½®è¯»å–ç±»ï¼š\n@ConfigurationProperties(&quot;hello.world&quot;)\npublic class HelloWorldProperties &#123;\n\n    private String value;\n\n    public void setValue(String value) &#123;\n        this.value &#x3D; value;\n    &#125;\n\n    public String getValue() &#123;\n        return value;\n    &#125;\n&#125;\n\næœ€åå†ç¼–å†™spring.factoriesæ–‡ä»¶ï¼Œå¹¶å°†æˆ‘ä»¬çš„è‡ªåŠ¨é…ç½®ç±»æ·»åŠ å³å¯ï¼š\norg.springframework.boot.autoconfigure.EnableAutoConfiguration&#x3D;\\\n  com.hello.autoconfigurer.HelloWorldAutoConfiguration\n\næœ€åå†Mavenæ ¹é¡¹ç›®æ‰§è¡Œinstallå®‰è£…åˆ°æœ¬åœ°ä»“åº“ï¼Œå®Œæˆã€‚æ¥ç€å°±å¯ä»¥åœ¨å…¶ä»–é¡¹ç›®ä¸­ä½¿ç”¨æˆ‘ä»¬ç¼–å†™çš„è‡ªå®šä¹‰starteräº†ã€‚\nRunneræ¥å£åœ¨é¡¹ç›®ä¸­ï¼Œå¯èƒ½ä¼šé‡åˆ°è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼šæˆ‘ä»¬éœ€è¦åœ¨é¡¹ç›®å¯åŠ¨å®Œæˆä¹‹åï¼Œç´§æ¥ç€æ‰§è¡Œä¸€æ®µä»£ç ã€‚\næˆ‘ä»¬å¯ä»¥ç¼–å†™è‡ªå®šä¹‰çš„ApplicationRunneræ¥è§£å†³ï¼Œå®ƒä¼šåœ¨é¡¹ç›®å¯åŠ¨å®Œæˆåæ‰§è¡Œï¼š\n@Component\npublic class TestRunner implements ApplicationRunner &#123;\n    @Override\n    public void run(ApplicationArguments args) throws Exception &#123;\n        System.out.println(&quot;æˆ‘æ˜¯è‡ªå®šä¹‰æ‰§è¡Œï¼&quot;);\n    &#125;\n&#125;\n\nå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨CommandLineRunnerï¼Œå®ƒä¹Ÿæ”¯æŒä½¿ç”¨@Orderæˆ–æ˜¯å®ç°Orderedæ¥å£æ¥æ”¯æŒä¼˜å…ˆçº§æ‰§è¡Œã€‚\nå®é™…ä¸Šå®ƒå°±æ˜¯runæ–¹æ³•çš„æœ€åï¼š\npublic ConfigurableApplicationContext run(String... args) &#123;\n    ....\n\n        listeners.started(context, timeTakenToStartup);\n  \t\t\t&#x2F;&#x2F;è¿™é‡Œå·²ç»å®Œæˆæ•´ä¸ªSpringBooté¡¹ç›®å¯åŠ¨ï¼Œæ‰€ä»¥æ‰§è¡Œæ‰€æœ‰çš„Runner\n        this.callRunners(context, applicationArguments);\n    &#125; catch (Throwable var12) &#123;\n        this.handleRunFailure(context, var12, listeners);\n        throw new IllegalStateException(var12);\n    &#125;\n\n    try &#123;\n        Duration timeTakenToReady &#x3D; Duration.ofNanos(System.nanoTime() - startTime);\n        listeners.ready(context, timeTakenToReady);\n        return context;\n    &#125; catch (Throwable var11) &#123;\n        this.handleRunFailure(context, var11, (SpringApplicationRunListeners)null);\n        throw new IllegalStateException(var11);\n    &#125;\n&#125;\n\nä¸‹ä¸€ç« ï¼Œæˆ‘ä»¬å°†ç»§ç»­è®²è§£å‡ ä¹ç¨‹åºå‘˜å¿…ä¼šçš„Gitç‰ˆæœ¬æ§åˆ¶ã€‚\n","slug":"SpringBootç¬”è®°ï¼ˆä¸€ï¼‰","date":"2022-03-05T14:36:00.311Z","categories_index":"SpringBootç¬”è®°","tags_index":"SpringBootç¬”è®°","author_index":"YangChao"},{"id":"9cce5bf1444b7fcba89f1d78107c0341","title":"é‚£äº›ç»å…¸è¯è¯­","content":"\næƒ³çœ‹å°±ç‚¹å¼€çœ‹çœ‹å§\nè‹±ï¼šIâ€™m tired,Tired of beinâ€™ on the road, lonely as a sparrow in the rainï¼ŒTired of not ever having me a buddy to be with, or tell me where weâ€™s coming from or going to, or why. Mostly Iâ€™m tired of people being ugly to each other. Iâ€™m tired of all the pain I feel and hear in the world everyday. Thereâ€™s too much of it. Itâ€™s like pieces of glass in my head all the time. Can you understand?\nä¸­ï¼šæˆ‘ç´¯äº†ï¼ŒåŒå€¦åœ¨è·¯ä¸Šï¼Œåƒé›¨ä¸­å­¤ç‹¬çš„éº»é›€ã€‚åŒå€¦æ²¡æœ‰ä¼™ä¼´é™ªä¼´ï¼Œæˆ–è€…å‘Šè¯‰æˆ‘ä½•å»ä½•ä»ï¼Œæˆ–è€…ä¸ºä»€ä¹ˆï¼Œæˆ‘åŒå€¦äº†äººä»¬ä¸‘é™‹çš„å½¼æ­¤ç›¸å¾…ï¼ŒåŒå€¦äº†æ¯å¤©æ„Ÿåˆ°å’Œå¬åˆ°çš„ä¼¤ç—›ã€‚å¤ªå¤šäº†ã€‚å®ƒä¸€ç›´å°±åƒæˆ‘è„‘è¢‹é‡Œçš„ç»ç’ƒç¢´ã€‚ä½ èƒ½ç†è§£å—ï¼Ÿ\nâ€”ç”µå½±ã€Šç»¿é‡Œå¥‡è¿¹ã€‹\n\n\næƒ³çœ‹å°±ç‚¹å¼€çœ‹çœ‹å§\nè‹±ï¼šPeople hurt the ones they love. Thatâ€™s how it is all around the world.\nä¸­ï¼šäººä»¬ä¼¤å®³ä»–ä»¬çˆ±çš„äººã€‚å…¨ä¸–ç•Œéƒ½æ˜¯è¿™æ ·ã€‚\nâ€”ç”µå½±ã€Šç»¿é‡Œå¥‡è¿¹ã€‹\n\n","slug":"é‚£äº›ç»å…¸è¯è¯­","date":"2022-03-04T13:38:15.000Z","categories_index":"","tags_index":"é‚£äº›ç»å…¸è¯è¯­","author_index":"YangChao"},{"id":"1269f6284fcda69dd94df081174c6509","title":"ä¸ªäººç®€å†","content":"æ¬¢è¿æ¥çœ‹æˆ‘çš„ä¸ªäººç®€å†ï¼Œåœ¨è¿™é‡Œä½ å¯ä»¥åˆæ­¥è®¤è¯†åˆ°æˆ‘\nä¸ªäººç®€å†ä¸ªäººä¿¡æ¯å§“åï¼šæ¨è¶…æ€§åˆ«ï¼šç”·ç”Ÿæ—¥ï¼š1996-09-04\nä¸ªäººä¼˜åŠ¿å­¦ä¹ å¿«ï¼Œèƒ½åƒè‹¦ï¼Œä¸ºäººå’Œå–„å–„äºäº¤æµ\nå·¥ä½œç»å†å…¬å¸ï¼šç‰¹æ®ŠåŸå› æš‚æ—¶ä¸å†™è´Ÿè´£æ¨¡å—ï¼šJavaå¼€å‘ï¼Œé¡¹ç›®ç»´æŠ¤ï¼Œæ¥å£å¼€å‘\næŒæ¡æŠ€æœ¯JavaåŸºç¡€SpringSpringBootDB2ã€MySqlKingdeeé›†æˆäº‘å¼€å‘Web Serviceå¼€å‘RESTfulHexoæ¡†æ¶JFinalæ¡†æ¶JavaScriptJQWidgetsDevExtremeRabbitmqLinuxTomcatSweetAlertäº†è§£é›†ç¾¤ä½¿ç”¨è¿‡JenkinsWebSphereç¨å¾®å­¦ä¹ è¿‡Cè¯­è¨€ï¼ŒC#\nè½¯ä»¶ä½¿ç”¨SoapUIEclipseIdeaDbeaverVscodeWebstormFineReport8.0ã€9.0XshellPostmanIBM BPDæµç¨‹è®¾è®¡å™¨MemoryAnalyzerToad for DB2 Freeware\né¡¹ç›®ç»å†é¡¹ç›®ï¼šç‰¹æ®ŠåŸå› æš‚æ—¶ä¸å†™\næ•™è‚²ç»å†å­¦å†ï¼šäºŒæœ¬å­¦æ ¡ï¼šç‰¹æ®ŠåŸå› æš‚æ—¶ä¸å†™ä¸“ä¸šï¼šè®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯æ¯•ä¸šè®¾è®¡æ˜¯ä»¥C#å’ŒUnity3Dè®¾è®¡äº†ä¸€ä¸ªå±€åŸŸç½‘åŒäººCSå°„å‡»å¯¹æˆ˜æ¸¸æˆ\nä¸ªäººçˆ±å¥½å†™ä¸ªäººåšå®¢ï¼Œç ”ç©¶å’Œå­¦ä¹ æ–°æŠ€æœ¯ï¼Œå¬éŸ³ä¹\näººæ€»ä¼šè¿›æ­¥ï¼Œæˆ‘ä¹Ÿæ˜¯ï¼ŒæŒç»­æ›´æ–°ä¸­â€¦","slug":"æˆ‘çš„ä¸»é¡µ","date":"2022-03-04T13:30:23.000Z","categories_index":"ä¸ªäººç®€å†","tags_index":"ä¸ªäººç®€å†","author_index":"YangChao"},{"id":"b011c8bded7d1f7bd33c91d223680d0d","title":"hexoæ–‡æ¡£","content":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.\nQuick StartCreate a new post$ hexo new &quot;My New Post&quot;\n\nMore info: Writing\nRun server$ hexo server\n\nMore info: Server\nGenerate static files$ hexo generate\n\nMore info: Generating\nDeploy to remote sites$ hexo deploy\n\nMore info: Deployment\n","slug":"hello-world","date":"2022-03-04T12:51:28.456Z","categories_index":"hexoæ–‡æ¡£","tags_index":"hexoæ–‡æ¡£","author_index":"YangChao"}]